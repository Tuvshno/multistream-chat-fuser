"use strict";var Sv=Object.defineProperty;var bv=(e,t,r)=>t in e?Sv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Se=(e,t,r)=>(bv(e,typeof t!="symbol"?t+"":t,r),r);const oe=require("electron"),Ki=require("events"),st=require("node:path"),Te=require("path"),Zr=require("util"),Ue=require("fs"),Yi=require("crypto"),Qc=require("assert"),Pn=require("os"),Lo=require("node:child_process"),so=require("child_process"),$m=require("http"),Pv=require("https"),Tv=require("tty"),oo=require("stream"),Ji=require("url"),Ov=require("string_decoder"),Av=require("constants"),Em=require("zlib");var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sm={},$a={exports:{}},Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});const Nl=(e,t)=>`${e.id}-${t}`;class Cv{constructor(){this.nextId=0,this.storage={},this.owners={},this.electronIds=new WeakMap}add(t,r,n){const i=this.saveToStorage(n),s=Nl(t,r);let o=this.owners[s];return o||(o=this.owners[s]=new Map,this.registerDeleteListener(t,r)),o.has(i)||(o.set(i,0),this.storage[i].count++),o.set(i,o.get(i)+1),i}get(t){const r=this.storage[t];if(r!=null)return r.object}remove(t,r,n){const i=Nl(t,r),s=this.owners[i];if(s&&s.has(n)){const o=s.get(n)-1;o<=0?(s.delete(n),this.dereference(n)):s.set(n,o)}}clear(t,r){const n=Nl(t,r),i=this.owners[n];if(i){for(const s of i.keys())this.dereference(s);delete this.owners[n]}}saveToStorage(t){let r=this.electronIds.get(t);return r||(r=++this.nextId,this.storage[r]={count:0,object:t},this.electronIds.set(t,r)),r}dereference(t){const r=this.storage[t];r!=null&&(r.count-=1,r.count===0&&(this.electronIds.delete(r.object),delete this.storage[t]))}registerDeleteListener(t,r){const n=r.split("-")[0],i=(s,o)=>{o&&o.toString()===n&&(t.removeListener("render-view-deleted",i),this.clear(t,r))};t.on("render-view-deleted",i)}}Zc.default=new Cv;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.deserialize=Nr.serialize=Nr.isSerializableObject=Nr.isPromise=void 0;const Nv=oe;function Rv(e){return e&&e.then&&e.then instanceof Function&&e.constructor&&e.constructor.reject&&e.constructor.reject instanceof Function&&e.constructor.resolve&&e.constructor.resolve instanceof Function}Nr.isPromise=Rv;const Iv=[Boolean,Number,String,Date,Error,RegExp,ArrayBuffer];function eu(e){return e===null||ArrayBuffer.isView(e)||Iv.some(t=>e instanceof t)}Nr.isSerializableObject=eu;const bm=function(e,t){const n=Object.entries(e).map(([i,s])=>[i,t(s)]);return Object.fromEntries(n)};function Dv(e){const t=[],r=e.getScaleFactors();if(r.length===1){const n=r[0],i=e.getSize(n),s=e.toBitmap({scaleFactor:n});t.push({scaleFactor:n,size:i,buffer:s})}else for(const n of r){const i=e.getSize(n),s=e.toDataURL({scaleFactor:n});t.push({scaleFactor:n,size:i,dataURL:s})}return{__ELECTRON_SERIALIZED_NativeImage__:!0,representations:t}}function Fv(e){const t=Nv.nativeImage.createEmpty();if(e.representations.length===1){const{buffer:r,size:n,scaleFactor:i}=e.representations[0],{width:s,height:o}=n;t.addRepresentation({buffer:r,scaleFactor:i,width:s,height:o})}else for(const r of e.representations){const{dataURL:n,size:i,scaleFactor:s}=r,{width:o,height:a}=i;t.addRepresentation({dataURL:n,scaleFactor:s,width:o,height:a})}return t}function _c(e){return e&&e.constructor&&e.constructor.name==="NativeImage"?Dv(e):Array.isArray(e)?e.map(_c):eu(e)?e:e instanceof Object?bm(e,_c):e}Nr.serialize=_c;function $c(e){return e&&e.__ELECTRON_SERIALIZED_NativeImage__?Fv(e):Array.isArray(e)?e.map($c):eu(e)?e:e instanceof Object?bm(e,$c):e}Nr.deserialize=$c;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.getElectronBinding=void 0;const kv=e=>process._linkedBinding?process._linkedBinding("electron_common_"+e):process.electronBinding?process.electronBinding(e):null;Va.getElectronBinding=kv;$a.exports;(function(e,t){var r=ut&&ut.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.isInitialized=t.enable=t.isRemoteModuleEnabled=void 0;const n=Ki,i=r(Zc),s=Nr,o=oe,a=Va,{Promise:l}=ut,u=a.getElectronBinding("v8_util"),c=(()=>{var I,j;const N=Number((j=(I=process.versions.electron)===null||I===void 0?void 0:I.split("."))===null||j===void 0?void 0:j[0]);return Number.isNaN(N)||N<14})(),f=["length","name","arguments","caller","prototype"],h=new Map,p=new FinalizationRegistry(I=>{const j=I.id[0]+"~"+I.id[1],N=h.get(j);if(N!==void 0&&N.deref()===void 0&&(h.delete(j),!I.webContents.isDestroyed()))try{I.webContents.sendToFrame(I.frameId,"REMOTE_RENDERER_RELEASE_CALLBACK",I.id[0],I.id[1])}catch(w){console.warn(`sendToFrame() failed: ${w}`)}});function g(I){const j=I[0]+"~"+I[1],N=h.get(j);if(N!==void 0){const w=N.deref();if(w!==void 0)return w}}function $(I,j,N,w){const R=new WeakRef(w),C=I[0]+"~"+I[1];return h.set(C,R),p.register(w,{id:I,webContents:j,frameId:N}),w}const v=new WeakMap,y=function(I){let j=Object.getOwnPropertyNames(I);return typeof I=="function"&&(j=j.filter(N=>!f.includes(N))),j.map(N=>{const w=Object.getOwnPropertyDescriptor(I,N);let R,C=!1;return w.get===void 0&&typeof I[N]=="function"?R="method":((w.set||w.writable)&&(C=!0),R="get"),{name:N,enumerable:w.enumerable,writable:C,type:R}})},m=function(I){const j=Object.getPrototypeOf(I);return j===null||j===Object.prototype?null:{members:y(j),proto:m(j)}},S=function(I,j,N,w=!1){let R;switch(typeof N){case"object":N instanceof Buffer?R="buffer":N&&N.constructor&&N.constructor.name==="NativeImage"?R="nativeimage":Array.isArray(N)?R="array":N instanceof Error?R="error":s.isSerializableObject(N)?R="value":s.isPromise(N)?R="promise":Object.prototype.hasOwnProperty.call(N,"callee")&&N.length!=null?R="array":w&&u.getHiddenValue(N,"simple")?R="value":R="object";break;case"function":R="function";break;default:R="value";break}return R==="array"?{type:R,members:N.map(C=>S(I,j,C,w))}:R==="nativeimage"?{type:R,value:s.serialize(N)}:R==="object"||R==="function"?{type:R,name:N.constructor?N.constructor.name:"",id:i.default.add(I,j,N),members:y(N),proto:m(N)}:R==="buffer"?{type:R,value:N}:R==="promise"?(N.then(function(){},function(){}),{type:R,then:S(I,j,function(C,d){N.then(C,d)})}):R==="error"?{type:R,value:N,members:Object.keys(N).map(C=>({name:C,value:S(I,j,N[C])}))}:{type:"value",value:N}},A=function(I){const j=new Error(I);throw j.code="EBADRPC",j.errno=-72,j},M=(I,j)=>{let w=`Attempting to call a function in a renderer window that has been closed or released.
Function provided here: ${v.get(j)}`;if(I instanceof n.EventEmitter){const R=I.eventNames().filter(C=>I.listeners(C).includes(j));R.length>0&&(w+=`
Remote event names: ${R.join(", ")}`,R.forEach(C=>{I.removeListener(C,j)}))}console.warn(w)},O=(I,j)=>new Proxy(Object,{get(N,w,R){return w==="name"?j:Reflect.get(N,w,R)}}),b=function(I,j,N,w){const R=function(C){switch(C.type){case"nativeimage":return s.deserialize(C.value);case"value":return C.value;case"remote-object":return i.default.get(C.id);case"array":return b(I,j,N,C.value);case"buffer":return Buffer.from(C.value.buffer,C.value.byteOffset,C.value.byteLength);case"promise":return l.resolve({then:R(C.then)});case"object":{const d=C.name!=="Object"?Object.create({constructor:O(Object,C.name)}):{};for(const{name:E,value:L}of C.members)d[E]=R(L);return d}case"function-with-return-value":{const d=R(C.value);return function(){return d}}case"function":{const d=[N,C.id],E=g(d);if(E!==void 0)return E;const L=function(...P){let _=!1;if(!I.isDestroyed())try{_=I.sendToFrame(j,"REMOTE_RENDERER_CALLBACK",N,C.id,S(I,N,P))!==!1}catch(G){console.warn(`sendToFrame() failed: ${G}`)}_||M(this,L)};return v.set(L,C.location),Object.defineProperty(L,"length",{value:C.length}),$(d,I,j,L),L}default:throw new TypeError(`Unknown type: ${C.type}`)}};return w.map(R)},D=function(I){const j=I.getLastWebPreferences()||{};return j.enableRemoteModule!=null?!!j.enableRemoteModule:!1},T=new WeakMap,B=function(I){return c&&!T.has(I)&&T.set(I,D(I)),T.get(I)};t.isRemoteModuleEnabled=B;function J(I){T.set(I,!0)}t.enable=J;const H=function(I,j){o.ipcMain.on(I,(N,w,...R)=>{let C;if(!t.isRemoteModuleEnabled(N.sender)){N.returnValue={type:"exception",value:S(N.sender,w,new Error('@electron/remote is disabled for this WebContents. Call require("@electron/remote/main").enable(webContents) to enable it.'))};return}try{C=j(N,w,...R)}catch(d){C={type:"exception",value:S(N.sender,w,d)}}C!==void 0&&(N.returnValue=C)})},Y=function(I,j,...N){const w={sender:I,returnValue:void 0,defaultPrevented:!1};return o.app.emit(j,w,I,...N),I.emit(j,w,...N),w},K=function(I,j,N){N&&console.warn(`WebContents (${I.id}): ${j}`,N)};let te=!1;function re(){return te}t.isInitialized=re;function X(){if(te)throw new Error("@electron/remote has already been initialized");te=!0,H("REMOTE_BROWSER_WRONG_CONTEXT_ERROR",function(I,j,N,w){const C=g([N,w]);C!==void 0&&M(I.sender,C)}),H("REMOTE_BROWSER_REQUIRE",function(I,j,N,w){K(I.sender,`remote.require('${N}')`,w);const R=Y(I.sender,"remote-require",N);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.require('${N}')`);if(process.mainModule)R.returnValue=process.mainModule.require(N);else{let C=e;for(;C.parent;)C=C.parent;R.returnValue=C.require(N)}}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_BUILTIN",function(I,j,N,w){K(I.sender,`remote.getBuiltin('${N}')`,w);const R=Y(I.sender,"remote-get-builtin",N);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.getBuiltin('${N}')`);R.returnValue=oe[N]}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_GLOBAL",function(I,j,N,w){K(I.sender,`remote.getGlobal('${N}')`,w);const R=Y(I.sender,"remote-get-global",N);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.getGlobal('${N}')`);R.returnValue=ut[N]}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_CURRENT_WINDOW",function(I,j,N){K(I.sender,"remote.getCurrentWindow()",N);const w=Y(I.sender,"remote-get-current-window");if(w.returnValue===void 0){if(w.defaultPrevented)throw new Error("Blocked remote.getCurrentWindow()");w.returnValue=I.sender.getOwnerBrowserWindow()}return S(I.sender,j,w.returnValue)}),H("REMOTE_BROWSER_GET_CURRENT_WEB_CONTENTS",function(I,j,N){K(I.sender,"remote.getCurrentWebContents()",N);const w=Y(I.sender,"remote-get-current-web-contents");if(w.returnValue===void 0){if(w.defaultPrevented)throw new Error("Blocked remote.getCurrentWebContents()");w.returnValue=I.sender}return S(I.sender,j,w.returnValue)}),H("REMOTE_BROWSER_CONSTRUCTOR",function(I,j,N,w){w=b(I.sender,I.frameId,j,w);const R=i.default.get(N);return R==null&&A(`Cannot call constructor on missing remote object ${N}`),S(I.sender,j,new R(...w))}),H("REMOTE_BROWSER_FUNCTION_CALL",function(I,j,N,w){w=b(I.sender,I.frameId,j,w);const R=i.default.get(N);R==null&&A(`Cannot call function on missing remote object ${N}`);try{return S(I.sender,j,R(...w),!0)}catch(C){const d=new Error(`Could not call remote function '${R.name||"anonymous"}'. Check that the function signature is correct. Underlying error: ${C}
`+(C instanceof Error?`Underlying stack: ${C.stack}
`:""));throw d.cause=C,d}}),H("REMOTE_BROWSER_MEMBER_CONSTRUCTOR",function(I,j,N,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(N);return C==null&&A(`Cannot call constructor '${w}' on missing remote object ${N}`),S(I.sender,j,new C[w](...R))}),H("REMOTE_BROWSER_MEMBER_CALL",function(I,j,N,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(N);C==null&&A(`Cannot call method '${w}' on missing remote object ${N}`);try{return S(I.sender,j,C[w](...R),!0)}catch(d){const E=new Error(`Could not call remote method '${w}'. Check that the method signature is correct. Underlying error: ${d}`+(d instanceof Error?`Underlying stack: ${d.stack}
`:""));throw E.cause=d,E}}),H("REMOTE_BROWSER_MEMBER_SET",function(I,j,N,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(N);return C==null&&A(`Cannot set property '${w}' on missing remote object ${N}`),C[w]=R[0],null}),H("REMOTE_BROWSER_MEMBER_GET",function(I,j,N,w){const R=i.default.get(N);return R==null&&A(`Cannot get property '${w}' on missing remote object ${N}`),S(I.sender,j,R[w])}),H("REMOTE_BROWSER_DEREFERENCE",function(I,j,N){i.default.remove(I.sender,j,N)}),H("REMOTE_BROWSER_CONTEXT_RELEASE",(I,j)=>(i.default.clear(I.sender,j),null))}t.initialize=X})($a,$a.exports);var Lv=$a.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.isInitialized=e.initialize=void 0;var t=Lv;Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}}),Object.defineProperty(e,"isInitialized",{enumerable:!0,get:function(){return t.isInitialized}}),Object.defineProperty(e,"enable",{enumerable:!0,get:function(){return t.enable}})})(Sm);var Pm=Sm,Ec={exports:{}},jv=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const Rn=jv,Mv=new Set(["__proto__","prototype","constructor"]),Uv=e=>!e.some(t=>Mv.has(t));function jo(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let i=t[n];for(;i[i.length-1]==="\\"&&t[n+1]!==void 0;)i=i.slice(0,-1)+".",i+=t[++n];r.push(i)}return Uv(r)?r:[]}var xv={get(e,t,r){if(!Rn(e)||typeof t!="string")return r===void 0?e:r;const n=jo(t);if(n.length!==0){for(let i=0;i<n.length;i++)if(e=e[n[i]],e==null){if(i!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!Rn(e)||typeof t!="string")return e;const n=e,i=jo(t);for(let s=0;s<i.length;s++){const o=i[s];Rn(e[o])||(e[o]={}),s===i.length-1&&(e[o]=r),e=e[o]}return n},delete(e,t){if(!Rn(e)||typeof t!="string")return!1;const r=jo(t);for(let n=0;n<r.length;n++){const i=r[n];if(n===r.length-1)return delete e[i],!0;if(e=e[i],!Rn(e))return!1}},has(e,t){if(!Rn(e)||typeof t!="string")return!1;const r=jo(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(Rn(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},tu={exports:{}},ru={exports:{}},nu={exports:{}},iu={exports:{}};const Tm=Ue;iu.exports=e=>new Promise(t=>{Tm.access(e,r=>{t(!r)})});iu.exports.sync=e=>{try{return Tm.accessSync(e),!0}catch{return!1}};var qv=iu.exports,su={exports:{}},ou={exports:{}};const Om=(e,...t)=>new Promise(r=>{r(e(...t))});ou.exports=Om;ou.exports.default=Om;var Vv=ou.exports;const Bv=Vv,Am=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},i=(a,l,...u)=>{r++;const c=Bv(a,...u);l(c),c.then(n,n)},s=(a,l,...u)=>{r<e?i(a,l,...u):t.push(i.bind(null,a,l,...u))},o=(a,...l)=>new Promise(u=>s(a,u,...l));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};su.exports=Am;su.exports.default=Am;var zv=su.exports;const _d=zv;class Cm extends Error{constructor(t){super(),this.value=t}}const Hv=(e,t)=>Promise.resolve(e).then(t),Gv=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Cm(t[0])));var Wv=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=_d(r.concurrency),i=[...e].map(o=>[o,n(Hv,o,t)]),s=_d(r.preserveOrder?1:1/0);return Promise.all(i.map(o=>s(Gv,o))).then(()=>{}).catch(o=>o instanceof Cm?o.value:Promise.reject(o))};const Nm=Te,Rm=qv,Kv=Wv;nu.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),Kv(e,r=>Rm(Nm.resolve(t.cwd,r)),t));nu.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(Rm.sync(Nm.resolve(t.cwd,r)))return r};var Yv=nu.exports;const hn=Te,Im=Yv;ru.exports=(e,t={})=>{const r=hn.resolve(t.cwd||""),{root:n}=hn.parse(r),i=[].concat(e);return new Promise(s=>{(function o(a){Im(i,{cwd:a}).then(l=>{l?s(hn.join(a,l)):a===n?s(null):o(hn.dirname(a))})})(r)})};ru.exports.sync=(e,t={})=>{let r=hn.resolve(t.cwd||"");const{root:n}=hn.parse(r),i=[].concat(e);for(;;){const s=Im.sync(i,{cwd:r});if(s)return hn.join(r,s);if(r===n)return null;r=hn.dirname(r)}};var Jv=ru.exports;const Dm=Jv;tu.exports=async({cwd:e}={})=>Dm("package.json",{cwd:e});tu.exports.sync=({cwd:e}={})=>Dm.sync("package.json",{cwd:e});var Xv=tu.exports,au={exports:{}};const Qe=Te,Fm=Pn,fn=Fm.homedir(),lu=Fm.tmpdir(),{env:Oi}=process,Qv=e=>{const t=Qe.join(fn,"Library");return{data:Qe.join(t,"Application Support",e),config:Qe.join(t,"Preferences",e),cache:Qe.join(t,"Caches",e),log:Qe.join(t,"Logs",e),temp:Qe.join(lu,e)}},Zv=e=>{const t=Oi.APPDATA||Qe.join(fn,"AppData","Roaming"),r=Oi.LOCALAPPDATA||Qe.join(fn,"AppData","Local");return{data:Qe.join(r,e,"Data"),config:Qe.join(t,e,"Config"),cache:Qe.join(r,e,"Cache"),log:Qe.join(r,e,"Log"),temp:Qe.join(lu,e)}},e_=e=>{const t=Qe.basename(fn);return{data:Qe.join(Oi.XDG_DATA_HOME||Qe.join(fn,".local","share"),e),config:Qe.join(Oi.XDG_CONFIG_HOME||Qe.join(fn,".config"),e),cache:Qe.join(Oi.XDG_CACHE_HOME||Qe.join(fn,".cache"),e),log:Qe.join(Oi.XDG_STATE_HOME||Qe.join(fn,".local","state"),e),temp:Qe.join(lu,t,e)}},km=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?Qv(e):process.platform==="win32"?Zv(e):e_(e)};au.exports=km;au.exports.default=km;var t_=au.exports,Rr={},De={};Object.defineProperty(De,"__esModule",{value:!0});De.NOOP=De.LIMIT_FILES_DESCRIPTORS=De.LIMIT_BASENAME_LENGTH=De.IS_USER_ROOT=De.IS_POSIX=De.DEFAULT_TIMEOUT_SYNC=De.DEFAULT_TIMEOUT_ASYNC=De.DEFAULT_WRITE_OPTIONS=De.DEFAULT_READ_OPTIONS=De.DEFAULT_FOLDER_MODE=De.DEFAULT_FILE_MODE=De.DEFAULT_ENCODING=void 0;const r_="utf8";De.DEFAULT_ENCODING=r_;const n_=438;De.DEFAULT_FILE_MODE=n_;const i_=511;De.DEFAULT_FOLDER_MODE=i_;const s_={};De.DEFAULT_READ_OPTIONS=s_;const o_={};De.DEFAULT_WRITE_OPTIONS=o_;const a_=5e3;De.DEFAULT_TIMEOUT_ASYNC=a_;const l_=100;De.DEFAULT_TIMEOUT_SYNC=l_;const c_=!!process.getuid;De.IS_POSIX=c_;const u_=process.getuid?!process.getuid():!1;De.IS_USER_ROOT=u_;const f_=128;De.LIMIT_BASENAME_LENGTH=f_;const d_=1e4;De.LIMIT_FILES_DESCRIPTORS=d_;const h_=()=>{};De.NOOP=h_;var Ba={},Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.attemptifySync=Li.attemptifyAsync=void 0;const Lm=De,p_=(e,t=Lm.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Li.attemptifyAsync=p_;const m_=(e,t=Lm.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Li.attemptifySync=m_;var cu={};Object.defineProperty(cu,"__esModule",{value:!0});const g_=De,jm={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!g_.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!jm.isChangeErrorOk(e))throw e}};cu.default=jm;var ji={},uu={};Object.defineProperty(uu,"__esModule",{value:!0});const y_=De,Be={interval:25,intervalId:void 0,limit:y_.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{Be.intervalId||(Be.intervalId=setInterval(Be.tick,Be.interval))},reset:()=>{Be.intervalId&&(clearInterval(Be.intervalId),delete Be.intervalId)},add:e=>{Be.queueWaiting.add(e),Be.queueActive.size<Be.limit/2?Be.tick():Be.init()},remove:e=>{Be.queueWaiting.delete(e),Be.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>Be.remove(r),r=()=>e(t);Be.add(r)}),tick:()=>{if(!(Be.queueActive.size>=Be.limit)){if(!Be.queueWaiting.size)return Be.reset();for(const e of Be.queueWaiting){if(Be.queueActive.size>=Be.limit)break;Be.queueWaiting.delete(e),Be.queueActive.add(e),e()}}}};uu.default=Be;Object.defineProperty(ji,"__esModule",{value:!0});ji.retryifySync=ji.retryifyAsync=void 0;const v_=uu,__=(e,t)=>function(r){return function n(){return v_.default.schedule().then(i=>e.apply(void 0,arguments).then(s=>(i(),s),s=>{if(i(),Date.now()>=r)throw s;if(t(s)){const o=Math.round(100+400*Math.random());return new Promise(l=>setTimeout(l,o)).then(()=>n.apply(void 0,arguments))}throw s}))}};ji.retryifyAsync=__;const $_=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(i){if(Date.now()>r)throw i;if(t(i))return n.apply(void 0,arguments);throw i}}};ji.retryifySync=$_;Object.defineProperty(Ba,"__esModule",{value:!0});const Le=Ue,Dt=Zr,Ft=Li,mt=cu,Bt=ji,E_={chmodAttempt:Ft.attemptifyAsync(Dt.promisify(Le.chmod),mt.default.onChangeError),chownAttempt:Ft.attemptifyAsync(Dt.promisify(Le.chown),mt.default.onChangeError),closeAttempt:Ft.attemptifyAsync(Dt.promisify(Le.close)),fsyncAttempt:Ft.attemptifyAsync(Dt.promisify(Le.fsync)),mkdirAttempt:Ft.attemptifyAsync(Dt.promisify(Le.mkdir)),realpathAttempt:Ft.attemptifyAsync(Dt.promisify(Le.realpath)),statAttempt:Ft.attemptifyAsync(Dt.promisify(Le.stat)),unlinkAttempt:Ft.attemptifyAsync(Dt.promisify(Le.unlink)),closeRetry:Bt.retryifyAsync(Dt.promisify(Le.close),mt.default.isRetriableError),fsyncRetry:Bt.retryifyAsync(Dt.promisify(Le.fsync),mt.default.isRetriableError),openRetry:Bt.retryifyAsync(Dt.promisify(Le.open),mt.default.isRetriableError),readFileRetry:Bt.retryifyAsync(Dt.promisify(Le.readFile),mt.default.isRetriableError),renameRetry:Bt.retryifyAsync(Dt.promisify(Le.rename),mt.default.isRetriableError),statRetry:Bt.retryifyAsync(Dt.promisify(Le.stat),mt.default.isRetriableError),writeRetry:Bt.retryifyAsync(Dt.promisify(Le.write),mt.default.isRetriableError),chmodSyncAttempt:Ft.attemptifySync(Le.chmodSync,mt.default.onChangeError),chownSyncAttempt:Ft.attemptifySync(Le.chownSync,mt.default.onChangeError),closeSyncAttempt:Ft.attemptifySync(Le.closeSync),mkdirSyncAttempt:Ft.attemptifySync(Le.mkdirSync),realpathSyncAttempt:Ft.attemptifySync(Le.realpathSync),statSyncAttempt:Ft.attemptifySync(Le.statSync),unlinkSyncAttempt:Ft.attemptifySync(Le.unlinkSync),closeSyncRetry:Bt.retryifySync(Le.closeSync,mt.default.isRetriableError),fsyncSyncRetry:Bt.retryifySync(Le.fsyncSync,mt.default.isRetriableError),openSyncRetry:Bt.retryifySync(Le.openSync,mt.default.isRetriableError),readFileSyncRetry:Bt.retryifySync(Le.readFileSync,mt.default.isRetriableError),renameSyncRetry:Bt.retryifySync(Le.renameSync,mt.default.isRetriableError),statSyncRetry:Bt.retryifySync(Le.statSync,mt.default.isRetriableError),writeSyncRetry:Bt.retryifySync(Le.writeSync,mt.default.isRetriableError)};Ba.default=E_;var fu={};Object.defineProperty(fu,"__esModule",{value:!0});const w_={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};fu.default=w_;var du={};Object.defineProperty(du,"__esModule",{value:!0});const Mo={},wc={next:e=>{const t=Mo[e];if(!t)return;t.shift();const r=t[0];r?r(()=>wc.next(e)):delete Mo[e]},schedule:e=>new Promise(t=>{let r=Mo[e];r||(r=Mo[e]=[]),r.push(t),!(r.length>1)&&t(()=>wc.next(e))})};du.default=wc;var hu={};Object.defineProperty(hu,"__esModule",{value:!0});const S_=Te,$d=De,Ed=Ba,Zt={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",i=`.${n}${r}${t}`;return`${e}${i}`},get:(e,t,r=!0)=>{const n=Zt.truncate(t(e));return n in Zt.store?Zt.get(e,t,r):(Zt.store[n]=r,[n,()=>delete Zt.store[n]])},purge:e=>{Zt.store[e]&&(delete Zt.store[e],Ed.default.unlinkAttempt(e))},purgeSync:e=>{Zt.store[e]&&(delete Zt.store[e],Ed.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in Zt.store)Zt.purgeSync(e)},truncate:e=>{const t=S_.basename(e);if(t.length<=$d.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-$d.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",Zt.purgeSyncAll);hu.default=Zt;Object.defineProperty(Rr,"__esModule",{value:!0});Rr.writeFileSync=Rr.writeFile=Rr.readFileSync=Rr.readFile=void 0;const Mm=Te,Et=De,Ie=Ba,er=fu,b_=du,pn=hu;function Um(e,t=Et.DEFAULT_READ_OPTIONS){var r;if(er.default.isString(t))return Um(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Et.DEFAULT_TIMEOUT_ASYNC);return Ie.default.readFileRetry(n)(e,t)}Rr.readFile=Um;function xm(e,t=Et.DEFAULT_READ_OPTIONS){var r;if(er.default.isString(t))return xm(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Et.DEFAULT_TIMEOUT_SYNC);return Ie.default.readFileSyncRetry(n)(e,t)}Rr.readFileSync=xm;const qm=(e,t,r,n)=>{if(er.default.isFunction(r))return qm(e,t,Et.DEFAULT_WRITE_OPTIONS,r);const i=Vm(e,t,r);return n&&i.then(n,n),i};Rr.writeFile=qm;const Vm=async(e,t,r=Et.DEFAULT_WRITE_OPTIONS)=>{var n;if(er.default.isString(r))return Vm(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Et.DEFAULT_TIMEOUT_ASYNC);let s=null,o=null,a=null,l=null,u=null;try{r.schedule&&(s=await r.schedule(e)),o=await b_.default.schedule(e),e=await Ie.default.realpathAttempt(e)||e,[l,a]=pn.default.get(e,r.tmpCreate||pn.default.create,r.tmpPurge!==!1);const c=Et.IS_POSIX&&er.default.isUndefined(r.chown),f=er.default.isUndefined(r.mode);if(c||f){const p=await Ie.default.statAttempt(e);p&&(r={...r},c&&(r.chown={uid:p.uid,gid:p.gid}),f&&(r.mode=p.mode))}const h=Mm.dirname(e);await Ie.default.mkdirAttempt(h,{mode:Et.DEFAULT_FOLDER_MODE,recursive:!0}),u=await Ie.default.openRetry(i)(l,"w",r.mode||Et.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(l),er.default.isString(t)?await Ie.default.writeRetry(i)(u,t,0,r.encoding||Et.DEFAULT_ENCODING):er.default.isUndefined(t)||await Ie.default.writeRetry(i)(u,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await Ie.default.fsyncRetry(i)(u):Ie.default.fsyncAttempt(u)),await Ie.default.closeRetry(i)(u),u=null,r.chown&&await Ie.default.chownAttempt(l,r.chown.uid,r.chown.gid),r.mode&&await Ie.default.chmodAttempt(l,r.mode);try{await Ie.default.renameRetry(i)(l,e)}catch(p){if(p.code!=="ENAMETOOLONG")throw p;await Ie.default.renameRetry(i)(l,pn.default.truncate(e))}a(),l=null}finally{u&&await Ie.default.closeAttempt(u),l&&pn.default.purge(l),s&&s(),o&&o()}},Bm=(e,t,r=Et.DEFAULT_WRITE_OPTIONS)=>{var n;if(er.default.isString(r))return Bm(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Et.DEFAULT_TIMEOUT_SYNC);let s=null,o=null,a=null;try{e=Ie.default.realpathSyncAttempt(e)||e,[o,s]=pn.default.get(e,r.tmpCreate||pn.default.create,r.tmpPurge!==!1);const l=Et.IS_POSIX&&er.default.isUndefined(r.chown),u=er.default.isUndefined(r.mode);if(l||u){const f=Ie.default.statSyncAttempt(e);f&&(r={...r},l&&(r.chown={uid:f.uid,gid:f.gid}),u&&(r.mode=f.mode))}const c=Mm.dirname(e);Ie.default.mkdirSyncAttempt(c,{mode:Et.DEFAULT_FOLDER_MODE,recursive:!0}),a=Ie.default.openSyncRetry(i)(o,"w",r.mode||Et.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),er.default.isString(t)?Ie.default.writeSyncRetry(i)(a,t,0,r.encoding||Et.DEFAULT_ENCODING):er.default.isUndefined(t)||Ie.default.writeSyncRetry(i)(a,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Ie.default.fsyncSyncRetry(i)(a):Ie.default.fsyncAttempt(a)),Ie.default.closeSyncRetry(i)(a),a=null,r.chown&&Ie.default.chownSyncAttempt(o,r.chown.uid,r.chown.gid),r.mode&&Ie.default.chmodSyncAttempt(o,r.mode);try{Ie.default.renameSyncRetry(i)(o,e)}catch(f){if(f.code!=="ENAMETOOLONG")throw f;Ie.default.renameSyncRetry(i)(o,pn.default.truncate(e))}s(),o=null}finally{a&&Ie.default.closeSyncAttempt(a),o&&pn.default.purge(o)}};Rr.writeFileSync=Bm;var Sc={exports:{}},zm={},Sr={},Mi={},ao={},we={},Ws={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(m){if(super(),!e.IDENTIFIER.test(m))throw new Error("CodeGen: name must be a valid identifier");this.str=m}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(m){super(),this._items=typeof m=="string"?[m]:m}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const m=this._items[0];return m===""||m==='""'}get str(){var m;return(m=this._str)!==null&&m!==void 0?m:this._str=this._items.reduce((S,A)=>`${S}${A}`,"")}get names(){var m;return(m=this._names)!==null&&m!==void 0?m:this._names=this._items.reduce((S,A)=>(A instanceof r&&(S[A.str]=(S[A.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(y,...m){const S=[y[0]];let A=0;for(;A<m.length;)a(S,m[A]),S.push(y[++A]);return new n(S)}e._=i;const s=new n("+");function o(y,...m){const S=[p(y[0])];let A=0;for(;A<m.length;)S.push(s),a(S,m[A]),S.push(s,p(y[++A]));return l(S),new n(S)}e.str=o;function a(y,m){m instanceof n?y.push(...m._items):m instanceof r?y.push(m):y.push(f(m))}e.addCodeArg=a;function l(y){let m=1;for(;m<y.length-1;){if(y[m]===s){const S=u(y[m-1],y[m+1]);if(S!==void 0){y.splice(m-1,3,S);continue}y[m++]="+"}m++}}function u(y,m){if(m==='""')return y;if(y==='""')return m;if(typeof y=="string")return m instanceof r||y[y.length-1]!=='"'?void 0:typeof m!="string"?`${y.slice(0,-1)}${m}"`:m[0]==='"'?y.slice(0,-1)+m.slice(1):void 0;if(typeof m=="string"&&m[0]==='"'&&!(y instanceof r))return`"${y}${m.slice(1)}`}function c(y,m){return m.emptyStr()?y:y.emptyStr()?m:o`${y}${m}`}e.strConcat=c;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:p(Array.isArray(y)?y.join(","):y)}function h(y){return new n(p(y))}e.stringify=h;function p(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function g(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new n(`.${y}`):i`[${y}]`}e.getProperty=g;function $(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new n(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=$;function v(y){return new n(y.toString())}e.regexpCode=v})(Ws);var bc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Ws;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class s extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:p}=h,g=(f=c.key)!==null&&f!==void 0?f:c.ref;let $=this._values[p];if($){const m=$.get(g);if(m)return m}else $=this._values[p]=new Map;$.set(g,h);const v=this._scope[p]||(this._scope[p]=[]),y=v.length;return v[y]=c.ref,h.setValue(c,{property:p,itemIndex:y}),h}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},c,f)}_reduceValues(u,c,f={},h){let p=t.nil;for(const g in u){const $=u[g];if(!$)continue;const v=f[g]=f[g]||new Map;$.forEach(y=>{if(v.has(y))return;v.set(y,n.Started);let m=c(y);if(m){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${S} ${y} = ${m};${this.opts._n}`}else if(m=h==null?void 0:h(y))p=(0,t._)`${p}${m}${this.opts._n}`;else throw new r(y);v.set(y,n.Completed)})}return p}}e.ValueScope=a})(bc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Ws,r=bc;var n=Ws;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=bc;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(d,E){return this}}class o extends s{constructor(d,E,L){super(),this.varKind=d,this.name=E,this.rhs=L}render({es5:d,_n:E}){const L=d?r.varKinds.var:this.varKind,P=this.rhs===void 0?"":` = ${this.rhs}`;return`${L} ${this.name}${P};`+E}optimizeNames(d,E){if(d[this.name.str])return this.rhs&&(this.rhs=K(this.rhs,d,E)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(d,E,L){super(),this.lhs=d,this.rhs=E,this.sideEffects=L}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,E){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=K(this.rhs,d,E),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Y(d,this.rhs)}}class l extends a{constructor(d,E,L,P){super(d,L,P),this.op=E}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class u extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class c extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class f extends s{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends s{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,E){return this.code=K(this.code,d,E),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class p extends s{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce((E,L)=>E+L.render(d),"")}optimizeNodes(){const{nodes:d}=this;let E=d.length;for(;E--;){const L=d[E].optimizeNodes();Array.isArray(L)?d.splice(E,1,...L):L?d[E]=L:d.splice(E,1)}return d.length>0?this:void 0}optimizeNames(d,E){const{nodes:L}=this;let P=L.length;for(;P--;){const _=L[P];_.optimizeNames(d,E)||(te(d,_.names),L.splice(P,1))}return L.length>0?this:void 0}get names(){return this.nodes.reduce((d,E)=>H(d,E.names),{})}}class g extends p{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class $ extends p{}class v extends g{}v.kind="else";class y extends g{constructor(d,E){super(E),this.condition=d}render(d){let E=`if(${this.condition})`+super.render(d);return this.else&&(E+="else "+this.else.render(d)),E}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let E=this.else;if(E){const L=E.optimizeNodes();E=this.else=Array.isArray(L)?new v(L):L}if(E)return d===!1?E instanceof y?E:E.nodes:this.nodes.length?this:new y(re(d),E instanceof y?[E]:E.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,E){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(d,E),!!(super.optimizeNames(d,E)||this.else))return this.condition=K(this.condition,d,E),this}get names(){const d=super.names;return Y(d,this.condition),this.else&&H(d,this.else.names),d}}y.kind="if";class m extends g{}m.kind="for";class S extends m{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,E){if(super.optimizeNames(d,E))return this.iteration=K(this.iteration,d,E),this}get names(){return H(super.names,this.iteration.names)}}class A extends m{constructor(d,E,L,P){super(),this.varKind=d,this.name=E,this.from=L,this.to=P}render(d){const E=d.es5?r.varKinds.var:this.varKind,{name:L,from:P,to:_}=this;return`for(${E} ${L}=${P}; ${L}<${_}; ${L}++)`+super.render(d)}get names(){const d=Y(super.names,this.from);return Y(d,this.to)}}class M extends m{constructor(d,E,L,P){super(),this.loop=d,this.varKind=E,this.name=L,this.iterable=P}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,E){if(super.optimizeNames(d,E))return this.iterable=K(this.iterable,d,E),this}get names(){return H(super.names,this.iterable.names)}}class O extends g{constructor(d,E,L){super(),this.name=d,this.args=E,this.async=L}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}O.kind="func";class b extends p{render(d){return"return "+super.render(d)}}b.kind="return";class D extends g{render(d){let E="try"+super.render(d);return this.catch&&(E+=this.catch.render(d)),this.finally&&(E+=this.finally.render(d)),E}optimizeNodes(){var d,E;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),(E=this.finally)===null||E===void 0||E.optimizeNodes(),this}optimizeNames(d,E){var L,P;return super.optimizeNames(d,E),(L=this.catch)===null||L===void 0||L.optimizeNames(d,E),(P=this.finally)===null||P===void 0||P.optimizeNames(d,E),this}get names(){const d=super.names;return this.catch&&H(d,this.catch.names),this.finally&&H(d,this.finally.names),d}}class T extends g{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}T.kind="catch";class B extends g{render(d){return"finally"+super.render(d)}}B.kind="finally";class J{constructor(d,E={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...E,_n:E.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,E){const L=this._extScope.value(d,E);return(this._values[L.prefix]||(this._values[L.prefix]=new Set)).add(L),L}getScopeValue(d,E){return this._extScope.getValue(d,E)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,E,L,P){const _=this._scope.toName(E);return L!==void 0&&P&&(this._constants[_.str]=L),this._leafNode(new o(d,_,L)),_}const(d,E,L){return this._def(r.varKinds.const,d,E,L)}let(d,E,L){return this._def(r.varKinds.let,d,E,L)}var(d,E,L){return this._def(r.varKinds.var,d,E,L)}assign(d,E,L){return this._leafNode(new a(d,E,L))}add(d,E){return this._leafNode(new l(d,e.operators.ADD,E))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const E=["{"];for(const[L,P]of d)E.length>1&&E.push(","),E.push(L),(L!==P||this.opts.es5)&&(E.push(":"),(0,t.addCodeArg)(E,P));return E.push("}"),new t._Code(E)}if(d,E,L){if(this._blockNode(new y(d)),E&&L)this.code(E).else().code(L).endIf();else if(E)this.code(E).endIf();else if(L)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new y(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(y,v)}_for(d,E){return this._blockNode(d),E&&this.code(E).endFor(),this}for(d,E){return this._for(new S(d),E)}forRange(d,E,L,P,_=this.opts.es5?r.varKinds.var:r.varKinds.let){const G=this._scope.toName(d);return this._for(new A(_,G,E,L),()=>P(G))}forOf(d,E,L,P=r.varKinds.const){const _=this._scope.toName(d);if(this.opts.es5){const G=E instanceof t.Name?E:this.var("_arr",E);return this.forRange("_i",0,(0,t._)`${G}.length`,U=>{this.var(_,(0,t._)`${G}[${U}]`),L(_)})}return this._for(new M("of",P,_,E),()=>L(_))}forIn(d,E,L,P=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${E})`,L);const _=this._scope.toName(d);return this._for(new M("in",P,_,E),()=>L(_))}endFor(){return this._endBlockNode(m)}label(d){return this._leafNode(new u(d))}break(d){return this._leafNode(new c(d))}return(d){const E=new b;if(this._blockNode(E),this.code(d),E.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,E,L){if(!E&&!L)throw new Error('CodeGen: "try" without "catch" and "finally"');const P=new D;if(this._blockNode(P),this.code(d),E){const _=this.name("e");this._currNode=P.catch=new T(_),E(_)}return L&&(this._currNode=P.finally=new B,this.code(L)),this._endBlockNode(T,B)}throw(d){return this._leafNode(new f(d))}block(d,E){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock(E),this}endBlock(d){const E=this._blockStarts.pop();if(E===void 0)throw new Error("CodeGen: not in self-balancing block");const L=this._nodes.length-E;if(L<0||d!==void 0&&L!==d)throw new Error(`CodeGen: wrong number of nodes: ${L} vs ${d} expected`);return this._nodes.length=E,this}func(d,E=t.nil,L,P){return this._blockNode(new O(d,E,L)),P&&this.code(P).endFunc(),this}endFunc(){return this._endBlockNode(O)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,E){const L=this._currNode;if(L instanceof d||E&&L instanceof E)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${E?`${d.kind}/${E.kind}`:d.kind}"`)}_elseNode(d){const E=this._currNode;if(!(E instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=E.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const E=this._nodes;E[E.length-1]=d}}e.CodeGen=J;function H(C,d){for(const E in d)C[E]=(C[E]||0)+(d[E]||0);return C}function Y(C,d){return d instanceof t._CodeOrName?H(C,d.names):C}function K(C,d,E){if(C instanceof t.Name)return L(C);if(!P(C))return C;return new t._Code(C._items.reduce((_,G)=>(G instanceof t.Name&&(G=L(G)),G instanceof t._Code?_.push(...G._items):_.push(G),_),[]));function L(_){const G=E[_.str];return G===void 0||d[_.str]!==1?_:(delete d[_.str],G)}function P(_){return _ instanceof t._Code&&_._items.some(G=>G instanceof t.Name&&d[G.str]===1&&E[G.str]!==void 0)}}function te(C,d){for(const E in d)C[E]=(C[E]||0)-(d[E]||0)}function re(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${R(C)}`}e.not=re;const X=w(e.operators.AND);function I(...C){return C.reduce(X)}e.and=I;const j=w(e.operators.OR);function N(...C){return C.reduce(j)}e.or=N;function w(C){return(d,E)=>d===t.nil?E:E===t.nil?d:(0,t._)`${R(d)} ${C} ${R(E)}`}function R(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(we);var Oe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=we,r=Ws;function n(O){const b={};for(const D of O)b[D]=!0;return b}e.toHash=n;function i(O,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(O,b),!o(b,O.self.RULES.all))}e.alwaysValidSchema=i;function s(O,b=O.schema){const{opts:D,self:T}=O;if(!D.strictSchema||typeof b=="boolean")return;const B=T.RULES.keywords;for(const J in b)B[J]||M(O,`unknown keyword: "${J}"`)}e.checkUnknownRules=s;function o(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(b[D])return!0;return!1}e.schemaHasRules=o;function a(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(D!=="$ref"&&b.all[D])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:O,schemaPath:b},D,T,B){if(!B){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${O}${b}${(0,t.getProperty)(T)}`}e.schemaRefOrVal=l;function u(O){return h(decodeURIComponent(O))}e.unescapeFragment=u;function c(O){return encodeURIComponent(f(O))}e.escapeFragment=c;function f(O){return typeof O=="number"?`${O}`:O.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function h(O){return O.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function p(O,b){if(Array.isArray(O))for(const D of O)b(D);else b(O)}e.eachItem=p;function g({mergeNames:O,mergeToName:b,mergeValues:D,resultToName:T}){return(B,J,H,Y)=>{const K=H===void 0?J:H instanceof t.Name?(J instanceof t.Name?O(B,J,H):b(B,J,H),H):J instanceof t.Name?(b(B,H,J),J):D(J,H);return Y===t.Name&&!(K instanceof t.Name)?T(B,K):K}}e.mergeEvaluated={props:g({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>{O.if((0,t._)`${b} === true`,()=>O.assign(D,!0),()=>O.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${b})`))}),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>{b===!0?O.assign(D,!0):(O.assign(D,(0,t._)`${D} || {}`),v(O,D,b))}),mergeValues:(O,b)=>O===!0?!0:{...O,...b},resultToName:$}),items:g({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>O.assign(D,(0,t._)`${b} === true ? true : ${D} > ${b} ? ${D} : ${b}`)),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>O.assign(D,b===!0?!0:(0,t._)`${D} > ${b} ? ${D} : ${b}`)),mergeValues:(O,b)=>O===!0?!0:Math.max(O,b),resultToName:(O,b)=>O.var("items",b)})};function $(O,b){if(b===!0)return O.var("props",!0);const D=O.var("props",(0,t._)`{}`);return b!==void 0&&v(O,D,b),D}e.evaluatedPropsToName=$;function v(O,b,D){Object.keys(D).forEach(T=>O.assign((0,t._)`${b}${(0,t.getProperty)(T)}`,!0))}e.setEvaluated=v;const y={};function m(O,b){return O.scopeValue("func",{ref:b,code:y[b.code]||(y[b.code]=new r._Code(b.code))})}e.useFunc=m;var S;(function(O){O[O.Num=0]="Num",O[O.Str=1]="Str"})(S=e.Type||(e.Type={}));function A(O,b,D){if(O instanceof t.Name){const T=b===S.Num;return D?T?(0,t._)`"[" + ${O} + "]"`:(0,t._)`"['" + ${O} + "']"`:T?(0,t._)`"/" + ${O}`:(0,t._)`"/" + ${O}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(O).toString():"/"+f(O)}e.getErrorPath=A;function M(O,b,D=O.opts.strictSchema){if(D){if(b=`strict mode: ${b}`,D===!0)throw new Error(b);O.self.logger.warn(b)}}e.checkStrictMode=M})(Oe);var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});const Ot=we,P_={data:new Ot.Name("data"),valCxt:new Ot.Name("valCxt"),instancePath:new Ot.Name("instancePath"),parentData:new Ot.Name("parentData"),parentDataProperty:new Ot.Name("parentDataProperty"),rootData:new Ot.Name("rootData"),dynamicAnchors:new Ot.Name("dynamicAnchors"),vErrors:new Ot.Name("vErrors"),errors:new Ot.Name("errors"),this:new Ot.Name("this"),self:new Ot.Name("self"),scope:new Ot.Name("scope"),json:new Ot.Name("json"),jsonPos:new Ot.Name("jsonPos"),jsonLen:new Ot.Name("jsonLen"),jsonPart:new Ot.Name("jsonPart")};Fr.default=P_;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=we,r=Oe,n=Fr;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:y})=>y?(0,t.str)`"${v}" keyword must be ${y} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,y=e.keywordError,m,S){const{it:A}=v,{gen:M,compositeRule:O,allErrors:b}=A,D=f(v,y,m);S??(O||b)?l(M,D):u(A,(0,t._)`[${D}]`)}e.reportError=i;function s(v,y=e.keywordError,m){const{it:S}=v,{gen:A,compositeRule:M,allErrors:O}=S,b=f(v,y,m);l(A,b),M||O||u(S,n.default.vErrors)}e.reportExtraError=s;function o(v,y){v.assign(n.default.errors,y),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(y,()=>v.assign((0,t._)`${n.default.vErrors}.length`,y),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:y,schemaValue:m,data:S,errsCount:A,it:M}){if(A===void 0)throw new Error("ajv implementation error");const O=v.name("err");v.forRange("i",A,n.default.errors,b=>{v.const(O,(0,t._)`${n.default.vErrors}[${b}]`),v.if((0,t._)`${O}.instancePath === undefined`,()=>v.assign((0,t._)`${O}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,t._)`${O}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${y}`),M.opts.verbose&&(v.assign((0,t._)`${O}.schema`,m),v.assign((0,t._)`${O}.data`,S))})}e.extendErrors=a;function l(v,y){const m=v.const("err",y);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${m}]`),(0,t._)`${n.default.vErrors}.push(${m})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,y){const{gen:m,validateName:S,schemaEnv:A}=v;A.$async?m.throw((0,t._)`new ${v.ValidationError}(${y})`):(m.assign((0,t._)`${S}.errors`,y),m.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(v,y,m){const{createErrors:S}=v.it;return S===!1?(0,t._)`{}`:h(v,y,m)}function h(v,y,m={}){const{gen:S,it:A}=v,M=[p(A,m),g(v,m)];return $(v,y,M),S.object(...M)}function p({errorPath:v},{instancePath:y}){const m=y?(0,t.str)`${v}${(0,r.getErrorPath)(y,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,m)]}function g({keyword:v,it:{errSchemaPath:y}},{schemaPath:m,parentSchema:S}){let A=S?y:(0,t.str)`${y}/${v}`;return m&&(A=(0,t.str)`${A}${(0,r.getErrorPath)(m,r.Type.Str)}`),[c.schemaPath,A]}function $(v,{params:y,message:m},S){const{keyword:A,data:M,schemaValue:O,it:b}=v,{opts:D,propertyName:T,topSchemaRef:B,schemaPath:J}=b;S.push([c.keyword,A],[c.params,typeof y=="function"?y(v):y||(0,t._)`{}`]),D.messages&&S.push([c.message,typeof m=="function"?m(v):m]),D.verbose&&S.push([c.schema,O],[c.parentSchema,(0,t._)`${B}${J}`],[n.default.data,M]),T&&S.push([c.propertyName,T])}})(ao);Object.defineProperty(Mi,"__esModule",{value:!0});Mi.boolOrEmptySchema=Mi.topBoolOrEmptySchema=void 0;const T_=ao,O_=we,A_=Fr,C_={message:"boolean schema is false"};function N_(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Hm(e,!1):typeof r=="object"&&r.$async===!0?t.return(A_.default.data):(t.assign((0,O_._)`${n}.errors`,null),t.return(!0))}Mi.topBoolOrEmptySchema=N_;function R_(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Hm(e)):r.var(t,!0)}Mi.boolOrEmptySchema=R_;function Hm(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,T_.reportError)(i,C_,void 0,t)}var lo={},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.getRules=Zn.isJSONType=void 0;const I_=["string","number","integer","boolean","null","object","array"],D_=new Set(I_);function F_(e){return typeof e=="string"&&D_.has(e)}Zn.isJSONType=F_;function k_(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Zn.getRules=k_;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.shouldUseRule=Kr.shouldUseGroup=Kr.schemaHasRulesForType=void 0;function L_({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Gm(e,n)}Kr.schemaHasRulesForType=L_;function Gm(e,t){return t.rules.some(r=>Wm(e,r))}Kr.shouldUseGroup=Gm;function Wm(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Kr.shouldUseRule=Wm;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Zn,r=Kr,n=ao,i=we,s=Oe;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const A=l(S.type);if(A.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&A.push("null")}return A}e.getSchemaTypes=a;function l(S){const A=Array.isArray(S)?S:S?[S]:[];if(A.every(t.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}e.getJSONTypes=l;function u(S,A){const{gen:M,data:O,opts:b}=S,D=f(A,b.coerceTypes),T=A.length>0&&!(D.length===0&&A.length===1&&(0,r.schemaHasRulesForType)(S,A[0]));if(T){const B=$(A,O,b.strictNumbers,o.Wrong);M.if(B,()=>{D.length?h(S,A,D):y(S)})}return T}e.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function f(S,A){return A?S.filter(M=>c.has(M)||A==="array"&&M==="array"):[]}function h(S,A,M){const{gen:O,data:b,opts:D}=S,T=O.let("dataType",(0,i._)`typeof ${b}`),B=O.let("coerced",(0,i._)`undefined`);D.coerceTypes==="array"&&O.if((0,i._)`${T} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>O.assign(b,(0,i._)`${b}[0]`).assign(T,(0,i._)`typeof ${b}`).if($(A,b,D.strictNumbers),()=>O.assign(B,b))),O.if((0,i._)`${B} !== undefined`);for(const H of M)(c.has(H)||H==="array"&&D.coerceTypes==="array")&&J(H);O.else(),y(S),O.endIf(),O.if((0,i._)`${B} !== undefined`,()=>{O.assign(b,B),p(S,B)});function J(H){switch(H){case"string":O.elseIf((0,i._)`${T} == "number" || ${T} == "boolean"`).assign(B,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(B,(0,i._)`""`);return;case"number":O.elseIf((0,i._)`${T} == "boolean" || ${b} === null
              || (${T} == "string" && ${b} && ${b} == +${b})`).assign(B,(0,i._)`+${b}`);return;case"integer":O.elseIf((0,i._)`${T} === "boolean" || ${b} === null
              || (${T} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(B,(0,i._)`+${b}`);return;case"boolean":O.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(B,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(B,!0);return;case"null":O.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),O.assign(B,null);return;case"array":O.elseIf((0,i._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${b} === null`).assign(B,(0,i._)`[${b}]`)}}}function p({gen:S,parentData:A,parentDataProperty:M},O){S.if((0,i._)`${A} !== undefined`,()=>S.assign((0,i._)`${A}[${M}]`,O))}function g(S,A,M,O=o.Correct){const b=O===o.Correct?i.operators.EQ:i.operators.NEQ;let D;switch(S){case"null":return(0,i._)`${A} ${b} null`;case"array":D=(0,i._)`Array.isArray(${A})`;break;case"object":D=(0,i._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":D=T((0,i._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":D=T();break;default:return(0,i._)`typeof ${A} ${b} ${S}`}return O===o.Correct?D:(0,i.not)(D);function T(B=i.nil){return(0,i.and)((0,i._)`typeof ${A} == "number"`,B,M?(0,i._)`isFinite(${A})`:i.nil)}}e.checkDataType=g;function $(S,A,M,O){if(S.length===1)return g(S[0],A,M,O);let b;const D=(0,s.toHash)(S);if(D.array&&D.object){const T=(0,i._)`typeof ${A} != "object"`;b=D.null?T:(0,i._)`!${A} || ${T}`,delete D.null,delete D.array,delete D.object}else b=i.nil;D.number&&delete D.integer;for(const T in D)b=(0,i.and)(b,g(T,A,M,O));return b}e.checkDataTypes=$;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:A})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${A}}`};function y(S){const A=m(S);(0,n.reportError)(A,v)}e.reportTypeError=y;function m(S){const{gen:A,data:M,schema:O}=S,b=(0,s.schemaRefOrVal)(S,O,"type");return{gen:A,keyword:"type",data:M,schema:O.type,schemaCode:b,schemaValue:b,parentSchema:O,params:{},it:S}}})(lo);var za={};Object.defineProperty(za,"__esModule",{value:!0});za.assignDefaults=void 0;const hi=we,j_=Oe;function M_(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)wd(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>wd(e,s,i.default))}za.assignDefaults=M_;function wd(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const a=(0,hi._)`${s}${(0,hi.getProperty)(t)}`;if(i){(0,j_.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,hi._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,hi._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,hi._)`${a} = ${(0,hi.stringify)(r)}`)}var Ir={},$e={};Object.defineProperty($e,"__esModule",{value:!0});$e.validateUnion=$e.validateArray=$e.usePattern=$e.callValidateCode=$e.schemaProperties=$e.allSchemaProperties=$e.noPropertyInData=$e.propertyInData=$e.isOwnProperty=$e.hasPropFunc=$e.reportMissingProp=$e.checkMissingProp=$e.checkReportMissingProp=void 0;const Ge=we,pu=Oe,sn=Fr,U_=Oe;function x_(e,t){const{gen:r,data:n,it:i}=e;r.if(gu(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ge._)`${t}`},!0),e.error()})}$e.checkReportMissingProp=x_;function q_({gen:e,data:t,it:{opts:r}},n,i){return(0,Ge.or)(...n.map(s=>(0,Ge.and)(gu(e,t,s,r.ownProperties),(0,Ge._)`${i} = ${s}`)))}$e.checkMissingProp=q_;function V_(e,t){e.setParams({missingProperty:t},!0),e.error()}$e.reportMissingProp=V_;function Km(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ge._)`Object.prototype.hasOwnProperty`})}$e.hasPropFunc=Km;function mu(e,t,r){return(0,Ge._)`${Km(e)}.call(${t}, ${r})`}$e.isOwnProperty=mu;function B_(e,t,r,n){const i=(0,Ge._)`${t}${(0,Ge.getProperty)(r)} !== undefined`;return n?(0,Ge._)`${i} && ${mu(e,t,r)}`:i}$e.propertyInData=B_;function gu(e,t,r,n){const i=(0,Ge._)`${t}${(0,Ge.getProperty)(r)} === undefined`;return n?(0,Ge.or)(i,(0,Ge.not)(mu(e,t,r))):i}$e.noPropertyInData=gu;function Ym(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}$e.allSchemaProperties=Ym;function z_(e,t){return Ym(t).filter(r=>!(0,pu.alwaysValidSchema)(e,t[r]))}$e.schemaProperties=z_;function H_({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,l,u){const c=u?(0,Ge._)`${e}, ${t}, ${n}${i}`:t,f=[[sn.default.instancePath,(0,Ge.strConcat)(sn.default.instancePath,s)],[sn.default.parentData,o.parentData],[sn.default.parentDataProperty,o.parentDataProperty],[sn.default.rootData,sn.default.rootData]];o.opts.dynamicRef&&f.push([sn.default.dynamicAnchors,sn.default.dynamicAnchors]);const h=(0,Ge._)`${c}, ${r.object(...f)}`;return l!==Ge.nil?(0,Ge._)`${a}.call(${l}, ${h})`:(0,Ge._)`${a}(${h})`}$e.callValidateCode=H_;const G_=(0,Ge._)`new RegExp`;function W_({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ge._)`${i.code==="new RegExp"?G_:(0,U_.useFunc)(e,i)}(${r}, ${n})`})}$e.usePattern=W_;function K_(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const l=t.const("len",(0,Ge._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:pu.Type.Num},s),t.if((0,Ge.not)(s),a)})}}$e.validateArray=K_;function Y_(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,pu.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const c=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);t.assign(o,(0,Ge._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Ge.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}$e.validateUnion=Y_;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.validateKeywordUsage=Ir.validSchemaType=Ir.funcKeywordCode=Ir.macroKeywordCode=void 0;const kt=we,xn=Fr,J_=$e,X_=ao;function Q_(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),l=Jm(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const u=r.name("valid");e.subschema({schema:a,schemaPath:kt.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Ir.macroKeywordCode=Q_;function Z_(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:l}=e;t$(l,t);const u=!a&&t.compile?t.compile.call(l.self,s,o,l):t.validate,c=Jm(n,i,u),f=n.let("valid");e.block$data(f,h),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function h(){if(t.errors===!1)$(),t.modifying&&Sd(e),v(()=>e.error());else{const y=t.async?p():g();t.modifying&&Sd(e),v(()=>e$(e,y))}}function p(){const y=n.let("ruleErrs",null);return n.try(()=>$((0,kt._)`await `),m=>n.assign(f,!1).if((0,kt._)`${m} instanceof ${l.ValidationError}`,()=>n.assign(y,(0,kt._)`${m}.errors`),()=>n.throw(m))),y}function g(){const y=(0,kt._)`${c}.errors`;return n.assign(y,null),$(kt.nil),y}function $(y=t.async?(0,kt._)`await `:kt.nil){const m=l.opts.passContext?xn.default.this:xn.default.self,S=!("compile"in t&&!a||t.schema===!1);n.assign(f,(0,kt._)`${y}${(0,J_.callValidateCode)(e,c,m,S)}`,t.modifying)}function v(y){var m;n.if((0,kt.not)((m=t.valid)!==null&&m!==void 0?m:f),y)}}Ir.funcKeywordCode=Z_;function Sd(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,kt._)`${n.parentData}[${n.parentDataProperty}]`))}function e$(e,t){const{gen:r}=e;r.if((0,kt._)`Array.isArray(${t})`,()=>{r.assign(xn.default.vErrors,(0,kt._)`${xn.default.vErrors} === null ? ${t} : ${xn.default.vErrors}.concat(${t})`).assign(xn.default.errors,(0,kt._)`${xn.default.vErrors}.length`),(0,X_.extendErrors)(e)},()=>e.error())}function t$({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Jm(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,kt.stringify)(r)})}function r$(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Ir.validSchemaType=r$;function n$({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const l=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Ir.validateKeywordUsage=n$;var $n={};Object.defineProperty($n,"__esModule",{value:!0});$n.extendSubschemaMode=$n.extendSubschemaData=$n.getSubschema=void 0;const Cr=we,Xm=Oe;function i$(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Cr._)`${e.schemaPath}${(0,Cr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Cr._)`${e.schemaPath}${(0,Cr.getProperty)(t)}${(0,Cr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Xm.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}$n.getSubschema=i$;function s$(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:u,dataPathArr:c,opts:f}=t,h=a.let("data",(0,Cr._)`${t.data}${(0,Cr.getProperty)(r)}`,!0);l(h),e.errorPath=(0,Cr.str)`${u}${(0,Xm.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Cr._)`${r}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Cr.Name?i:a.let("data",i,!0);l(u),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}$n.extendSubschemaData=s$;function o$(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}$n.extendSubschemaMode=o$;var wt={},Ha=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},Qm={exports:{}},mn=Qm.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};la(t,n,i,e,"",e)};mn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};mn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};mn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};mn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function la(e,t,r,n,i,s,o,a,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,l,u);for(var c in n){var f=n[c];if(Array.isArray(f)){if(c in mn.arrayKeywords)for(var h=0;h<f.length;h++)la(e,t,r,f[h],i+"/"+c+"/"+h,s,i,c,n,h)}else if(c in mn.propsKeywords){if(f&&typeof f=="object")for(var p in f)la(e,t,r,f[p],i+"/"+c+"/"+a$(p),s,i,c,n,p)}else(c in mn.keywords||e.allKeys&&!(c in mn.skipKeywords))&&la(e,t,r,f,i+"/"+c,s,i,c,n)}r(n,i,s,o,a,l,u)}}function a$(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var l$=Qm.exports;Object.defineProperty(wt,"__esModule",{value:!0});wt.getSchemaRefs=wt.resolveUrl=wt.normalizeId=wt._getFullPath=wt.getFullPath=wt.inlineRef=void 0;const c$=Oe,u$=Ha,f$=l$,d$=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function h$(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Pc(e):t?Zm(e)<=t:!1}wt.inlineRef=h$;const p$=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Pc(e){for(const t in e){if(p$.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Pc)||typeof r=="object"&&Pc(r))return!0}return!1}function Zm(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!d$.has(r)&&(typeof e[r]=="object"&&(0,c$.eachItem)(e[r],n=>t+=Zm(n)),t===1/0))return 1/0}return t}function eg(e,t="",r){r!==!1&&(t=Ii(t));const n=e.parse(t);return tg(e,n)}wt.getFullPath=eg;function tg(e,t){return e.serialize(t).split("#")[0]+"#"}wt._getFullPath=tg;const m$=/#\/?$/;function Ii(e){return e?e.replace(m$,""):""}wt.normalizeId=Ii;function g$(e,t,r){return r=Ii(r),e.resolve(t,r)}wt.resolveUrl=g$;const y$=/^[a-z_][-a-z0-9._]*$/i;function v$(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=Ii(e[r]||t),s={"":i},o=eg(n,i,!1),a={},l=new Set;return f$(e,{allKeys:!0},(f,h,p,g)=>{if(g===void 0)return;const $=o+h;let v=s[g];typeof f[r]=="string"&&(v=y.call(this,f[r])),m.call(this,f.$anchor),m.call(this,f.$dynamicAnchor),s[h]=v;function y(S){const A=this.opts.uriResolver.resolve;if(S=Ii(v?A(v,S):S),l.has(S))throw c(S);l.add(S);let M=this.refs[S];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?u(f,M.schema,S):S!==Ii($)&&(S[0]==="#"?(u(f,a[S],S),a[S]=f):this.refs[S]=$),S}function m(S){if(typeof S=="string"){if(!y$.test(S))throw new Error(`invalid anchor "${S}"`);y.call(this,`#${S}`)}}}),a;function u(f,h,p){if(h!==void 0&&!u$(f,h))throw c(p)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}wt.getSchemaRefs=v$;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.getData=Sr.KeywordCxt=Sr.validateFunctionCode=void 0;const rg=Mi,bd=lo,yu=Kr,Ea=lo,_$=za,Ds=Ir,Rl=$n,ue=we,pe=Fr,$$=wt,Yr=Oe,hs=ao;function E$(e){if(sg(e)&&(og(e),ig(e))){b$(e);return}ng(e,()=>(0,rg.topBoolOrEmptySchema)(e))}Sr.validateFunctionCode=E$;function ng({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,ue._)`${pe.default.data}, ${pe.default.valCxt}`,n.$async,()=>{e.code((0,ue._)`"use strict"; ${Pd(r,i)}`),S$(e,i),e.code(s)}):e.func(t,(0,ue._)`${pe.default.data}, ${w$(i)}`,n.$async,()=>e.code(Pd(r,i)).code(s))}function w$(e){return(0,ue._)`{${pe.default.instancePath}="", ${pe.default.parentData}, ${pe.default.parentDataProperty}, ${pe.default.rootData}=${pe.default.data}${e.dynamicRef?(0,ue._)`, ${pe.default.dynamicAnchors}={}`:ue.nil}}={}`}function S$(e,t){e.if(pe.default.valCxt,()=>{e.var(pe.default.instancePath,(0,ue._)`${pe.default.valCxt}.${pe.default.instancePath}`),e.var(pe.default.parentData,(0,ue._)`${pe.default.valCxt}.${pe.default.parentData}`),e.var(pe.default.parentDataProperty,(0,ue._)`${pe.default.valCxt}.${pe.default.parentDataProperty}`),e.var(pe.default.rootData,(0,ue._)`${pe.default.valCxt}.${pe.default.rootData}`),t.dynamicRef&&e.var(pe.default.dynamicAnchors,(0,ue._)`${pe.default.valCxt}.${pe.default.dynamicAnchors}`)},()=>{e.var(pe.default.instancePath,(0,ue._)`""`),e.var(pe.default.parentData,(0,ue._)`undefined`),e.var(pe.default.parentDataProperty,(0,ue._)`undefined`),e.var(pe.default.rootData,pe.default.data),t.dynamicRef&&e.var(pe.default.dynamicAnchors,(0,ue._)`{}`)})}function b$(e){const{schema:t,opts:r,gen:n}=e;ng(e,()=>{r.$comment&&t.$comment&&lg(e),C$(e),n.let(pe.default.vErrors,null),n.let(pe.default.errors,0),r.unevaluated&&P$(e),ag(e),I$(e)})}function P$(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,ue._)`${r}.evaluated`),t.if((0,ue._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,ue._)`${e.evaluated}.props`,(0,ue._)`undefined`)),t.if((0,ue._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,ue._)`${e.evaluated}.items`,(0,ue._)`undefined`))}function Pd(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,ue._)`/*# sourceURL=${r} */`:ue.nil}function T$(e,t){if(sg(e)&&(og(e),ig(e))){O$(e,t);return}(0,rg.boolOrEmptySchema)(e,t)}function ig({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function sg(e){return typeof e.schema!="boolean"}function O$(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&lg(e),N$(e),R$(e);const s=n.const("_errs",pe.default.errors);ag(e,s),n.var(t,(0,ue._)`${s} === ${pe.default.errors}`)}function og(e){(0,Yr.checkUnknownRules)(e),A$(e)}function ag(e,t){if(e.opts.jtd)return Td(e,[],!1,t);const r=(0,bd.getSchemaTypes)(e.schema),n=(0,bd.coerceAndCheckDataType)(e,r);Td(e,r,!n,t)}function A$(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Yr.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function C$(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Yr.checkStrictMode)(e,"default is ignored in the schema root")}function N$(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,$$.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function R$(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function lg({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,ue._)`${pe.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,ue.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,ue._)`${pe.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function I$(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,ue._)`${pe.default.errors} === 0`,()=>t.return(pe.default.data),()=>t.throw((0,ue._)`new ${i}(${pe.default.vErrors})`)):(t.assign((0,ue._)`${n}.errors`,pe.default.vErrors),s.unevaluated&&D$(e),t.return((0,ue._)`${pe.default.errors} === 0`))}function D$({gen:e,evaluated:t,props:r,items:n}){r instanceof ue.Name&&e.assign((0,ue._)`${t}.props`,r),n instanceof ue.Name&&e.assign((0,ue._)`${t}.items`,n)}function Td(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:a,opts:l,self:u}=e,{RULES:c}=u;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Yr.schemaHasRulesButRef)(s,c))){i.block(()=>fg(e,"$ref",c.all.$ref.definition));return}l.jtd||F$(e,t),i.block(()=>{for(const h of c.rules)f(h);f(c.post)});function f(h){(0,yu.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Ea.checkDataType)(h.type,o,l.strictNumbers)),Od(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Ea.reportTypeError)(e)),i.endIf()):Od(e,h),a||i.if((0,ue._)`${pe.default.errors} === ${n||0}`))}}function Od(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,_$.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,yu.shouldUseRule)(n,s)&&fg(e,s.keyword,s.definition,t.type)})}function F$(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(k$(e,t),e.opts.allowUnionTypes||L$(e,t),j$(e,e.dataTypes))}function k$(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{cg(e.dataTypes,r)||vu(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),U$(e,t)}}function L$(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&vu(e,"use allowUnionTypes to allow union type keyword")}function j$(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,yu.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>M$(t,o))&&vu(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function M$(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function cg(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function U$(e,t){const r=[];for(const n of e.dataTypes)cg(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function vu(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Yr.checkStrictMode)(e,t,e.opts.strictTypes)}class ug{constructor(t,r,n){if((0,Ds.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Yr.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",dg(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ds.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",pe.default.errors))}result(t,r,n){this.failResult((0,ue.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,ue.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,ue._)`${r} !== undefined && (${(0,ue.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?hs.reportExtraError:hs.reportError)(this,this.def.error,r)}$dataError(){(0,hs.reportError)(this,this.def.$dataError||hs.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,hs.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=ue.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=ue.nil,r=ue.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,ue.or)((0,ue._)`${i} === undefined`,r)),t!==ue.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==ue.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,ue.or)(o(),a());function o(){if(n.length){if(!(r instanceof ue.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,ue._)`${(0,Ea.checkDataTypes)(l,r,s.opts.strictNumbers,Ea.DataType.Wrong)}`}return ue.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,ue._)`!${l}(${r})`}return ue.nil}}subschema(t,r){const n=(0,Rl.getSubschema)(this.it,t);(0,Rl.extendSubschemaData)(n,this.it,t),(0,Rl.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return T$(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Yr.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Yr.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,ue.Name)),!0}}Sr.KeywordCxt=ug;function fg(e,t,r,n){const i=new ug(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Ds.funcKeywordCode)(i,r):"macro"in r?(0,Ds.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Ds.funcKeywordCode)(i,r)}const x$=/^\/(?:[^~]|~0|~1)*$/,q$=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function dg(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return pe.default.rootData;if(e[0]==="/"){if(!x$.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=pe.default.rootData}else{const u=q$.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=t)throw new Error(l("property/index",c));return n[t-c]}if(c>t)throw new Error(l("data",c));if(s=r[t-c],!i)return s}let o=s;const a=i.split("/");for(const u of a)u&&(s=(0,ue._)`${s}${(0,ue.getProperty)((0,Yr.unescapeJsonPointer)(u))}`,o=(0,ue._)`${o} && ${s}`);return o;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}Sr.getData=dg;var co={};Object.defineProperty(co,"__esModule",{value:!0});let V$=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};co.default=V$;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});const Il=wt;let B$=class extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Il.resolveUrl)(t,r,n),this.missingSchema=(0,Il.normalizeId)((0,Il.getFullPath)(t,this.missingRef))}};uo.default=B$;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.resolveSchema=Wt.getCompilingSchema=Wt.resolveRef=Wt.compileSchema=Wt.SchemaEnv=void 0;const pr=we,z$=co,In=Fr,Er=wt,Ad=Oe,H$=Sr;let Ga=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Er.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Wt.SchemaEnv=Ga;function _u(e){const t=hg.call(this,e);if(t)return t;const r=(0,Er.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new pr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:z$.default,code:(0,pr._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const u={gen:o,allErrors:this.opts.allErrors,data:In.default.data,parentData:In.default.parentData,parentDataProperty:In.default.parentDataProperty,dataNames:[In.default.data],dataPathArr:[pr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,pr.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:pr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,pr._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,H$.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(In.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const p=new Function(`${In.default.self}`,`${In.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=e.schema,p.schemaEnv=e,e.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:g,items:$}=u;p.evaluated={props:g instanceof pr.Name?void 0:g,items:$ instanceof pr.Name?void 0:$,dynamicProps:g instanceof pr.Name,dynamicItems:$ instanceof pr.Name},p.source&&(p.source.evaluated=(0,pr.stringify)(p.evaluated))}return e.validate=p,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Wt.compileSchema=_u;function G$(e,t,r){var n;r=(0,Er.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=Y$.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new Ga({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=W$.call(this,s)}Wt.resolveRef=G$;function W$(e){return(0,Er.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:_u.call(this,e)}function hg(e){for(const t of this._compilations)if(K$(t,e))return t}Wt.getCompilingSchema=hg;function K$(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Y$(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Wa.call(this,e,t)}function Wa(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Er._getFullPath)(this.opts.uriResolver,r);let i=(0,Er.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Dl.call(this,r,e);const s=(0,Er.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=Wa.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:Dl.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||_u.call(this,o),s===(0,Er.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,Er.resolveUrl)(this.opts.uriResolver,i,u)),new Ga({schema:a,schemaId:l,root:e,baseId:i})}return Dl.call(this,r,o)}}Wt.resolveSchema=Wa;const J$=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Dl(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Ad.unescapeFragment)(a)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!J$.has(a)&&u&&(t=(0,Er.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Ad.schemaHasRulesButRef)(r,this.RULES)){const a=(0,Er.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Wa.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new Ga({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const X$="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Q$="Meta-schema for $data reference (JSON AnySchema extension proposal)",Z$="object",eE=["$data"],tE={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},rE=!1,nE={$id:X$,description:Q$,type:Z$,required:eE,properties:tE,additionalProperties:rE};var $u={},Tc={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(ut,function(r){function n(){for(var q=arguments.length,F=Array(q),V=0;V<q;V++)F[V]=arguments[V];if(F.length>1){F[0]=F[0].slice(0,-1);for(var Z=F.length-1,Q=1;Q<Z;++Q)F[Q]=F[Q].slice(1,-1);return F[Z]=F[Z].slice(1),F.join("")}else return F[0]}function i(q){return"(?:"+q+")"}function s(q){return q===void 0?"undefined":q===null?"null":Object.prototype.toString.call(q).split(" ").pop().split("]").shift().toLowerCase()}function o(q){return q.toUpperCase()}function a(q){return q!=null?q instanceof Array?q:typeof q.length!="number"||q.split||q.setInterval||q.call?[q]:Array.prototype.slice.call(q):[]}function l(q,F){var V=q;if(F)for(var Z in F)V[Z]=F[Z];return V}function u(q){var F="[A-Za-z]",V="[0-9]",Z=n(V,"[A-Fa-f]"),Q=i(i("%[EFef]"+Z+"%"+Z+Z+"%"+Z+Z)+"|"+i("%[89A-Fa-f]"+Z+"%"+Z+Z)+"|"+i("%"+Z+Z)),ce="[\\:\\/\\?\\#\\[\\]\\@]",fe="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",be=n(ce,fe),Pe=q?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ke=q?"[\\uE000-\\uF8FF]":"[]",_e=n(F,V,"[\\-\\.\\_\\~]",Pe);i(F+n(F,V,"[\\+\\-\\.]")+"*"),i(i(Q+"|"+n(_e,fe,"[\\:]"))+"*");var je=i(i("25[0-5]")+"|"+i("2[0-4]"+V)+"|"+i("1"+V+V)+"|"+i("0?[1-9]"+V)+"|0?0?"+V),Ye=i(je+"\\."+je+"\\."+je+"\\."+je),he=i(Z+"{1,4}"),Ce=i(i(he+"\\:"+he)+"|"+Ye),tt=i(i(he+"\\:")+"{6}"+Ce),Ve=i("\\:\\:"+i(he+"\\:")+"{5}"+Ce),Or=i(i(he)+"?\\:\\:"+i(he+"\\:")+"{4}"+Ce),nr=i(i(i(he+"\\:")+"{0,1}"+he)+"?\\:\\:"+i(he+"\\:")+"{3}"+Ce),ir=i(i(i(he+"\\:")+"{0,2}"+he)+"?\\:\\:"+i(he+"\\:")+"{2}"+Ce),fr=i(i(i(he+"\\:")+"{0,3}"+he)+"?\\:\\:"+he+"\\:"+Ce),Ur=i(i(i(he+"\\:")+"{0,4}"+he)+"?\\:\\:"+Ce),Vt=i(i(i(he+"\\:")+"{0,5}"+he)+"?\\:\\:"+he),dt=i(i(i(he+"\\:")+"{0,6}"+he)+"?\\:\\:"),xr=i([tt,Ve,Or,nr,ir,fr,Ur,Vt,dt].join("|")),dr=i(i(_e+"|"+Q)+"+");i("[vV]"+Z+"+\\."+n(_e,fe,"[\\:]")+"+"),i(i(Q+"|"+n(_e,fe))+"*");var An=i(Q+"|"+n(_e,fe,"[\\:\\@]"));return i(i(Q+"|"+n(_e,fe,"[\\@]"))+"+"),i(i(An+"|"+n("[\\/\\?]",Ke))+"*"),{NOT_SCHEME:new RegExp(n("[^]",F,V,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",_e,fe),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",_e,fe),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",_e,fe),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",_e,fe),"g"),NOT_QUERY:new RegExp(n("[^\\%]",_e,fe,"[\\:\\@\\/\\?]",Ke),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",_e,fe,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",_e,fe),"g"),UNRESERVED:new RegExp(_e,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",_e,be),"g"),PCT_ENCODED:new RegExp(Q,"g"),IPV4ADDRESS:new RegExp("^("+Ye+")$"),IPV6ADDRESS:new RegExp("^\\[?("+xr+")"+i(i("\\%25|\\%(?!"+Z+"{2})")+"("+dr+")")+"?\\]?$")}}var c=u(!1),f=u(!0),h=function(){function q(F,V){var Z=[],Q=!0,ce=!1,fe=void 0;try{for(var be=F[Symbol.iterator](),Pe;!(Q=(Pe=be.next()).done)&&(Z.push(Pe.value),!(V&&Z.length===V));Q=!0);}catch(Ke){ce=!0,fe=Ke}finally{try{!Q&&be.return&&be.return()}finally{if(ce)throw fe}}return Z}return function(F,V){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return q(F,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(q){if(Array.isArray(q)){for(var F=0,V=Array(q.length);F<q.length;F++)V[F]=q[F];return V}else return Array.from(q)},g=2147483647,$=36,v=1,y=26,m=38,S=700,A=72,M=128,O="-",b=/^xn--/,D=/[^\0-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=$-v,H=Math.floor,Y=String.fromCharCode;function K(q){throw new RangeError(B[q])}function te(q,F){for(var V=[],Z=q.length;Z--;)V[Z]=F(q[Z]);return V}function re(q,F){var V=q.split("@"),Z="";V.length>1&&(Z=V[0]+"@",q=V[1]),q=q.replace(T,".");var Q=q.split("."),ce=te(Q,F).join(".");return Z+ce}function X(q){for(var F=[],V=0,Z=q.length;V<Z;){var Q=q.charCodeAt(V++);if(Q>=55296&&Q<=56319&&V<Z){var ce=q.charCodeAt(V++);(ce&64512)==56320?F.push(((Q&1023)<<10)+(ce&1023)+65536):(F.push(Q),V--)}else F.push(Q)}return F}var I=function(F){return String.fromCodePoint.apply(String,p(F))},j=function(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:$},N=function(F,V){return F+22+75*(F<26)-((V!=0)<<5)},w=function(F,V,Z){var Q=0;for(F=Z?H(F/S):F>>1,F+=H(F/V);F>J*y>>1;Q+=$)F=H(F/J);return H(Q+(J+1)*F/(F+m))},R=function(F){var V=[],Z=F.length,Q=0,ce=M,fe=A,be=F.lastIndexOf(O);be<0&&(be=0);for(var Pe=0;Pe<be;++Pe)F.charCodeAt(Pe)>=128&&K("not-basic"),V.push(F.charCodeAt(Pe));for(var Ke=be>0?be+1:0;Ke<Z;){for(var _e=Q,je=1,Ye=$;;Ye+=$){Ke>=Z&&K("invalid-input");var he=j(F.charCodeAt(Ke++));(he>=$||he>H((g-Q)/je))&&K("overflow"),Q+=he*je;var Ce=Ye<=fe?v:Ye>=fe+y?y:Ye-fe;if(he<Ce)break;var tt=$-Ce;je>H(g/tt)&&K("overflow"),je*=tt}var Ve=V.length+1;fe=w(Q-_e,Ve,_e==0),H(Q/Ve)>g-ce&&K("overflow"),ce+=H(Q/Ve),Q%=Ve,V.splice(Q++,0,ce)}return String.fromCodePoint.apply(String,V)},C=function(F){var V=[];F=X(F);var Z=F.length,Q=M,ce=0,fe=A,be=!0,Pe=!1,Ke=void 0;try{for(var _e=F[Symbol.iterator](),je;!(be=(je=_e.next()).done);be=!0){var Ye=je.value;Ye<128&&V.push(Y(Ye))}}catch(tn){Pe=!0,Ke=tn}finally{try{!be&&_e.return&&_e.return()}finally{if(Pe)throw Ke}}var he=V.length,Ce=he;for(he&&V.push(O);Ce<Z;){var tt=g,Ve=!0,Or=!1,nr=void 0;try{for(var ir=F[Symbol.iterator](),fr;!(Ve=(fr=ir.next()).done);Ve=!0){var Ur=fr.value;Ur>=Q&&Ur<tt&&(tt=Ur)}}catch(tn){Or=!0,nr=tn}finally{try{!Ve&&ir.return&&ir.return()}finally{if(Or)throw nr}}var Vt=Ce+1;tt-Q>H((g-ce)/Vt)&&K("overflow"),ce+=(tt-Q)*Vt,Q=tt;var dt=!0,xr=!1,dr=void 0;try{for(var An=F[Symbol.iterator](),No;!(dt=(No=An.next()).done);dt=!0){var Ro=No.value;if(Ro<Q&&++ce>g&&K("overflow"),Ro==Q){for(var ui=ce,qr=$;;qr+=$){var fi=qr<=fe?v:qr>=fe+y?y:qr-fe;if(ui<fi)break;var en=ui-fi,fs=$-fi;V.push(Y(N(fi+en%fs,0))),ui=H(en/fs)}V.push(Y(N(ui,0))),fe=w(ce,Vt,Ce==he),ce=0,++Ce}}}catch(tn){xr=!0,dr=tn}finally{try{!dt&&An.return&&An.return()}finally{if(xr)throw dr}}++ce,++Q}return V.join("")},d=function(F){return re(F,function(V){return b.test(V)?R(V.slice(4).toLowerCase()):V})},E=function(F){return re(F,function(V){return D.test(V)?"xn--"+C(V):V})},L={version:"2.1.0",ucs2:{decode:X,encode:I},decode:R,encode:C,toASCII:E,toUnicode:d},P={};function _(q){var F=q.charCodeAt(0),V=void 0;return F<16?V="%0"+F.toString(16).toUpperCase():F<128?V="%"+F.toString(16).toUpperCase():F<2048?V="%"+(F>>6|192).toString(16).toUpperCase()+"%"+(F&63|128).toString(16).toUpperCase():V="%"+(F>>12|224).toString(16).toUpperCase()+"%"+(F>>6&63|128).toString(16).toUpperCase()+"%"+(F&63|128).toString(16).toUpperCase(),V}function G(q){for(var F="",V=0,Z=q.length;V<Z;){var Q=parseInt(q.substr(V+1,2),16);if(Q<128)F+=String.fromCharCode(Q),V+=3;else if(Q>=194&&Q<224){if(Z-V>=6){var ce=parseInt(q.substr(V+4,2),16);F+=String.fromCharCode((Q&31)<<6|ce&63)}else F+=q.substr(V,6);V+=6}else if(Q>=224){if(Z-V>=9){var fe=parseInt(q.substr(V+4,2),16),be=parseInt(q.substr(V+7,2),16);F+=String.fromCharCode((Q&15)<<12|(fe&63)<<6|be&63)}else F+=q.substr(V,9);V+=9}else F+=q.substr(V,3),V+=3}return F}function U(q,F){function V(Z){var Q=G(Z);return Q.match(F.UNRESERVED)?Q:Z}return q.scheme&&(q.scheme=String(q.scheme).replace(F.PCT_ENCODED,V).toLowerCase().replace(F.NOT_SCHEME,"")),q.userinfo!==void 0&&(q.userinfo=String(q.userinfo).replace(F.PCT_ENCODED,V).replace(F.NOT_USERINFO,_).replace(F.PCT_ENCODED,o)),q.host!==void 0&&(q.host=String(q.host).replace(F.PCT_ENCODED,V).toLowerCase().replace(F.NOT_HOST,_).replace(F.PCT_ENCODED,o)),q.path!==void 0&&(q.path=String(q.path).replace(F.PCT_ENCODED,V).replace(q.scheme?F.NOT_PATH:F.NOT_PATH_NOSCHEME,_).replace(F.PCT_ENCODED,o)),q.query!==void 0&&(q.query=String(q.query).replace(F.PCT_ENCODED,V).replace(F.NOT_QUERY,_).replace(F.PCT_ENCODED,o)),q.fragment!==void 0&&(q.fragment=String(q.fragment).replace(F.PCT_ENCODED,V).replace(F.NOT_FRAGMENT,_).replace(F.PCT_ENCODED,o)),q}function x(q){return q.replace(/^0*(.*)/,"$1")||"0"}function z(q,F){var V=q.match(F.IPV4ADDRESS)||[],Z=h(V,2),Q=Z[1];return Q?Q.split(".").map(x).join("."):q}function ee(q,F){var V=q.match(F.IPV6ADDRESS)||[],Z=h(V,3),Q=Z[1],ce=Z[2];if(Q){for(var fe=Q.toLowerCase().split("::").reverse(),be=h(fe,2),Pe=be[0],Ke=be[1],_e=Ke?Ke.split(":").map(x):[],je=Pe.split(":").map(x),Ye=F.IPV4ADDRESS.test(je[je.length-1]),he=Ye?7:8,Ce=je.length-he,tt=Array(he),Ve=0;Ve<he;++Ve)tt[Ve]=_e[Ve]||je[Ce+Ve]||"";Ye&&(tt[he-1]=z(tt[he-1],F));var Or=tt.reduce(function(Vt,dt,xr){if(!dt||dt==="0"){var dr=Vt[Vt.length-1];dr&&dr.index+dr.length===xr?dr.length++:Vt.push({index:xr,length:1})}return Vt},[]),nr=Or.sort(function(Vt,dt){return dt.length-Vt.length})[0],ir=void 0;if(nr&&nr.length>1){var fr=tt.slice(0,nr.index),Ur=tt.slice(nr.index+nr.length);ir=fr.join(":")+"::"+Ur.join(":")}else ir=tt.join(":");return ce&&(ir+="%"+ce),ir}else return q}var ie=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,se="".match(/(){0}/)[1]===void 0;function le(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V={},Z=F.iri!==!1?f:c;F.reference==="suffix"&&(q=(F.scheme?F.scheme+":":"")+"//"+q);var Q=q.match(ie);if(Q){se?(V.scheme=Q[1],V.userinfo=Q[3],V.host=Q[4],V.port=parseInt(Q[5],10),V.path=Q[6]||"",V.query=Q[7],V.fragment=Q[8],isNaN(V.port)&&(V.port=Q[5])):(V.scheme=Q[1]||void 0,V.userinfo=q.indexOf("@")!==-1?Q[3]:void 0,V.host=q.indexOf("//")!==-1?Q[4]:void 0,V.port=parseInt(Q[5],10),V.path=Q[6]||"",V.query=q.indexOf("?")!==-1?Q[7]:void 0,V.fragment=q.indexOf("#")!==-1?Q[8]:void 0,isNaN(V.port)&&(V.port=q.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Q[4]:void 0)),V.host&&(V.host=ee(z(V.host,Z),Z)),V.scheme===void 0&&V.userinfo===void 0&&V.host===void 0&&V.port===void 0&&!V.path&&V.query===void 0?V.reference="same-document":V.scheme===void 0?V.reference="relative":V.fragment===void 0?V.reference="absolute":V.reference="uri",F.reference&&F.reference!=="suffix"&&F.reference!==V.reference&&(V.error=V.error||"URI is not a "+F.reference+" reference.");var ce=P[(F.scheme||V.scheme||"").toLowerCase()];if(!F.unicodeSupport&&(!ce||!ce.unicodeSupport)){if(V.host&&(F.domainHost||ce&&ce.domainHost))try{V.host=L.toASCII(V.host.replace(Z.PCT_ENCODED,G).toLowerCase())}catch(fe){V.error=V.error||"Host's domain name can not be converted to ASCII via punycode: "+fe}U(V,c)}else U(V,Z);ce&&ce.parse&&ce.parse(V,F)}else V.error=V.error||"URI can not be parsed.";return V}function me(q,F){var V=F.iri!==!1?f:c,Z=[];return q.userinfo!==void 0&&(Z.push(q.userinfo),Z.push("@")),q.host!==void 0&&Z.push(ee(z(String(q.host),V),V).replace(V.IPV6ADDRESS,function(Q,ce,fe){return"["+ce+(fe?"%25"+fe:"")+"]"})),(typeof q.port=="number"||typeof q.port=="string")&&(Z.push(":"),Z.push(String(q.port))),Z.length?Z.join(""):void 0}var Re=/^\.\.?\//,ze=/^\/\.(\/|$)/,qe=/^\/\.\.(\/|$)/,Fe=/^\/?(?:.|\n)*?(?=\/|$)/;function et(q){for(var F=[];q.length;)if(q.match(Re))q=q.replace(Re,"");else if(q.match(ze))q=q.replace(ze,"/");else if(q.match(qe))q=q.replace(qe,"/"),F.pop();else if(q==="."||q==="..")q="";else{var V=q.match(Fe);if(V){var Z=V[0];q=q.slice(Z.length),F.push(Z)}else throw new Error("Unexpected dot segment condition")}return F.join("")}function ke(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=F.iri?f:c,Z=[],Q=P[(F.scheme||q.scheme||"").toLowerCase()];if(Q&&Q.serialize&&Q.serialize(q,F),q.host&&!V.IPV6ADDRESS.test(q.host)){if(F.domainHost||Q&&Q.domainHost)try{q.host=F.iri?L.toUnicode(q.host):L.toASCII(q.host.replace(V.PCT_ENCODED,G).toLowerCase())}catch(be){q.error=q.error||"Host's domain name can not be converted to "+(F.iri?"Unicode":"ASCII")+" via punycode: "+be}}U(q,V),F.reference!=="suffix"&&q.scheme&&(Z.push(q.scheme),Z.push(":"));var ce=me(q,F);if(ce!==void 0&&(F.reference!=="suffix"&&Z.push("//"),Z.push(ce),q.path&&q.path.charAt(0)!=="/"&&Z.push("/")),q.path!==void 0){var fe=q.path;!F.absolutePath&&(!Q||!Q.absolutePath)&&(fe=et(fe)),ce===void 0&&(fe=fe.replace(/^\/\//,"/%2F")),Z.push(fe)}return q.query!==void 0&&(Z.push("?"),Z.push(q.query)),q.fragment!==void 0&&(Z.push("#"),Z.push(q.fragment)),Z.join("")}function tr(q,F){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Z=arguments[3],Q={};return Z||(q=le(ke(q,V),V),F=le(ke(F,V),V)),V=V||{},!V.tolerant&&F.scheme?(Q.scheme=F.scheme,Q.userinfo=F.userinfo,Q.host=F.host,Q.port=F.port,Q.path=et(F.path||""),Q.query=F.query):(F.userinfo!==void 0||F.host!==void 0||F.port!==void 0?(Q.userinfo=F.userinfo,Q.host=F.host,Q.port=F.port,Q.path=et(F.path||""),Q.query=F.query):(F.path?(F.path.charAt(0)==="/"?Q.path=et(F.path):((q.userinfo!==void 0||q.host!==void 0||q.port!==void 0)&&!q.path?Q.path="/"+F.path:q.path?Q.path=q.path.slice(0,q.path.lastIndexOf("/")+1)+F.path:Q.path=F.path,Q.path=et(Q.path)),Q.query=F.query):(Q.path=q.path,F.query!==void 0?Q.query=F.query:Q.query=q.query),Q.userinfo=q.userinfo,Q.host=q.host,Q.port=q.port),Q.scheme=q.scheme),Q.fragment=F.fragment,Q}function cr(q,F,V){var Z=l({scheme:"null"},V);return ke(tr(le(q,Z),le(F,Z),Z,!0),Z)}function It(q,F){return typeof q=="string"?q=ke(le(q,F),F):s(q)==="object"&&(q=le(ke(q,F),F)),q}function qt(q,F,V){return typeof q=="string"?q=ke(le(q,V),V):s(q)==="object"&&(q=ke(q,V)),typeof F=="string"?F=ke(le(F,V),V):s(F)==="object"&&(F=ke(F,V)),q===F}function ur(q,F){return q&&q.toString().replace(!F||!F.iri?c.ESCAPE:f.ESCAPE,_)}function ht(q,F){return q&&q.toString().replace(!F||!F.iri?c.PCT_ENCODED:f.PCT_ENCODED,G)}var lt={scheme:"http",domainHost:!0,parse:function(F,V){return F.host||(F.error=F.error||"HTTP URIs must have a host."),F},serialize:function(F,V){var Z=String(F.scheme).toLowerCase()==="https";return(F.port===(Z?443:80)||F.port==="")&&(F.port=void 0),F.path||(F.path="/"),F}},is={scheme:"https",domainHost:lt.domainHost,parse:lt.parse,serialize:lt.serialize};function ss(q){return typeof q.secure=="boolean"?q.secure:String(q.scheme).toLowerCase()==="wss"}var On={scheme:"ws",domainHost:!0,parse:function(F,V){var Z=F;return Z.secure=ss(Z),Z.resourceName=(Z.path||"/")+(Z.query?"?"+Z.query:""),Z.path=void 0,Z.query=void 0,Z},serialize:function(F,V){if((F.port===(ss(F)?443:80)||F.port==="")&&(F.port=void 0),typeof F.secure=="boolean"&&(F.scheme=F.secure?"wss":"ws",F.secure=void 0),F.resourceName){var Z=F.resourceName.split("?"),Q=h(Z,2),ce=Q[0],fe=Q[1];F.path=ce&&ce!=="/"?ce:void 0,F.query=fe,F.resourceName=void 0}return F.fragment=void 0,F}},os={scheme:"wss",domainHost:On.domainHost,parse:On.parse,serialize:On.serialize},li={},as="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Xt="[0-9A-Fa-f]",bl=i(i("%[EFef]"+Xt+"%"+Xt+Xt+"%"+Xt+Xt)+"|"+i("%[89A-Fa-f]"+Xt+"%"+Xt+Xt)+"|"+i("%"+Xt+Xt)),jr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",To="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Pl=n(To,'[\\"\\\\]'),Tl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ls=new RegExp(as,"g"),rr=new RegExp(bl,"g"),cs=new RegExp(n("[^]",jr,"[\\.]",'[\\"]',Pl),"g"),ci=new RegExp(n("[^]",as,Tl),"g"),us=ci;function Mr(q){var F=G(q);return F.match(ls)?F:q}var Oo={scheme:"mailto",parse:function(F,V){var Z=F,Q=Z.to=Z.path?Z.path.split(","):[];if(Z.path=void 0,Z.query){for(var ce=!1,fe={},be=Z.query.split("&"),Pe=0,Ke=be.length;Pe<Ke;++Pe){var _e=be[Pe].split("=");switch(_e[0]){case"to":for(var je=_e[1].split(","),Ye=0,he=je.length;Ye<he;++Ye)Q.push(je[Ye]);break;case"subject":Z.subject=ht(_e[1],V);break;case"body":Z.body=ht(_e[1],V);break;default:ce=!0,fe[ht(_e[0],V)]=ht(_e[1],V);break}}ce&&(Z.headers=fe)}Z.query=void 0;for(var Ce=0,tt=Q.length;Ce<tt;++Ce){var Ve=Q[Ce].split("@");if(Ve[0]=ht(Ve[0]),V.unicodeSupport)Ve[1]=ht(Ve[1],V).toLowerCase();else try{Ve[1]=L.toASCII(ht(Ve[1],V).toLowerCase())}catch(Or){Z.error=Z.error||"Email address's domain name can not be converted to ASCII via punycode: "+Or}Q[Ce]=Ve.join("@")}return Z},serialize:function(F,V){var Z=F,Q=a(F.to);if(Q){for(var ce=0,fe=Q.length;ce<fe;++ce){var be=String(Q[ce]),Pe=be.lastIndexOf("@"),Ke=be.slice(0,Pe).replace(rr,Mr).replace(rr,o).replace(cs,_),_e=be.slice(Pe+1);try{_e=V.iri?L.toUnicode(_e):L.toASCII(ht(_e,V).toLowerCase())}catch(Ce){Z.error=Z.error||"Email address's domain name can not be converted to "+(V.iri?"Unicode":"ASCII")+" via punycode: "+Ce}Q[ce]=Ke+"@"+_e}Z.path=Q.join(",")}var je=F.headers=F.headers||{};F.subject&&(je.subject=F.subject),F.body&&(je.body=F.body);var Ye=[];for(var he in je)je[he]!==li[he]&&Ye.push(he.replace(rr,Mr).replace(rr,o).replace(ci,_)+"="+je[he].replace(rr,Mr).replace(rr,o).replace(us,_));return Ye.length&&(Z.query=Ye.join("&")),Z}},Ol=/^([^\:]+)\:(.*)/,Ao={scheme:"urn",parse:function(F,V){var Z=F.path&&F.path.match(Ol),Q=F;if(Z){var ce=V.scheme||Q.scheme||"urn",fe=Z[1].toLowerCase(),be=Z[2],Pe=ce+":"+(V.nid||fe),Ke=P[Pe];Q.nid=fe,Q.nss=be,Q.path=void 0,Ke&&(Q=Ke.parse(Q,V))}else Q.error=Q.error||"URN can not be parsed.";return Q},serialize:function(F,V){var Z=V.scheme||F.scheme||"urn",Q=F.nid,ce=Z+":"+(V.nid||Q),fe=P[ce];fe&&(F=fe.serialize(F,V));var be=F,Pe=F.nss;return be.path=(Q||V.nid)+":"+Pe,be}},Al=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Co={scheme:"urn:uuid",parse:function(F,V){var Z=F;return Z.uuid=Z.nss,Z.nss=void 0,!V.tolerant&&(!Z.uuid||!Z.uuid.match(Al))&&(Z.error=Z.error||"UUID is not valid."),Z},serialize:function(F,V){var Z=F;return Z.nss=(F.uuid||"").toLowerCase(),Z}};P[lt.scheme]=lt,P[is.scheme]=is,P[On.scheme]=On,P[os.scheme]=os,P[Oo.scheme]=Oo,P[Ao.scheme]=Ao,P[Co.scheme]=Co,r.SCHEMES=P,r.pctEncChar=_,r.pctDecChars=G,r.parse=le,r.removeDotSegments=et,r.serialize=ke,r.resolveComponents=tr,r.resolve=cr,r.normalize=It,r.equal=qt,r.escapeComponent=ur,r.unescapeComponent=ht,Object.defineProperty(r,"__esModule",{value:!0})})})(Tc,Tc.exports);var pg=Tc.exports;Object.defineProperty($u,"__esModule",{value:!0});const mg=pg;mg.code='require("ajv/dist/runtime/uri").default';$u.default=mg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Sr;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=we;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=co,i=uo,s=Zn,o=Wt,a=we,l=wt,u=lo,c=Oe,f=nE,h=$u,p=(N,w)=>new RegExp(N,w);p.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},m=200;function S(N){var w,R,C,d,E,L,P,_,G,U,x,z,ee,ie,se,le,me,Re,ze,qe,Fe,et,ke,tr,cr;const It=N.strict,qt=(w=N.code)===null||w===void 0?void 0:w.optimize,ur=qt===!0||qt===void 0?1:qt||0,ht=(C=(R=N.code)===null||R===void 0?void 0:R.regExp)!==null&&C!==void 0?C:p,lt=(d=N.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(L=(E=N.strictSchema)!==null&&E!==void 0?E:It)!==null&&L!==void 0?L:!0,strictNumbers:(_=(P=N.strictNumbers)!==null&&P!==void 0?P:It)!==null&&_!==void 0?_:!0,strictTypes:(U=(G=N.strictTypes)!==null&&G!==void 0?G:It)!==null&&U!==void 0?U:"log",strictTuples:(z=(x=N.strictTuples)!==null&&x!==void 0?x:It)!==null&&z!==void 0?z:"log",strictRequired:(ie=(ee=N.strictRequired)!==null&&ee!==void 0?ee:It)!==null&&ie!==void 0?ie:!1,code:N.code?{...N.code,optimize:ur,regExp:ht}:{optimize:ur,regExp:ht},loopRequired:(se=N.loopRequired)!==null&&se!==void 0?se:m,loopEnum:(le=N.loopEnum)!==null&&le!==void 0?le:m,meta:(me=N.meta)!==null&&me!==void 0?me:!0,messages:(Re=N.messages)!==null&&Re!==void 0?Re:!0,inlineRefs:(ze=N.inlineRefs)!==null&&ze!==void 0?ze:!0,schemaId:(qe=N.schemaId)!==null&&qe!==void 0?qe:"$id",addUsedSchema:(Fe=N.addUsedSchema)!==null&&Fe!==void 0?Fe:!0,validateSchema:(et=N.validateSchema)!==null&&et!==void 0?et:!0,validateFormats:(ke=N.validateFormats)!==null&&ke!==void 0?ke:!0,unicodeRegExp:(tr=N.unicodeRegExp)!==null&&tr!==void 0?tr:!0,int32range:(cr=N.int32range)!==null&&cr!==void 0?cr:!0,uriResolver:lt}}class A{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...S(w)};const{es5:R,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:$,es5:R,lines:C}),this.logger=H(w.logger);const d=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,w,"NOT SUPPORTED"),M.call(this,y,w,"DEPRECATED","warn"),this._metaOpts=B.call(this),w.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&T.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),b.call(this),w.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:R,schemaId:C}=this.opts;let d=f;C==="id"&&(d={...f},d.id=d.$id,delete d.$id),R&&w&&this.addMetaSchema(d,d[C],!1)}defaultMeta(){const{meta:w,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[R]||w:void 0}validate(w,R){let C;if(typeof w=="string"){if(C=this.getSchema(w),!C)throw new Error(`no schema with key or ref "${w}"`)}else C=this.compile(w);const d=C(R);return"$async"in C||(this.errors=C.errors),d}compile(w,R){const C=this._addSchema(w,R);return C.validate||this._compileSchemaEnv(C)}compileAsync(w,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return d.call(this,w,R);async function d(U,x){await E.call(this,U.$schema);const z=this._addSchema(U,x);return z.validate||L.call(this,z)}async function E(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function L(U){try{return this._compileSchemaEnv(U)}catch(x){if(!(x instanceof i.default))throw x;return P.call(this,x),await _.call(this,x.missingSchema),L.call(this,U)}}function P({missingSchema:U,missingRef:x}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${x} cannot be resolved`)}async function _(U){const x=await G.call(this,U);this.refs[U]||await E.call(this,x.$schema),this.refs[U]||this.addSchema(x,U,R)}async function G(U){const x=this._loading[U];if(x)return x;try{return await(this._loading[U]=C(U))}finally{delete this._loading[U]}}}addSchema(w,R,C,d=this.opts.validateSchema){if(Array.isArray(w)){for(const L of w)this.addSchema(L,void 0,C,d);return this}let E;if(typeof w=="object"){const{schemaId:L}=this.opts;if(E=w[L],E!==void 0&&typeof E!="string")throw new Error(`schema ${L} must be string`)}return R=(0,l.normalizeId)(R||E),this._checkUnique(R),this.schemas[R]=this._addSchema(w,C,R,d,!0),this}addMetaSchema(w,R,C=this.opts.validateSchema){return this.addSchema(w,R,!0,C),this}validateSchema(w,R){if(typeof w=="boolean")return!0;let C;if(C=w.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(C,w);if(!d&&R){const E="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(E);else throw new Error(E)}return d}getSchema(w){let R;for(;typeof(R=O.call(this,w))=="string";)w=R;if(R===void 0){const{schemaId:C}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:C});if(R=o.resolveSchema.call(this,d,w),!R)return;this.refs[w]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=O.call(this,w);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const R=w;this._cache.delete(R);let C=w[this.opts.schemaId];return C&&(C=(0,l.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const R of w)this.addKeyword(R);return this}addKeyword(w,R){let C;if(typeof w=="string")C=w,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=C);else if(typeof w=="object"&&R===void 0){if(R=w,C=R.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(K.call(this,C,R),!R)return(0,c.eachItem)(C,E=>te.call(this,E)),this;X.call(this,R);const d={...R,type:(0,u.getJSONTypes)(R.type),schemaType:(0,u.getJSONTypes)(R.schemaType)};return(0,c.eachItem)(C,d.type.length===0?E=>te.call(this,E,d):E=>d.type.forEach(L=>te.call(this,E,d,L))),this}getKeyword(w){const R=this.RULES.all[w];return typeof R=="object"?R.definition:!!R}removeKeyword(w){const{RULES:R}=this;delete R.keywords[w],delete R.all[w];for(const C of R.rules){const d=C.rules.findIndex(E=>E.keyword===w);d>=0&&C.rules.splice(d,1)}return this}addFormat(w,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[w]=R,this}errorsText(w=this.errors,{separator:R=", ",dataVar:C="data"}={}){return!w||w.length===0?"No errors":w.map(d=>`${C}${d.instancePath} ${d.message}`).reduce((d,E)=>d+R+E)}$dataMetaSchema(w,R){const C=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const d of R){const E=d.split("/").slice(1);let L=w;for(const P of E)L=L[P];for(const P in C){const _=C[P];if(typeof _!="object")continue;const{$data:G}=_.definition,U=L[P];G&&U&&(L[P]=j(U))}}return w}_removeAllSchemas(w,R){for(const C in w){const d=w[C];(!R||R.test(C))&&(typeof d=="string"?delete w[C]:d&&!d.meta&&(this._cache.delete(d.schema),delete w[C]))}}_addSchema(w,R,C,d=this.opts.validateSchema,E=this.opts.addUsedSchema){let L;const{schemaId:P}=this.opts;if(typeof w=="object")L=w[P];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let _=this._cache.get(w);if(_!==void 0)return _;C=(0,l.normalizeId)(L||C);const G=l.getSchemaRefs.call(this,w,C);return _=new o.SchemaEnv({schema:w,schemaId:P,meta:R,baseId:C,localRefs:G}),this._cache.set(_.schema,_),E&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=_),d&&this.validateSchema(w,!0),_}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=R}}}e.default=A,A.ValidationError=n.default,A.MissingRefError=i.default;function M(N,w,R,C="error"){for(const d in N){const E=d;E in w&&this.logger[C](`${R}: option ${d}. ${N[E]}`)}}function O(N){return N=(0,l.normalizeId)(N),this.schemas[N]||this.refs[N]}function b(){const N=this.opts.schemas;if(N)if(Array.isArray(N))this.addSchema(N);else for(const w in N)this.addSchema(N[w],w)}function D(){for(const N in this.opts.formats){const w=this.opts.formats[N];w&&this.addFormat(N,w)}}function T(N){if(Array.isArray(N)){this.addVocabulary(N);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in N){const R=N[w];R.keyword||(R.keyword=w),this.addKeyword(R)}}function B(){const N={...this.opts};for(const w of g)delete N[w];return N}const J={log(){},warn(){},error(){}};function H(N){if(N===!1)return J;if(N===void 0)return console;if(N.log&&N.warn&&N.error)return N;throw new Error("logger must implement log, warn and error methods")}const Y=/^[a-z_$][a-z0-9_$:-]*$/i;function K(N,w){const{RULES:R}=this;if((0,c.eachItem)(N,C=>{if(R.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!Y.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function te(N,w,R){var C;const d=w==null?void 0:w.post;if(R&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:E}=this;let L=d?E.post:E.rules.find(({type:_})=>_===R);if(L||(L={type:R,rules:[]},E.rules.push(L)),E.keywords[N]=!0,!w)return;const P={keyword:N,definition:{...w,type:(0,u.getJSONTypes)(w.type),schemaType:(0,u.getJSONTypes)(w.schemaType)}};w.before?re.call(this,L,P,w.before):L.rules.push(P),E.all[N]=P,(C=w.implements)===null||C===void 0||C.forEach(_=>this.addKeyword(_))}function re(N,w,R){const C=N.rules.findIndex(d=>d.keyword===R);C>=0?N.rules.splice(C,0,w):(N.rules.push(w),this.logger.warn(`rule ${R} is not defined`))}function X(N){let{metaSchema:w}=N;w!==void 0&&(N.$data&&this.opts.$data&&(w=j(w)),N.validateSchema=this.compile(w,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(N){return{anyOf:[N,I]}}})(zm);var Eu={},wu={},Su={};Object.defineProperty(Su,"__esModule",{value:!0});const iE={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Su.default=iE;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.callRef=ei.getValidate=void 0;const sE=uo,Cd=$e,Ht=we,pi=Fr,Nd=Wt,Uo=Oe,oE={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:l}=n,{root:u}=s;if((r==="#"||r==="#/")&&i===u.baseId)return f();const c=Nd.resolveRef.call(l,u,i,r);if(c===void 0)throw new sE.default(n.opts.uriResolver,i,r);if(c instanceof Nd.SchemaEnv)return h(c);return p(c);function f(){if(s===u)return ca(e,o,s,s.$async);const g=t.scopeValue("root",{ref:u});return ca(e,(0,Ht._)`${g}.validate`,u,u.$async)}function h(g){const $=gg(e,g);ca(e,$,g,g.$async)}function p(g){const $=t.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,Ht.stringify)(g)}:{ref:g}),v=t.name("valid"),y=e.subschema({schema:g,dataTypes:[],schemaPath:Ht.nil,topSchemaRef:$,errSchemaPath:r},v);e.mergeEvaluated(y),e.ok(v)}}};function gg(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ht._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ei.getValidate=gg;function ca(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,u=l.passContext?pi.default.this:Ht.nil;n?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=i.let("valid");i.try(()=>{i.code((0,Ht._)`await ${(0,Cd.callValidateCode)(e,t,u)}`),p(t),o||i.assign(g,!0)},$=>{i.if((0,Ht._)`!(${$} instanceof ${s.ValidationError})`,()=>i.throw($)),h($),o||i.assign(g,!1)}),e.ok(g)}function f(){e.result((0,Cd.callValidateCode)(e,t,u),()=>p(t),()=>h(t))}function h(g){const $=(0,Ht._)`${g}.errors`;i.assign(pi.default.vErrors,(0,Ht._)`${pi.default.vErrors} === null ? ${$} : ${pi.default.vErrors}.concat(${$})`),i.assign(pi.default.errors,(0,Ht._)`${pi.default.vErrors}.length`)}function p(g){var $;if(!s.opts.unevaluated)return;const v=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Uo.mergeEvaluated.props(i,v.props,s.props));else{const y=i.var("props",(0,Ht._)`${g}.evaluated.props`);s.props=Uo.mergeEvaluated.props(i,y,s.props,Ht.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Uo.mergeEvaluated.items(i,v.items,s.items));else{const y=i.var("items",(0,Ht._)`${g}.evaluated.items`);s.items=Uo.mergeEvaluated.items(i,y,s.items,Ht.Name)}}}ei.callRef=ca;ei.default=oE;Object.defineProperty(wu,"__esModule",{value:!0});const aE=Su,lE=ei,cE=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",aE.default,lE.default];wu.default=cE;var bu={},Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});const wa=we,on=wa.operators,Sa={maximum:{okStr:"<=",ok:on.LTE,fail:on.GT},minimum:{okStr:">=",ok:on.GTE,fail:on.LT},exclusiveMaximum:{okStr:"<",ok:on.LT,fail:on.GTE},exclusiveMinimum:{okStr:">",ok:on.GT,fail:on.LTE}},uE={message:({keyword:e,schemaCode:t})=>(0,wa.str)`must be ${Sa[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,wa._)`{comparison: ${Sa[e].okStr}, limit: ${t}}`},fE={keyword:Object.keys(Sa),type:"number",schemaType:"number",$data:!0,error:uE,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,wa._)`${r} ${Sa[t].fail} ${n} || isNaN(${r})`)}};Pu.default=fE;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});const Fs=we,dE={message:({schemaCode:e})=>(0,Fs.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Fs._)`{multipleOf: ${e}}`},hE={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:dE,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Fs._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Fs._)`${o} !== parseInt(${o})`;e.fail$data((0,Fs._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Tu.default=hE;var Ou={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});function yg(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Au.default=yg;yg.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Ou,"__esModule",{value:!0});const qn=we,pE=Oe,mE=Au,gE={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,qn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,qn._)`{limit: ${e}}`},yE={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:gE,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?qn.operators.GT:qn.operators.LT,o=i.opts.unicode===!1?(0,qn._)`${r}.length`:(0,qn._)`${(0,pE.useFunc)(e.gen,mE.default)}(${r})`;e.fail$data((0,qn._)`${o} ${s} ${n}`)}};Ou.default=yE;var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});const vE=$e,ba=we,_E={message:({schemaCode:e})=>(0,ba.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,ba._)`{pattern: ${e}}`},$E={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:_E,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,ba._)`(new RegExp(${i}, ${o}))`:(0,vE.usePattern)(e,n);e.fail$data((0,ba._)`!${a}.test(${t})`)}};Cu.default=$E;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});const ks=we,EE={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,ks.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,ks._)`{limit: ${e}}`},wE={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:EE,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?ks.operators.GT:ks.operators.LT;e.fail$data((0,ks._)`Object.keys(${r}).length ${i} ${n}`)}};Nu.default=wE;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});const ps=$e,Ls=we,SE=Oe,bE={message:({params:{missingProperty:e}})=>(0,Ls.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ls._)`{missingProperty: ${e}}`},PE={keyword:"required",type:"object",schemaType:"array",$data:!0,error:bE,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const l=r.length>=a.loopRequired;if(o.allErrors?u():c(),a.strictRequired){const p=e.parentSchema.properties,{definedProperties:g}=e.it;for(const $ of r)if((p==null?void 0:p[$])===void 0&&!g.has($)){const v=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${$}" is not defined at "${v}" (strictRequired)`;(0,SE.checkStrictMode)(o,y,o.opts.strictRequired)}}function u(){if(l||s)e.block$data(Ls.nil,f);else for(const p of r)(0,ps.checkReportMissingProp)(e,p)}function c(){const p=t.let("missing");if(l||s){const g=t.let("valid",!0);e.block$data(g,()=>h(p,g)),e.ok(g)}else t.if((0,ps.checkMissingProp)(e,r,p)),(0,ps.reportMissingProp)(e,p),t.else()}function f(){t.forOf("prop",n,p=>{e.setParams({missingProperty:p}),t.if((0,ps.noPropertyInData)(t,i,p,a.ownProperties),()=>e.error())})}function h(p,g){e.setParams({missingProperty:p}),t.forOf(p,n,()=>{t.assign(g,(0,ps.propertyInData)(t,i,p,a.ownProperties)),t.if((0,Ls.not)(g),()=>{e.error(),t.break()})},Ls.nil)}}};Ru.default=PE;var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});const js=we,TE={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,js.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,js._)`{limit: ${e}}`},OE={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:TE,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?js.operators.GT:js.operators.LT;e.fail$data((0,js._)`${r}.length ${i} ${n}`)}};Iu.default=OE;var Du={},fo={};Object.defineProperty(fo,"__esModule",{value:!0});const vg=Ha;vg.code='require("ajv/dist/runtime/equal").default';fo.default=vg;Object.defineProperty(Du,"__esModule",{value:!0});const Fl=lo,_t=we,AE=Oe,CE=fo,NE={message:({params:{i:e,j:t}})=>(0,_t.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,_t._)`{i: ${e}, j: ${t}}`},RE={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:NE,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;const l=t.let("valid"),u=s.items?(0,Fl.getSchemaTypes)(s.items):[];e.block$data(l,c,(0,_t._)`${o} === false`),e.ok(l);function c(){const g=t.let("i",(0,_t._)`${r}.length`),$=t.let("j");e.setParams({i:g,j:$}),t.assign(l,!0),t.if((0,_t._)`${g} > 1`,()=>(f()?h:p)(g,$))}function f(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function h(g,$){const v=t.name("item"),y=(0,Fl.checkDataTypes)(u,v,a.opts.strictNumbers,Fl.DataType.Wrong),m=t.const("indices",(0,_t._)`{}`);t.for((0,_t._)`;${g}--;`,()=>{t.let(v,(0,_t._)`${r}[${g}]`),t.if(y,(0,_t._)`continue`),u.length>1&&t.if((0,_t._)`typeof ${v} == "string"`,(0,_t._)`${v} += "_"`),t.if((0,_t._)`typeof ${m}[${v}] == "number"`,()=>{t.assign($,(0,_t._)`${m}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,_t._)`${m}[${v}] = ${g}`)})}function p(g,$){const v=(0,AE.useFunc)(t,CE.default),y=t.name("outer");t.label(y).for((0,_t._)`;${g}--;`,()=>t.for((0,_t._)`${$} = ${g}; ${$}--;`,()=>t.if((0,_t._)`${v}(${r}[${g}], ${r}[${$}])`,()=>{e.error(),t.assign(l,!1).break(y)})))}}};Du.default=RE;var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});const Oc=we,IE=Oe,DE=fo,FE={message:"must be equal to constant",params:({schemaCode:e})=>(0,Oc._)`{allowedValue: ${e}}`},kE={keyword:"const",$data:!0,error:FE,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Oc._)`!${(0,IE.useFunc)(t,DE.default)}(${r}, ${i})`):e.fail((0,Oc._)`${s} !== ${r}`)}};Fu.default=kE;var ku={};Object.defineProperty(ku,"__esModule",{value:!0});const As=we,LE=Oe,jE=fo,ME={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,As._)`{allowedValues: ${e}}`},UE={keyword:"enum",schemaType:"array",$data:!0,error:ME,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let l;const u=()=>l??(l=(0,LE.useFunc)(t,jE.default));let c;if(a||n)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const p=t.const("vSchema",s);c=(0,As.or)(...i.map((g,$)=>h(p,$)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,p=>t.if((0,As._)`${u()}(${r}, ${p})`,()=>t.assign(c,!0).break()))}function h(p,g){const $=i[g];return typeof $=="object"&&$!==null?(0,As._)`${u()}(${r}, ${p}[${g}])`:(0,As._)`${r} === ${$}`}}};ku.default=UE;Object.defineProperty(bu,"__esModule",{value:!0});const xE=Pu,qE=Tu,VE=Ou,BE=Cu,zE=Nu,HE=Ru,GE=Iu,WE=Du,KE=Fu,YE=ku,JE=[xE.default,qE.default,VE.default,BE.default,zE.default,HE.default,GE.default,WE.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},KE.default,YE.default];bu.default=JE;var Lu={},Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.validateAdditionalItems=void 0;const Vn=we,Ac=Oe,XE={message:({params:{len:e}})=>(0,Vn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Vn._)`{limit: ${e}}`},QE={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:XE,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Ac.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}_g(e,n)}};function _g(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,Vn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Vn._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,Ac.alwaysValidSchema)(o,n)){const u=r.var("valid",(0,Vn._)`${a} <= ${t.length}`);r.if((0,Vn.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:Ac.Type.Num},u),o.allErrors||r.if((0,Vn.not)(u),()=>r.break())})}}Xi.validateAdditionalItems=_g;Xi.default=QE;var ju={},Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.validateTuple=void 0;const Rd=we,ua=Oe,ZE=$e,ew={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return $g(e,"additionalItems",t);r.items=!0,!(0,ua.alwaysValidSchema)(r,t)&&e.ok((0,ZE.validateArray)(e))}};function $g(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=ua.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),u=n.const("len",(0,Rd._)`${s}.length`);r.forEach((f,h)=>{(0,ua.alwaysValidSchema)(a,f)||(n.if((0,Rd._)`${u} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function c(f){const{opts:h,errSchemaPath:p}=a,g=r.length,$=g===f.minItems&&(g===f.maxItems||f[t]===!1);if(h.strictTuples&&!$){const v=`"${o}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${p}"`;(0,ua.checkStrictMode)(a,v,h.strictTuples)}}}Qi.validateTuple=$g;Qi.default=ew;Object.defineProperty(ju,"__esModule",{value:!0});const tw=Qi,rw={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,tw.validateTuple)(e,"items")};ju.default=rw;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});const Id=we,nw=Oe,iw=$e,sw=Xi,ow={message:({params:{len:e}})=>(0,Id.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Id._)`{limit: ${e}}`},aw={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:ow,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,nw.alwaysValidSchema)(n,t)&&(i?(0,sw.validateAdditionalItems)(e,i):e.ok((0,iw.validateArray)(e)))}};Mu.default=aw;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});const ar=we,xo=Oe,lw={message:({params:{min:e,max:t}})=>t===void 0?(0,ar.str)`must contain at least ${e} valid item(s)`:(0,ar.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ar._)`{minContains: ${e}}`:(0,ar._)`{minContains: ${e}, maxContains: ${t}}`},cw={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:lw,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,a;const{minContains:l,maxContains:u}=n;s.opts.next?(o=l===void 0?1:l,a=u):o=1;const c=t.const("len",(0,ar._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,xo.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,xo.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,xo.alwaysValidSchema)(s,r)){let $=(0,ar._)`${c} >= ${o}`;a!==void 0&&($=(0,ar._)`${$} && ${c} <= ${a}`),e.pass($);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?p(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,ar._)`${i}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){const $=t.name("_valid"),v=t.let("count",0);p($,()=>t.if($,()=>g(v)))}function p($,v){t.forRange("i",0,c,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:xo.Type.Num,compositeRule:!0},$),v()})}function g($){t.code((0,ar._)`${$}++`),a===void 0?t.if((0,ar._)`${$} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,ar._)`${$} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,ar._)`${$} >= ${o}`,()=>t.assign(f,!0)))}}};Uu.default=cw;var Eg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=we,r=Oe,n=$e;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,t._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=s(l);o(l,u),a(l,c)}};function s({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const h=Array.isArray(l[f])?u:c;h[f]=l[f]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:f,it:h}=l;if(Object.keys(u).length===0)return;const p=c.let("missing");for(const g in u){const $=u[g];if($.length===0)continue;const v=(0,n.propertyInData)(c,f,g,h.opts.ownProperties);l.setParams({property:g,depsCount:$.length,deps:$.join(", ")}),h.allErrors?c.if(v,()=>{for(const y of $)(0,n.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,$,p)})`),(0,n.reportMissingProp)(l,p),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:f,keyword:h,it:p}=l,g=c.name("valid");for(const $ in u)(0,r.alwaysValidSchema)(p,u[$])||(c.if((0,n.propertyInData)(c,f,$,p.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:$},g);l.mergeValidEvaluated(v,g)},()=>c.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i})(Eg);var xu={};Object.defineProperty(xu,"__esModule",{value:!0});const wg=we,uw=Oe,fw={message:"property name must be valid",params:({params:e})=>(0,wg._)`{propertyName: ${e.propertyName}}`},dw={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:fw,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,uw.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,wg.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};xu.default=dw;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});const qo=$e,yr=we,hw=Fr,Vo=Oe,pw={message:"must NOT have additional properties",params:({params:e})=>(0,yr._)`{additionalProperty: ${e.additionalProperty}}`},mw={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:pw,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,Vo.alwaysValidSchema)(o,r))return;const u=(0,qo.allSchemaProperties)(n.properties),c=(0,qo.allSchemaProperties)(n.patternProperties);f(),e.ok((0,yr._)`${s} === ${hw.default.errors}`);function f(){t.forIn("key",i,v=>{!u.length&&!c.length?g(v):t.if(h(v),()=>g(v))})}function h(v){let y;if(u.length>8){const m=(0,Vo.schemaRefOrVal)(o,n.properties,"properties");y=(0,qo.isOwnProperty)(t,m,v)}else u.length?y=(0,yr.or)(...u.map(m=>(0,yr._)`${v} === ${m}`)):y=yr.nil;return c.length&&(y=(0,yr.or)(y,...c.map(m=>(0,yr._)`${(0,qo.usePattern)(e,m)}.test(${v})`))),(0,yr.not)(y)}function p(v){t.code((0,yr._)`delete ${i}[${v}]`)}function g(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Vo.alwaysValidSchema)(o,r)){const y=t.name("valid");l.removeAdditional==="failing"?($(v,y,!1),t.if((0,yr.not)(y),()=>{e.reset(),p(v)})):($(v,y),a||t.if((0,yr.not)(y),()=>t.break()))}}function $(v,y,m){const S={keyword:"additionalProperties",dataProp:v,dataPropType:Vo.Type.Str};m===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,y)}}};Ka.default=mw;var qu={};Object.defineProperty(qu,"__esModule",{value:!0});const gw=Sr,Dd=$e,kl=Oe,Fd=Ka,yw={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Fd.default.code(new gw.KeywordCxt(s,Fd.default,"additionalProperties"));const o=(0,Dd.allSchemaProperties)(r);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=kl.mergeEvaluated.props(t,(0,kl.toHash)(o),s.props));const a=o.filter(f=>!(0,kl.alwaysValidSchema)(s,r[f]));if(a.length===0)return;const l=t.name("valid");for(const f of a)u(f)?c(f):(t.if((0,Dd.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(l);function u(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};qu.default=yw;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});const kd=$e,Bo=we,Ld=Oe,jd=Oe,vw={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,kd.allSchemaProperties)(r),l=a.filter($=>(0,Ld.alwaysValidSchema)(s,r[$]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof Bo.Name)&&(s.props=(0,jd.evaluatedPropsToName)(t,s.props));const{props:f}=s;h();function h(){for(const $ of a)u&&p($),s.allErrors?g($):(t.var(c,!0),g($),t.if(c))}function p($){for(const v in u)new RegExp($).test(v)&&(0,Ld.checkStrictMode)(s,`property ${v} matches pattern ${$} (use allowMatchingProperties)`)}function g($){t.forIn("key",n,v=>{t.if((0,Bo._)`${(0,kd.usePattern)(e,$)}.test(${v})`,()=>{const y=l.includes($);y||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:v,dataPropType:jd.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,Bo._)`${f}[${v}]`,!0):!y&&!s.allErrors&&t.if((0,Bo.not)(c),()=>t.break())})})}}};Vu.default=vw;var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});const _w=Oe,$w={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,_w.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Bu.default=$w;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});const Ew=$e,ww={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ew.validateUnion,error:{message:"must match a schema in anyOf"}};zu.default=ww;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});const fa=we,Sw=Oe,bw={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,fa._)`{passingSchemas: ${e.passing}}`},Pw={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:bw,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(o,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((c,f)=>{let h;(0,Sw.alwaysValidSchema)(i,c)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&t.if((0,fa._)`${l} && ${o}`).assign(o,!1).assign(a,(0,fa._)`[${a}, ${f}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,f),h&&e.mergeEvaluated(h,fa.Name)})})}}};Hu.default=Pw;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});const Tw=Oe,Ow={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,Tw.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};Gu.default=Ow;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});const Pa=we,Sg=Oe,Aw={message:({params:e})=>(0,Pa.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Pa._)`{failingKeyword: ${e.ifClause}}`},Cw={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Aw,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Sg.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Md(n,"then"),s=Md(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else i?t.if(a,u("then")):t.if((0,Pa.not)(a),u("else"));e.pass(o,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,f){return()=>{const h=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(h,o),f?t.assign(f,(0,Pa._)`${c}`):e.setParams({ifClause:c})}}}};function Md(e,t){const r=e.schema[t];return r!==void 0&&!(0,Sg.alwaysValidSchema)(e,r)}Wu.default=Cw;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});const Nw=Oe,Rw={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Nw.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ku.default=Rw;Object.defineProperty(Lu,"__esModule",{value:!0});const Iw=Xi,Dw=ju,Fw=Qi,kw=Mu,Lw=Uu,jw=Eg,Mw=xu,Uw=Ka,xw=qu,qw=Vu,Vw=Bu,Bw=zu,zw=Hu,Hw=Gu,Gw=Wu,Ww=Ku;function Kw(e=!1){const t=[Vw.default,Bw.default,zw.default,Hw.default,Gw.default,Ww.default,Mw.default,Uw.default,jw.default,xw.default,qw.default];return e?t.push(Dw.default,kw.default):t.push(Iw.default,Fw.default),t.push(Lw.default),t}Lu.default=Kw;var Yu={},Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});const ot=we,Yw={message:({schemaCode:e})=>(0,ot.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ot._)`{format: ${e}}`},Jw={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Yw,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:f}=a;if(!l.validateFormats)return;i?h():p();function h(){const g=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),$=r.const("fDef",(0,ot._)`${g}[${o}]`),v=r.let("fType"),y=r.let("format");r.if((0,ot._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(v,(0,ot._)`${$}.type || "string"`).assign(y,(0,ot._)`${$}.validate`),()=>r.assign(v,(0,ot._)`"string"`).assign(y,$)),e.fail$data((0,ot.or)(m(),S()));function m(){return l.strictSchema===!1?ot.nil:(0,ot._)`${o} && !${y}`}function S(){const A=c.$async?(0,ot._)`(${$}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,ot._)`${y}(${n})`,M=(0,ot._)`(typeof ${y} == "function" ? ${A} : ${y}.test(${n}))`;return(0,ot._)`${y} && ${y} !== true && ${v} === ${t} && !${M}`}}function p(){const g=f.formats[s];if(!g){m();return}if(g===!0)return;const[$,v,y]=S(g);$===t&&e.pass(A());function m(){if(l.strictSchema===!1){f.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function S(M){const O=M instanceof RegExp?(0,ot.regexpCode)(M):l.code.formats?(0,ot._)`${l.code.formats}${(0,ot.getProperty)(s)}`:void 0,b=r.scopeValue("formats",{key:s,ref:M,code:O});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,ot._)`${b}.validate`]:["string",M,b]}function A(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!c.$async)throw new Error("async format in sync schema");return(0,ot._)`await ${y}(${n})`}return typeof v=="function"?(0,ot._)`${y}(${n})`:(0,ot._)`${y}.test(${n})`}}}};Ju.default=Jw;Object.defineProperty(Yu,"__esModule",{value:!0});const Xw=Ju,Qw=[Xw.default];Yu.default=Qw;var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.contentVocabulary=Ui.metadataVocabulary=void 0;Ui.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ui.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Eu,"__esModule",{value:!0});const Zw=wu,eS=bu,tS=Lu,rS=Yu,Ud=Ui,nS=[Zw.default,eS.default,(0,tS.default)(),rS.default,Ud.metadataVocabulary,Ud.contentVocabulary];Eu.default=nS;var Xu={},bg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(bg);Object.defineProperty(Xu,"__esModule",{value:!0});const Si=we,Cc=bg,xd=Wt,iS=Oe,sS={message:({params:{discrError:e,tagName:t}})=>e===Cc.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Si._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},oS={keyword:"discriminator",type:"object",schemaType:"object",error:sS,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Si._)`${r}${(0,Si.getProperty)(a)}`);t.if((0,Si._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:Cc.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const p=h();t.if(!1);for(const g in p)t.elseIf((0,Si._)`${u} === ${g}`),t.assign(l,f(p[g]));t.else(),e.error(!1,{discrError:Cc.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function f(p){const g=t.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:p},g);return e.mergeEvaluated($,Si.Name),g}function h(){var p;const g={},$=y(i);let v=!0;for(let A=0;A<o.length;A++){let M=o[A];M!=null&&M.$ref&&!(0,iS.schemaHasRulesButRef)(M,s.self.RULES)&&(M=xd.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,M==null?void 0:M.$ref),M instanceof xd.SchemaEnv&&(M=M.schema));const O=(p=M==null?void 0:M.properties)===null||p===void 0?void 0:p[a];if(typeof O!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&($||y(M)),m(O,A)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return g;function y({required:A}){return Array.isArray(A)&&A.includes(a)}function m(A,M){if(A.const)S(A.const,M);else if(A.enum)for(const O of A.enum)S(O,M);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(A,M){if(typeof A!="string"||A in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[A]=M}}}};Xu.default=oS;const aS="http://json-schema.org/draft-07/schema#",lS="http://json-schema.org/draft-07/schema#",cS="Core schema meta-schema",uS={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},fS=["object","boolean"],dS={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},hS={$schema:aS,$id:lS,title:cS,definitions:uS,type:fS,properties:dS,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=zm,n=Eu,i=Xu,s=hS,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=Sr;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=we;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=co;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=uo;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Sc,Sc.exports);var pS=Sc.exports,Nc={exports:{}},Pg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(T,B){return{validate:T,compare:B}}e.fullFormats={date:t(s,o),time:t(l,u),"date-time":t(f,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:$,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:D,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:A},int64:{type:"number",validate:M},float:{type:"number",validate:O},double:{type:"number",validate:O},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(T){return T%4===0&&(T%100!==0||T%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(T){const B=n.exec(T);if(!B)return!1;const J=+B[1],H=+B[2],Y=+B[3];return H>=1&&H<=12&&Y>=1&&Y<=(H===2&&r(J)?29:i[H])}function o(T,B){if(T&&B)return T>B?1:T<B?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(T,B){const J=a.exec(T);if(!J)return!1;const H=+J[1],Y=+J[2],K=+J[3],te=J[5];return(H<=23&&Y<=59&&K<=59||H===23&&Y===59&&K===60)&&(!B||te!=="")}function u(T,B){if(!(T&&B))return;const J=a.exec(T),H=a.exec(B);if(J&&H)return T=J[1]+J[2]+J[3]+(J[4]||""),B=H[1]+H[2]+H[3]+(H[4]||""),T>B?1:T<B?-1:0}const c=/t|\s/i;function f(T){const B=T.split(c);return B.length===2&&s(B[0])&&l(B[1],!0)}function h(T,B){if(!(T&&B))return;const[J,H]=T.split(c),[Y,K]=B.split(c),te=o(J,Y);if(te!==void 0)return te||u(H,K)}const p=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function $(T){return p.test(T)&&g.test(T)}const v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(T){return v.lastIndex=0,v.test(T)}const m=-(2**31),S=2**31-1;function A(T){return Number.isInteger(T)&&T<=S&&T>=m}function M(T){return Number.isInteger(T)}function O(){return!0}const b=/[^\\]\\Z/;function D(T){if(b.test(T))return!1;try{return new RegExp(T),!0}catch{return!1}}})(Pg);var Tg={},Rc={exports:{}},Og={},Br={},Dn={},ho={},ye={},Ks={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(m){if(super(),!e.IDENTIFIER.test(m))throw new Error("CodeGen: name must be a valid identifier");this.str=m}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(m){super(),this._items=typeof m=="string"?[m]:m}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const m=this._items[0];return m===""||m==='""'}get str(){var m;return(m=this._str)!==null&&m!==void 0?m:this._str=this._items.reduce((S,A)=>`${S}${A}`,"")}get names(){var m;return(m=this._names)!==null&&m!==void 0?m:this._names=this._items.reduce((S,A)=>(A instanceof r&&(S[A.str]=(S[A.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(y,...m){const S=[y[0]];let A=0;for(;A<m.length;)a(S,m[A]),S.push(y[++A]);return new n(S)}e._=i;const s=new n("+");function o(y,...m){const S=[p(y[0])];let A=0;for(;A<m.length;)S.push(s),a(S,m[A]),S.push(s,p(y[++A]));return l(S),new n(S)}e.str=o;function a(y,m){m instanceof n?y.push(...m._items):m instanceof r?y.push(m):y.push(f(m))}e.addCodeArg=a;function l(y){let m=1;for(;m<y.length-1;){if(y[m]===s){const S=u(y[m-1],y[m+1]);if(S!==void 0){y.splice(m-1,3,S);continue}y[m++]="+"}m++}}function u(y,m){if(m==='""')return y;if(y==='""')return m;if(typeof y=="string")return m instanceof r||y[y.length-1]!=='"'?void 0:typeof m!="string"?`${y.slice(0,-1)}${m}"`:m[0]==='"'?y.slice(0,-1)+m.slice(1):void 0;if(typeof m=="string"&&m[0]==='"'&&!(y instanceof r))return`"${y}${m.slice(1)}`}function c(y,m){return m.emptyStr()?y:y.emptyStr()?m:o`${y}${m}`}e.strConcat=c;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:p(Array.isArray(y)?y.join(","):y)}function h(y){return new n(p(y))}e.stringify=h;function p(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function g(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new n(`.${y}`):i`[${y}]`}e.getProperty=g;function $(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new n(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=$;function v(y){return new n(y.toString())}e.regexpCode=v})(Ks);var Ic={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Ks;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class s extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:p}=h,g=(f=c.key)!==null&&f!==void 0?f:c.ref;let $=this._values[p];if($){const m=$.get(g);if(m)return m}else $=this._values[p]=new Map;$.set(g,h);const v=this._scope[p]||(this._scope[p]=[]),y=v.length;return v[y]=c.ref,h.setValue(c,{property:p,itemIndex:y}),h}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},c,f)}_reduceValues(u,c,f={},h){let p=t.nil;for(const g in u){const $=u[g];if(!$)continue;const v=f[g]=f[g]||new Map;$.forEach(y=>{if(v.has(y))return;v.set(y,n.Started);let m=c(y);if(m){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${S} ${y} = ${m};${this.opts._n}`}else if(m=h==null?void 0:h(y))p=(0,t._)`${p}${m}${this.opts._n}`;else throw new r(y);v.set(y,n.Completed)})}return p}}e.ValueScope=a})(Ic);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Ks,r=Ic;var n=Ks;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Ic;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(d,E){return this}}class o extends s{constructor(d,E,L){super(),this.varKind=d,this.name=E,this.rhs=L}render({es5:d,_n:E}){const L=d?r.varKinds.var:this.varKind,P=this.rhs===void 0?"":` = ${this.rhs}`;return`${L} ${this.name}${P};`+E}optimizeNames(d,E){if(d[this.name.str])return this.rhs&&(this.rhs=K(this.rhs,d,E)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(d,E,L){super(),this.lhs=d,this.rhs=E,this.sideEffects=L}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,E){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=K(this.rhs,d,E),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Y(d,this.rhs)}}class l extends a{constructor(d,E,L,P){super(d,L,P),this.op=E}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class u extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class c extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class f extends s{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends s{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,E){return this.code=K(this.code,d,E),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class p extends s{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce((E,L)=>E+L.render(d),"")}optimizeNodes(){const{nodes:d}=this;let E=d.length;for(;E--;){const L=d[E].optimizeNodes();Array.isArray(L)?d.splice(E,1,...L):L?d[E]=L:d.splice(E,1)}return d.length>0?this:void 0}optimizeNames(d,E){const{nodes:L}=this;let P=L.length;for(;P--;){const _=L[P];_.optimizeNames(d,E)||(te(d,_.names),L.splice(P,1))}return L.length>0?this:void 0}get names(){return this.nodes.reduce((d,E)=>H(d,E.names),{})}}class g extends p{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class $ extends p{}class v extends g{}v.kind="else";class y extends g{constructor(d,E){super(E),this.condition=d}render(d){let E=`if(${this.condition})`+super.render(d);return this.else&&(E+="else "+this.else.render(d)),E}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let E=this.else;if(E){const L=E.optimizeNodes();E=this.else=Array.isArray(L)?new v(L):L}if(E)return d===!1?E instanceof y?E:E.nodes:this.nodes.length?this:new y(re(d),E instanceof y?[E]:E.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,E){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(d,E),!!(super.optimizeNames(d,E)||this.else))return this.condition=K(this.condition,d,E),this}get names(){const d=super.names;return Y(d,this.condition),this.else&&H(d,this.else.names),d}}y.kind="if";class m extends g{}m.kind="for";class S extends m{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,E){if(super.optimizeNames(d,E))return this.iteration=K(this.iteration,d,E),this}get names(){return H(super.names,this.iteration.names)}}class A extends m{constructor(d,E,L,P){super(),this.varKind=d,this.name=E,this.from=L,this.to=P}render(d){const E=d.es5?r.varKinds.var:this.varKind,{name:L,from:P,to:_}=this;return`for(${E} ${L}=${P}; ${L}<${_}; ${L}++)`+super.render(d)}get names(){const d=Y(super.names,this.from);return Y(d,this.to)}}class M extends m{constructor(d,E,L,P){super(),this.loop=d,this.varKind=E,this.name=L,this.iterable=P}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,E){if(super.optimizeNames(d,E))return this.iterable=K(this.iterable,d,E),this}get names(){return H(super.names,this.iterable.names)}}class O extends g{constructor(d,E,L){super(),this.name=d,this.args=E,this.async=L}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}O.kind="func";class b extends p{render(d){return"return "+super.render(d)}}b.kind="return";class D extends g{render(d){let E="try"+super.render(d);return this.catch&&(E+=this.catch.render(d)),this.finally&&(E+=this.finally.render(d)),E}optimizeNodes(){var d,E;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),(E=this.finally)===null||E===void 0||E.optimizeNodes(),this}optimizeNames(d,E){var L,P;return super.optimizeNames(d,E),(L=this.catch)===null||L===void 0||L.optimizeNames(d,E),(P=this.finally)===null||P===void 0||P.optimizeNames(d,E),this}get names(){const d=super.names;return this.catch&&H(d,this.catch.names),this.finally&&H(d,this.finally.names),d}}class T extends g{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}T.kind="catch";class B extends g{render(d){return"finally"+super.render(d)}}B.kind="finally";class J{constructor(d,E={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...E,_n:E.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,E){const L=this._extScope.value(d,E);return(this._values[L.prefix]||(this._values[L.prefix]=new Set)).add(L),L}getScopeValue(d,E){return this._extScope.getValue(d,E)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,E,L,P){const _=this._scope.toName(E);return L!==void 0&&P&&(this._constants[_.str]=L),this._leafNode(new o(d,_,L)),_}const(d,E,L){return this._def(r.varKinds.const,d,E,L)}let(d,E,L){return this._def(r.varKinds.let,d,E,L)}var(d,E,L){return this._def(r.varKinds.var,d,E,L)}assign(d,E,L){return this._leafNode(new a(d,E,L))}add(d,E){return this._leafNode(new l(d,e.operators.ADD,E))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const E=["{"];for(const[L,P]of d)E.length>1&&E.push(","),E.push(L),(L!==P||this.opts.es5)&&(E.push(":"),(0,t.addCodeArg)(E,P));return E.push("}"),new t._Code(E)}if(d,E,L){if(this._blockNode(new y(d)),E&&L)this.code(E).else().code(L).endIf();else if(E)this.code(E).endIf();else if(L)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new y(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(y,v)}_for(d,E){return this._blockNode(d),E&&this.code(E).endFor(),this}for(d,E){return this._for(new S(d),E)}forRange(d,E,L,P,_=this.opts.es5?r.varKinds.var:r.varKinds.let){const G=this._scope.toName(d);return this._for(new A(_,G,E,L),()=>P(G))}forOf(d,E,L,P=r.varKinds.const){const _=this._scope.toName(d);if(this.opts.es5){const G=E instanceof t.Name?E:this.var("_arr",E);return this.forRange("_i",0,(0,t._)`${G}.length`,U=>{this.var(_,(0,t._)`${G}[${U}]`),L(_)})}return this._for(new M("of",P,_,E),()=>L(_))}forIn(d,E,L,P=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${E})`,L);const _=this._scope.toName(d);return this._for(new M("in",P,_,E),()=>L(_))}endFor(){return this._endBlockNode(m)}label(d){return this._leafNode(new u(d))}break(d){return this._leafNode(new c(d))}return(d){const E=new b;if(this._blockNode(E),this.code(d),E.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,E,L){if(!E&&!L)throw new Error('CodeGen: "try" without "catch" and "finally"');const P=new D;if(this._blockNode(P),this.code(d),E){const _=this.name("e");this._currNode=P.catch=new T(_),E(_)}return L&&(this._currNode=P.finally=new B,this.code(L)),this._endBlockNode(T,B)}throw(d){return this._leafNode(new f(d))}block(d,E){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock(E),this}endBlock(d){const E=this._blockStarts.pop();if(E===void 0)throw new Error("CodeGen: not in self-balancing block");const L=this._nodes.length-E;if(L<0||d!==void 0&&L!==d)throw new Error(`CodeGen: wrong number of nodes: ${L} vs ${d} expected`);return this._nodes.length=E,this}func(d,E=t.nil,L,P){return this._blockNode(new O(d,E,L)),P&&this.code(P).endFunc(),this}endFunc(){return this._endBlockNode(O)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,E){const L=this._currNode;if(L instanceof d||E&&L instanceof E)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${E?`${d.kind}/${E.kind}`:d.kind}"`)}_elseNode(d){const E=this._currNode;if(!(E instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=E.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const E=this._nodes;E[E.length-1]=d}}e.CodeGen=J;function H(C,d){for(const E in d)C[E]=(C[E]||0)+(d[E]||0);return C}function Y(C,d){return d instanceof t._CodeOrName?H(C,d.names):C}function K(C,d,E){if(C instanceof t.Name)return L(C);if(!P(C))return C;return new t._Code(C._items.reduce((_,G)=>(G instanceof t.Name&&(G=L(G)),G instanceof t._Code?_.push(...G._items):_.push(G),_),[]));function L(_){const G=E[_.str];return G===void 0||d[_.str]!==1?_:(delete d[_.str],G)}function P(_){return _ instanceof t._Code&&_._items.some(G=>G instanceof t.Name&&d[G.str]===1&&E[G.str]!==void 0)}}function te(C,d){for(const E in d)C[E]=(C[E]||0)-(d[E]||0)}function re(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${R(C)}`}e.not=re;const X=w(e.operators.AND);function I(...C){return C.reduce(X)}e.and=I;const j=w(e.operators.OR);function N(...C){return C.reduce(j)}e.or=N;function w(C){return(d,E)=>d===t.nil?E:E===t.nil?d:(0,t._)`${R(d)} ${C} ${R(E)}`}function R(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(ye);var Ae={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=ye,r=Ks;function n(O){const b={};for(const D of O)b[D]=!0;return b}e.toHash=n;function i(O,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(O,b),!o(b,O.self.RULES.all))}e.alwaysValidSchema=i;function s(O,b=O.schema){const{opts:D,self:T}=O;if(!D.strictSchema||typeof b=="boolean")return;const B=T.RULES.keywords;for(const J in b)B[J]||M(O,`unknown keyword: "${J}"`)}e.checkUnknownRules=s;function o(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(b[D])return!0;return!1}e.schemaHasRules=o;function a(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(D!=="$ref"&&b.all[D])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:O,schemaPath:b},D,T,B){if(!B){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${O}${b}${(0,t.getProperty)(T)}`}e.schemaRefOrVal=l;function u(O){return h(decodeURIComponent(O))}e.unescapeFragment=u;function c(O){return encodeURIComponent(f(O))}e.escapeFragment=c;function f(O){return typeof O=="number"?`${O}`:O.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function h(O){return O.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function p(O,b){if(Array.isArray(O))for(const D of O)b(D);else b(O)}e.eachItem=p;function g({mergeNames:O,mergeToName:b,mergeValues:D,resultToName:T}){return(B,J,H,Y)=>{const K=H===void 0?J:H instanceof t.Name?(J instanceof t.Name?O(B,J,H):b(B,J,H),H):J instanceof t.Name?(b(B,H,J),J):D(J,H);return Y===t.Name&&!(K instanceof t.Name)?T(B,K):K}}e.mergeEvaluated={props:g({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>{O.if((0,t._)`${b} === true`,()=>O.assign(D,!0),()=>O.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${b})`))}),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>{b===!0?O.assign(D,!0):(O.assign(D,(0,t._)`${D} || {}`),v(O,D,b))}),mergeValues:(O,b)=>O===!0?!0:{...O,...b},resultToName:$}),items:g({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>O.assign(D,(0,t._)`${b} === true ? true : ${D} > ${b} ? ${D} : ${b}`)),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>O.assign(D,b===!0?!0:(0,t._)`${D} > ${b} ? ${D} : ${b}`)),mergeValues:(O,b)=>O===!0?!0:Math.max(O,b),resultToName:(O,b)=>O.var("items",b)})};function $(O,b){if(b===!0)return O.var("props",!0);const D=O.var("props",(0,t._)`{}`);return b!==void 0&&v(O,D,b),D}e.evaluatedPropsToName=$;function v(O,b,D){Object.keys(D).forEach(T=>O.assign((0,t._)`${b}${(0,t.getProperty)(T)}`,!0))}e.setEvaluated=v;const y={};function m(O,b){return O.scopeValue("func",{ref:b,code:y[b.code]||(y[b.code]=new r._Code(b.code))})}e.useFunc=m;var S;(function(O){O[O.Num=0]="Num",O[O.Str=1]="Str"})(S=e.Type||(e.Type={}));function A(O,b,D){if(O instanceof t.Name){const T=b===S.Num;return D?T?(0,t._)`"[" + ${O} + "]"`:(0,t._)`"['" + ${O} + "']"`:T?(0,t._)`"/" + ${O}`:(0,t._)`"/" + ${O}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(O).toString():"/"+f(O)}e.getErrorPath=A;function M(O,b,D=O.opts.strictSchema){if(D){if(b=`strict mode: ${b}`,D===!0)throw new Error(b);O.self.logger.warn(b)}}e.checkStrictMode=M})(Ae);var kr={};Object.defineProperty(kr,"__esModule",{value:!0});const At=ye,mS={data:new At.Name("data"),valCxt:new At.Name("valCxt"),instancePath:new At.Name("instancePath"),parentData:new At.Name("parentData"),parentDataProperty:new At.Name("parentDataProperty"),rootData:new At.Name("rootData"),dynamicAnchors:new At.Name("dynamicAnchors"),vErrors:new At.Name("vErrors"),errors:new At.Name("errors"),this:new At.Name("this"),self:new At.Name("self"),scope:new At.Name("scope"),json:new At.Name("json"),jsonPos:new At.Name("jsonPos"),jsonLen:new At.Name("jsonLen"),jsonPart:new At.Name("jsonPart")};kr.default=mS;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ye,r=Ae,n=kr;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:y})=>y?(0,t.str)`"${v}" keyword must be ${y} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,y=e.keywordError,m,S){const{it:A}=v,{gen:M,compositeRule:O,allErrors:b}=A,D=f(v,y,m);S??(O||b)?l(M,D):u(A,(0,t._)`[${D}]`)}e.reportError=i;function s(v,y=e.keywordError,m){const{it:S}=v,{gen:A,compositeRule:M,allErrors:O}=S,b=f(v,y,m);l(A,b),M||O||u(S,n.default.vErrors)}e.reportExtraError=s;function o(v,y){v.assign(n.default.errors,y),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(y,()=>v.assign((0,t._)`${n.default.vErrors}.length`,y),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:y,schemaValue:m,data:S,errsCount:A,it:M}){if(A===void 0)throw new Error("ajv implementation error");const O=v.name("err");v.forRange("i",A,n.default.errors,b=>{v.const(O,(0,t._)`${n.default.vErrors}[${b}]`),v.if((0,t._)`${O}.instancePath === undefined`,()=>v.assign((0,t._)`${O}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,t._)`${O}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${y}`),M.opts.verbose&&(v.assign((0,t._)`${O}.schema`,m),v.assign((0,t._)`${O}.data`,S))})}e.extendErrors=a;function l(v,y){const m=v.const("err",y);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${m}]`),(0,t._)`${n.default.vErrors}.push(${m})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,y){const{gen:m,validateName:S,schemaEnv:A}=v;A.$async?m.throw((0,t._)`new ${v.ValidationError}(${y})`):(m.assign((0,t._)`${S}.errors`,y),m.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(v,y,m){const{createErrors:S}=v.it;return S===!1?(0,t._)`{}`:h(v,y,m)}function h(v,y,m={}){const{gen:S,it:A}=v,M=[p(A,m),g(v,m)];return $(v,y,M),S.object(...M)}function p({errorPath:v},{instancePath:y}){const m=y?(0,t.str)`${v}${(0,r.getErrorPath)(y,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,m)]}function g({keyword:v,it:{errSchemaPath:y}},{schemaPath:m,parentSchema:S}){let A=S?y:(0,t.str)`${y}/${v}`;return m&&(A=(0,t.str)`${A}${(0,r.getErrorPath)(m,r.Type.Str)}`),[c.schemaPath,A]}function $(v,{params:y,message:m},S){const{keyword:A,data:M,schemaValue:O,it:b}=v,{opts:D,propertyName:T,topSchemaRef:B,schemaPath:J}=b;S.push([c.keyword,A],[c.params,typeof y=="function"?y(v):y||(0,t._)`{}`]),D.messages&&S.push([c.message,typeof m=="function"?m(v):m]),D.verbose&&S.push([c.schema,O],[c.parentSchema,(0,t._)`${B}${J}`],[n.default.data,M]),T&&S.push([c.propertyName,T])}})(ho);var qd;function gS(){if(qd)return Dn;qd=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.boolOrEmptySchema=Dn.topBoolOrEmptySchema=void 0;const e=ho,t=ye,r=kr,n={message:"boolean schema is false"};function i(a){const{gen:l,schema:u,validateName:c}=a;u===!1?o(a,!1):typeof u=="object"&&u.$async===!0?l.return(r.default.data):(l.assign((0,t._)`${c}.errors`,null),l.return(!0))}Dn.topBoolOrEmptySchema=i;function s(a,l){const{gen:u,schema:c}=a;c===!1?(u.var(l,!1),o(a)):u.var(l,!0)}Dn.boolOrEmptySchema=s;function o(a,l){const{gen:u,data:c}=a,f={gen:u,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(f,n,void 0,l)}return Dn}var Ys={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.getRules=ti.isJSONType=void 0;const yS=["string","number","integer","boolean","null","object","array"],vS=new Set(yS);function _S(e){return typeof e=="string"&&vS.has(e)}ti.isJSONType=_S;function $S(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ti.getRules=$S;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.shouldUseRule=Jr.shouldUseGroup=Jr.schemaHasRulesForType=void 0;function ES({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Ag(e,n)}Jr.schemaHasRulesForType=ES;function Ag(e,t){return t.rules.some(r=>Cg(e,r))}Jr.shouldUseGroup=Ag;function Cg(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Jr.shouldUseRule=Cg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ti,r=Jr,n=ho,i=ye,s=Ae;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const A=l(S.type);if(A.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&A.push("null")}return A}e.getSchemaTypes=a;function l(S){const A=Array.isArray(S)?S:S?[S]:[];if(A.every(t.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}e.getJSONTypes=l;function u(S,A){const{gen:M,data:O,opts:b}=S,D=f(A,b.coerceTypes),T=A.length>0&&!(D.length===0&&A.length===1&&(0,r.schemaHasRulesForType)(S,A[0]));if(T){const B=$(A,O,b.strictNumbers,o.Wrong);M.if(B,()=>{D.length?h(S,A,D):y(S)})}return T}e.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function f(S,A){return A?S.filter(M=>c.has(M)||A==="array"&&M==="array"):[]}function h(S,A,M){const{gen:O,data:b,opts:D}=S,T=O.let("dataType",(0,i._)`typeof ${b}`),B=O.let("coerced",(0,i._)`undefined`);D.coerceTypes==="array"&&O.if((0,i._)`${T} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>O.assign(b,(0,i._)`${b}[0]`).assign(T,(0,i._)`typeof ${b}`).if($(A,b,D.strictNumbers),()=>O.assign(B,b))),O.if((0,i._)`${B} !== undefined`);for(const H of M)(c.has(H)||H==="array"&&D.coerceTypes==="array")&&J(H);O.else(),y(S),O.endIf(),O.if((0,i._)`${B} !== undefined`,()=>{O.assign(b,B),p(S,B)});function J(H){switch(H){case"string":O.elseIf((0,i._)`${T} == "number" || ${T} == "boolean"`).assign(B,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(B,(0,i._)`""`);return;case"number":O.elseIf((0,i._)`${T} == "boolean" || ${b} === null
              || (${T} == "string" && ${b} && ${b} == +${b})`).assign(B,(0,i._)`+${b}`);return;case"integer":O.elseIf((0,i._)`${T} === "boolean" || ${b} === null
              || (${T} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(B,(0,i._)`+${b}`);return;case"boolean":O.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(B,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(B,!0);return;case"null":O.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),O.assign(B,null);return;case"array":O.elseIf((0,i._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${b} === null`).assign(B,(0,i._)`[${b}]`)}}}function p({gen:S,parentData:A,parentDataProperty:M},O){S.if((0,i._)`${A} !== undefined`,()=>S.assign((0,i._)`${A}[${M}]`,O))}function g(S,A,M,O=o.Correct){const b=O===o.Correct?i.operators.EQ:i.operators.NEQ;let D;switch(S){case"null":return(0,i._)`${A} ${b} null`;case"array":D=(0,i._)`Array.isArray(${A})`;break;case"object":D=(0,i._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":D=T((0,i._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":D=T();break;default:return(0,i._)`typeof ${A} ${b} ${S}`}return O===o.Correct?D:(0,i.not)(D);function T(B=i.nil){return(0,i.and)((0,i._)`typeof ${A} == "number"`,B,M?(0,i._)`isFinite(${A})`:i.nil)}}e.checkDataType=g;function $(S,A,M,O){if(S.length===1)return g(S[0],A,M,O);let b;const D=(0,s.toHash)(S);if(D.array&&D.object){const T=(0,i._)`typeof ${A} != "object"`;b=D.null?T:(0,i._)`!${A} || ${T}`,delete D.null,delete D.array,delete D.object}else b=i.nil;D.number&&delete D.integer;for(const T in D)b=(0,i.and)(b,g(T,A,M,O));return b}e.checkDataTypes=$;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:A})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${A}}`};function y(S){const A=m(S);(0,n.reportError)(A,v)}e.reportTypeError=y;function m(S){const{gen:A,data:M,schema:O}=S,b=(0,s.schemaRefOrVal)(S,O,"type");return{gen:A,keyword:"type",data:M,schema:O.type,schemaCode:b,schemaValue:b,parentSchema:O,params:{},it:S}}})(Ys);var ms={},Vd;function wS(){if(Vd)return ms;Vd=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.assignDefaults=void 0;const e=ye,t=Ae;function r(i,s){const{properties:o,items:a}=i.schema;if(s==="object"&&o)for(const l in o)n(i,l,o[l].default);else s==="array"&&Array.isArray(a)&&a.forEach((l,u)=>n(i,u,l.default))}ms.assignDefaults=r;function n(i,s,o){const{gen:a,compositeRule:l,data:u,opts:c}=i;if(o===void 0)return;const f=(0,e._)`${u}${(0,e.getProperty)(s)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${f}`);return}let h=(0,e._)`${f} === undefined`;c.useDefaults==="empty"&&(h=(0,e._)`${h} || ${f} === null || ${f} === ""`),a.if(h,(0,e._)`${f} = ${(0,e.stringify)(o)}`)}return ms}var mr={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.validateUnion=Ee.validateArray=Ee.usePattern=Ee.callValidateCode=Ee.schemaProperties=Ee.allSchemaProperties=Ee.noPropertyInData=Ee.propertyInData=Ee.isOwnProperty=Ee.hasPropFunc=Ee.reportMissingProp=Ee.checkMissingProp=Ee.checkReportMissingProp=void 0;const We=ye,Qu=Ae,an=kr,SS=Ae;function bS(e,t){const{gen:r,data:n,it:i}=e;r.if(ef(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,We._)`${t}`},!0),e.error()})}Ee.checkReportMissingProp=bS;function PS({gen:e,data:t,it:{opts:r}},n,i){return(0,We.or)(...n.map(s=>(0,We.and)(ef(e,t,s,r.ownProperties),(0,We._)`${i} = ${s}`)))}Ee.checkMissingProp=PS;function TS(e,t){e.setParams({missingProperty:t},!0),e.error()}Ee.reportMissingProp=TS;function Ng(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,We._)`Object.prototype.hasOwnProperty`})}Ee.hasPropFunc=Ng;function Zu(e,t,r){return(0,We._)`${Ng(e)}.call(${t}, ${r})`}Ee.isOwnProperty=Zu;function OS(e,t,r,n){const i=(0,We._)`${t}${(0,We.getProperty)(r)} !== undefined`;return n?(0,We._)`${i} && ${Zu(e,t,r)}`:i}Ee.propertyInData=OS;function ef(e,t,r,n){const i=(0,We._)`${t}${(0,We.getProperty)(r)} === undefined`;return n?(0,We.or)(i,(0,We.not)(Zu(e,t,r))):i}Ee.noPropertyInData=ef;function Rg(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Ee.allSchemaProperties=Rg;function AS(e,t){return Rg(t).filter(r=>!(0,Qu.alwaysValidSchema)(e,t[r]))}Ee.schemaProperties=AS;function CS({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,l,u){const c=u?(0,We._)`${e}, ${t}, ${n}${i}`:t,f=[[an.default.instancePath,(0,We.strConcat)(an.default.instancePath,s)],[an.default.parentData,o.parentData],[an.default.parentDataProperty,o.parentDataProperty],[an.default.rootData,an.default.rootData]];o.opts.dynamicRef&&f.push([an.default.dynamicAnchors,an.default.dynamicAnchors]);const h=(0,We._)`${c}, ${r.object(...f)}`;return l!==We.nil?(0,We._)`${a}.call(${l}, ${h})`:(0,We._)`${a}(${h})`}Ee.callValidateCode=CS;const NS=(0,We._)`new RegExp`;function RS({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,We._)`${i.code==="new RegExp"?NS:(0,SS.useFunc)(e,i)}(${r}, ${n})`})}Ee.usePattern=RS;function IS(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const l=t.const("len",(0,We._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:Qu.Type.Num},s),t.if((0,We.not)(s),a)})}}Ee.validateArray=IS;function DS(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Qu.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const c=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);t.assign(o,(0,We._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,We.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Ee.validateUnion=DS;var Bd;function FS(){if(Bd)return mr;Bd=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.validateKeywordUsage=mr.validSchemaType=mr.funcKeywordCode=mr.macroKeywordCode=void 0;const e=ye,t=kr,r=Ee,n=ho;function i(h,p){const{gen:g,keyword:$,schema:v,parentSchema:y,it:m}=h,S=p.macro.call(m.self,v,y,m),A=u(g,$,S);m.opts.validateSchema!==!1&&m.self.validateSchema(S,!0);const M=g.name("valid");h.subschema({schema:S,schemaPath:e.nil,errSchemaPath:`${m.errSchemaPath}/${$}`,topSchemaRef:A,compositeRule:!0},M),h.pass(M,()=>h.error(!0))}mr.macroKeywordCode=i;function s(h,p){var g;const{gen:$,keyword:v,schema:y,parentSchema:m,$data:S,it:A}=h;l(A,p);const M=!S&&p.compile?p.compile.call(A.self,y,m,A):p.validate,O=u($,v,M),b=$.let("valid");h.block$data(b,D),h.ok((g=p.valid)!==null&&g!==void 0?g:b);function D(){if(p.errors===!1)J(),p.modifying&&o(h),H(()=>h.error());else{const Y=p.async?T():B();p.modifying&&o(h),H(()=>a(h,Y))}}function T(){const Y=$.let("ruleErrs",null);return $.try(()=>J((0,e._)`await `),K=>$.assign(b,!1).if((0,e._)`${K} instanceof ${A.ValidationError}`,()=>$.assign(Y,(0,e._)`${K}.errors`),()=>$.throw(K))),Y}function B(){const Y=(0,e._)`${O}.errors`;return $.assign(Y,null),J(e.nil),Y}function J(Y=p.async?(0,e._)`await `:e.nil){const K=A.opts.passContext?t.default.this:t.default.self,te=!("compile"in p&&!S||p.schema===!1);$.assign(b,(0,e._)`${Y}${(0,r.callValidateCode)(h,O,K,te)}`,p.modifying)}function H(Y){var K;$.if((0,e.not)((K=p.valid)!==null&&K!==void 0?K:b),Y)}}mr.funcKeywordCode=s;function o(h){const{gen:p,data:g,it:$}=h;p.if($.parentData,()=>p.assign(g,(0,e._)`${$.parentData}[${$.parentDataProperty}]`))}function a(h,p){const{gen:g}=h;g.if((0,e._)`Array.isArray(${p})`,()=>{g.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${p} : ${t.default.vErrors}.concat(${p})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(h)},()=>h.error())}function l({schemaEnv:h},p){if(p.async&&!h.$async)throw new Error("async keyword in sync schema")}function u(h,p,g){if(g===void 0)throw new Error(`keyword "${p}" failed to compile`);return h.scopeValue("keyword",typeof g=="function"?{ref:g}:{ref:g,code:(0,e.stringify)(g)})}function c(h,p,g=!1){return!p.length||p.some($=>$==="array"?Array.isArray(h):$==="object"?h&&typeof h=="object"&&!Array.isArray(h):typeof h==$||g&&typeof h>"u")}mr.validSchemaType=c;function f({schema:h,opts:p,self:g,errSchemaPath:$},v,y){if(Array.isArray(v.keyword)?!v.keyword.includes(y):v.keyword!==y)throw new Error("ajv implementation error");const m=v.dependencies;if(m!=null&&m.some(S=>!Object.prototype.hasOwnProperty.call(h,S)))throw new Error(`parent schema must have dependencies of ${y}: ${m.join(",")}`);if(v.validateSchema&&!v.validateSchema(h[y])){const A=`keyword "${y}" value is invalid at path "${$}": `+g.errorsText(v.validateSchema.errors);if(p.validateSchema==="log")g.logger.error(A);else throw new Error(A)}}return mr.validateKeywordUsage=f,mr}var zr={},zd;function kS(){if(zd)return zr;zd=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.extendSubschemaMode=zr.extendSubschemaData=zr.getSubschema=void 0;const e=ye,t=Ae;function r(s,{keyword:o,schemaProp:a,schema:l,schemaPath:u,errSchemaPath:c,topSchemaRef:f}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const h=s.schema[o];return a===void 0?{schema:h,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:h[a],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(u===void 0||c===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:f,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}zr.getSubschema=r;function n(s,o,{dataProp:a,dataPropType:l,data:u,dataTypes:c,propertyName:f}){if(u!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:h}=o;if(a!==void 0){const{errorPath:g,dataPathArr:$,opts:v}=o,y=h.let("data",(0,e._)`${o.data}${(0,e.getProperty)(a)}`,!0);p(y),s.errorPath=(0,e.str)`${g}${(0,t.getErrorPath)(a,l,v.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${a}`,s.dataPathArr=[...$,s.parentDataProperty]}if(u!==void 0){const g=u instanceof e.Name?u:h.let("data",u,!0);p(g),f!==void 0&&(s.propertyName=f)}c&&(s.dataTypes=c);function p(g){s.data=g,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,g]}}zr.extendSubschemaData=n;function i(s,{jtdDiscriminator:o,jtdMetadata:a,compositeRule:l,createErrors:u,allErrors:c}){l!==void 0&&(s.compositeRule=l),u!==void 0&&(s.createErrors=u),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=o,s.jtdMetadata=a}return zr.extendSubschemaMode=i,zr}var St={},Ig={exports:{}},gn=Ig.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};da(t,n,i,e,"",e)};gn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};gn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};gn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};gn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function da(e,t,r,n,i,s,o,a,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,l,u);for(var c in n){var f=n[c];if(Array.isArray(f)){if(c in gn.arrayKeywords)for(var h=0;h<f.length;h++)da(e,t,r,f[h],i+"/"+c+"/"+h,s,i,c,n,h)}else if(c in gn.propsKeywords){if(f&&typeof f=="object")for(var p in f)da(e,t,r,f[p],i+"/"+c+"/"+LS(p),s,i,c,n,p)}else(c in gn.keywords||e.allKeys&&!(c in gn.skipKeywords))&&da(e,t,r,f,i+"/"+c,s,i,c,n)}r(n,i,s,o,a,l,u)}}function LS(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var jS=Ig.exports;Object.defineProperty(St,"__esModule",{value:!0});St.getSchemaRefs=St.resolveUrl=St.normalizeId=St._getFullPath=St.getFullPath=St.inlineRef=void 0;const MS=Ae,US=Ha,xS=jS,qS=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function VS(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Dc(e):t?Dg(e)<=t:!1}St.inlineRef=VS;const BS=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Dc(e){for(const t in e){if(BS.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Dc)||typeof r=="object"&&Dc(r))return!0}return!1}function Dg(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!qS.has(r)&&(typeof e[r]=="object"&&(0,MS.eachItem)(e[r],n=>t+=Dg(n)),t===1/0))return 1/0}return t}function Fg(e,t="",r){r!==!1&&(t=Di(t));const n=e.parse(t);return kg(e,n)}St.getFullPath=Fg;function kg(e,t){return e.serialize(t).split("#")[0]+"#"}St._getFullPath=kg;const zS=/#\/?$/;function Di(e){return e?e.replace(zS,""):""}St.normalizeId=Di;function HS(e,t,r){return r=Di(r),e.resolve(t,r)}St.resolveUrl=HS;const GS=/^[a-z_][-a-z0-9._]*$/i;function WS(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=Di(e[r]||t),s={"":i},o=Fg(n,i,!1),a={},l=new Set;return xS(e,{allKeys:!0},(f,h,p,g)=>{if(g===void 0)return;const $=o+h;let v=s[g];typeof f[r]=="string"&&(v=y.call(this,f[r])),m.call(this,f.$anchor),m.call(this,f.$dynamicAnchor),s[h]=v;function y(S){const A=this.opts.uriResolver.resolve;if(S=Di(v?A(v,S):S),l.has(S))throw c(S);l.add(S);let M=this.refs[S];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?u(f,M.schema,S):S!==Di($)&&(S[0]==="#"?(u(f,a[S],S),a[S]=f):this.refs[S]=$),S}function m(S){if(typeof S=="string"){if(!GS.test(S))throw new Error(`invalid anchor "${S}"`);y.call(this,`#${S}`)}}}),a;function u(f,h,p){if(h!==void 0&&!US(f,h))throw c(p)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}St.getSchemaRefs=WS;var Hd;function Ya(){if(Hd)return Br;Hd=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.getData=Br.KeywordCxt=Br.validateFunctionCode=void 0;const e=gS(),t=Ys,r=Jr,n=Ys,i=wS(),s=FS(),o=kS(),a=ye,l=kr,u=St,c=Ae,f=ho;function h(x){if(M(x)&&(b(x),A(x))){v(x);return}p(x,()=>(0,e.topBoolOrEmptySchema)(x))}Br.validateFunctionCode=h;function p({gen:x,validateName:z,schema:ee,schemaEnv:ie,opts:se},le){se.code.es5?x.func(z,(0,a._)`${l.default.data}, ${l.default.valCxt}`,ie.$async,()=>{x.code((0,a._)`"use strict"; ${m(ee,se)}`),$(x,se),x.code(le)}):x.func(z,(0,a._)`${l.default.data}, ${g(se)}`,ie.$async,()=>x.code(m(ee,se)).code(le))}function g(x){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${x.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function $(x,z){x.if(l.default.valCxt,()=>{x.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),x.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),x.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),x.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),z.dynamicRef&&x.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{x.var(l.default.instancePath,(0,a._)`""`),x.var(l.default.parentData,(0,a._)`undefined`),x.var(l.default.parentDataProperty,(0,a._)`undefined`),x.var(l.default.rootData,l.default.data),z.dynamicRef&&x.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function v(x){const{schema:z,opts:ee,gen:ie}=x;p(x,()=>{ee.$comment&&z.$comment&&Y(x),B(x),ie.let(l.default.vErrors,null),ie.let(l.default.errors,0),ee.unevaluated&&y(x),D(x),K(x)})}function y(x){const{gen:z,validateName:ee}=x;x.evaluated=z.const("evaluated",(0,a._)`${ee}.evaluated`),z.if((0,a._)`${x.evaluated}.dynamicProps`,()=>z.assign((0,a._)`${x.evaluated}.props`,(0,a._)`undefined`)),z.if((0,a._)`${x.evaluated}.dynamicItems`,()=>z.assign((0,a._)`${x.evaluated}.items`,(0,a._)`undefined`))}function m(x,z){const ee=typeof x=="object"&&x[z.schemaId];return ee&&(z.code.source||z.code.process)?(0,a._)`/*# sourceURL=${ee} */`:a.nil}function S(x,z){if(M(x)&&(b(x),A(x))){O(x,z);return}(0,e.boolOrEmptySchema)(x,z)}function A({schema:x,self:z}){if(typeof x=="boolean")return!x;for(const ee in x)if(z.RULES.all[ee])return!0;return!1}function M(x){return typeof x.schema!="boolean"}function O(x,z){const{schema:ee,gen:ie,opts:se}=x;se.$comment&&ee.$comment&&Y(x),J(x),H(x);const le=ie.const("_errs",l.default.errors);D(x,le),ie.var(z,(0,a._)`${le} === ${l.default.errors}`)}function b(x){(0,c.checkUnknownRules)(x),T(x)}function D(x,z){if(x.opts.jtd)return re(x,[],!1,z);const ee=(0,t.getSchemaTypes)(x.schema),ie=(0,t.coerceAndCheckDataType)(x,ee);re(x,ee,!ie,z)}function T(x){const{schema:z,errSchemaPath:ee,opts:ie,self:se}=x;z.$ref&&ie.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(z,se.RULES)&&se.logger.warn(`$ref: keywords ignored in schema at path "${ee}"`)}function B(x){const{schema:z,opts:ee}=x;z.default!==void 0&&ee.useDefaults&&ee.strictSchema&&(0,c.checkStrictMode)(x,"default is ignored in the schema root")}function J(x){const z=x.schema[x.opts.schemaId];z&&(x.baseId=(0,u.resolveUrl)(x.opts.uriResolver,x.baseId,z))}function H(x){if(x.schema.$async&&!x.schemaEnv.$async)throw new Error("async schema in sync schema")}function Y({gen:x,schemaEnv:z,schema:ee,errSchemaPath:ie,opts:se}){const le=ee.$comment;if(se.$comment===!0)x.code((0,a._)`${l.default.self}.logger.log(${le})`);else if(typeof se.$comment=="function"){const me=(0,a.str)`${ie}/$comment`,Re=x.scopeValue("root",{ref:z.root});x.code((0,a._)`${l.default.self}.opts.$comment(${le}, ${me}, ${Re}.schema)`)}}function K(x){const{gen:z,schemaEnv:ee,validateName:ie,ValidationError:se,opts:le}=x;ee.$async?z.if((0,a._)`${l.default.errors} === 0`,()=>z.return(l.default.data),()=>z.throw((0,a._)`new ${se}(${l.default.vErrors})`)):(z.assign((0,a._)`${ie}.errors`,l.default.vErrors),le.unevaluated&&te(x),z.return((0,a._)`${l.default.errors} === 0`))}function te({gen:x,evaluated:z,props:ee,items:ie}){ee instanceof a.Name&&x.assign((0,a._)`${z}.props`,ee),ie instanceof a.Name&&x.assign((0,a._)`${z}.items`,ie)}function re(x,z,ee,ie){const{gen:se,schema:le,data:me,allErrors:Re,opts:ze,self:qe}=x,{RULES:Fe}=qe;if(le.$ref&&(ze.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(le,Fe))){se.block(()=>P(x,"$ref",Fe.all.$ref.definition));return}ze.jtd||I(x,z),se.block(()=>{for(const ke of Fe.rules)et(ke);et(Fe.post)});function et(ke){(0,r.shouldUseGroup)(le,ke)&&(ke.type?(se.if((0,n.checkDataType)(ke.type,me,ze.strictNumbers)),X(x,ke),z.length===1&&z[0]===ke.type&&ee&&(se.else(),(0,n.reportTypeError)(x)),se.endIf()):X(x,ke),Re||se.if((0,a._)`${l.default.errors} === ${ie||0}`))}}function X(x,z){const{gen:ee,schema:ie,opts:{useDefaults:se}}=x;se&&(0,i.assignDefaults)(x,z.type),ee.block(()=>{for(const le of z.rules)(0,r.shouldUseRule)(ie,le)&&P(x,le.keyword,le.definition,z.type)})}function I(x,z){x.schemaEnv.meta||!x.opts.strictTypes||(j(x,z),x.opts.allowUnionTypes||N(x,z),w(x,x.dataTypes))}function j(x,z){if(z.length){if(!x.dataTypes.length){x.dataTypes=z;return}z.forEach(ee=>{C(x.dataTypes,ee)||E(x,`type "${ee}" not allowed by context "${x.dataTypes.join(",")}"`)}),d(x,z)}}function N(x,z){z.length>1&&!(z.length===2&&z.includes("null"))&&E(x,"use allowUnionTypes to allow union type keyword")}function w(x,z){const ee=x.self.RULES.all;for(const ie in ee){const se=ee[ie];if(typeof se=="object"&&(0,r.shouldUseRule)(x.schema,se)){const{type:le}=se.definition;le.length&&!le.some(me=>R(z,me))&&E(x,`missing type "${le.join(",")}" for keyword "${ie}"`)}}}function R(x,z){return x.includes(z)||z==="number"&&x.includes("integer")}function C(x,z){return x.includes(z)||z==="integer"&&x.includes("number")}function d(x,z){const ee=[];for(const ie of x.dataTypes)C(z,ie)?ee.push(ie):z.includes("integer")&&ie==="number"&&ee.push("integer");x.dataTypes=ee}function E(x,z){const ee=x.schemaEnv.baseId+x.errSchemaPath;z+=` at "${ee}" (strictTypes)`,(0,c.checkStrictMode)(x,z,x.opts.strictTypes)}class L{constructor(z,ee,ie){if((0,s.validateKeywordUsage)(z,ee,ie),this.gen=z.gen,this.allErrors=z.allErrors,this.keyword=ie,this.data=z.data,this.schema=z.schema[ie],this.$data=ee.$data&&z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(z,this.schema,ie,this.$data),this.schemaType=ee.schemaType,this.parentSchema=z.schema,this.params={},this.it=z,this.def=ee,this.$data)this.schemaCode=z.gen.const("vSchema",U(this.$data,z));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,ee.schemaType,ee.allowUndefined))throw new Error(`${ie} value must be ${JSON.stringify(ee.schemaType)}`);("code"in ee?ee.trackErrors:ee.errors!==!1)&&(this.errsCount=z.gen.const("_errs",l.default.errors))}result(z,ee,ie){this.failResult((0,a.not)(z),ee,ie)}failResult(z,ee,ie){this.gen.if(z),ie?ie():this.error(),ee?(this.gen.else(),ee(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(z,ee){this.failResult((0,a.not)(z),void 0,ee)}fail(z){if(z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(z){if(!this.$data)return this.fail(z);const{schemaCode:ee}=this;this.fail((0,a._)`${ee} !== undefined && (${(0,a.or)(this.invalid$data(),z)})`)}error(z,ee,ie){if(ee){this.setParams(ee),this._error(z,ie),this.setParams({});return}this._error(z,ie)}_error(z,ee){(z?f.reportExtraError:f.reportError)(this,this.def.error,ee)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(z){this.allErrors||this.gen.if(z)}setParams(z,ee){ee?Object.assign(this.params,z):this.params=z}block$data(z,ee,ie=a.nil){this.gen.block(()=>{this.check$data(z,ie),ee()})}check$data(z=a.nil,ee=a.nil){if(!this.$data)return;const{gen:ie,schemaCode:se,schemaType:le,def:me}=this;ie.if((0,a.or)((0,a._)`${se} === undefined`,ee)),z!==a.nil&&ie.assign(z,!0),(le.length||me.validateSchema)&&(ie.elseIf(this.invalid$data()),this.$dataError(),z!==a.nil&&ie.assign(z,!1)),ie.else()}invalid$data(){const{gen:z,schemaCode:ee,schemaType:ie,def:se,it:le}=this;return(0,a.or)(me(),Re());function me(){if(ie.length){if(!(ee instanceof a.Name))throw new Error("ajv implementation error");const ze=Array.isArray(ie)?ie:[ie];return(0,a._)`${(0,n.checkDataTypes)(ze,ee,le.opts.strictNumbers,n.DataType.Wrong)}`}return a.nil}function Re(){if(se.validateSchema){const ze=z.scopeValue("validate$data",{ref:se.validateSchema});return(0,a._)`!${ze}(${ee})`}return a.nil}}subschema(z,ee){const ie=(0,o.getSubschema)(this.it,z);(0,o.extendSubschemaData)(ie,this.it,z),(0,o.extendSubschemaMode)(ie,z);const se={...this.it,...ie,items:void 0,props:void 0};return S(se,ee),se}mergeEvaluated(z,ee){const{it:ie,gen:se}=this;ie.opts.unevaluated&&(ie.props!==!0&&z.props!==void 0&&(ie.props=c.mergeEvaluated.props(se,z.props,ie.props,ee)),ie.items!==!0&&z.items!==void 0&&(ie.items=c.mergeEvaluated.items(se,z.items,ie.items,ee)))}mergeValidEvaluated(z,ee){const{it:ie,gen:se}=this;if(ie.opts.unevaluated&&(ie.props!==!0||ie.items!==!0))return se.if(ee,()=>this.mergeEvaluated(z,a.Name)),!0}}Br.KeywordCxt=L;function P(x,z,ee,ie){const se=new L(x,ee,z);"code"in ee?ee.code(se,ie):se.$data&&ee.validate?(0,s.funcKeywordCode)(se,ee):"macro"in ee?(0,s.macroKeywordCode)(se,ee):(ee.compile||ee.validate)&&(0,s.funcKeywordCode)(se,ee)}const _=/^\/(?:[^~]|~0|~1)*$/,G=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function U(x,{dataLevel:z,dataNames:ee,dataPathArr:ie}){let se,le;if(x==="")return l.default.rootData;if(x[0]==="/"){if(!_.test(x))throw new Error(`Invalid JSON-pointer: ${x}`);se=x,le=l.default.rootData}else{const qe=G.exec(x);if(!qe)throw new Error(`Invalid JSON-pointer: ${x}`);const Fe=+qe[1];if(se=qe[2],se==="#"){if(Fe>=z)throw new Error(ze("property/index",Fe));return ie[z-Fe]}if(Fe>z)throw new Error(ze("data",Fe));if(le=ee[z-Fe],!se)return le}let me=le;const Re=se.split("/");for(const qe of Re)qe&&(le=(0,a._)`${le}${(0,a.getProperty)((0,c.unescapeJsonPointer)(qe))}`,me=(0,a._)`${me} && ${le}`);return me;function ze(qe,Fe){return`Cannot access ${qe} ${Fe} levels up, current level is ${z}`}}return Br.getData=U,Br}var po={};Object.defineProperty(po,"__esModule",{value:!0});class KS extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}po.default=KS;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});const Ll=St;class YS extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Ll.resolveUrl)(t,r,n),this.missingSchema=(0,Ll.normalizeId)((0,Ll.getFullPath)(t,this.missingRef))}}mo.default=YS;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.resolveSchema=Kt.getCompilingSchema=Kt.resolveRef=Kt.compileSchema=Kt.SchemaEnv=void 0;const gr=ye,JS=po,Fn=kr,wr=St,Gd=Ae,XS=Ya();class Ja{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,wr.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Kt.SchemaEnv=Ja;function tf(e){const t=Lg.call(this,e);if(t)return t;const r=(0,wr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new gr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:JS.default,code:(0,gr._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const u={gen:o,allErrors:this.opts.allErrors,data:Fn.default.data,parentData:Fn.default.parentData,parentDataProperty:Fn.default.parentDataProperty,dataNames:[Fn.default.data],dataPathArr:[gr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,gr.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:gr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,gr._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,XS.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Fn.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const p=new Function(`${Fn.default.self}`,`${Fn.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=e.schema,p.schemaEnv=e,e.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:g,items:$}=u;p.evaluated={props:g instanceof gr.Name?void 0:g,items:$ instanceof gr.Name?void 0:$,dynamicProps:g instanceof gr.Name,dynamicItems:$ instanceof gr.Name},p.source&&(p.source.evaluated=(0,gr.stringify)(p.evaluated))}return e.validate=p,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Kt.compileSchema=tf;function QS(e,t,r){var n;r=(0,wr.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=tb.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new Ja({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=ZS.call(this,s)}Kt.resolveRef=QS;function ZS(e){return(0,wr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:tf.call(this,e)}function Lg(e){for(const t of this._compilations)if(eb(t,e))return t}Kt.getCompilingSchema=Lg;function eb(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function tb(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Xa.call(this,e,t)}function Xa(e,t){const r=this.opts.uriResolver.parse(t),n=(0,wr._getFullPath)(this.opts.uriResolver,r);let i=(0,wr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return jl.call(this,r,e);const s=(0,wr.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=Xa.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:jl.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||tf.call(this,o),s===(0,wr.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,wr.resolveUrl)(this.opts.uriResolver,i,u)),new Ja({schema:a,schemaId:l,root:e,baseId:i})}return jl.call(this,r,o)}}Kt.resolveSchema=Xa;const rb=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function jl(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Gd.unescapeFragment)(a)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!rb.has(a)&&u&&(t=(0,wr.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Gd.schemaHasRulesButRef)(r,this.RULES)){const a=(0,wr.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Xa.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new Ja({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const nb="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ib="Meta-schema for $data reference (JSON AnySchema extension proposal)",sb="object",ob=["$data"],ab={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},lb=!1,cb={$id:nb,description:ib,type:sb,required:ob,properties:ab,additionalProperties:lb};var rf={};Object.defineProperty(rf,"__esModule",{value:!0});const jg=pg;jg.code='require("ajv/dist/runtime/uri").default';rf.default=jg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ya();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ye;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=po,i=mo,s=ti,o=Kt,a=ye,l=St,u=Ys,c=Ae,f=cb,h=rf,p=(N,w)=>new RegExp(N,w);p.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},m=200;function S(N){var w,R,C,d,E,L,P,_,G,U,x,z,ee,ie,se,le,me,Re,ze,qe,Fe,et,ke,tr,cr;const It=N.strict,qt=(w=N.code)===null||w===void 0?void 0:w.optimize,ur=qt===!0||qt===void 0?1:qt||0,ht=(C=(R=N.code)===null||R===void 0?void 0:R.regExp)!==null&&C!==void 0?C:p,lt=(d=N.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(L=(E=N.strictSchema)!==null&&E!==void 0?E:It)!==null&&L!==void 0?L:!0,strictNumbers:(_=(P=N.strictNumbers)!==null&&P!==void 0?P:It)!==null&&_!==void 0?_:!0,strictTypes:(U=(G=N.strictTypes)!==null&&G!==void 0?G:It)!==null&&U!==void 0?U:"log",strictTuples:(z=(x=N.strictTuples)!==null&&x!==void 0?x:It)!==null&&z!==void 0?z:"log",strictRequired:(ie=(ee=N.strictRequired)!==null&&ee!==void 0?ee:It)!==null&&ie!==void 0?ie:!1,code:N.code?{...N.code,optimize:ur,regExp:ht}:{optimize:ur,regExp:ht},loopRequired:(se=N.loopRequired)!==null&&se!==void 0?se:m,loopEnum:(le=N.loopEnum)!==null&&le!==void 0?le:m,meta:(me=N.meta)!==null&&me!==void 0?me:!0,messages:(Re=N.messages)!==null&&Re!==void 0?Re:!0,inlineRefs:(ze=N.inlineRefs)!==null&&ze!==void 0?ze:!0,schemaId:(qe=N.schemaId)!==null&&qe!==void 0?qe:"$id",addUsedSchema:(Fe=N.addUsedSchema)!==null&&Fe!==void 0?Fe:!0,validateSchema:(et=N.validateSchema)!==null&&et!==void 0?et:!0,validateFormats:(ke=N.validateFormats)!==null&&ke!==void 0?ke:!0,unicodeRegExp:(tr=N.unicodeRegExp)!==null&&tr!==void 0?tr:!0,int32range:(cr=N.int32range)!==null&&cr!==void 0?cr:!0,uriResolver:lt}}class A{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...S(w)};const{es5:R,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:$,es5:R,lines:C}),this.logger=H(w.logger);const d=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,w,"NOT SUPPORTED"),M.call(this,y,w,"DEPRECATED","warn"),this._metaOpts=B.call(this),w.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&T.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),b.call(this),w.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:R,schemaId:C}=this.opts;let d=f;C==="id"&&(d={...f},d.id=d.$id,delete d.$id),R&&w&&this.addMetaSchema(d,d[C],!1)}defaultMeta(){const{meta:w,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[R]||w:void 0}validate(w,R){let C;if(typeof w=="string"){if(C=this.getSchema(w),!C)throw new Error(`no schema with key or ref "${w}"`)}else C=this.compile(w);const d=C(R);return"$async"in C||(this.errors=C.errors),d}compile(w,R){const C=this._addSchema(w,R);return C.validate||this._compileSchemaEnv(C)}compileAsync(w,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return d.call(this,w,R);async function d(U,x){await E.call(this,U.$schema);const z=this._addSchema(U,x);return z.validate||L.call(this,z)}async function E(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function L(U){try{return this._compileSchemaEnv(U)}catch(x){if(!(x instanceof i.default))throw x;return P.call(this,x),await _.call(this,x.missingSchema),L.call(this,U)}}function P({missingSchema:U,missingRef:x}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${x} cannot be resolved`)}async function _(U){const x=await G.call(this,U);this.refs[U]||await E.call(this,x.$schema),this.refs[U]||this.addSchema(x,U,R)}async function G(U){const x=this._loading[U];if(x)return x;try{return await(this._loading[U]=C(U))}finally{delete this._loading[U]}}}addSchema(w,R,C,d=this.opts.validateSchema){if(Array.isArray(w)){for(const L of w)this.addSchema(L,void 0,C,d);return this}let E;if(typeof w=="object"){const{schemaId:L}=this.opts;if(E=w[L],E!==void 0&&typeof E!="string")throw new Error(`schema ${L} must be string`)}return R=(0,l.normalizeId)(R||E),this._checkUnique(R),this.schemas[R]=this._addSchema(w,C,R,d,!0),this}addMetaSchema(w,R,C=this.opts.validateSchema){return this.addSchema(w,R,!0,C),this}validateSchema(w,R){if(typeof w=="boolean")return!0;let C;if(C=w.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(C,w);if(!d&&R){const E="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(E);else throw new Error(E)}return d}getSchema(w){let R;for(;typeof(R=O.call(this,w))=="string";)w=R;if(R===void 0){const{schemaId:C}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:C});if(R=o.resolveSchema.call(this,d,w),!R)return;this.refs[w]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=O.call(this,w);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const R=w;this._cache.delete(R);let C=w[this.opts.schemaId];return C&&(C=(0,l.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const R of w)this.addKeyword(R);return this}addKeyword(w,R){let C;if(typeof w=="string")C=w,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=C);else if(typeof w=="object"&&R===void 0){if(R=w,C=R.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(K.call(this,C,R),!R)return(0,c.eachItem)(C,E=>te.call(this,E)),this;X.call(this,R);const d={...R,type:(0,u.getJSONTypes)(R.type),schemaType:(0,u.getJSONTypes)(R.schemaType)};return(0,c.eachItem)(C,d.type.length===0?E=>te.call(this,E,d):E=>d.type.forEach(L=>te.call(this,E,d,L))),this}getKeyword(w){const R=this.RULES.all[w];return typeof R=="object"?R.definition:!!R}removeKeyword(w){const{RULES:R}=this;delete R.keywords[w],delete R.all[w];for(const C of R.rules){const d=C.rules.findIndex(E=>E.keyword===w);d>=0&&C.rules.splice(d,1)}return this}addFormat(w,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[w]=R,this}errorsText(w=this.errors,{separator:R=", ",dataVar:C="data"}={}){return!w||w.length===0?"No errors":w.map(d=>`${C}${d.instancePath} ${d.message}`).reduce((d,E)=>d+R+E)}$dataMetaSchema(w,R){const C=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const d of R){const E=d.split("/").slice(1);let L=w;for(const P of E)L=L[P];for(const P in C){const _=C[P];if(typeof _!="object")continue;const{$data:G}=_.definition,U=L[P];G&&U&&(L[P]=j(U))}}return w}_removeAllSchemas(w,R){for(const C in w){const d=w[C];(!R||R.test(C))&&(typeof d=="string"?delete w[C]:d&&!d.meta&&(this._cache.delete(d.schema),delete w[C]))}}_addSchema(w,R,C,d=this.opts.validateSchema,E=this.opts.addUsedSchema){let L;const{schemaId:P}=this.opts;if(typeof w=="object")L=w[P];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let _=this._cache.get(w);if(_!==void 0)return _;C=(0,l.normalizeId)(L||C);const G=l.getSchemaRefs.call(this,w,C);return _=new o.SchemaEnv({schema:w,schemaId:P,meta:R,baseId:C,localRefs:G}),this._cache.set(_.schema,_),E&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=_),d&&this.validateSchema(w,!0),_}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=R}}}e.default=A,A.ValidationError=n.default,A.MissingRefError=i.default;function M(N,w,R,C="error"){for(const d in N){const E=d;E in w&&this.logger[C](`${R}: option ${d}. ${N[E]}`)}}function O(N){return N=(0,l.normalizeId)(N),this.schemas[N]||this.refs[N]}function b(){const N=this.opts.schemas;if(N)if(Array.isArray(N))this.addSchema(N);else for(const w in N)this.addSchema(N[w],w)}function D(){for(const N in this.opts.formats){const w=this.opts.formats[N];w&&this.addFormat(N,w)}}function T(N){if(Array.isArray(N)){this.addVocabulary(N);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in N){const R=N[w];R.keyword||(R.keyword=w),this.addKeyword(R)}}function B(){const N={...this.opts};for(const w of g)delete N[w];return N}const J={log(){},warn(){},error(){}};function H(N){if(N===!1)return J;if(N===void 0)return console;if(N.log&&N.warn&&N.error)return N;throw new Error("logger must implement log, warn and error methods")}const Y=/^[a-z_$][a-z0-9_$:-]*$/i;function K(N,w){const{RULES:R}=this;if((0,c.eachItem)(N,C=>{if(R.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!Y.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function te(N,w,R){var C;const d=w==null?void 0:w.post;if(R&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:E}=this;let L=d?E.post:E.rules.find(({type:_})=>_===R);if(L||(L={type:R,rules:[]},E.rules.push(L)),E.keywords[N]=!0,!w)return;const P={keyword:N,definition:{...w,type:(0,u.getJSONTypes)(w.type),schemaType:(0,u.getJSONTypes)(w.schemaType)}};w.before?re.call(this,L,P,w.before):L.rules.push(P),E.all[N]=P,(C=w.implements)===null||C===void 0||C.forEach(_=>this.addKeyword(_))}function re(N,w,R){const C=N.rules.findIndex(d=>d.keyword===R);C>=0?N.rules.splice(C,0,w):(N.rules.push(w),this.logger.warn(`rule ${R} is not defined`))}function X(N){let{metaSchema:w}=N;w!==void 0&&(N.$data&&this.opts.$data&&(w=j(w)),N.validateSchema=this.compile(w,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(N){return{anyOf:[N,I]}}})(Og);var nf={},sf={},of={};Object.defineProperty(of,"__esModule",{value:!0});const ub={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};of.default=ub;var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.callRef=ri.getValidate=void 0;const fb=mo,Wd=Ee,Gt=ye,mi=kr,Kd=Kt,zo=Ae,db={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:l}=n,{root:u}=s;if((r==="#"||r==="#/")&&i===u.baseId)return f();const c=Kd.resolveRef.call(l,u,i,r);if(c===void 0)throw new fb.default(n.opts.uriResolver,i,r);if(c instanceof Kd.SchemaEnv)return h(c);return p(c);function f(){if(s===u)return ha(e,o,s,s.$async);const g=t.scopeValue("root",{ref:u});return ha(e,(0,Gt._)`${g}.validate`,u,u.$async)}function h(g){const $=Mg(e,g);ha(e,$,g,g.$async)}function p(g){const $=t.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,Gt.stringify)(g)}:{ref:g}),v=t.name("valid"),y=e.subschema({schema:g,dataTypes:[],schemaPath:Gt.nil,topSchemaRef:$,errSchemaPath:r},v);e.mergeEvaluated(y),e.ok(v)}}};function Mg(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Gt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ri.getValidate=Mg;function ha(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,u=l.passContext?mi.default.this:Gt.nil;n?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=i.let("valid");i.try(()=>{i.code((0,Gt._)`await ${(0,Wd.callValidateCode)(e,t,u)}`),p(t),o||i.assign(g,!0)},$=>{i.if((0,Gt._)`!(${$} instanceof ${s.ValidationError})`,()=>i.throw($)),h($),o||i.assign(g,!1)}),e.ok(g)}function f(){e.result((0,Wd.callValidateCode)(e,t,u),()=>p(t),()=>h(t))}function h(g){const $=(0,Gt._)`${g}.errors`;i.assign(mi.default.vErrors,(0,Gt._)`${mi.default.vErrors} === null ? ${$} : ${mi.default.vErrors}.concat(${$})`),i.assign(mi.default.errors,(0,Gt._)`${mi.default.vErrors}.length`)}function p(g){var $;if(!s.opts.unevaluated)return;const v=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=zo.mergeEvaluated.props(i,v.props,s.props));else{const y=i.var("props",(0,Gt._)`${g}.evaluated.props`);s.props=zo.mergeEvaluated.props(i,y,s.props,Gt.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=zo.mergeEvaluated.items(i,v.items,s.items));else{const y=i.var("items",(0,Gt._)`${g}.evaluated.items`);s.items=zo.mergeEvaluated.items(i,y,s.items,Gt.Name)}}}ri.callRef=ha;ri.default=db;Object.defineProperty(sf,"__esModule",{value:!0});const hb=of,pb=ri,mb=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",hb.default,pb.default];sf.default=mb;var af={},lf={};Object.defineProperty(lf,"__esModule",{value:!0});const Ta=ye,ln=Ta.operators,Oa={maximum:{okStr:"<=",ok:ln.LTE,fail:ln.GT},minimum:{okStr:">=",ok:ln.GTE,fail:ln.LT},exclusiveMaximum:{okStr:"<",ok:ln.LT,fail:ln.GTE},exclusiveMinimum:{okStr:">",ok:ln.GT,fail:ln.LTE}},gb={message:({keyword:e,schemaCode:t})=>(0,Ta.str)`must be ${Oa[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Ta._)`{comparison: ${Oa[e].okStr}, limit: ${t}}`},yb={keyword:Object.keys(Oa),type:"number",schemaType:"number",$data:!0,error:gb,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Ta._)`${r} ${Oa[t].fail} ${n} || isNaN(${r})`)}};lf.default=yb;var cf={};Object.defineProperty(cf,"__esModule",{value:!0});const Ms=ye,vb={message:({schemaCode:e})=>(0,Ms.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Ms._)`{multipleOf: ${e}}`},_b={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:vb,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Ms._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Ms._)`${o} !== parseInt(${o})`;e.fail$data((0,Ms._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};cf.default=_b;var uf={},ff={};Object.defineProperty(ff,"__esModule",{value:!0});function Ug(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}ff.default=Ug;Ug.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(uf,"__esModule",{value:!0});const Bn=ye,$b=Ae,Eb=ff,wb={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Bn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Bn._)`{limit: ${e}}`},Sb={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:wb,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?Bn.operators.GT:Bn.operators.LT,o=i.opts.unicode===!1?(0,Bn._)`${r}.length`:(0,Bn._)`${(0,$b.useFunc)(e.gen,Eb.default)}(${r})`;e.fail$data((0,Bn._)`${o} ${s} ${n}`)}};uf.default=Sb;var df={};Object.defineProperty(df,"__esModule",{value:!0});const bb=Ee,Aa=ye,Pb={message:({schemaCode:e})=>(0,Aa.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Aa._)`{pattern: ${e}}`},Tb={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Pb,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,Aa._)`(new RegExp(${i}, ${o}))`:(0,bb.usePattern)(e,n);e.fail$data((0,Aa._)`!${a}.test(${t})`)}};df.default=Tb;var hf={};Object.defineProperty(hf,"__esModule",{value:!0});const Us=ye,Ob={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Us.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Us._)`{limit: ${e}}`},Ab={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Ob,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Us.operators.GT:Us.operators.LT;e.fail$data((0,Us._)`Object.keys(${r}).length ${i} ${n}`)}};hf.default=Ab;var pf={};Object.defineProperty(pf,"__esModule",{value:!0});const gs=Ee,xs=ye,Cb=Ae,Nb={message:({params:{missingProperty:e}})=>(0,xs.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,xs._)`{missingProperty: ${e}}`},Rb={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Nb,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const l=r.length>=a.loopRequired;if(o.allErrors?u():c(),a.strictRequired){const p=e.parentSchema.properties,{definedProperties:g}=e.it;for(const $ of r)if((p==null?void 0:p[$])===void 0&&!g.has($)){const v=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${$}" is not defined at "${v}" (strictRequired)`;(0,Cb.checkStrictMode)(o,y,o.opts.strictRequired)}}function u(){if(l||s)e.block$data(xs.nil,f);else for(const p of r)(0,gs.checkReportMissingProp)(e,p)}function c(){const p=t.let("missing");if(l||s){const g=t.let("valid",!0);e.block$data(g,()=>h(p,g)),e.ok(g)}else t.if((0,gs.checkMissingProp)(e,r,p)),(0,gs.reportMissingProp)(e,p),t.else()}function f(){t.forOf("prop",n,p=>{e.setParams({missingProperty:p}),t.if((0,gs.noPropertyInData)(t,i,p,a.ownProperties),()=>e.error())})}function h(p,g){e.setParams({missingProperty:p}),t.forOf(p,n,()=>{t.assign(g,(0,gs.propertyInData)(t,i,p,a.ownProperties)),t.if((0,xs.not)(g),()=>{e.error(),t.break()})},xs.nil)}}};pf.default=Rb;var mf={};Object.defineProperty(mf,"__esModule",{value:!0});const qs=ye,Ib={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,qs.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,qs._)`{limit: ${e}}`},Db={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Ib,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?qs.operators.GT:qs.operators.LT;e.fail$data((0,qs._)`${r}.length ${i} ${n}`)}};mf.default=Db;var gf={},go={};Object.defineProperty(go,"__esModule",{value:!0});const xg=Ha;xg.code='require("ajv/dist/runtime/equal").default';go.default=xg;Object.defineProperty(gf,"__esModule",{value:!0});const Ml=Ys,$t=ye,Fb=Ae,kb=go,Lb={message:({params:{i:e,j:t}})=>(0,$t.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,$t._)`{i: ${e}, j: ${t}}`},jb={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Lb,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;const l=t.let("valid"),u=s.items?(0,Ml.getSchemaTypes)(s.items):[];e.block$data(l,c,(0,$t._)`${o} === false`),e.ok(l);function c(){const g=t.let("i",(0,$t._)`${r}.length`),$=t.let("j");e.setParams({i:g,j:$}),t.assign(l,!0),t.if((0,$t._)`${g} > 1`,()=>(f()?h:p)(g,$))}function f(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function h(g,$){const v=t.name("item"),y=(0,Ml.checkDataTypes)(u,v,a.opts.strictNumbers,Ml.DataType.Wrong),m=t.const("indices",(0,$t._)`{}`);t.for((0,$t._)`;${g}--;`,()=>{t.let(v,(0,$t._)`${r}[${g}]`),t.if(y,(0,$t._)`continue`),u.length>1&&t.if((0,$t._)`typeof ${v} == "string"`,(0,$t._)`${v} += "_"`),t.if((0,$t._)`typeof ${m}[${v}] == "number"`,()=>{t.assign($,(0,$t._)`${m}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,$t._)`${m}[${v}] = ${g}`)})}function p(g,$){const v=(0,Fb.useFunc)(t,kb.default),y=t.name("outer");t.label(y).for((0,$t._)`;${g}--;`,()=>t.for((0,$t._)`${$} = ${g}; ${$}--;`,()=>t.if((0,$t._)`${v}(${r}[${g}], ${r}[${$}])`,()=>{e.error(),t.assign(l,!1).break(y)})))}}};gf.default=jb;var yf={};Object.defineProperty(yf,"__esModule",{value:!0});const Fc=ye,Mb=Ae,Ub=go,xb={message:"must be equal to constant",params:({schemaCode:e})=>(0,Fc._)`{allowedValue: ${e}}`},qb={keyword:"const",$data:!0,error:xb,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Fc._)`!${(0,Mb.useFunc)(t,Ub.default)}(${r}, ${i})`):e.fail((0,Fc._)`${s} !== ${r}`)}};yf.default=qb;var vf={};Object.defineProperty(vf,"__esModule",{value:!0});const Cs=ye,Vb=Ae,Bb=go,zb={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Cs._)`{allowedValues: ${e}}`},Hb={keyword:"enum",schemaType:"array",$data:!0,error:zb,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let l;const u=()=>l??(l=(0,Vb.useFunc)(t,Bb.default));let c;if(a||n)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const p=t.const("vSchema",s);c=(0,Cs.or)(...i.map((g,$)=>h(p,$)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,p=>t.if((0,Cs._)`${u()}(${r}, ${p})`,()=>t.assign(c,!0).break()))}function h(p,g){const $=i[g];return typeof $=="object"&&$!==null?(0,Cs._)`${u()}(${r}, ${p}[${g}])`:(0,Cs._)`${r} === ${$}`}}};vf.default=Hb;Object.defineProperty(af,"__esModule",{value:!0});const Gb=lf,Wb=cf,Kb=uf,Yb=df,Jb=hf,Xb=pf,Qb=mf,Zb=gf,e1=yf,t1=vf,r1=[Gb.default,Wb.default,Kb.default,Yb.default,Jb.default,Xb.default,Qb.default,Zb.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},e1.default,t1.default];af.default=r1;var _f={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.validateAdditionalItems=void 0;const zn=ye,kc=Ae,n1={message:({params:{len:e}})=>(0,zn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,zn._)`{limit: ${e}}`},i1={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n1,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,kc.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}qg(e,n)}};function qg(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,zn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,zn._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,kc.alwaysValidSchema)(o,n)){const u=r.var("valid",(0,zn._)`${a} <= ${t.length}`);r.if((0,zn.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:kc.Type.Num},u),o.allErrors||r.if((0,zn.not)(u),()=>r.break())})}}Zi.validateAdditionalItems=qg;Zi.default=i1;var $f={},es={};Object.defineProperty(es,"__esModule",{value:!0});es.validateTuple=void 0;const Yd=ye,pa=Ae,s1=Ee,o1={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Vg(e,"additionalItems",t);r.items=!0,!(0,pa.alwaysValidSchema)(r,t)&&e.ok((0,s1.validateArray)(e))}};function Vg(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=pa.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),u=n.const("len",(0,Yd._)`${s}.length`);r.forEach((f,h)=>{(0,pa.alwaysValidSchema)(a,f)||(n.if((0,Yd._)`${u} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function c(f){const{opts:h,errSchemaPath:p}=a,g=r.length,$=g===f.minItems&&(g===f.maxItems||f[t]===!1);if(h.strictTuples&&!$){const v=`"${o}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${p}"`;(0,pa.checkStrictMode)(a,v,h.strictTuples)}}}es.validateTuple=Vg;es.default=o1;Object.defineProperty($f,"__esModule",{value:!0});const a1=es,l1={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,a1.validateTuple)(e,"items")};$f.default=l1;var Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});const Jd=ye,c1=Ae,u1=Ee,f1=Zi,d1={message:({params:{len:e}})=>(0,Jd.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Jd._)`{limit: ${e}}`},h1={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:d1,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,c1.alwaysValidSchema)(n,t)&&(i?(0,f1.validateAdditionalItems)(e,i):e.ok((0,u1.validateArray)(e)))}};Ef.default=h1;var wf={};Object.defineProperty(wf,"__esModule",{value:!0});const lr=ye,Ho=Ae,p1={message:({params:{min:e,max:t}})=>t===void 0?(0,lr.str)`must contain at least ${e} valid item(s)`:(0,lr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,lr._)`{minContains: ${e}}`:(0,lr._)`{minContains: ${e}, maxContains: ${t}}`},m1={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:p1,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,a;const{minContains:l,maxContains:u}=n;s.opts.next?(o=l===void 0?1:l,a=u):o=1;const c=t.const("len",(0,lr._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Ho.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Ho.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Ho.alwaysValidSchema)(s,r)){let $=(0,lr._)`${c} >= ${o}`;a!==void 0&&($=(0,lr._)`${$} && ${c} <= ${a}`),e.pass($);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?p(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,lr._)`${i}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){const $=t.name("_valid"),v=t.let("count",0);p($,()=>t.if($,()=>g(v)))}function p($,v){t.forRange("i",0,c,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:Ho.Type.Num,compositeRule:!0},$),v()})}function g($){t.code((0,lr._)`${$}++`),a===void 0?t.if((0,lr._)`${$} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,lr._)`${$} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,lr._)`${$} >= ${o}`,()=>t.assign(f,!0)))}}};wf.default=m1;var Bg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ye,r=Ae,n=Ee;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,t._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=s(l);o(l,u),a(l,c)}};function s({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const h=Array.isArray(l[f])?u:c;h[f]=l[f]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:f,it:h}=l;if(Object.keys(u).length===0)return;const p=c.let("missing");for(const g in u){const $=u[g];if($.length===0)continue;const v=(0,n.propertyInData)(c,f,g,h.opts.ownProperties);l.setParams({property:g,depsCount:$.length,deps:$.join(", ")}),h.allErrors?c.if(v,()=>{for(const y of $)(0,n.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,$,p)})`),(0,n.reportMissingProp)(l,p),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:f,keyword:h,it:p}=l,g=c.name("valid");for(const $ in u)(0,r.alwaysValidSchema)(p,u[$])||(c.if((0,n.propertyInData)(c,f,$,p.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:$},g);l.mergeValidEvaluated(v,g)},()=>c.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i})(Bg);var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});const zg=ye,g1=Ae,y1={message:"property name must be valid",params:({params:e})=>(0,zg._)`{propertyName: ${e.propertyName}}`},v1={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:y1,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,g1.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,zg.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Sf.default=v1;var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});const Go=Ee,vr=ye,_1=kr,Wo=Ae,$1={message:"must NOT have additional properties",params:({params:e})=>(0,vr._)`{additionalProperty: ${e.additionalProperty}}`},E1={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:$1,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,Wo.alwaysValidSchema)(o,r))return;const u=(0,Go.allSchemaProperties)(n.properties),c=(0,Go.allSchemaProperties)(n.patternProperties);f(),e.ok((0,vr._)`${s} === ${_1.default.errors}`);function f(){t.forIn("key",i,v=>{!u.length&&!c.length?g(v):t.if(h(v),()=>g(v))})}function h(v){let y;if(u.length>8){const m=(0,Wo.schemaRefOrVal)(o,n.properties,"properties");y=(0,Go.isOwnProperty)(t,m,v)}else u.length?y=(0,vr.or)(...u.map(m=>(0,vr._)`${v} === ${m}`)):y=vr.nil;return c.length&&(y=(0,vr.or)(y,...c.map(m=>(0,vr._)`${(0,Go.usePattern)(e,m)}.test(${v})`))),(0,vr.not)(y)}function p(v){t.code((0,vr._)`delete ${i}[${v}]`)}function g(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Wo.alwaysValidSchema)(o,r)){const y=t.name("valid");l.removeAdditional==="failing"?($(v,y,!1),t.if((0,vr.not)(y),()=>{e.reset(),p(v)})):($(v,y),a||t.if((0,vr.not)(y),()=>t.break()))}}function $(v,y,m){const S={keyword:"additionalProperties",dataProp:v,dataPropType:Wo.Type.Str};m===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,y)}}};Qa.default=E1;var bf={};Object.defineProperty(bf,"__esModule",{value:!0});const w1=Ya(),Xd=Ee,Ul=Ae,Qd=Qa,S1={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Qd.default.code(new w1.KeywordCxt(s,Qd.default,"additionalProperties"));const o=(0,Xd.allSchemaProperties)(r);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Ul.mergeEvaluated.props(t,(0,Ul.toHash)(o),s.props));const a=o.filter(f=>!(0,Ul.alwaysValidSchema)(s,r[f]));if(a.length===0)return;const l=t.name("valid");for(const f of a)u(f)?c(f):(t.if((0,Xd.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(l);function u(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};bf.default=S1;var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});const Zd=Ee,Ko=ye,eh=Ae,th=Ae,b1={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,Zd.allSchemaProperties)(r),l=a.filter($=>(0,eh.alwaysValidSchema)(s,r[$]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof Ko.Name)&&(s.props=(0,th.evaluatedPropsToName)(t,s.props));const{props:f}=s;h();function h(){for(const $ of a)u&&p($),s.allErrors?g($):(t.var(c,!0),g($),t.if(c))}function p($){for(const v in u)new RegExp($).test(v)&&(0,eh.checkStrictMode)(s,`property ${v} matches pattern ${$} (use allowMatchingProperties)`)}function g($){t.forIn("key",n,v=>{t.if((0,Ko._)`${(0,Zd.usePattern)(e,$)}.test(${v})`,()=>{const y=l.includes($);y||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:v,dataPropType:th.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,Ko._)`${f}[${v}]`,!0):!y&&!s.allErrors&&t.if((0,Ko.not)(c),()=>t.break())})})}}};Pf.default=b1;var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});const P1=Ae,T1={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,P1.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Tf.default=T1;var Of={};Object.defineProperty(Of,"__esModule",{value:!0});const O1=Ee,A1={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:O1.validateUnion,error:{message:"must match a schema in anyOf"}};Of.default=A1;var Af={};Object.defineProperty(Af,"__esModule",{value:!0});const ma=ye,C1=Ae,N1={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ma._)`{passingSchemas: ${e.passing}}`},R1={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:N1,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(o,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((c,f)=>{let h;(0,C1.alwaysValidSchema)(i,c)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&t.if((0,ma._)`${l} && ${o}`).assign(o,!1).assign(a,(0,ma._)`[${a}, ${f}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,f),h&&e.mergeEvaluated(h,ma.Name)})})}}};Af.default=R1;var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});const I1=Ae,D1={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,I1.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};Cf.default=D1;var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});const Ca=ye,Hg=Ae,F1={message:({params:e})=>(0,Ca.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Ca._)`{failingKeyword: ${e.ifClause}}`},k1={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:F1,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Hg.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=rh(n,"then"),s=rh(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else i?t.if(a,u("then")):t.if((0,Ca.not)(a),u("else"));e.pass(o,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,f){return()=>{const h=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(h,o),f?t.assign(f,(0,Ca._)`${c}`):e.setParams({ifClause:c})}}}};function rh(e,t){const r=e.schema[t];return r!==void 0&&!(0,Hg.alwaysValidSchema)(e,r)}Nf.default=k1;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});const L1=Ae,j1={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,L1.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Rf.default=j1;Object.defineProperty(_f,"__esModule",{value:!0});const M1=Zi,U1=$f,x1=es,q1=Ef,V1=wf,B1=Bg,z1=Sf,H1=Qa,G1=bf,W1=Pf,K1=Tf,Y1=Of,J1=Af,X1=Cf,Q1=Nf,Z1=Rf;function eP(e=!1){const t=[K1.default,Y1.default,J1.default,X1.default,Q1.default,Z1.default,z1.default,H1.default,B1.default,G1.default,W1.default];return e?t.push(U1.default,q1.default):t.push(M1.default,x1.default),t.push(V1.default),t}_f.default=eP;var If={},Df={};Object.defineProperty(Df,"__esModule",{value:!0});const at=ye,tP={message:({schemaCode:e})=>(0,at.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,at._)`{format: ${e}}`},rP={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:tP,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:f}=a;if(!l.validateFormats)return;i?h():p();function h(){const g=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),$=r.const("fDef",(0,at._)`${g}[${o}]`),v=r.let("fType"),y=r.let("format");r.if((0,at._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(v,(0,at._)`${$}.type || "string"`).assign(y,(0,at._)`${$}.validate`),()=>r.assign(v,(0,at._)`"string"`).assign(y,$)),e.fail$data((0,at.or)(m(),S()));function m(){return l.strictSchema===!1?at.nil:(0,at._)`${o} && !${y}`}function S(){const A=c.$async?(0,at._)`(${$}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,at._)`${y}(${n})`,M=(0,at._)`(typeof ${y} == "function" ? ${A} : ${y}.test(${n}))`;return(0,at._)`${y} && ${y} !== true && ${v} === ${t} && !${M}`}}function p(){const g=f.formats[s];if(!g){m();return}if(g===!0)return;const[$,v,y]=S(g);$===t&&e.pass(A());function m(){if(l.strictSchema===!1){f.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function S(M){const O=M instanceof RegExp?(0,at.regexpCode)(M):l.code.formats?(0,at._)`${l.code.formats}${(0,at.getProperty)(s)}`:void 0,b=r.scopeValue("formats",{key:s,ref:M,code:O});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,at._)`${b}.validate`]:["string",M,b]}function A(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!c.$async)throw new Error("async format in sync schema");return(0,at._)`await ${y}(${n})`}return typeof v=="function"?(0,at._)`${y}(${n})`:(0,at._)`${y}.test(${n})`}}}};Df.default=rP;Object.defineProperty(If,"__esModule",{value:!0});const nP=Df,iP=[nP.default];If.default=iP;var xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.contentVocabulary=xi.metadataVocabulary=void 0;xi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];xi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(nf,"__esModule",{value:!0});const sP=sf,oP=af,aP=_f,lP=If,nh=xi,cP=[sP.default,oP.default,(0,aP.default)(),lP.default,nh.metadataVocabulary,nh.contentVocabulary];nf.default=cP;var Ff={},Gg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Gg);Object.defineProperty(Ff,"__esModule",{value:!0});const bi=ye,Lc=Gg,ih=Kt,uP=Ae,fP={message:({params:{discrError:e,tagName:t}})=>e===Lc.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,bi._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},dP={keyword:"discriminator",type:"object",schemaType:"object",error:fP,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,bi._)`${r}${(0,bi.getProperty)(a)}`);t.if((0,bi._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:Lc.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const p=h();t.if(!1);for(const g in p)t.elseIf((0,bi._)`${u} === ${g}`),t.assign(l,f(p[g]));t.else(),e.error(!1,{discrError:Lc.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function f(p){const g=t.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:p},g);return e.mergeEvaluated($,bi.Name),g}function h(){var p;const g={},$=y(i);let v=!0;for(let A=0;A<o.length;A++){let M=o[A];M!=null&&M.$ref&&!(0,uP.schemaHasRulesButRef)(M,s.self.RULES)&&(M=ih.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,M==null?void 0:M.$ref),M instanceof ih.SchemaEnv&&(M=M.schema));const O=(p=M==null?void 0:M.properties)===null||p===void 0?void 0:p[a];if(typeof O!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&($||y(M)),m(O,A)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return g;function y({required:A}){return Array.isArray(A)&&A.includes(a)}function m(A,M){if(A.const)S(A.const,M);else if(A.enum)for(const O of A.enum)S(O,M);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(A,M){if(typeof A!="string"||A in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[A]=M}}}};Ff.default=dP;const hP="http://json-schema.org/draft-07/schema#",pP="http://json-schema.org/draft-07/schema#",mP="Core schema meta-schema",gP={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},yP=["object","boolean"],vP={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},_P={$schema:hP,$id:pP,title:mP,definitions:gP,type:yP,properties:vP,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Og,n=nf,i=Ff,s=_P,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=Ya();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=ye;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=po;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=mo;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Rc,Rc.exports);var $P=Rc.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=$P,r=ye,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:a,schemaCode:l})=>r.str`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>r._`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(a){const{gen:l,data:u,schemaCode:c,keyword:f,it:h}=a,{opts:p,self:g}=h;if(!p.validateFormats)return;const $=new t.KeywordCxt(h,g.RULES.all.format.definition,"format");$.$data?v():y();function v(){const S=l.scopeValue("formats",{ref:g.formats,code:p.code.formats}),A=l.const("fmt",r._`${S}[${$.schemaCode}]`);a.fail$data(r.or(r._`typeof ${A} != "object"`,r._`${A} instanceof RegExp`,r._`typeof ${A}.compare != "function"`,m(A)))}function y(){const S=$.schema,A=g.formats[S];if(!A||A===!0)return;if(typeof A!="object"||A instanceof RegExp||typeof A.compare!="function")throw new Error(`"${f}": format "${S}" does not define "compare" function`);const M=l.scopeValue("formats",{key:S,ref:A,code:p.code.formats?r._`${p.code.formats}${r.getProperty(S)}`:void 0});a.fail$data(m(M))}function m(S){return r._`${S}.compare(${u}, ${c}) ${i[f].fail} 0`}},dependencies:["format"]};const o=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=o})(Tg);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pg,n=Tg,i=ye,s=new i.Name("fullFormats"),o=new i.Name("fastFormats"),a=(u,c={keywords:!0})=>{if(Array.isArray(c))return l(u,c,r.fullFormats,s),u;const[f,h]=c.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],p=c.formats||r.formatNames;return l(u,p,f,h),c.keywords&&n.default(u),u};a.get=(u,c="full")=>{const h=(c==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,c,f,h){var p,g;(p=(g=u.opts.code).formats)!==null&&p!==void 0||(g.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const $ of c)u.addFormat($,f[$])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(Nc,Nc.exports);var EP=Nc.exports;const wP=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!SP(i,s)&&n||Object.defineProperty(e,r,s)},SP=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},bP=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},PP=(e,t)=>`/* Wrapped ${e}*/
${t}`,TP=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),OP=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),AP=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=PP.bind(null,n,t.toString());Object.defineProperty(i,"name",OP),Object.defineProperty(e,"toString",{...TP,value:i})},CP=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const i of Reflect.ownKeys(t))wP(e,t,i,r);return bP(e,t),AP(e,t,n),e};var NP=CP;const RP=NP;var IP=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:i=!0}=t;if(!n&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,o;const a=function(...l){const u=this,c=()=>{s=void 0,i&&(o=e.apply(u,l))},f=n&&!s;return clearTimeout(s),s=setTimeout(c,r),f&&(o=e.apply(u,l)),o};return RP(a,e),a.cancel=()=>{s&&(clearTimeout(s),s=void 0)},a},jc={exports:{}};const DP="2.0.0",Wg=256,FP=Number.MAX_SAFE_INTEGER||9007199254740991,kP=16,LP=Wg-6,jP=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Za={MAX_LENGTH:Wg,MAX_SAFE_COMPONENT_LENGTH:kP,MAX_SAFE_BUILD_LENGTH:LP,MAX_SAFE_INTEGER:FP,RELEASE_TYPES:jP,SEMVER_SPEC_VERSION:DP,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const MP=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var el=MP;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Za,s=el;t=e.exports={};const o=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,n]],p=$=>{for(const[v,y]of h)$=$.split(`${v}*`).join(`${v}{0,${y}}`).split(`${v}+`).join(`${v}{1,${y}}`);return $},g=($,v,y)=>{const m=p(v),S=c++;s($,S,v),u[$]=S,l[S]=v,o[S]=new RegExp(v,y?"g":void 0),a[S]=new RegExp(m,y?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),g("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${f}+`),g("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),g("FULL",`^${l[u.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),g("LOOSE",`^${l[u.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),g("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[u.COERCE],!0),g("COERCERTLFULL",l[u.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(jc,jc.exports);var yo=jc.exports;const UP=Object.freeze({loose:!0}),xP=Object.freeze({}),qP=e=>e?typeof e!="object"?UP:e:xP;var kf=qP;const sh=/^[0-9]+$/,Kg=(e,t)=>{const r=sh.test(e),n=sh.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},VP=(e,t)=>Kg(t,e);var Yg={compareIdentifiers:Kg,rcompareIdentifiers:VP};const Yo=el,{MAX_LENGTH:oh,MAX_SAFE_INTEGER:Jo}=Za,{safeRe:ah,t:lh}=yo,BP=kf,{compareIdentifiers:gi}=Yg;let zP=class Ar{constructor(t,r){if(r=BP(r),t instanceof Ar){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>oh)throw new TypeError(`version is longer than ${oh} characters`);Yo("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?ah[lh.LOOSE]:ah[lh.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Jo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Jo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Jo||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Jo)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Yo("SemVer.compare",this.version,this.options,t),!(t instanceof Ar)){if(typeof t=="string"&&t===this.version)return 0;t=new Ar(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ar||(t=new Ar(t,this.options)),gi(this.major,t.major)||gi(this.minor,t.minor)||gi(this.patch,t.patch)}comparePre(t){if(t instanceof Ar||(t=new Ar(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(Yo("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return gi(n,i)}while(++r)}compareBuild(t){t instanceof Ar||(t=new Ar(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(Yo("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return gi(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),gi(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var jt=zP;const ch=jt,HP=(e,t,r=!1)=>{if(e instanceof ch)return e;try{return new ch(e,t)}catch(n){if(!r)return null;throw n}};var ts=HP;const GP=ts,WP=(e,t)=>{const r=GP(e,t);return r?r.version:null};var KP=WP;const YP=ts,JP=(e,t)=>{const r=YP(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var XP=JP;const uh=jt,QP=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new uh(e instanceof uh?e.version:e,r).inc(t,n,i).version}catch{return null}};var ZP=QP;const fh=ts,eT=(e,t)=>{const r=fh(e,null,!0),n=fh(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const c=l?"pre":"";return r.major!==n.major?c+"major":r.minor!==n.minor?c+"minor":r.patch!==n.patch?c+"patch":"prerelease"};var tT=eT;const rT=jt,nT=(e,t)=>new rT(e,t).major;var iT=nT;const sT=jt,oT=(e,t)=>new sT(e,t).minor;var aT=oT;const lT=jt,cT=(e,t)=>new lT(e,t).patch;var uT=cT;const fT=ts,dT=(e,t)=>{const r=fT(e,t);return r&&r.prerelease.length?r.prerelease:null};var hT=dT;const dh=jt,pT=(e,t,r)=>new dh(e,r).compare(new dh(t,r));var br=pT;const mT=br,gT=(e,t,r)=>mT(t,e,r);var yT=gT;const vT=br,_T=(e,t)=>vT(e,t,!0);var $T=_T;const hh=jt,ET=(e,t,r)=>{const n=new hh(e,r),i=new hh(t,r);return n.compare(i)||n.compareBuild(i)};var Lf=ET;const wT=Lf,ST=(e,t)=>e.sort((r,n)=>wT(r,n,t));var bT=ST;const PT=Lf,TT=(e,t)=>e.sort((r,n)=>PT(n,r,t));var OT=TT;const AT=br,CT=(e,t,r)=>AT(e,t,r)>0;var tl=CT;const NT=br,RT=(e,t,r)=>NT(e,t,r)<0;var jf=RT;const IT=br,DT=(e,t,r)=>IT(e,t,r)===0;var Jg=DT;const FT=br,kT=(e,t,r)=>FT(e,t,r)!==0;var Xg=kT;const LT=br,jT=(e,t,r)=>LT(e,t,r)>=0;var Mf=jT;const MT=br,UT=(e,t,r)=>MT(e,t,r)<=0;var Uf=UT;const xT=Jg,qT=Xg,VT=tl,BT=Mf,zT=jf,HT=Uf,GT=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return xT(e,r,n);case"!=":return qT(e,r,n);case">":return VT(e,r,n);case">=":return BT(e,r,n);case"<":return zT(e,r,n);case"<=":return HT(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Qg=GT;const WT=jt,KT=ts,{safeRe:Xo,t:Qo}=yo,YT=(e,t)=>{if(e instanceof WT)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Xo[Qo.COERCEFULL]:Xo[Qo.COERCE]);else{const l=t.includePrerelease?Xo[Qo.COERCERTLFULL]:Xo[Qo.COERCERTL];let u;for(;(u=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),l.lastIndex=u.index+u[1].length+u[2].length;l.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return KT(`${n}.${i}.${s}${o}${a}`,t)};var JT=YT,xl,ph;function XT(){return ph||(ph=1,xl=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),xl}var QT=Ne;Ne.Node=ni;Ne.create=Ne;function Ne(e){var t=this;if(t instanceof Ne||(t=new Ne),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Ne.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Ne.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Ne.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Ne.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)eO(this,arguments[e]);return this.length};Ne.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)tO(this,arguments[e]);return this.length};Ne.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Ne.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Ne.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Ne.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Ne.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Ne.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Ne.prototype.map=function(e,t){t=t||this;for(var r=new Ne,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Ne.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Ne,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Ne.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Ne.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Ne.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Ne.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Ne.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ne;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Ne.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ne;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Ne.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=ZT(this,i,r[n]);return s};Ne.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function ZT(e,t,r){var n=t===e.head?new ni(r,null,t,e):new ni(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function eO(e,t){e.tail=new ni(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function tO(e,t){e.head=new ni(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ni(e,t,r,n){if(!(this instanceof ni))return new ni(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{XT()(Ne)}catch{}const rO=QT,Hn=Symbol("max"),Wr=Symbol("length"),yi=Symbol("lengthCalculator"),Vs=Symbol("allowStale"),Wn=Symbol("maxAge"),Hr=Symbol("dispose"),mh=Symbol("noDisposeOnSet"),gt=Symbol("lruList"),_r=Symbol("cache"),Zg=Symbol("updateAgeOnGet"),ql=()=>1;class nO{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Hn]=t.max||1/0;const r=t.length||ql;if(this[yi]=typeof r!="function"?ql:r,this[Vs]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Wn]=t.maxAge||0,this[Hr]=t.dispose,this[mh]=t.noDisposeOnSet||!1,this[Zg]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Hn]=t||1/0,ys(this)}get max(){return this[Hn]}set allowStale(t){this[Vs]=!!t}get allowStale(){return this[Vs]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Wn]=t,ys(this)}get maxAge(){return this[Wn]}set lengthCalculator(t){typeof t!="function"&&(t=ql),t!==this[yi]&&(this[yi]=t,this[Wr]=0,this[gt].forEach(r=>{r.length=this[yi](r.value,r.key),this[Wr]+=r.length})),ys(this)}get lengthCalculator(){return this[yi]}get length(){return this[Wr]}get itemCount(){return this[gt].length}rforEach(t,r){r=r||this;for(let n=this[gt].tail;n!==null;){const i=n.prev;gh(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[gt].head;n!==null;){const i=n.next;gh(this,t,n,r),n=i}}keys(){return this[gt].toArray().map(t=>t.key)}values(){return this[gt].toArray().map(t=>t.value)}reset(){this[Hr]&&this[gt]&&this[gt].length&&this[gt].forEach(t=>this[Hr](t.key,t.value)),this[_r]=new Map,this[gt]=new rO,this[Wr]=0}dump(){return this[gt].map(t=>Na(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[gt]}set(t,r,n){if(n=n||this[Wn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[yi](r,t);if(this[_r].has(t)){if(s>this[Hn])return Fi(this,this[_r].get(t)),!1;const l=this[_r].get(t).value;return this[Hr]&&(this[mh]||this[Hr](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Wr]+=s-l.length,l.length=s,this.get(t),ys(this),!0}const o=new iO(t,r,s,i,n);return o.length>this[Hn]?(this[Hr]&&this[Hr](t,r),!1):(this[Wr]+=o.length,this[gt].unshift(o),this[_r].set(t,this[gt].head),ys(this),!0)}has(t){if(!this[_r].has(t))return!1;const r=this[_r].get(t).value;return!Na(this,r)}get(t){return Vl(this,t,!0)}peek(t){return Vl(this,t,!1)}pop(){const t=this[gt].tail;return t?(Fi(this,t),t.value):null}del(t){Fi(this,this[_r].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[_r].forEach((t,r)=>Vl(this,r,!1))}}const Vl=(e,t,r)=>{const n=e[_r].get(t);if(n){const i=n.value;if(Na(e,i)){if(Fi(e,n),!e[Vs])return}else r&&(e[Zg]&&(n.value.now=Date.now()),e[gt].unshiftNode(n));return i.value}},Na=(e,t)=>{if(!t||!t.maxAge&&!e[Wn])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Wn]&&r>e[Wn]},ys=e=>{if(e[Wr]>e[Hn])for(let t=e[gt].tail;e[Wr]>e[Hn]&&t!==null;){const r=t.prev;Fi(e,t),t=r}},Fi=(e,t)=>{if(t){const r=t.value;e[Hr]&&e[Hr](r.key,r.value),e[Wr]-=r.length,e[_r].delete(r.key),e[gt].removeNode(t)}};class iO{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const gh=(e,t,r,n)=>{let i=r.value;Na(e,i)&&(Fi(e,r),e[Vs]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var sO=nO,Bl,yh;function Pr(){if(yh)return Bl;yh=1;class e{constructor(K,te){if(te=n(te),K instanceof e)return K.loose===!!te.loose&&K.includePrerelease===!!te.includePrerelease?K:new e(K.raw,te);if(K instanceof i)return this.raw=K.value,this.set=[[K]],this.format(),this;if(this.options=te,this.loose=!!te.loose,this.includePrerelease=!!te.includePrerelease,this.raw=K.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(re=>this.parseRange(re.trim())).filter(re=>re.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const re=this.set[0];if(this.set=this.set.filter(X=>!g(X[0])),this.set.length===0)this.set=[re];else if(this.set.length>1){for(const X of this.set)if(X.length===1&&$(X[0])){this.set=[X];break}}}this.format()}format(){return this.range=this.set.map(K=>K.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(K){const re=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+K,X=r.get(re);if(X)return X;const I=this.options.loose,j=I?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];K=K.replace(j,J(this.options.includePrerelease)),s("hyphen replace",K),K=K.replace(a[l.COMPARATORTRIM],u),s("comparator trim",K),K=K.replace(a[l.TILDETRIM],c),s("tilde trim",K),K=K.replace(a[l.CARETTRIM],f),s("caret trim",K);let N=K.split(" ").map(d=>y(d,this.options)).join(" ").split(/\s+/).map(d=>B(d,this.options));I&&(N=N.filter(d=>(s("loose invalid filter",d,this.options),!!d.match(a[l.COMPARATORLOOSE])))),s("range list",N);const w=new Map,R=N.map(d=>new i(d,this.options));for(const d of R){if(g(d))return[d];w.set(d.value,d)}w.size>1&&w.has("")&&w.delete("");const C=[...w.values()];return r.set(re,C),C}intersects(K,te){if(!(K instanceof e))throw new TypeError("a Range is required");return this.set.some(re=>v(re,te)&&K.set.some(X=>v(X,te)&&re.every(I=>X.every(j=>I.intersects(j,te)))))}test(K){if(!K)return!1;if(typeof K=="string")try{K=new o(K,this.options)}catch{return!1}for(let te=0;te<this.set.length;te++)if(H(this.set[te],K,this.options))return!0;return!1}}Bl=e;const t=sO,r=new t({max:1e3}),n=kf,i=rl(),s=el,o=jt,{safeRe:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:f}=yo,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=Za,g=Y=>Y.value==="<0.0.0-0",$=Y=>Y.value==="",v=(Y,K)=>{let te=!0;const re=Y.slice();let X=re.pop();for(;te&&re.length;)te=re.every(I=>X.intersects(I,K)),X=re.pop();return te},y=(Y,K)=>(s("comp",Y,K),Y=M(Y,K),s("caret",Y),Y=S(Y,K),s("tildes",Y),Y=b(Y,K),s("xrange",Y),Y=T(Y,K),s("stars",Y),Y),m=Y=>!Y||Y.toLowerCase()==="x"||Y==="*",S=(Y,K)=>Y.trim().split(/\s+/).map(te=>A(te,K)).join(" "),A=(Y,K)=>{const te=K.loose?a[l.TILDELOOSE]:a[l.TILDE];return Y.replace(te,(re,X,I,j,N)=>{s("tilde",Y,re,X,I,j,N);let w;return m(X)?w="":m(I)?w=`>=${X}.0.0 <${+X+1}.0.0-0`:m(j)?w=`>=${X}.${I}.0 <${X}.${+I+1}.0-0`:N?(s("replaceTilde pr",N),w=`>=${X}.${I}.${j}-${N} <${X}.${+I+1}.0-0`):w=`>=${X}.${I}.${j} <${X}.${+I+1}.0-0`,s("tilde return",w),w})},M=(Y,K)=>Y.trim().split(/\s+/).map(te=>O(te,K)).join(" "),O=(Y,K)=>{s("caret",Y,K);const te=K.loose?a[l.CARETLOOSE]:a[l.CARET],re=K.includePrerelease?"-0":"";return Y.replace(te,(X,I,j,N,w)=>{s("caret",Y,X,I,j,N,w);let R;return m(I)?R="":m(j)?R=`>=${I}.0.0${re} <${+I+1}.0.0-0`:m(N)?I==="0"?R=`>=${I}.${j}.0${re} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.0${re} <${+I+1}.0.0-0`:w?(s("replaceCaret pr",w),I==="0"?j==="0"?R=`>=${I}.${j}.${N}-${w} <${I}.${j}.${+N+1}-0`:R=`>=${I}.${j}.${N}-${w} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.${N}-${w} <${+I+1}.0.0-0`):(s("no pr"),I==="0"?j==="0"?R=`>=${I}.${j}.${N}${re} <${I}.${j}.${+N+1}-0`:R=`>=${I}.${j}.${N}${re} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.${N} <${+I+1}.0.0-0`),s("caret return",R),R})},b=(Y,K)=>(s("replaceXRanges",Y,K),Y.split(/\s+/).map(te=>D(te,K)).join(" ")),D=(Y,K)=>{Y=Y.trim();const te=K.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return Y.replace(te,(re,X,I,j,N,w)=>{s("xRange",Y,re,X,I,j,N,w);const R=m(I),C=R||m(j),d=C||m(N),E=d;return X==="="&&E&&(X=""),w=K.includePrerelease?"-0":"",R?X===">"||X==="<"?re="<0.0.0-0":re="*":X&&E?(C&&(j=0),N=0,X===">"?(X=">=",C?(I=+I+1,j=0,N=0):(j=+j+1,N=0)):X==="<="&&(X="<",C?I=+I+1:j=+j+1),X==="<"&&(w="-0"),re=`${X+I}.${j}.${N}${w}`):C?re=`>=${I}.0.0${w} <${+I+1}.0.0-0`:d&&(re=`>=${I}.${j}.0${w} <${I}.${+j+1}.0-0`),s("xRange return",re),re})},T=(Y,K)=>(s("replaceStars",Y,K),Y.trim().replace(a[l.STAR],"")),B=(Y,K)=>(s("replaceGTE0",Y,K),Y.trim().replace(a[K.includePrerelease?l.GTE0PRE:l.GTE0],"")),J=Y=>(K,te,re,X,I,j,N,w,R,C,d,E,L)=>(m(re)?te="":m(X)?te=`>=${re}.0.0${Y?"-0":""}`:m(I)?te=`>=${re}.${X}.0${Y?"-0":""}`:j?te=`>=${te}`:te=`>=${te}${Y?"-0":""}`,m(R)?w="":m(C)?w=`<${+R+1}.0.0-0`:m(d)?w=`<${R}.${+C+1}.0-0`:E?w=`<=${R}.${C}.${d}-${E}`:Y?w=`<${R}.${C}.${+d+1}-0`:w=`<=${w}`,`${te} ${w}`.trim()),H=(Y,K,te)=>{for(let re=0;re<Y.length;re++)if(!Y[re].test(K))return!1;if(K.prerelease.length&&!te.includePrerelease){for(let re=0;re<Y.length;re++)if(s(Y[re].semver),Y[re].semver!==i.ANY&&Y[re].semver.prerelease.length>0){const X=Y[re].semver;if(X.major===K.major&&X.minor===K.minor&&X.patch===K.patch)return!0}return!1}return!0};return Bl}var zl,vh;function rl(){if(vh)return zl;vh=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=r(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=c.match(f);if(!h)throw new TypeError(`Invalid comparator: ${c}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}zl=t;const r=kf,{safeRe:n,t:i}=yo,s=Qg,o=el,a=jt,l=Pr();return zl}const oO=Pr(),aO=(e,t,r)=>{try{t=new oO(t,r)}catch{return!1}return t.test(e)};var nl=aO;const lO=Pr(),cO=(e,t)=>new lO(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var uO=cO;const fO=jt,dO=Pr(),hO=(e,t,r)=>{let n=null,i=null,s=null;try{s=new dO(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new fO(n,r))}),n};var pO=hO;const mO=jt,gO=Pr(),yO=(e,t,r)=>{let n=null,i=null,s=null;try{s=new gO(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new mO(n,r))}),n};var vO=yO;const Hl=jt,_O=Pr(),_h=tl,$O=(e,t)=>{e=new _O(e,t);let r=new Hl("0.0.0");if(e.test(r)||(r=new Hl("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const a=new Hl(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||_h(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||_h(r,s))&&(r=s)}return r&&e.test(r)?r:null};var EO=$O;const wO=Pr(),SO=(e,t)=>{try{return new wO(e,t).range||"*"}catch{return null}};var bO=SO;const PO=jt,ey=rl(),{ANY:TO}=ey,OO=Pr(),AO=nl,$h=tl,Eh=jf,CO=Uf,NO=Mf,RO=(e,t,r,n)=>{e=new PO(e,n),t=new OO(t,n);let i,s,o,a,l;switch(r){case">":i=$h,s=CO,o=Eh,a=">",l=">=";break;case"<":i=Eh,s=NO,o=$h,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(AO(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const c=t.set[u];let f=null,h=null;if(c.forEach(p=>{p.semver===TO&&(p=new ey(">=0.0.0")),f=f||p,h=h||p,i(p.semver,f.semver,n)?f=p:o(p.semver,h.semver,n)&&(h=p)}),f.operator===a||f.operator===l||(!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};var xf=RO;const IO=xf,DO=(e,t,r)=>IO(e,t,">",r);var FO=DO;const kO=xf,LO=(e,t,r)=>kO(e,t,"<",r);var jO=LO;const wh=Pr(),MO=(e,t,r)=>(e=new wh(e,r),t=new wh(t,r),e.intersects(t,r));var UO=MO;const xO=nl,qO=br;var VO=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((c,f)=>qO(c,f,r));for(const c of o)xO(c,t,r)?(s=c,i||(i=c)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[c,f]of n)c===f?a.push(c):!f&&c===o[0]?a.push("*"):f?c===o[0]?a.push(`<=${f}`):a.push(`${c} - ${f}`):a.push(`>=${c}`);const l=a.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return l.length<u.length?l:t};const Sh=Pr(),qf=rl(),{ANY:Gl}=qf,vs=nl,Vf=br,BO=(e,t,r={})=>{if(e===t)return!0;e=new Sh(e,r),t=new Sh(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=HO(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},zO=[new qf(">=0.0.0-0")],bh=[new qf(">=0.0.0")],HO=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Gl){if(t.length===1&&t[0].semver===Gl)return!0;r.includePrerelease?e=zO:e=bh}if(t.length===1&&t[0].semver===Gl){if(r.includePrerelease)return!0;t=bh}const n=new Set;let i,s;for(const p of e)p.operator===">"||p.operator===">="?i=Ph(i,p,r):p.operator==="<"||p.operator==="<="?s=Th(s,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Vf(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const p of n){if(i&&!vs(p,String(i),r)||s&&!vs(p,String(s),r))return null;for(const g of t)if(!vs(p,String(g),r))return!1;return!0}let a,l,u,c,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of t){if(c=c||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(a=Ph(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!vs(i.semver,String(p),r))return!1}if(s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=Th(s,p,r),l===p&&l!==s)return!1}else if(s.operator==="<="&&!vs(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&c&&!i&&o!==0||h||f)},Ph=(e,t,r)=>{if(!e)return t;const n=Vf(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Th=(e,t,r)=>{if(!e)return t;const n=Vf(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var GO=BO;const Wl=yo,Oh=Za,WO=jt,Ah=Yg,KO=ts,YO=KP,JO=XP,XO=ZP,QO=tT,ZO=iT,eA=aT,tA=uT,rA=hT,nA=br,iA=yT,sA=$T,oA=Lf,aA=bT,lA=OT,cA=tl,uA=jf,fA=Jg,dA=Xg,hA=Mf,pA=Uf,mA=Qg,gA=JT,yA=rl(),vA=Pr(),_A=nl,$A=uO,EA=pO,wA=vO,SA=EO,bA=bO,PA=xf,TA=FO,OA=jO,AA=UO,CA=VO,NA=GO;var Bf={parse:KO,valid:YO,clean:JO,inc:XO,diff:QO,major:ZO,minor:eA,patch:tA,prerelease:rA,compare:nA,rcompare:iA,compareLoose:sA,compareBuild:oA,sort:aA,rsort:lA,gt:cA,lt:uA,eq:fA,neq:dA,gte:hA,lte:pA,cmp:mA,coerce:gA,Comparator:yA,Range:vA,satisfies:_A,toComparators:$A,maxSatisfying:EA,minSatisfying:wA,minVersion:SA,validRange:bA,outside:PA,gtr:TA,ltr:OA,intersects:AA,simplifyRange:CA,subset:NA,SemVer:WO,re:Wl.re,src:Wl.src,tokens:Wl.t,SEMVER_SPEC_VERSION:Oh.SEMVER_SPEC_VERSION,RELEASE_TYPES:Oh.RELEASE_TYPES,compareIdentifiers:Ah.compareIdentifiers,rcompareIdentifiers:Ah.rcompareIdentifiers},il={exports:{}},zf={exports:{}};const ty=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};zf.exports=ty;zf.exports.default=ty;var RA=zf.exports;const IA=RA,Ra=new WeakMap,ry=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",s=function(...o){if(Ra.set(s,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return IA(s,e),Ra.set(s,n),s};il.exports=ry;il.exports.default=ry;il.exports.callCount=e=>{if(!Ra.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Ra.get(e)};var DA=il.exports;(function(e,t){var r=ut&&ut.__classPrivateFieldSet||function(X,I,j,N,w){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof I=="function"?X!==I||!w:!I.has(X))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?w.call(X,j):w?w.value=j:I.set(X,j),j},n=ut&&ut.__classPrivateFieldGet||function(X,I,j,N){if(j==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof I=="function"?X!==I||!N:!I.has(X))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?N:j==="a"?N.call(X):N?N.value:I.get(X)},i,s,o,a,l,u;Object.defineProperty(t,"__esModule",{value:!0});const c=Zr,f=Ue,h=Te,p=Yi,g=Qc,$=Ki,v=xv,y=Xv,m=t_,S=Rr,A=pS,M=EP,O=IP,b=Bf,D=DA,T="aes-256-cbc",B=()=>Object.create(null),J=X=>X!=null;let H="";try{delete require.cache[__filename],H=h.dirname((s=(i=e.parent)===null||i===void 0?void 0:i.filename)!==null&&s!==void 0?s:".")}catch{}const Y=(X,I)=>{const j=new Set(["undefined","symbol","function"]),N=typeof I;if(j.has(N))throw new TypeError(`Setting a value of type \`${N}\` for key \`${X}\` is not allowed as it's not supported by JSON`)},K="__internal__",te=`${K}.migrations.version`;class re{constructor(I={}){var j;o.set(this,void 0),a.set(this,void 0),l.set(this,void 0),u.set(this,{}),this._deserialize=E=>JSON.parse(E),this._serialize=E=>JSON.stringify(E,void 0,"	");const N={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...I},w=D(()=>{const E=y.sync({cwd:H}),L=E&&JSON.parse(f.readFileSync(E,"utf8"));return L??{}});if(!N.cwd){if(N.projectName||(N.projectName=w().name),!N.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");N.cwd=m(N.projectName,{suffix:N.projectSuffix}).config}if(r(this,l,N,"f"),N.schema){if(typeof N.schema!="object")throw new TypeError("The `schema` option must be an object.");const E=new A.default({allErrors:!0,useDefaults:!0});(0,M.default)(E);const L={type:"object",properties:N.schema};r(this,o,E.compile(L),"f");for(const[P,_]of Object.entries(N.schema))_!=null&&_.default&&(n(this,u,"f")[P]=_.default)}N.defaults&&r(this,u,{...n(this,u,"f"),...N.defaults},"f"),N.serialize&&(this._serialize=N.serialize),N.deserialize&&(this._deserialize=N.deserialize),this.events=new $.EventEmitter,r(this,a,N.encryptionKey,"f");const R=N.fileExtension?`.${N.fileExtension}`:"";this.path=h.resolve(N.cwd,`${(j=N.configName)!==null&&j!==void 0?j:"config"}${R}`);const C=this.store,d=Object.assign(B(),N.defaults,C);this._validate(d);try{g.deepEqual(C,d)}catch{this.store=d}if(N.watch&&this._watch(),N.migrations){if(N.projectVersion||(N.projectVersion=w().version),!N.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(N.migrations,N.projectVersion,N.beforeEachMigration)}}get(I,j){if(n(this,l,"f").accessPropertiesByDotNotation)return this._get(I,j);const{store:N}=this;return I in N?N[I]:j}set(I,j){if(typeof I!="string"&&typeof I!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof I}`);if(typeof I!="object"&&j===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(I))throw new TypeError(`Please don't use the ${K} key, as it's used to manage this module internal operations.`);const{store:N}=this,w=(R,C)=>{Y(R,C),n(this,l,"f").accessPropertiesByDotNotation?v.set(N,R,C):N[R]=C};if(typeof I=="object"){const R=I;for(const[C,d]of Object.entries(R))w(C,d)}else w(I,j);this.store=N}has(I){return n(this,l,"f").accessPropertiesByDotNotation?v.has(this.store,I):I in this.store}reset(...I){for(const j of I)J(n(this,u,"f")[j])&&this.set(j,n(this,u,"f")[j])}delete(I){const{store:j}=this;n(this,l,"f").accessPropertiesByDotNotation?v.delete(j,I):delete j[I],this.store=j}clear(){this.store=B();for(const I of Object.keys(n(this,u,"f")))this.reset(I)}onDidChange(I,j){if(typeof I!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof I}`);if(typeof j!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof j}`);return this._handleChange(()=>this.get(I),j)}onDidAnyChange(I){if(typeof I!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof I}`);return this._handleChange(()=>this.store,I)}get size(){return Object.keys(this.store).length}get store(){try{const I=f.readFileSync(this.path,n(this,a,"f")?null:"utf8"),j=this._encryptData(I),N=this._deserialize(j);return this._validate(N),Object.assign(B(),N)}catch(I){if((I==null?void 0:I.code)==="ENOENT")return this._ensureDirectory(),B();if(n(this,l,"f").clearInvalidConfig&&I.name==="SyntaxError")return B();throw I}}set store(I){this._ensureDirectory(),this._validate(I),this._write(I),this.events.emit("change")}*[(o=new WeakMap,a=new WeakMap,l=new WeakMap,u=new WeakMap,Symbol.iterator)](){for(const[I,j]of Object.entries(this.store))yield[I,j]}_encryptData(I){if(!n(this,a,"f"))return I.toString();try{if(n(this,a,"f"))try{if(I.slice(16,17).toString()===":"){const j=I.slice(0,16),N=p.pbkdf2Sync(n(this,a,"f"),j.toString(),1e4,32,"sha512"),w=p.createDecipheriv(T,N,j);I=Buffer.concat([w.update(Buffer.from(I.slice(17))),w.final()]).toString("utf8")}else{const j=p.createDecipher(T,n(this,a,"f"));I=Buffer.concat([j.update(Buffer.from(I)),j.final()]).toString("utf8")}}catch{}}catch{}return I.toString()}_handleChange(I,j){let N=I();const w=()=>{const R=N,C=I();(0,c.isDeepStrictEqual)(C,R)||(N=C,j.call(this,C,R))};return this.events.on("change",w),()=>this.events.removeListener("change",w)}_validate(I){if(!n(this,o,"f")||n(this,o,"f").call(this,I)||!n(this,o,"f").errors)return;const N=n(this,o,"f").errors.map(({instancePath:w,message:R=""})=>`\`${w.slice(1)}\` ${R}`);throw new Error("Config schema violation: "+N.join("; "))}_ensureDirectory(){f.mkdirSync(h.dirname(this.path),{recursive:!0})}_write(I){let j=this._serialize(I);if(n(this,a,"f")){const N=p.randomBytes(16),w=p.pbkdf2Sync(n(this,a,"f"),N.toString(),1e4,32,"sha512"),R=p.createCipheriv(T,w,N);j=Buffer.concat([N,Buffer.from(":"),R.update(Buffer.from(j)),R.final()])}if(process.env.SNAP)f.writeFileSync(this.path,j,{mode:n(this,l,"f").configFileMode});else try{S.writeFileSync(this.path,j,{mode:n(this,l,"f").configFileMode})}catch(N){if((N==null?void 0:N.code)==="EXDEV"){f.writeFileSync(this.path,j,{mode:n(this,l,"f").configFileMode});return}throw N}}_watch(){this._ensureDirectory(),f.existsSync(this.path)||this._write(B()),process.platform==="win32"?f.watch(this.path,{persistent:!1},O(()=>{this.events.emit("change")},{wait:100})):f.watchFile(this.path,{persistent:!1},O(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(I,j,N){let w=this._get(te,"0.0.0");const R=Object.keys(I).filter(d=>this._shouldPerformMigration(d,w,j));let C={...this.store};for(const d of R)try{N&&N(this,{fromVersion:w,toVersion:d,finalVersion:j,versions:R});const E=I[d];E(this),this._set(te,d),w=d,C={...this.store}}catch(E){throw this.store=C,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${E}`)}(this._isVersionInRangeFormat(w)||!b.eq(w,j))&&this._set(te,j)}_containsReservedKey(I){return typeof I=="object"&&Object.keys(I)[0]===K?!0:typeof I!="string"?!1:n(this,l,"f").accessPropertiesByDotNotation?!!I.startsWith(`${K}.`):!1}_isVersionInRangeFormat(I){return b.clean(I)===null}_shouldPerformMigration(I,j,N){return this._isVersionInRangeFormat(I)?j!=="0.0.0"&&b.satisfies(j,I)?!1:b.satisfies(N,I):!(b.lte(I,j)||b.gt(I,N))}_get(I,j){return v.get(this.store,I,j)}_set(I,j){const{store:N}=this;v.set(N,I,j),this.store=N}}t.default=re,e.exports=re,e.exports.default=re})(Ec,Ec.exports);var FA=Ec.exports;const Ch=Te,{app:ga,ipcMain:Mc,ipcRenderer:Nh,shell:kA}=oe,LA=FA;let Rh=!1;const Ih=()=>{if(!Mc||!ga)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:ga.getPath("userData"),appVersion:ga.getVersion()};return Rh||(Mc.on("electron-store-get-data",t=>{t.returnValue=e}),Rh=!0),e};class jA extends LA{constructor(t){let r,n;if(Nh){const i=Nh.sendSync("electron-store-get-data");if(!i)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=i)}else Mc&&ga&&({defaultCwd:r,appVersion:n}=Ih());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=Ch.isAbsolute(t.cwd)?t.cwd:Ch.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Ih()}openInEditor(){kA.openPath(this.path)}}var MA=jA;const UA=wm(MA),ny=Ue,Ns=Te;var xA={findAndReadPackageJson:qA,tryReadJsonAt:Pi};function qA(){return Pi(zA())||Pi(BA())||Pi(process.resourcesPath,"app.asar")||Pi(process.resourcesPath,"app")||Pi(process.cwd())||{name:void 0,version:void 0}}function Pi(...e){if(e[0])try{const t=Ns.join(...e),r=VA("package.json",t);if(!r)return;const n=JSON.parse(ny.readFileSync(r,"utf8")),i=(n==null?void 0:n.productName)||(n==null?void 0:n.name);return!i||i.toLowerCase()==="electron"?void 0:i?{name:i,version:n==null?void 0:n.version}:void 0}catch{return}}function VA(e,t){let r=t;for(;;){const n=Ns.parse(r),i=n.root,s=n.dir;if(ny.existsSync(Ns.join(r,e)))return Ns.resolve(Ns.join(r,e));if(r===i)return null;r=s}}function BA(){const e=process.argv.filter(r=>r.indexOf("--user-data-dir=")===0);return e.length===0||typeof e[0]!="string"?null:e[0].replace("--user-data-dir=","")}function zA(){var e;try{return(e=require.main)==null?void 0:e.filename}catch{return}}const HA=so,kn=Pn,vi=Te,GA=xA;let WA=class{constructor(){Se(this,"appName");Se(this,"appPackageJson");Se(this,"platform",process.platform)}getAppLogPath(t=this.getAppName()){return this.platform==="darwin"?vi.join(this.getSystemPathHome(),"Library/Logs",t):vi.join(this.getAppUserDataPath(t),"logs")}getAppName(){var t;return this.appName||((t=this.getAppPackageJson())==null?void 0:t.name)}getAppPackageJson(){return typeof this.appPackageJson!="object"&&(this.appPackageJson=GA.findAndReadPackageJson()),this.appPackageJson}getAppUserDataPath(t=this.getAppName()){return t?vi.join(this.getSystemPathAppData(),t):void 0}getAppVersion(){var t;return(t=this.getAppPackageJson())==null?void 0:t.version}getElectronLogPath(){return this.getAppLogPath()}getMacOsVersion(){const t=Number(kn.release().split(".")[0]);return t<=19?`10.${t-4}`:t-9}getOsVersion(){let t=kn.type().replace("_"," "),r=kn.release();return t==="Darwin"&&(t="macOS",r=this.getMacOsVersion()),`${t} ${r}`}getPathVariables(){const t=this.getAppName(),r=this.getAppVersion(),n=this;return{appData:this.getSystemPathAppData(),appName:t,appVersion:r,get electronDefaultDir(){return n.getElectronLogPath()},home:this.getSystemPathHome(),libraryDefaultDir:this.getAppLogPath(t),libraryTemplate:this.getAppLogPath("{appName}"),temp:this.getSystemPathTemp(),userData:this.getAppUserDataPath(t)}}getSystemPathAppData(){const t=this.getSystemPathHome();switch(this.platform){case"darwin":return vi.join(t,"Library/Application Support");case"win32":return process.env.APPDATA||vi.join(t,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||vi.join(t,".config")}}getSystemPathHome(){var t;return((t=kn.homedir)==null?void 0:t.call(kn))||process.env.HOME}getSystemPathTemp(){return kn.tmpdir()}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:void 0,os:this.getOsVersion()}}isDev(){return process.env.NODE_ENV==="development"||process.env.ELECTRON_IS_DEV==="1"}isElectron(){return!!process.versions.electron}onAppEvent(t,r){}onAppReady(t){t()}onEveryWebContentsEvent(t,r){}onIpc(t,r){}onIpcInvoke(t,r){}openUrl(t,r=console.error){const i={darwin:"open",win32:"start",linux:"xdg-open"}[process.platform]||"xdg-open";HA.exec(`${i} ${t}`,{},s=>{s&&r(s)})}setPlatform(t){this.platform=t}setPreloadFileForSessions({filePath:t,includeFutureSession:r=!0,getSessions:n=()=>[]}){}sendIpc(t,r){}showErrorBox(t,r){}};var KA=WA;const YA=Te,JA=KA;let XA=class extends JA{constructor({electron:r}={}){super();Se(this,"electron");this.electron=r}getAppName(){var n,i;let r;try{r=((n=this.electron.app)==null?void 0:n.name)||((i=this.electron.app)==null?void 0:i.getName())}catch{}return r||super.getAppName()}getAppUserDataPath(r){return this.getPath("userData")||super.getAppUserDataPath(r)}getAppVersion(){var n;let r;try{r=(n=this.electron.app)==null?void 0:n.getVersion()}catch{}return r||super.getAppVersion()}getElectronLogPath(){return this.getPath("logs")||super.getElectronLogPath()}getPath(r){var n;try{return(n=this.electron.app)==null?void 0:n.getPath(r)}catch{return}}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:`Electron ${process.versions.electron}`,os:this.getOsVersion()}}getSystemPathAppData(){return this.getPath("appData")||super.getSystemPathAppData()}isDev(){var r;return((r=this.electron.app)==null?void 0:r.isPackaged)!==void 0?!this.electron.app.isPackaged:typeof process.execPath=="string"?YA.basename(process.execPath).toLowerCase().startsWith("electron"):super.isDev()}onAppEvent(r,n){var i;return(i=this.electron.app)==null||i.on(r,n),()=>{var s;(s=this.electron.app)==null||s.off(r,n)}}onAppReady(r){var n,i,s;(n=this.electron.app)!=null&&n.isReady()?r():(i=this.electron.app)!=null&&i.once?(s=this.electron.app)==null||s.once("ready",r):r()}onEveryWebContentsEvent(r,n){var s,o,a;return(o=(s=this.electron.webContents)==null?void 0:s.getAllWebContents())==null||o.forEach(l=>{l.on(r,n)}),(a=this.electron.app)==null||a.on("web-contents-created",i),()=>{var l,u;(l=this.electron.webContents)==null||l.getAllWebContents().forEach(c=>{c.off(r,n)}),(u=this.electron.app)==null||u.off("web-contents-created",i)};function i(l,u){u.on(r,n)}}onIpc(r,n){var i;(i=this.electron.ipcMain)==null||i.on(r,n)}onIpcInvoke(r,n){var i,s;(s=(i=this.electron.ipcMain)==null?void 0:i.handle)==null||s.call(i,r,n)}openUrl(r,n=console.error){var i;(i=this.electron.shell)==null||i.openExternal(r).catch(n)}setPreloadFileForSessions({filePath:r,includeFutureSession:n=!0,getSessions:i=()=>{var s;return[(s=this.electron.session)==null?void 0:s.defaultSession]}}){for(const o of i().filter(Boolean))s(o);n&&this.onAppEvent("session-created",o=>{s(o)});function s(o){o.setPreloads([...o.getPreloads(),r])}}sendIpc(r,n){var i,s;(s=(i=this.electron.BrowserWindow)==null?void 0:i.getAllWindows())==null||s.forEach(o=>{var a;((a=o.webContents)==null?void 0:a.isDestroyed())===!1&&o.webContents.send(r,n)})}showErrorBox(r,n){var i;(i=this.electron.dialog)==null||i.showErrorBox(r,n)}};var QA=XA,iy={exports:{}};(function(e){let t={};try{t=require("electron")}catch{}t.ipcRenderer&&r(t),e.exports=r;function r({contextBridge:n,ipcRenderer:i}){if(!i)return;i.on("__ELECTRON_LOG_IPC__",(o,a)=>{window.postMessage({cmd:"message",...a})}),i.invoke("__ELECTRON_LOG__",{cmd:"getOptions"}).catch(o=>console.error(new Error(`electron-log isn't initialized in the main process. Please call log.initialize() before. ${o.message}`)));const s={sendToMain(o){try{i.send("__ELECTRON_LOG__",o)}catch(a){console.error("electronLog.sendToMain ",a,"data:",o),i.send("__ELECTRON_LOG__",{cmd:"errorHandler",error:{message:a==null?void 0:a.message,stack:a==null?void 0:a.stack},errorName:"sendToMain"})}},log(...o){s.sendToMain({data:o,level:"info"})}};for(const o of["error","warn","info","verbose","debug","silly"])s[o]=(...a)=>s.sendToMain({data:a,level:o});if(n&&process.contextIsolated)try{n.exposeInMainWorld("__electronLog",s)}catch{}typeof window=="object"?window.__electronLog=s:__electronLog=s}})(iy);var ZA=iy.exports;const Dh=Ue,eC=Pn,Fh=Te,tC=ZA;var rC={initialize({externalApi:e,getSessions:t,includeFutureSession:r,logger:n,preload:i=!0,spyRendererConsole:s=!1}){e.onAppReady(()=>{try{i&&nC({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:i}),s&&iC({externalApi:e,logger:n})}catch(o){n.warn(o)}})}};function nC({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:n}){let i=typeof n=="string"?n:void 0;try{i=Fh.resolve(__dirname,"../renderer/electron-log-preload.js")}catch{}if(!i||!Dh.existsSync(i)){i=Fh.join(e.getAppUserDataPath()||eC.tmpdir(),"electron-log-preload.js");const s=`
      try {
        (${tC.toString()})(require('electron'));
      } catch(e) {
        console.error(e);
      }
    `;Dh.writeFileSync(i,s,"utf8")}e.setPreloadFileForSessions({filePath:i,includeFutureSession:r,getSessions:t})}function iC({externalApi:e,logger:t}){const r=["verbose","info","warning","error"];e.onEveryWebContentsEvent("console-message",(n,i,s)=>{t.processMessage({data:[s],level:r[i],variables:{processType:"renderer"}})})}var sC=oC;function oC(e){return Object.defineProperties(t,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof t.labelPadding){case"boolean":return t.labelPadding?t.maxLabelLength:0;case"number":return t.labelPadding;default:return 0}}}});function t(r){t.maxLabelLength=Math.max(t.maxLabelLength,r.length);const n={};for(const i of[...e.levels,"log"])n[i]=(...s)=>e.logData(s,{level:i,scope:r});return n}}const aC=sC;var Qn;let lC=(Qn=class{constructor({allowUnknownLevel:t=!1,dependencies:r={},errorHandler:n,eventLogger:i,initializeFn:s,isDev:o=!1,levels:a=["error","warn","info","verbose","debug","silly"],logId:l,transportFactories:u={},variables:c}={}){Se(this,"dependencies",{});Se(this,"errorHandler",null);Se(this,"eventLogger",null);Se(this,"functions",{});Se(this,"hooks",[]);Se(this,"isDev",!1);Se(this,"levels",null);Se(this,"logId",null);Se(this,"scope",null);Se(this,"transports",{});Se(this,"variables",{});this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=t,this.dependencies=r,this.initializeFn=s,this.isDev=o,this.levels=a,this.logId=l,this.transportFactories=u,this.variables=c||{},this.scope=aC(this),this.addLevel("log",!1);for(const f of this.levels)this.addLevel(f,!1);this.errorHandler=n,n==null||n.setOptions({...r,logFn:this.error}),this.eventLogger=i,i==null||i.setOptions({...r,logger:this});for(const[f,h]of Object.entries(u))this.transports[f]=h(this,r);Qn.instances[l]=this}static getInstance({logId:t}){return this.instances[t]||this.instances.default}addLevel(t,r=this.levels.length){r!==!1&&this.levels.splice(r,0,t),this[t]=(...n)=>this.logData(n,{level:t}),this.functions[t]=this[t]}catchErrors(t){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(t)}create(t){return typeof t=="string"&&(t={logId:t}),new Qn({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...t})}compareLevels(t,r,n=this.levels){const i=n.indexOf(t),s=n.indexOf(r);return s===-1||i===-1?!0:s<=i}initialize(t={}){this.initializeFn({logger:this,...this.dependencies,...t})}logData(t,r={}){this.processMessage({data:t,...r})}processMessage(t,{transports:r=this.transports}={}){if(t.cmd==="errorHandler"){this.errorHandler.handle(t.error,{errorName:t.errorName,processType:"renderer",showDialog:!!t.showDialog});return}let n=t.level;this.allowUnknownLevel||(n=this.levels.includes(t.level)?t.level:"info");const i={date:new Date,...t,level:n,variables:{...this.variables,...t.variables}};for(const[s,o]of this.transportEntries(r))if(!(typeof o!="function"||o.level===!1)&&this.compareLevels(o.level,t.level))try{const a=this.hooks.reduce((l,u)=>l&&u(l,o,s),i);a&&o({...a,data:[...a.data]})}catch(a){this.processInternalErrorFn(a)}}processInternalErrorFn(t){}transportEntries(t=this.transports){return(Array.isArray(t)?t:Object.entries(t)).map(n=>{switch(typeof n){case"string":return this.transports[n]?[n,this.transports[n]]:null;case"function":return[n.name,n];default:return Array.isArray(n)?n:null}}).filter(Boolean)}},Se(Qn,"instances",{}),Qn);var cC=lC;let uC=class{constructor({externalApi:t,logFn:r=void 0,onError:n=void 0,showDialog:i=void 0}={}){Se(this,"externalApi");Se(this,"isActive",!1);Se(this,"logFn");Se(this,"onError");Se(this,"showDialog",!0);this.createIssue=this.createIssue.bind(this),this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.setOptions({externalApi:t,logFn:r,onError:n,showDialog:i}),this.startCatching=this.startCatching.bind(this),this.stopCatching=this.stopCatching.bind(this)}handle(t,{logFn:r=this.logFn,onError:n=this.onError,processType:i="browser",showDialog:s=this.showDialog,errorName:o=""}={}){var a;t=fC(t);try{if(typeof n=="function"){const l=((a=this.externalApi)==null?void 0:a.getVersions())||{},u=this.createIssue;if(n({createIssue:u,error:t,errorName:o,processType:i,versions:l})===!1)return}o?r(o,t):r(t),s&&!o.includes("rejection")&&this.externalApi&&this.externalApi.showErrorBox(`A JavaScript error occurred in the ${i} process`,t.stack)}catch{console.error(t)}}setOptions({externalApi:t,logFn:r,onError:n,showDialog:i}){typeof t=="object"&&(this.externalApi=t),typeof r=="function"&&(this.logFn=r),typeof n=="function"&&(this.onError=n),typeof i=="boolean"&&(this.showDialog=i)}startCatching({onError:t,showDialog:r}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:t,showDialog:r}),process.on("uncaughtException",this.handleError),process.on("unhandledRejection",this.handleRejection))}stopCatching(){this.isActive=!1,process.removeListener("uncaughtException",this.handleError),process.removeListener("unhandledRejection",this.handleRejection)}createIssue(t,r){var n;(n=this.externalApi)==null||n.openUrl(`${t}?${new URLSearchParams(r).toString()}`)}handleError(t){this.handle(t,{errorName:"Unhandled"})}handleRejection(t){const r=t instanceof Error?t:new Error(JSON.stringify(t));this.handle(r,{errorName:"Unhandled rejection"})}};function fC(e){if(e instanceof Error)return e;if(e&&typeof e=="object"){if(e.message)return Object.assign(new Error(e.message),e);try{return new Error(JSON.stringify(e))}catch(t){return new Error(`Couldn't normalize error ${String(e)}: ${t}`)}}return new Error(`Can't normalize error ${String(e)}`)}var dC=uC;let hC=class{constructor(t={}){Se(this,"disposers",[]);Se(this,"format","{eventSource}#{eventName}:");Se(this,"formatters",{app:{"certificate-error":({args:t})=>this.arrayToObject(t.slice(1,4),["url","error","certificate"]),"child-process-gone":({args:t})=>t.length===1?t[0]:t,"render-process-gone":({args:[t,r]})=>r&&typeof r=="object"?{...r,...this.getWebContentsDetails(t)}:[]},webContents:{"console-message":({args:[t,r,n,i]})=>{if(!(t<3))return{message:r,source:`${i}:${n}`}},"did-fail-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"did-fail-provisional-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"plugin-crashed":({args:t})=>this.arrayToObject(t,["name","version"]),"preload-error":({args:t})=>this.arrayToObject(t,["preloadPath","error"])}});Se(this,"events",{app:{"certificate-error":!0,"child-process-gone":!0,"render-process-gone":!0},webContents:{"did-fail-load":!0,"did-fail-provisional-load":!0,"plugin-crashed":!0,"preload-error":!0,unresponsive:!0}});Se(this,"externalApi");Se(this,"level","error");Se(this,"scope","");this.setOptions(t)}setOptions({events:t,externalApi:r,level:n,logger:i,format:s,formatters:o,scope:a}){typeof t=="object"&&(this.events=t),typeof r=="object"&&(this.externalApi=r),typeof n=="string"&&(this.level=n),typeof i=="object"&&(this.logger=i),(typeof s=="string"||typeof s=="function")&&(this.format=s),typeof o=="object"&&(this.formatters=o),typeof a=="string"&&(this.scope=a)}startLogging(t={}){this.setOptions(t),this.disposeListeners();for(const r of this.getEventNames(this.events.app))this.disposers.push(this.externalApi.onAppEvent(r,(...n)=>{this.handleEvent({eventSource:"app",eventName:r,handlerArgs:n})}));for(const r of this.getEventNames(this.events.webContents))this.disposers.push(this.externalApi.onEveryWebContentsEvent(r,(...n)=>{this.handleEvent({eventSource:"webContents",eventName:r,handlerArgs:n})}))}stopLogging(){this.disposeListeners()}arrayToObject(t,r){const n={};return r.forEach((i,s)=>{n[i]=t[s]}),t.length>r.length&&(n.unknownArgs=t.slice(r.length)),n}disposeListeners(){this.disposers.forEach(t=>t()),this.disposers=[]}formatEventLog({eventName:t,eventSource:r,handlerArgs:n}){var c;const[i,...s]=n;if(typeof this.format=="function")return this.format({args:s,event:i,eventName:t,eventSource:r});const o=(c=this.formatters[r])==null?void 0:c[t];let a=s;if(typeof o=="function"&&(a=o({args:s,event:i,eventName:t,eventSource:r})),!a)return;const l={};return Array.isArray(a)?l.args=a:typeof a=="object"&&Object.assign(l,a),r==="webContents"&&Object.assign(l,this.getWebContentsDetails(i==null?void 0:i.sender)),[this.format.replace("{eventSource}",r==="app"?"App":"WebContents").replace("{eventName}",t),l]}getEventNames(t){return!t||typeof t!="object"?[]:Object.entries(t).filter(([r,n])=>n).map(([r])=>r)}getWebContentsDetails(t){if(!(t!=null&&t.loadURL))return{};try{return{webContents:{id:t.id,url:t.getURL()}}}catch{return{}}}handleEvent({eventName:t,eventSource:r,handlerArgs:n}){var s;const i=this.formatEventLog({eventName:t,eventSource:r,handlerArgs:n});if(i){const o=this.scope?this.logger.scope(this.scope):this.logger;(s=o==null?void 0:o[this.level])==null||s.call(o,...i)}}};var pC=hC,vo={transform:mC};function mC({logger:e,message:t,transport:r,initialData:n=(t==null?void 0:t.data)||[],transforms:i=r==null?void 0:r.transforms}){return i.reduce((s,o)=>typeof o=="function"?o({data:s,logger:e,message:t,transport:r}):s,n)}const{transform:gC}=vo;var sy={concatFirstStringElements:yC,formatScope:kh,formatText:jh,formatVariables:Lh,timeZoneFromOffset:oy,format({message:e,logger:t,transport:r,data:n=e==null?void 0:e.data}){switch(typeof r.format){case"string":return gC({message:e,logger:t,transforms:[Lh,kh,jh],transport:r,initialData:[r.format,...n]});case"function":return r.format({data:n,level:(e==null?void 0:e.level)||"info",logger:t,message:e,transport:r});default:return n}}};function yC({data:e}){return typeof e[0]!="string"||typeof e[1]!="string"||e[0].match(/%[1cdfiOos]/)?e:[`${e[0]} ${e[1]}`,...e.slice(2)]}function oy(e){const t=Math.abs(e),r=e>=0?"-":"+",n=Math.floor(t/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return`${r}${n}:${i}`}function kh({data:e,logger:t,message:r}){const{defaultLabel:n,labelLength:i}=(t==null?void 0:t.scope)||{},s=e[0];let o=r.scope;o||(o=n);let a;return o===""?a=i>0?"".padEnd(i+3):"":typeof o=="string"?a=` (${o})`.padEnd(i+3):a="",e[0]=s.replace("{scope}",a),e}function Lh({data:e,message:t}){let r=e[0];if(typeof r!="string")return e;r=r.replace("{level}]",`${t.level}]`.padEnd(6," "));const n=t.date||new Date;return e[0]=r.replace(/\{(\w+)}/g,(i,s)=>{var o;switch(s){case"level":return t.level||"info";case"logId":return t.logId;case"y":return n.getFullYear().toString(10);case"m":return(n.getMonth()+1).toString(10).padStart(2,"0");case"d":return n.getDate().toString(10).padStart(2,"0");case"h":return n.getHours().toString(10).padStart(2,"0");case"i":return n.getMinutes().toString(10).padStart(2,"0");case"s":return n.getSeconds().toString(10).padStart(2,"0");case"ms":return n.getMilliseconds().toString(10).padStart(3,"0");case"z":return oy(n.getTimezoneOffset());case"iso":return n.toISOString();default:return((o=t.variables)==null?void 0:o[s])||i}}).trim(),e}function jh({data:e}){const t=e[0];if(typeof t!="string")return e;if(t.lastIndexOf("{text}")===t.length-6)return e[0]=t.replace(/\s?{text}/,""),e[0]===""&&e.shift(),e;const n=t.split("{text}");let i=[];return n[0]!==""&&i.push(n[0]),i=i.concat(e.slice(1)),n[1]!==""&&i.push(n[1]),i}var ay={exports:{}};(function(e){const t=Zr;e.exports={serialize:n,maxDepth({data:i,transport:s,depth:o=(s==null?void 0:s.depth)??6}){if(!i)return i;if(o<1)return Array.isArray(i)?"[array]":typeof i=="object"&&i?"[object]":i;if(Array.isArray(i))return i.map(l=>e.exports.maxDepth({data:l,depth:o-1}));if(typeof i!="object"||i&&typeof i.toISOString=="function")return i;if(i===null)return null;if(i instanceof Error)return i;const a={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(a[l]=e.exports.maxDepth({data:i[l],depth:o-1}));return a},toJSON({data:i}){return JSON.parse(JSON.stringify(i,r()))},toString({data:i,transport:s}){const o=(s==null?void 0:s.inspectOptions)||{},a=i.map(l=>{if(l!==void 0)try{const u=JSON.stringify(l,r(),"  ");return u===void 0?void 0:JSON.parse(u)}catch{return l}});return t.formatWithOptions(o,...a)}};function r(i={}){const s=new WeakSet;return function(o,a){if(typeof a=="object"&&a!==null){if(s.has(a))return;s.add(a)}return n(o,a,i)}}function n(i,s,o={}){const a=(o==null?void 0:o.serializeMapAndSet)!==!1;return s instanceof Error?s.stack:s&&(typeof s=="function"?`[function] ${s.toString()}`:s instanceof Date?s.toISOString():a&&s instanceof Map&&Object.fromEntries?Object.fromEntries(s):a&&s instanceof Set&&Array.from?Array.from(s):s)}})(ay);var sl=ay.exports,Hf={transformStyles:Kl,applyAnsiStyles({data:e}){return Kl(e,vC,_C)},removeStyles({data:e}){return Kl(e,()=>"")}};const ly={unset:"\x1B[0m",black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"};function vC(e){const t=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return ly[t]||""}function _C(e){return e+ly.unset}function Kl(e,t,r){const n={};return e.reduce((i,s,o,a)=>{if(n[o])return i;if(typeof s=="string"){let l=o,u=!1;s=s.replace(/%[1cdfiOos]/g,c=>{if(l+=1,c!=="%c")return c;const f=a[l];return typeof f=="string"?(n[l]=!0,u=!0,t(f,s)):c}),u&&r&&(s=r(s))}return i.push(s),i},[])}const{concatFirstStringElements:$C,format:EC}=sy,{maxDepth:wC,toJSON:SC}=sl,{applyAnsiStyles:bC,removeStyles:PC}=Hf,{transform:TC}=vo,Mh={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};var OC=cy;const AC=process.platform==="win32"?">":"",Gf=`%c{h}:{i}:{s}.{ms}{scope}%c ${AC} {text}`;Object.assign(cy,{DEFAULT_FORMAT:Gf});function cy(e){return Object.assign(t,{format:Gf,level:"silly",transforms:[CC,EC,RC,$C,wC,SC],useStyles:process.env.FORCE_STYLES,writeFn({message:r}){(Mh[r.level]||Mh.info)(...r.data)}});function t(r){const n=TC({logger:e,message:r,transport:t});t.writeFn({message:{...r,data:n}})}}function CC({data:e,message:t,transport:r}){return r.format!==Gf?e:[`color:${IC(t.level)}`,"color:unset",...e]}function NC(e,t){if(typeof e=="boolean")return e;const n=t==="error"||t==="warn"?process.stderr:process.stdout;return n&&n.isTTY}function RC(e){const{message:t,transport:r}=e;return(NC(r.useStyles,t.level)?bC:PC)(e)}function IC(e){const t={error:"red",warn:"yellow",info:"cyan",default:"unset"};return t[e]||t.default}const DC=Ki,yn=Ue,Uh=Pn;let FC=class extends DC{constructor({path:r,writeOptions:n={encoding:"utf8",flag:"a",mode:438},writeAsync:i=!1}){super();Se(this,"asyncWriteQueue",[]);Se(this,"bytesWritten",0);Se(this,"hasActiveAsyncWriting",!1);Se(this,"path",null);Se(this,"initialSize");Se(this,"writeOptions",null);Se(this,"writeAsync",!1);this.path=r,this.writeOptions=n,this.writeAsync=i}get size(){return this.getSize()}clear(){try{return yn.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(r){return r.code==="ENOENT"?!0:(this.emit("error",r,this),!1)}}crop(r){try{const n=kC(this.path,r||4096);this.clear(),this.writeLine(`[log cropped]${Uh.EOL}${n}`)}catch(n){this.emit("error",new Error(`Couldn't crop file ${this.path}. ${n.message}`),this)}}getSize(){if(this.initialSize===void 0)try{const r=yn.statSync(this.path);this.initialSize=r.size}catch{this.initialSize=0}return this.initialSize+this.bytesWritten}increaseBytesWrittenCounter(r){this.bytesWritten+=Buffer.byteLength(r,this.writeOptions.encoding)}isNull(){return!1}nextAsyncWrite(){const r=this;if(this.hasActiveAsyncWriting||this.asyncWriteQueue.length===0)return;const n=this.asyncWriteQueue.join("");this.asyncWriteQueue=[],this.hasActiveAsyncWriting=!0,yn.writeFile(this.path,n,this.writeOptions,i=>{r.hasActiveAsyncWriting=!1,i?r.emit("error",new Error(`Couldn't write to ${r.path}. ${i.message}`),this):r.increaseBytesWrittenCounter(n),r.nextAsyncWrite()})}reset(){this.initialSize=void 0,this.bytesWritten=0}toString(){return this.path}writeLine(r){if(r+=Uh.EOL,this.writeAsync){this.asyncWriteQueue.push(r),this.nextAsyncWrite();return}try{yn.writeFileSync(this.path,r,this.writeOptions),this.increaseBytesWrittenCounter(r)}catch(n){this.emit("error",new Error(`Couldn't write to ${this.path}. ${n.message}`),this)}}};var uy=FC;function kC(e,t){const r=Buffer.alloc(t),n=yn.statSync(e),i=Math.min(n.size,t),s=Math.max(0,n.size-t),o=yn.openSync(e,"r"),a=yn.readSync(o,r,0,i,s);return yn.closeSync(o),r.toString("utf8",0,a)}const LC=uy;let jC=class extends LC{clear(){}crop(){}getSize(){return 0}isNull(){return!0}writeLine(){}};var MC=jC;const UC=Ki,xh=Ue,qh=Te,xC=uy,qC=MC;let VC=class extends UC{constructor(){super();Se(this,"store",{});this.emitError=this.emitError.bind(this)}provide({filePath:r,writeOptions:n,writeAsync:i=!1}){let s;try{if(r=qh.resolve(r),this.store[r])return this.store[r];s=this.createFile({filePath:r,writeOptions:n,writeAsync:i})}catch(o){s=new qC({path:r}),this.emitError(o,s)}return s.on("error",this.emitError),this.store[r]=s,s}createFile({filePath:r,writeOptions:n,writeAsync:i}){return this.testFileWriting(r),new xC({path:r,writeOptions:n,writeAsync:i})}emitError(r,n){this.emit("error",r,n)}testFileWriting(r){xh.mkdirSync(qh.dirname(r),{recursive:!0}),xh.writeFileSync(r,"",{flag:"a"})}};var BC=VC;const Yl=Ue,zC=Pn,_s=Te,HC=BC,{transform:GC}=vo,{removeStyles:WC}=Hf,{format:KC}=sy,{toString:YC}=sl;var JC=QC;const XC=new HC;function QC(e,{registry:t=XC,externalApi:r}={}){let n;return t.listenerCount("error")<1&&t.on("error",(u,c)=>{o(`Can't write to ${c}`,u)}),Object.assign(i,{fileName:ZC(e.variables.processType),format:"[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",getFile:a,inspectOptions:{depth:5},level:"silly",maxSize:1024**2,readAllLogs:l,sync:!0,transforms:[WC,KC,YC],writeOptions:{flag:"a",mode:438,encoding:"utf8"},archiveLogFn(u){const c=u.toString(),f=_s.parse(c);try{Yl.renameSync(c,_s.join(f.dir,`${f.name}.old${f.ext}`))}catch(h){o("Could not rotate log",h);const p=Math.round(i.maxSize/4);u.crop(Math.min(p,256*1024))}},resolvePathFn(u){return _s.join(u.libraryDefaultDir,u.fileName)}});function i(u){const c=a(u);i.maxSize>0&&c.size>i.maxSize&&(i.archiveLogFn(c),c.reset());const h=GC({logger:e,message:u,transport:i});c.writeLine(h)}function s(){n||(n=Object.create(Object.prototype,{...Object.getOwnPropertyDescriptors(r.getPathVariables()),fileName:{get(){return i.fileName},enumerable:!0}}),typeof i.archiveLog=="function"&&(i.archiveLogFn=i.archiveLog,o("archiveLog is deprecated. Use archiveLogFn instead")),typeof i.resolvePath=="function"&&(i.resolvePathFn=i.resolvePath,o("resolvePath is deprecated. Use resolvePathFn instead")))}function o(u,c=null,f="error"){const h=[`electron-log.transports.file: ${u}`];c&&h.push(c),e.transports.console({data:h,date:new Date,level:f})}function a(u){s();const c=i.resolvePathFn(n,u);return t.provide({filePath:c,writeAsync:!i.sync,writeOptions:i.writeOptions})}function l({fileFilter:u=c=>c.endsWith(".log")}={}){const c=_s.dirname(i.resolvePathFn(n));return Yl.readdirSync(c).map(f=>_s.join(c,f)).filter(u).map(f=>{try{return{path:f,lines:Yl.readFileSync(f,"utf8").split(zC.EOL)}}catch{return null}}).filter(Boolean)}}function ZC(e=process.type){switch(e){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}const{maxDepth:eN,toJSON:tN}=sl,{transform:rN}=vo;var nN=iN;function iN(e,{externalApi:t}){return Object.assign(r,{depth:3,eventId:"__ELECTRON_LOG_IPC__",level:e.isDev?"silly":!1,transforms:[tN,eN]}),t!=null&&t.isElectron()?r:void 0;function r(n){t==null||t.sendIpc(r.eventId,{...n,data:rN({logger:e,message:n,transport:r})})}}const sN=$m,oN=Pv,{transform:aN}=vo,{removeStyles:lN}=Hf,{toJSON:cN,maxDepth:uN}=sl;var fN=dN;function dN(e){return Object.assign(t,{client:{name:"electron-application"},depth:6,level:!1,requestOptions:{},transforms:[lN,cN,uN],makeBodyFn({message:r}){return JSON.stringify({client:t.client,data:r.data,date:r.date.getTime(),level:r.level,scope:r.scope,variables:r.variables})},processErrorFn({error:r}){e.processMessage({data:[`electron-log: can't POST ${t.url}`,r],level:"warn"},{transports:["console","file"]})},sendRequestFn({serverUrl:r,requestOptions:n,body:i}){const o=(r.startsWith("https:")?oN:sN).request(r,{method:"POST",...n,headers:{"Content-Type":"application/json","Content-Length":i.length,...n.headers}});return o.write(i),o.end(),o}});function t(r){if(!t.url)return;const n=t.makeBodyFn({logger:e,message:{...r,data:aN({logger:e,message:r,transport:t})},transport:t}),i=t.sendRequestFn({serverUrl:t.url,requestOptions:t.requestOptions,body:Buffer.from(n,"utf8")});i.on("error",s=>t.processErrorFn({error:s,logger:e,message:r,request:i,transport:t}))}}const Vh=cC,hN=dC,pN=pC,mN=OC,gN=JC,yN=nN,vN=fN;var _N=$N;function $N({dependencies:e,initializeFn:t}){var n;const r=new Vh({dependencies:e,errorHandler:new hN,eventLogger:new pN,initializeFn:t,isDev:(n=e.externalApi)==null?void 0:n.isDev(),logId:"default",transportFactories:{console:mN,file:gN,ipc:yN,remote:vN},variables:{processType:"main"}});return r.default=r,r.Logger=Vh,r.processInternalErrorFn=i=>{r.transports.console.writeFn({message:{data:["Unhandled electron-log error",i],level:"error"}})},r}const EN=oe,wN=QA,{initialize:SN}=rC,bN=_N,Wf=new wN({electron:EN}),ol=bN({dependencies:{externalApi:Wf},initializeFn:SN});var PN=ol;Wf.onIpc("__ELECTRON_LOG__",(e,t)=>{t.scope&&ol.Logger.getInstance(t).scope(t.scope);const r=new Date(t.date);fy({...t,date:r.getTime()?r:new Date})});Wf.onIpcInvoke("__ELECTRON_LOG__",(e,{cmd:t="",logId:r})=>{switch(t){case"getOptions":return{levels:ol.Logger.getInstance({logId:r}).levels,logId:r};default:return fy({data:[`Unknown cmd '${t}'`],level:"error"}),{}}});function fy(e){var t;(t=ol.Logger.getInstance(e))==null||t.processMessage(e)}const TN=PN;var ON=TN;const Zo=wm(ON);var Jl={},Xl={},ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.CancellationError=ii.CancellationToken=void 0;const AN=Ki;class CN extends AN.EventEmitter{get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new Uc);const r=()=>{if(n!=null)try{this.removeListener("cancel",n),n=null}catch{}};let n=null;return new Promise((i,s)=>{let o=null;if(n=()=>{try{o!=null&&(o(),o=null)}finally{s(new Uc)}},this.cancelled){n();return}this.onCancel(n),t(i,s,a=>{o=a})}).then(i=>(r(),i)).catch(i=>{throw r(),i})}removeParentCancelHandler(){const t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}ii.CancellationToken=CN;class Uc extends Error{constructor(){super("cancelled")}}ii.CancellationError=Uc;var Xe={},xc={exports:{}},ea={exports:{}},Ql,Bh;function NN(){if(Bh)return Ql;Bh=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;Ql=function(c,f){f=f||{};var h=typeof c;if(h==="string"&&c.length>0)return o(c);if(h==="number"&&isFinite(c))return f.long?l(c):a(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function o(c){if(c=String(c),!(c.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(f){var h=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(c){var f=Math.abs(c);return f>=n?Math.round(c/n)+"d":f>=r?Math.round(c/r)+"h":f>=t?Math.round(c/t)+"m":f>=e?Math.round(c/e)+"s":c+"ms"}function l(c){var f=Math.abs(c);return f>=n?u(c,f,n,"day"):f>=r?u(c,f,r,"hour"):f>=t?u(c,f,t,"minute"):f>=e?u(c,f,e,"second"):c+" ms"}function u(c,f,h,p){var g=f>=h*1.5;return Math.round(c/h)+" "+p+(g?"s":"")}return Ql}var Zl,zh;function dy(){if(zh)return Zl;zh=1;function e(t){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=s,n.enabled=a,n.humanize=NN(),n.destroy=c,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let h=0;for(let p=0;p<f.length;p++)h=(h<<5)-h+f.charCodeAt(p),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=r;function n(f){let h,p=null,g,$;function v(...y){if(!v.enabled)return;const m=v,S=Number(new Date),A=S-(h||S);m.diff=A,m.prev=h,m.curr=S,h=S,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let M=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(b,D)=>{if(b==="%%")return"%";M++;const T=n.formatters[D];if(typeof T=="function"){const B=y[M];b=T.call(m,B),y.splice(M,1),M--}return b}),n.formatArgs.call(m,y),(m.log||n.log).apply(m,y)}return v.namespace=f,v.useColors=n.useColors(),v.color=n.selectColor(f),v.extend=i,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==n.namespaces&&(g=n.namespaces,$=n.enabled(f)),$),set:y=>{p=y}}),typeof n.init=="function"&&n.init(v),v}function i(f,h){const p=n(this.namespace+(typeof h>"u"?":":h)+f);return p.log=this.log,p}function s(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let h;const p=(typeof f=="string"?f:"").split(/[\s,]+/),g=p.length;for(h=0;h<g;h++)p[h]&&(f=p[h].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.slice(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function o(){const f=[...n.names.map(l),...n.skips.map(l).map(h=>"-"+h)].join(",");return n.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let h,p;for(h=0,p=n.skips.length;h<p;h++)if(n.skips[h].test(f))return!1;for(h=0,p=n.names.length;h<p;h++)if(n.names[h].test(f))return!0;return!1}function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Zl=e,Zl}var Hh;function RN(){return Hh||(Hh=1,function(e,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let c=0,f=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(c++,h==="%c"&&(f=c))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=dy()(t);const{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}(ea,ea.exports)),ea.exports}var ta={exports:{}},ec,Gh;function IN(){return Gh||(Gh=1,ec=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}),ec}var tc,Wh;function DN(){if(Wh)return tc;Wh=1;const e=Pn,t=IN(),r=process.env;let n;t("no-color")||t("no-colors")||t("color=false")?n=!1:(t("color")||t("colors")||t("color=true")||t("color=always"))&&(n=!0),"FORCE_COLOR"in r&&(n=r.FORCE_COLOR.length===0||parseInt(r.FORCE_COLOR,10)!==0);function i(a){return a===0?!1:{level:a,hasBasic:!0,has256:a>=2,has16m:a>=3}}function s(a){if(n===!1)return 0;if(t("color=16m")||t("color=full")||t("color=truecolor"))return 3;if(t("color=256"))return 2;if(a&&!a.isTTY&&n!==!0)return 0;const l=n?1:0;if(process.platform==="win32"){const u=e.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(u[0])>=10&&Number(u[2])>=10586?Number(u[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(u=>u in r)||r.CI_NAME==="codeship"?1:l;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if(r.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in r){const u=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return u>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:(r.TERM==="dumb",l)}function o(a){const l=s(a);return i(l)}return tc={supportsColor:o,stdout:o(process.stdout),stderr:o(process.stderr)},tc}var Kh;function FN(){return Kh||(Kh=1,function(e,t){const r=Tv,n=Zr;t.init=c,t.log=a,t.formatArgs=s,t.save=l,t.load=u,t.useColors=i,t.destroy=n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const h=DN();h&&(h.stderr||h).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(process.env).filter(h=>/^debug_/i.test(h)).reduce((h,p)=>{const g=p.substring(6).toLowerCase().replace(/_([a-z])/g,(v,y)=>y.toUpperCase());let $=process.env[p];return/^(yes|on|true|enabled)$/i.test($)?$=!0:/^(no|off|false|disabled)$/i.test($)?$=!1:$==="null"?$=null:$=Number($),h[g]=$,h},{});function i(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:r.isatty(process.stderr.fd)}function s(h){const{namespace:p,useColors:g}=this;if(g){const $=this.color,v="\x1B[3"+($<8?$:"8;5;"+$),y=`  ${v};1m${p} \x1B[0m`;h[0]=y+h[0].split(`
`).join(`
`+y),h.push(v+"m+"+e.exports.humanize(this.diff)+"\x1B[0m")}else h[0]=o()+p+" "+h[0]}function o(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function a(...h){return process.stderr.write(n.format(...h)+`
`)}function l(h){h?process.env.DEBUG=h:delete process.env.DEBUG}function u(){return process.env.DEBUG}function c(h){h.inspectOpts={};const p=Object.keys(t.inspectOpts);for(let g=0;g<p.length;g++)h.inspectOpts[p[g]]=t.inspectOpts[p[g]]}e.exports=dy()(t);const{formatters:f}=e.exports;f.o=function(h){return this.inspectOpts.colors=this.useColors,n.inspect(h,this.inspectOpts).split(`
`).map(p=>p.trim()).join(" ")},f.O=function(h){return this.inspectOpts.colors=this.useColors,n.inspect(h,this.inspectOpts)}}(ta,ta.exports)),ta.exports}typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?xc.exports=RN():xc.exports=FN();var kN=xc.exports,_o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.ProgressCallbackTransform=void 0;const LN=oo;class jN extends LN.Transform{constructor(t,r,n){super(),this.total=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}}_o.ProgressCallbackTransform=jN;var Yh;function MN(){if(Yh)return Xe;Yh=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.safeStringifyJson=Xe.configureRequestOptions=Xe.safeGetHeader=Xe.DigestTransform=Xe.configureRequestUrl=Xe.configureRequestOptionsFromUrl=Xe.HttpExecutor=Xe.parseJson=Xe.HttpError=Xe.createHttpError=void 0;const e=Yi,t=kN,r=Ue,n=oo,i=Ji,s=ii,o=ft(),a=_o,l=(0,t.default)("electron-builder");function u(O,b=null){return new f(O.statusCode||-1,`${O.statusCode} ${O.statusMessage}`+(b==null?"":`
`+JSON.stringify(b,null,"  "))+`
Headers: `+M(O.headers),b)}Xe.createHttpError=u;const c=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class f extends Error{constructor(b,D=`HTTP error: ${c.get(b)||b}`,T=null){super(D),this.statusCode=b,this.description=T,this.name="HttpError",this.code=`HTTP_ERROR_${b}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}Xe.HttpError=f;function h(O){return O.then(b=>b==null||b.length===0?null:JSON.parse(b))}Xe.parseJson=h;class p{constructor(){this.maxRedirects=10}request(b,D=new s.CancellationToken,T){A(b);const B=T==null?void 0:JSON.stringify(T),J=B?Buffer.from(B):void 0;if(J!=null){l(B);const{headers:H,...Y}=b;b={method:"post",headers:{"Content-Type":"application/json","Content-Length":J.length,...H},...Y}}return this.doApiRequest(b,D,H=>H.end(J))}doApiRequest(b,D,T,B=0){return l.enabled&&l(`Request: ${M(b)}`),D.createPromise((J,H,Y)=>{const K=this.createRequest(b,te=>{try{this.handleResponse(te,b,D,J,H,B,T)}catch(re){H(re)}});this.addErrorAndTimeoutHandlers(K,H,b.timeout),this.addRedirectHandlers(K,b,H,B,te=>{this.doApiRequest(te,D,T,B).then(J).catch(H)}),T(K,H),Y(()=>K.abort())})}addRedirectHandlers(b,D,T,B,J){}addErrorAndTimeoutHandlers(b,D,T=60*1e3){this.addTimeOutHandler(b,D,T),b.on("error",D),b.on("aborted",()=>{D(new Error("Request has been aborted by the server"))})}handleResponse(b,D,T,B,J,H,Y){var K;if(l.enabled&&l(`Response: ${b.statusCode} ${b.statusMessage}, request options: ${M(D)}`),b.statusCode===404){J(u(b,`method: ${D.method||"GET"} url: ${D.protocol||"https:"}//${D.hostname}${D.port?`:${D.port}`:""}${D.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(b.statusCode===204){B();return}const te=(K=b.statusCode)!==null&&K!==void 0?K:0,re=te>=300&&te<400,X=m(b,"location");if(re&&X!=null){if(H>this.maxRedirects){J(this.createMaxRedirectError());return}this.doApiRequest(p.prepareRedirectUrlOptions(X,D),T,Y,H).then(B).catch(J);return}b.setEncoding("utf8");let I="";b.on("error",J),b.on("data",j=>I+=j),b.on("end",()=>{try{if(b.statusCode!=null&&b.statusCode>=400){const j=m(b,"content-type"),N=j!=null&&(Array.isArray(j)?j.find(w=>w.includes("json"))!=null:j.includes("json"));J(u(b,`method: ${D.method||"GET"} url: ${D.protocol||"https:"}//${D.hostname}${D.port?`:${D.port}`:""}${D.path}

          Data:
          ${N?JSON.stringify(JSON.parse(I)):I}
          `))}else B(I.length===0?null:I)}catch(j){J(j)}})}async downloadToBuffer(b,D){return await D.cancellationToken.createPromise((T,B,J)=>{const H=[],Y={headers:D.headers||void 0,redirect:"manual"};$(b,Y),A(Y),this.doDownload(Y,{destination:null,options:D,onCancel:J,callback:K=>{K==null?T(Buffer.concat(H)):B(K)},responseHandler:(K,te)=>{let re=0;K.on("data",X=>{if(re+=X.length,re>524288e3){te(new Error("Maximum allowed size is 500 MB"));return}H.push(X)}),K.on("end",()=>{te(null)})}},0)})}doDownload(b,D,T){const B=this.createRequest(b,J=>{if(J.statusCode>=400){D.callback(new Error(`Cannot download "${b.protocol||"https:"}//${b.hostname}${b.path}", status ${J.statusCode}: ${J.statusMessage}`));return}J.on("error",D.callback);const H=m(J,"location");if(H!=null){T<this.maxRedirects?this.doDownload(p.prepareRedirectUrlOptions(H,b),D,T++):D.callback(this.createMaxRedirectError());return}D.responseHandler==null?S(D,J):D.responseHandler(J,D.callback)});this.addErrorAndTimeoutHandlers(B,D.callback,b.timeout),this.addRedirectHandlers(B,b,D.callback,T,J=>{this.doDownload(J,D,T++)}),B.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(b,D,T){b.on("socket",B=>{B.setTimeout(T,()=>{b.abort(),D(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(b,D){const T=g(b,{...D}),B=T.headers;if(B!=null&&B.authorization){const J=new i.URL(b);(J.hostname.endsWith(".amazonaws.com")||J.searchParams.has("X-Amz-Credential"))&&delete B.authorization}return T}static retryOnServerError(b,D=3){for(let T=0;;T++)try{return b()}catch(B){if(T<D&&(B instanceof f&&B.isServerError()||B.code==="EPIPE"))continue;throw B}}}Xe.HttpExecutor=p;function g(O,b){const D=A(b);return $(new i.URL(O),D),D}Xe.configureRequestOptionsFromUrl=g;function $(O,b){b.protocol=O.protocol,b.hostname=O.hostname,O.port?b.port=O.port:b.port&&delete b.port,b.path=O.pathname+O.search}Xe.configureRequestUrl=$;class v extends n.Transform{get actual(){return this._actual}constructor(b,D="sha512",T="base64"){super(),this.expected=b,this.algorithm=D,this.encoding=T,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,e.createHash)(D)}_transform(b,D,T){this.digester.update(b),T(null,b)}_flush(b){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(D){b(D);return}b(null)}validate(){if(this._actual==null)throw(0,o.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,o.newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}Xe.DigestTransform=v;function y(O,b,D){return O!=null&&b!=null&&O!==b?(D(new Error(`checksum mismatch: expected ${b} but got ${O} (X-Checksum-Sha2 header)`)),!1):!0}function m(O,b){const D=O.headers[b];return D==null?null:Array.isArray(D)?D.length===0?null:D[D.length-1]:D}Xe.safeGetHeader=m;function S(O,b){if(!y(m(b,"X-Checksum-Sha2"),O.options.sha2,O.callback))return;const D=[];if(O.options.onProgress!=null){const H=m(b,"content-length");H!=null&&D.push(new a.ProgressCallbackTransform(parseInt(H,10),O.options.cancellationToken,O.options.onProgress))}const T=O.options.sha512;T!=null?D.push(new v(T,"sha512",T.length===128&&!T.includes("+")&&!T.includes("Z")&&!T.includes("=")?"hex":"base64")):O.options.sha2!=null&&D.push(new v(O.options.sha2,"sha256","hex"));const B=(0,r.createWriteStream)(O.destination);D.push(B);let J=b;for(const H of D)H.on("error",Y=>{B.close(),O.options.cancellationToken.cancelled||O.callback(Y)}),J=J.pipe(H);B.on("finish",()=>{B.close(O.callback)})}function A(O,b,D){D!=null&&(O.method=D),O.headers={...O.headers};const T=O.headers;return b!=null&&(T.authorization=b.startsWith("Basic")||b.startsWith("Bearer")?b:`token ${b}`),T["User-Agent"]==null&&(T["User-Agent"]="electron-builder"),(D==null||D==="GET"||T["Cache-Control"]==null)&&(T["Cache-Control"]="no-cache"),O.protocol==null&&process.versions.electron!=null&&(O.protocol="https:"),O}Xe.configureRequestOptions=A;function M(O,b){return JSON.stringify(O,(D,T)=>D.endsWith("Authorization")||D.endsWith("authorization")||D.endsWith("Password")||D.endsWith("PASSWORD")||D.endsWith("Token")||D.includes("password")||D.includes("token")||b!=null&&b.has(D)?"<stripped sensitive data>":T,2)}return Xe.safeStringifyJson=M,Xe}var qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.getS3LikeProviderBaseUrl=qi.githubUrl=void 0;function UN(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`}qi.githubUrl=UN;function xN(e){const t=e.provider;if(t==="s3")return qN(e);if(t==="spaces")return VN(e);throw new Error(`Not supported provider: ${t}`)}qi.getS3LikeProviderBaseUrl=xN;function qN(e){let t;if(e.accelerate==!0)t=`https://${e.bucket}.s3-accelerate.amazonaws.com`;else if(e.endpoint!=null)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(e.region==null)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);e.region==="us-east-1"?t=`https://s3.amazonaws.com/${e.bucket}`:t=`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else e.region==="cn-north-1"?t=`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:t=`https://${e.bucket}.s3.amazonaws.com`;return hy(t,e.path)}function hy(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function VN(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return hy(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}var al={};Object.defineProperty(al,"__esModule",{value:!0});al.parseDn=void 0;function BN(e){let t=!1,r=null,n="",i=0;e=e.trim();const s=new Map;for(let o=0;o<=e.length;o++){if(o===e.length){r!==null&&s.set(r,n);break}const a=e[o];if(t){if(a==='"'){t=!1;continue}}else{if(a==='"'){t=!0;continue}if(a==="\\"){o++;const l=parseInt(e.slice(o,o+2),16);Number.isNaN(l)?n+=e[o]:(o++,n+=String.fromCharCode(l));continue}if(r===null&&a==="="){r=n,n="";continue}if(a===","||a===";"||a==="+"){r!==null&&s.set(r,n),r=null,n="";continue}}if(a===" "&&!t){if(n.length===0)continue;if(o>i){let l=o;for(;e[l]===" ";)l++;i=l}if(i>=e.length||e[i]===","||e[i]===";"||r===null&&e[i]==="="||r!==null&&e[i]==="+"){o=i-1;continue}}n+=a}return s}al.parseDn=BN;var Ln={},Jh;function zN(){if(Jh)return Ln;Jh=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.nil=Ln.UUID=void 0;const e=Yi,t=ft(),r="options.name must be either a string or a Buffer",n=(0,e.randomBytes)(16);n[0]=n[0]|1;const i={},s=[];for(let f=0;f<256;f++){const h=(f+256).toString(16).substr(1);i[h]=f,s[f]=h}class o{constructor(h){this.ascii=null,this.binary=null;const p=o.check(h);if(!p)throw new Error("not a UUID");this.version=p.version,p.format==="ascii"?this.ascii=h:this.binary=h}static v5(h,p){return u(h,"sha1",80,p)}toString(){return this.ascii==null&&(this.ascii=c(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(h,p=0){if(typeof h=="string")return h=h.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(h)?h==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(i[h[14]+h[15]]&240)>>4,variant:a((i[h[19]+h[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(h)){if(h.length<p+16)return!1;let g=0;for(;g<16&&h[p+g]===0;g++);return g===16?{version:void 0,variant:"nil",format:"binary"}:{version:(h[p+6]&240)>>4,variant:a((h[p+8]&224)>>5),format:"binary"}}throw(0,t.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(h){const p=Buffer.allocUnsafe(16);let g=0;for(let $=0;$<16;$++)p[$]=i[h[g++]+h[g++]],($===3||$===5||$===7||$===9)&&(g+=1);return p}}Ln.UUID=o,o.OID=o.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function a(f){switch(f){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var l;(function(f){f[f.ASCII=0]="ASCII",f[f.BINARY=1]="BINARY",f[f.OBJECT=2]="OBJECT"})(l||(l={}));function u(f,h,p,g,$=l.ASCII){const v=(0,e.createHash)(h);if(typeof f!="string"&&!Buffer.isBuffer(f))throw(0,t.newError)(r,"ERR_INVALID_UUID_NAME");v.update(g),v.update(f);const m=v.digest();let S;switch($){case l.BINARY:m[6]=m[6]&15|p,m[8]=m[8]&63|128,S=m;break;case l.OBJECT:m[6]=m[6]&15|p,m[8]=m[8]&63|128,S=new o(m);break;default:S=s[m[0]]+s[m[1]]+s[m[2]]+s[m[3]]+"-"+s[m[4]]+s[m[5]]+"-"+s[m[6]&15|p]+s[m[7]]+"-"+s[m[8]&63|128]+s[m[9]]+"-"+s[m[10]]+s[m[11]]+s[m[12]]+s[m[13]]+s[m[14]]+s[m[15]];break}return S}function c(f){return s[f[0]]+s[f[1]]+s[f[2]]+s[f[3]]+"-"+s[f[4]]+s[f[5]]+"-"+s[f[6]]+s[f[7]]+"-"+s[f[8]]+s[f[9]]+"-"+s[f[10]]+s[f[11]]+s[f[12]]+s[f[13]]+s[f[14]]+s[f[15]]}return Ln.nil=new o("00000000-0000-0000-0000-000000000000"),Ln}var jn={},py={};(function(e){(function(t){t.parser=function(P,_){return new n(P,_)},t.SAXParser=n,t.SAXStream=c,t.createStream=u,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(P,_){if(!(this instanceof n))return new n(P,_);var G=this;s(G),G.q=G.c="",G.bufferCheckPosition=t.MAX_BUFFER_LENGTH,G.opt=_||{},G.opt.lowercase=G.opt.lowercase||G.opt.lowercasetags,G.looseCase=G.opt.lowercase?"toLowerCase":"toUpperCase",G.tags=[],G.closed=G.closedRoot=G.sawRoot=!1,G.tag=G.error=null,G.strict=!!P,G.noscript=!!(P||G.opt.noscript),G.state=T.BEGIN,G.strictEntities=G.opt.strictEntities,G.ENTITIES=G.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),G.attribList=[],G.opt.xmlns&&(G.ns=Object.create($)),G.trackPosition=G.opt.position!==!1,G.trackPosition&&(G.position=G.line=G.column=0),J(G,"onready")}Object.create||(Object.create=function(P){function _(){}_.prototype=P;var G=new _;return G}),Object.keys||(Object.keys=function(P){var _=[];for(var G in P)P.hasOwnProperty(G)&&_.push(G);return _});function i(P){for(var _=Math.max(t.MAX_BUFFER_LENGTH,10),G=0,U=0,x=r.length;U<x;U++){var z=P[r[U]].length;if(z>_)switch(r[U]){case"textNode":Y(P);break;case"cdata":H(P,"oncdata",P.cdata),P.cdata="";break;case"script":H(P,"onscript",P.script),P.script="";break;default:te(P,"Max buffer length exceeded: "+r[U])}G=Math.max(G,z)}var ee=t.MAX_BUFFER_LENGTH-G;P.bufferCheckPosition=ee+P.position}function s(P){for(var _=0,G=r.length;_<G;_++)P[r[_]]=""}function o(P){Y(P),P.cdata!==""&&(H(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(H(P,"onscript",P.script),P.script="")}n.prototype={end:function(){re(this)},write:L,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=require("stream").Stream}catch{a=function(){}}a||(a=function(){});var l=t.EVENTS.filter(function(P){return P!=="error"&&P!=="end"});function u(P,_){return new c(P,_)}function c(P,_){if(!(this instanceof c))return new c(P,_);a.apply(this),this._parser=new n(P,_),this.writable=!0,this.readable=!0;var G=this;this._parser.onend=function(){G.emit("end")},this._parser.onerror=function(U){G.emit("error",U),G._parser.error=null},this._decoder=null,l.forEach(function(U){Object.defineProperty(G,"on"+U,{get:function(){return G._parser["on"+U]},set:function(x){if(!x)return G.removeAllListeners(U),G._parser["on"+U]=x,x;G.on(U,x)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(a.prototype,{constructor:{value:c}}),c.prototype.write=function(P){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(P)){if(!this._decoder){var _=Ov.StringDecoder;this._decoder=new _("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},c.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},c.prototype.on=function(P,_){var G=this;return!G._parser["on"+P]&&l.indexOf(P)!==-1&&(G._parser["on"+P]=function(){var U=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);U.splice(0,0,P),G.emit.apply(G,U)}),a.prototype.on.call(G,P,_)};var f="[CDATA[",h="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",$={xml:p,xmlns:g},v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function A(P){return P===" "||P===`
`||P==="\r"||P==="	"}function M(P){return P==='"'||P==="'"}function O(P){return P===">"||A(P)}function b(P,_){return P.test(_)}function D(P,_){return!b(P,_)}var T=0;t.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(P){var _=t.ENTITIES[P],G=typeof _=="number"?String.fromCharCode(_):_;t.ENTITIES[P]=G});for(var B in t.STATE)t.STATE[t.STATE[B]]=B;T=t.STATE;function J(P,_,G){P[_]&&P[_](G)}function H(P,_,G){P.textNode&&Y(P),J(P,_,G)}function Y(P){P.textNode=K(P.opt,P.textNode),P.textNode&&J(P,"ontext",P.textNode),P.textNode=""}function K(P,_){return P.trim&&(_=_.trim()),P.normalize&&(_=_.replace(/\s+/g," ")),_}function te(P,_){return Y(P),P.trackPosition&&(_+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),_=new Error(_),P.error=_,J(P,"onerror",_),P}function re(P){return P.sawRoot&&!P.closedRoot&&X(P,"Unclosed root tag"),P.state!==T.BEGIN&&P.state!==T.BEGIN_WHITESPACE&&P.state!==T.TEXT&&te(P,"Unexpected end"),Y(P),P.c="",P.closed=!0,J(P,"onend"),n.call(P,P.strict,P.opt),P}function X(P,_){if(typeof P!="object"||!(P instanceof n))throw new Error("bad call to strictFail");P.strict&&te(P,_)}function I(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var _=P.tags[P.tags.length-1]||P,G=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(G.ns=_.ns),P.attribList.length=0,H(P,"onopentagstart",G)}function j(P,_){var G=P.indexOf(":"),U=G<0?["",P]:P.split(":"),x=U[0],z=U[1];return _&&P==="xmlns"&&(x="xmlns",z=""),{prefix:x,local:z}}function N(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName)){P.attribName=P.attribValue="";return}if(P.opt.xmlns){var _=j(P.attribName,!0),G=_.prefix,U=_.local;if(G==="xmlns")if(U==="xml"&&P.attribValue!==p)X(P,"xml: prefix must be bound to "+p+`
Actual: `+P.attribValue);else if(U==="xmlns"&&P.attribValue!==g)X(P,"xmlns: prefix must be bound to "+g+`
Actual: `+P.attribValue);else{var x=P.tag,z=P.tags[P.tags.length-1]||P;x.ns===z.ns&&(x.ns=Object.create(z.ns)),x.ns[U]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,H(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}function w(P,_){if(P.opt.xmlns){var G=P.tag,U=j(P.tagName);G.prefix=U.prefix,G.local=U.local,G.uri=G.ns[U.prefix]||"",G.prefix&&!G.uri&&(X(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),G.uri=U.prefix);var x=P.tags[P.tags.length-1]||P;G.ns&&x.ns!==G.ns&&Object.keys(G.ns).forEach(function(et){H(P,"onopennamespace",{prefix:et,uri:G.ns[et]})});for(var z=0,ee=P.attribList.length;z<ee;z++){var ie=P.attribList[z],se=ie[0],le=ie[1],me=j(se,!0),Re=me.prefix,ze=me.local,qe=Re===""?"":G.ns[Re]||"",Fe={name:se,value:le,prefix:Re,local:ze,uri:qe};Re&&Re!=="xmlns"&&!qe&&(X(P,"Unbound namespace prefix: "+JSON.stringify(Re)),Fe.uri=Re),P.tag.attributes[se]=Fe,H(P,"onattribute",Fe)}P.attribList.length=0}P.tag.isSelfClosing=!!_,P.sawRoot=!0,P.tags.push(P.tag),H(P,"onopentag",P.tag),_||(!P.noscript&&P.tagName.toLowerCase()==="script"?P.state=T.SCRIPT:P.state=T.TEXT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function R(P){if(!P.tagName){X(P,"Weird empty close tag."),P.textNode+="</>",P.state=T.TEXT;return}if(P.script){if(P.tagName!=="script"){P.script+="</"+P.tagName+">",P.tagName="",P.state=T.SCRIPT;return}H(P,"onscript",P.script),P.script=""}var _=P.tags.length,G=P.tagName;P.strict||(G=G[P.looseCase]());for(var U=G;_--;){var x=P.tags[_];if(x.name!==U)X(P,"Unexpected close tag");else break}if(_<0){X(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",P.state=T.TEXT;return}P.tagName=G;for(var z=P.tags.length;z-- >_;){var ee=P.tag=P.tags.pop();P.tagName=P.tag.name,H(P,"onclosetag",P.tagName);var ie={};for(var se in ee.ns)ie[se]=ee.ns[se];var le=P.tags[P.tags.length-1]||P;P.opt.xmlns&&ee.ns!==le.ns&&Object.keys(ee.ns).forEach(function(me){var Re=ee.ns[me];H(P,"onclosenamespace",{prefix:me,uri:Re})})}_===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=T.TEXT}function C(P){var _=P.entity,G=_.toLowerCase(),U,x="";return P.ENTITIES[_]?P.ENTITIES[_]:P.ENTITIES[G]?P.ENTITIES[G]:(_=G,_.charAt(0)==="#"&&(_.charAt(1)==="x"?(_=_.slice(2),U=parseInt(_,16),x=U.toString(16)):(_=_.slice(1),U=parseInt(_,10),x=U.toString(10))),_=_.replace(/^0+/,""),isNaN(U)||x.toLowerCase()!==_?(X(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint(U))}function d(P,_){_==="<"?(P.state=T.OPEN_WAKA,P.startTagPosition=P.position):A(_)||(X(P,"Non-whitespace before first tag."),P.textNode=_,P.state=T.TEXT)}function E(P,_){var G="";return _<P.length&&(G=P.charAt(_)),G}function L(P){var _=this;if(this.error)throw this.error;if(_.closed)return te(_,"Cannot write after close. Assign an onready handler.");if(P===null)return re(_);typeof P=="object"&&(P=P.toString());for(var G=0,U="";U=E(P,G++),_.c=U,!!U;)switch(_.trackPosition&&(_.position++,U===`
`?(_.line++,_.column=0):_.column++),_.state){case T.BEGIN:if(_.state=T.BEGIN_WHITESPACE,U==="\uFEFF")continue;d(_,U);continue;case T.BEGIN_WHITESPACE:d(_,U);continue;case T.TEXT:if(_.sawRoot&&!_.closedRoot){for(var x=G-1;U&&U!=="<"&&U!=="&";)U=E(P,G++),U&&_.trackPosition&&(_.position++,U===`
`?(_.line++,_.column=0):_.column++);_.textNode+=P.substring(x,G-1)}U==="<"&&!(_.sawRoot&&_.closedRoot&&!_.strict)?(_.state=T.OPEN_WAKA,_.startTagPosition=_.position):(!A(U)&&(!_.sawRoot||_.closedRoot)&&X(_,"Text data outside of root node."),U==="&"?_.state=T.TEXT_ENTITY:_.textNode+=U);continue;case T.SCRIPT:U==="<"?_.state=T.SCRIPT_ENDING:_.script+=U;continue;case T.SCRIPT_ENDING:U==="/"?_.state=T.CLOSE_TAG:(_.script+="<"+U,_.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(U==="!")_.state=T.SGML_DECL,_.sgmlDecl="";else if(!A(U))if(b(v,U))_.state=T.OPEN_TAG,_.tagName=U;else if(U==="/")_.state=T.CLOSE_TAG,_.tagName="";else if(U==="?")_.state=T.PROC_INST,_.procInstName=_.procInstBody="";else{if(X(_,"Unencoded <"),_.startTagPosition+1<_.position){var z=_.position-_.startTagPosition;U=new Array(z).join(" ")+U}_.textNode+="<"+U,_.state=T.TEXT}continue;case T.SGML_DECL:(_.sgmlDecl+U).toUpperCase()===f?(H(_,"onopencdata"),_.state=T.CDATA,_.sgmlDecl="",_.cdata=""):_.sgmlDecl+U==="--"?(_.state=T.COMMENT,_.comment="",_.sgmlDecl=""):(_.sgmlDecl+U).toUpperCase()===h?(_.state=T.DOCTYPE,(_.doctype||_.sawRoot)&&X(_,"Inappropriately located doctype declaration"),_.doctype="",_.sgmlDecl=""):U===">"?(H(_,"onsgmldeclaration",_.sgmlDecl),_.sgmlDecl="",_.state=T.TEXT):(M(U)&&(_.state=T.SGML_DECL_QUOTED),_.sgmlDecl+=U);continue;case T.SGML_DECL_QUOTED:U===_.q&&(_.state=T.SGML_DECL,_.q=""),_.sgmlDecl+=U;continue;case T.DOCTYPE:U===">"?(_.state=T.TEXT,H(_,"ondoctype",_.doctype),_.doctype=!0):(_.doctype+=U,U==="["?_.state=T.DOCTYPE_DTD:M(U)&&(_.state=T.DOCTYPE_QUOTED,_.q=U));continue;case T.DOCTYPE_QUOTED:_.doctype+=U,U===_.q&&(_.q="",_.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:_.doctype+=U,U==="]"?_.state=T.DOCTYPE:M(U)&&(_.state=T.DOCTYPE_DTD_QUOTED,_.q=U);continue;case T.DOCTYPE_DTD_QUOTED:_.doctype+=U,U===_.q&&(_.state=T.DOCTYPE_DTD,_.q="");continue;case T.COMMENT:U==="-"?_.state=T.COMMENT_ENDING:_.comment+=U;continue;case T.COMMENT_ENDING:U==="-"?(_.state=T.COMMENT_ENDED,_.comment=K(_.opt,_.comment),_.comment&&H(_,"oncomment",_.comment),_.comment=""):(_.comment+="-"+U,_.state=T.COMMENT);continue;case T.COMMENT_ENDED:U!==">"?(X(_,"Malformed comment"),_.comment+="--"+U,_.state=T.COMMENT):_.state=T.TEXT;continue;case T.CDATA:U==="]"?_.state=T.CDATA_ENDING:_.cdata+=U;continue;case T.CDATA_ENDING:U==="]"?_.state=T.CDATA_ENDING_2:(_.cdata+="]"+U,_.state=T.CDATA);continue;case T.CDATA_ENDING_2:U===">"?(_.cdata&&H(_,"oncdata",_.cdata),H(_,"onclosecdata"),_.cdata="",_.state=T.TEXT):U==="]"?_.cdata+="]":(_.cdata+="]]"+U,_.state=T.CDATA);continue;case T.PROC_INST:U==="?"?_.state=T.PROC_INST_ENDING:A(U)?_.state=T.PROC_INST_BODY:_.procInstName+=U;continue;case T.PROC_INST_BODY:if(!_.procInstBody&&A(U))continue;U==="?"?_.state=T.PROC_INST_ENDING:_.procInstBody+=U;continue;case T.PROC_INST_ENDING:U===">"?(H(_,"onprocessinginstruction",{name:_.procInstName,body:_.procInstBody}),_.procInstName=_.procInstBody="",_.state=T.TEXT):(_.procInstBody+="?"+U,_.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:b(y,U)?_.tagName+=U:(I(_),U===">"?w(_):U==="/"?_.state=T.OPEN_TAG_SLASH:(A(U)||X(_,"Invalid character in tag name"),_.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:U===">"?(w(_,!0),R(_)):(X(_,"Forward-slash in opening tag not followed by >"),_.state=T.ATTRIB);continue;case T.ATTRIB:if(A(U))continue;U===">"?w(_):U==="/"?_.state=T.OPEN_TAG_SLASH:b(v,U)?(_.attribName=U,_.attribValue="",_.state=T.ATTRIB_NAME):X(_,"Invalid attribute name");continue;case T.ATTRIB_NAME:U==="="?_.state=T.ATTRIB_VALUE:U===">"?(X(_,"Attribute without value"),_.attribValue=_.attribName,N(_),w(_)):A(U)?_.state=T.ATTRIB_NAME_SAW_WHITE:b(y,U)?_.attribName+=U:X(_,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(U==="=")_.state=T.ATTRIB_VALUE;else{if(A(U))continue;X(_,"Attribute without value"),_.tag.attributes[_.attribName]="",_.attribValue="",H(_,"onattribute",{name:_.attribName,value:""}),_.attribName="",U===">"?w(_):b(v,U)?(_.attribName=U,_.state=T.ATTRIB_NAME):(X(_,"Invalid attribute name"),_.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(A(U))continue;M(U)?(_.q=U,_.state=T.ATTRIB_VALUE_QUOTED):(X(_,"Unquoted attribute value"),_.state=T.ATTRIB_VALUE_UNQUOTED,_.attribValue=U);continue;case T.ATTRIB_VALUE_QUOTED:if(U!==_.q){U==="&"?_.state=T.ATTRIB_VALUE_ENTITY_Q:_.attribValue+=U;continue}N(_),_.q="",_.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:A(U)?_.state=T.ATTRIB:U===">"?w(_):U==="/"?_.state=T.OPEN_TAG_SLASH:b(v,U)?(X(_,"No whitespace between attributes"),_.attribName=U,_.attribValue="",_.state=T.ATTRIB_NAME):X(_,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!O(U)){U==="&"?_.state=T.ATTRIB_VALUE_ENTITY_U:_.attribValue+=U;continue}N(_),U===">"?w(_):_.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(_.tagName)U===">"?R(_):b(y,U)?_.tagName+=U:_.script?(_.script+="</"+_.tagName,_.tagName="",_.state=T.SCRIPT):(A(U)||X(_,"Invalid tagname in closing tag"),_.state=T.CLOSE_TAG_SAW_WHITE);else{if(A(U))continue;D(v,U)?_.script?(_.script+="</"+U,_.state=T.SCRIPT):X(_,"Invalid tagname in closing tag."):_.tagName=U}continue;case T.CLOSE_TAG_SAW_WHITE:if(A(U))continue;U===">"?R(_):X(_,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var ee,ie;switch(_.state){case T.TEXT_ENTITY:ee=T.TEXT,ie="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:ee=T.ATTRIB_VALUE_QUOTED,ie="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:ee=T.ATTRIB_VALUE_UNQUOTED,ie="attribValue";break}if(U===";")if(_.opt.unparsedEntities){var se=C(_);_.entity="",_.state=ee,_.write(se)}else _[ie]+=C(_),_.entity="",_.state=ee;else b(_.entity.length?S:m,U)?_.entity+=U:(X(_,"Invalid character in entity name"),_[ie]+="&"+_.entity+U,_.entity="",_.state=ee);continue;default:throw new Error(_,"Unknown state: "+_.state)}return _.position>=_.bufferCheckPosition&&i(_),_}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var P=String.fromCharCode,_=Math.floor,G=function(){var U=16384,x=[],z,ee,ie=-1,se=arguments.length;if(!se)return"";for(var le="";++ie<se;){var me=Number(arguments[ie]);if(!isFinite(me)||me<0||me>1114111||_(me)!==me)throw RangeError("Invalid code point: "+me);me<=65535?x.push(me):(me-=65536,z=(me>>10)+55296,ee=me%1024+56320,x.push(z,ee)),(ie+1===se||x.length>U)&&(le+=P.apply(null,x),x.length=0)}return le};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:G,configurable:!0,writable:!0}):String.fromCodePoint=G}()})(e)})(py);var Xh;function HN(){if(Xh)return jn;Xh=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.parseXml=jn.XElement=void 0;const e=py,t=ft();class r{constructor(l){if(this.name=l,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!l)throw(0,t.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!i(l))throw(0,t.newError)(`Invalid element name: ${l}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(l){const u=this.attributes===null?null:this.attributes[l];if(u==null)throw(0,t.newError)(`No attribute "${l}"`,"ERR_XML_MISSED_ATTRIBUTE");return u}removeAttribute(l){this.attributes!==null&&delete this.attributes[l]}element(l,u=!1,c=null){const f=this.elementOrNull(l,u);if(f===null)throw(0,t.newError)(c||`No element "${l}"`,"ERR_XML_MISSED_ELEMENT");return f}elementOrNull(l,u=!1){if(this.elements===null)return null;for(const c of this.elements)if(s(c,l,u))return c;return null}getElements(l,u=!1){return this.elements===null?[]:this.elements.filter(c=>s(c,l,u))}elementValueOrEmpty(l,u=!1){const c=this.elementOrNull(l,u);return c===null?"":c.value}}jn.XElement=r;const n=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function i(a){return n.test(a)}function s(a,l,u){const c=a.name;return c===l||u===!0&&c.length===l.length&&c.toLowerCase()===l.toLowerCase()}function o(a){let l=null;const u=e.parser(!0,{}),c=[];return u.onopentag=f=>{const h=new r(f.name);if(h.attributes=f.attributes,l===null)l=h;else{const p=c[c.length-1];p.elements==null&&(p.elements=[]),p.elements.push(h)}c.push(h)},u.onclosetag=()=>{c.pop()},u.ontext=f=>{c.length>0&&(c[c.length-1].value=f)},u.oncdata=f=>{const h=c[c.length-1];h.value=f,h.isCData=!0},u.onerror=f=>{throw f},u.write(a),l}return jn.parseXml=o,jn}var Qh;function ft(){return Qh||(Qh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.newError=e.asArray=e.CURRENT_APP_PACKAGE_FILE_NAME=e.CURRENT_APP_INSTALLER_FILE_NAME=e.XElement=e.parseXml=e.ProgressCallbackTransform=e.UUID=e.parseDn=e.githubUrl=e.getS3LikeProviderBaseUrl=e.configureRequestUrl=e.parseJson=e.safeStringifyJson=e.configureRequestOptionsFromUrl=e.configureRequestOptions=e.safeGetHeader=e.DigestTransform=e.HttpExecutor=e.createHttpError=e.HttpError=e.CancellationError=e.CancellationToken=void 0;var t=ii;Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}}),Object.defineProperty(e,"CancellationError",{enumerable:!0,get:function(){return t.CancellationError}});var r=MN();Object.defineProperty(e,"HttpError",{enumerable:!0,get:function(){return r.HttpError}}),Object.defineProperty(e,"createHttpError",{enumerable:!0,get:function(){return r.createHttpError}}),Object.defineProperty(e,"HttpExecutor",{enumerable:!0,get:function(){return r.HttpExecutor}}),Object.defineProperty(e,"DigestTransform",{enumerable:!0,get:function(){return r.DigestTransform}}),Object.defineProperty(e,"safeGetHeader",{enumerable:!0,get:function(){return r.safeGetHeader}}),Object.defineProperty(e,"configureRequestOptions",{enumerable:!0,get:function(){return r.configureRequestOptions}}),Object.defineProperty(e,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return r.configureRequestOptionsFromUrl}}),Object.defineProperty(e,"safeStringifyJson",{enumerable:!0,get:function(){return r.safeStringifyJson}}),Object.defineProperty(e,"parseJson",{enumerable:!0,get:function(){return r.parseJson}}),Object.defineProperty(e,"configureRequestUrl",{enumerable:!0,get:function(){return r.configureRequestUrl}});var n=qi;Object.defineProperty(e,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return n.getS3LikeProviderBaseUrl}}),Object.defineProperty(e,"githubUrl",{enumerable:!0,get:function(){return n.githubUrl}});var i=al;Object.defineProperty(e,"parseDn",{enumerable:!0,get:function(){return i.parseDn}});var s=zN();Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return s.UUID}});var o=_o;Object.defineProperty(e,"ProgressCallbackTransform",{enumerable:!0,get:function(){return o.ProgressCallbackTransform}});var a=HN();Object.defineProperty(e,"parseXml",{enumerable:!0,get:function(){return a.parseXml}}),Object.defineProperty(e,"XElement",{enumerable:!0,get:function(){return a.XElement}}),e.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",e.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function l(c){return c==null?[]:Array.isArray(c)?c:[c]}e.asArray=l;function u(c,f){const h=new Error(c);return h.code=f,h}e.newError=u}(Xl)),Xl}var oi={},Mt={};Mt.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,s)=>i!=null?n(i):r(s)),e.apply(this,t)})},"name",{value:e.name})};Mt.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var cn=Av,GN=process.cwd,ya=null,WN=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return ya||(ya=GN.call(process)),ya};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var Zh=process.chdir;process.chdir=function(e){ya=null,Zh.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Zh)}var KN=YN;function YN(e){cn.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(c,f,h){h&&process.nextTick(h)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(c,f,h,p){p&&process.nextTick(p)},e.lchownSync=function(){}),WN==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(c){function f(h,p,g){var $=Date.now(),v=0;c(h,p,function y(m){if(m&&(m.code==="EACCES"||m.code==="EPERM"||m.code==="EBUSY")&&Date.now()-$<6e4){setTimeout(function(){e.stat(p,function(S,A){S&&S.code==="ENOENT"?c(h,p,y):g(m)})},v),v<100&&(v+=10);return}g&&g(m)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,c),f}(e.rename)),e.read=typeof e.read!="function"?e.read:function(c){function f(h,p,g,$,v,y){var m;if(y&&typeof y=="function"){var S=0;m=function(A,M,O){if(A&&A.code==="EAGAIN"&&S<10)return S++,c.call(e,h,p,g,$,v,m);y.apply(this,arguments)}}return c.call(e,h,p,g,$,v,m)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,c),f}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(c){return function(f,h,p,g,$){for(var v=0;;)try{return c.call(e,f,h,p,g,$)}catch(y){if(y.code==="EAGAIN"&&v<10){v++;continue}throw y}}}(e.readSync);function t(c){c.lchmod=function(f,h,p){c.open(f,cn.O_WRONLY|cn.O_SYMLINK,h,function(g,$){if(g){p&&p(g);return}c.fchmod($,h,function(v){c.close($,function(y){p&&p(v||y)})})})},c.lchmodSync=function(f,h){var p=c.openSync(f,cn.O_WRONLY|cn.O_SYMLINK,h),g=!0,$;try{$=c.fchmodSync(p,h),g=!1}finally{if(g)try{c.closeSync(p)}catch{}else c.closeSync(p)}return $}}function r(c){cn.hasOwnProperty("O_SYMLINK")&&c.futimes?(c.lutimes=function(f,h,p,g){c.open(f,cn.O_SYMLINK,function($,v){if($){g&&g($);return}c.futimes(v,h,p,function(y){c.close(v,function(m){g&&g(y||m)})})})},c.lutimesSync=function(f,h,p){var g=c.openSync(f,cn.O_SYMLINK),$,v=!0;try{$=c.futimesSync(g,h,p),v=!1}finally{if(v)try{c.closeSync(g)}catch{}else c.closeSync(g)}return $}):c.futimes&&(c.lutimes=function(f,h,p,g){g&&process.nextTick(g)},c.lutimesSync=function(){})}function n(c){return c&&function(f,h,p){return c.call(e,f,h,function(g){u(g)&&(g=null),p&&p.apply(this,arguments)})}}function i(c){return c&&function(f,h){try{return c.call(e,f,h)}catch(p){if(!u(p))throw p}}}function s(c){return c&&function(f,h,p,g){return c.call(e,f,h,p,function($){u($)&&($=null),g&&g.apply(this,arguments)})}}function o(c){return c&&function(f,h,p){try{return c.call(e,f,h,p)}catch(g){if(!u(g))throw g}}}function a(c){return c&&function(f,h,p){typeof h=="function"&&(p=h,h=null);function g($,v){v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),p&&p.apply(this,arguments)}return h?c.call(e,f,h,g):c.call(e,f,g)}}function l(c){return c&&function(f,h){var p=h?c.call(e,f,h):c.call(e,f);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function u(c){if(!c||c.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(c.code==="EINVAL"||c.code==="EPERM"))}}var ep=oo.Stream,JN=XN;function XN(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);ep.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var u=o[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(c,f){if(c){s.emit("error",c),s.readable=!1;return}s.fd=f,s.emit("open",f),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);ep.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var QN=eR,ZN=Object.getPrototypeOf||function(e){return e.__proto__};function eR(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:ZN(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var Ze=Ue,tR=KN,rR=JN,nR=QN,ra=Zr,bt,Ia;typeof Symbol=="function"&&typeof Symbol.for=="function"?(bt=Symbol.for("graceful-fs.queue"),Ia=Symbol.for("graceful-fs.previous")):(bt="___graceful-fs.queue",Ia="___graceful-fs.previous");function iR(){}function my(e,t){Object.defineProperty(e,bt,{get:function(){return t}})}var Jn=iR;ra.debuglog?Jn=ra.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Jn=function(){var e=ra.format.apply(ra,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!Ze[bt]){var sR=ut[bt]||[];my(Ze,sR),Ze.close=function(e){function t(r,n){return e.call(Ze,r,function(i){i||tp(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Ia,{value:e}),t}(Ze.close),Ze.closeSync=function(e){function t(r){e.apply(Ze,arguments),tp()}return Object.defineProperty(t,Ia,{value:e}),t}(Ze.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Jn(Ze[bt]),Qc.equal(Ze[bt].length,0)})}ut[bt]||my(ut,Ze[bt]);var Ut=Kf(nR(Ze));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Ze.__patched&&(Ut=Kf(Ze),Ze.__patched=!0);function Kf(e){tR(e),e.gracefulify=Kf,e.createReadStream=M,e.createWriteStream=O;var t=e.readFile;e.readFile=r;function r(T,B,J){return typeof B=="function"&&(J=B,B=null),H(T,B,J);function H(Y,K,te,re){return t(Y,K,function(X){X&&(X.code==="EMFILE"||X.code==="ENFILE")?_i([H,[Y,K,te],X,re||Date.now(),Date.now()]):typeof te=="function"&&te.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(T,B,J,H){return typeof J=="function"&&(H=J,J=null),Y(T,B,J,H);function Y(K,te,re,X,I){return n(K,te,re,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?_i([Y,[K,te,re,X],j,I||Date.now(),Date.now()]):typeof X=="function"&&X.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(T,B,J,H){return typeof J=="function"&&(H=J,J=null),Y(T,B,J,H);function Y(K,te,re,X,I){return s(K,te,re,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?_i([Y,[K,te,re,X],j,I||Date.now(),Date.now()]):typeof X=="function"&&X.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=l);function l(T,B,J,H){return typeof J=="function"&&(H=J,J=0),Y(T,B,J,H);function Y(K,te,re,X,I){return a(K,te,re,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?_i([Y,[K,te,re,X],j,I||Date.now(),Date.now()]):typeof X=="function"&&X.apply(this,arguments)})}}var u=e.readdir;e.readdir=f;var c=/^v[0-5]\./;function f(T,B,J){typeof B=="function"&&(J=B,B=null);var H=c.test(process.version)?function(te,re,X,I){return u(te,Y(te,re,X,I))}:function(te,re,X,I){return u(te,re,Y(te,re,X,I))};return H(T,B,J);function Y(K,te,re,X){return function(I,j){I&&(I.code==="EMFILE"||I.code==="ENFILE")?_i([H,[K,te,re],I,X||Date.now(),Date.now()]):(j&&j.sort&&j.sort(),typeof re=="function"&&re.call(this,I,j))}}}if(process.version.substr(0,4)==="v0.8"){var h=rR(e);y=h.ReadStream,S=h.WriteStream}var p=e.ReadStream;p&&(y.prototype=Object.create(p.prototype),y.prototype.open=m);var g=e.WriteStream;g&&(S.prototype=Object.create(g.prototype),S.prototype.open=A),Object.defineProperty(e,"ReadStream",{get:function(){return y},set:function(T){y=T},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return S},set:function(T){S=T},enumerable:!0,configurable:!0});var $=y;Object.defineProperty(e,"FileReadStream",{get:function(){return $},set:function(T){$=T},enumerable:!0,configurable:!0});var v=S;Object.defineProperty(e,"FileWriteStream",{get:function(){return v},set:function(T){v=T},enumerable:!0,configurable:!0});function y(T,B){return this instanceof y?(p.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function m(){var T=this;D(T.path,T.flags,T.mode,function(B,J){B?(T.autoClose&&T.destroy(),T.emit("error",B)):(T.fd=J,T.emit("open",J),T.read())})}function S(T,B){return this instanceof S?(g.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function A(){var T=this;D(T.path,T.flags,T.mode,function(B,J){B?(T.destroy(),T.emit("error",B)):(T.fd=J,T.emit("open",J))})}function M(T,B){return new e.ReadStream(T,B)}function O(T,B){return new e.WriteStream(T,B)}var b=e.open;e.open=D;function D(T,B,J,H){return typeof J=="function"&&(H=J,J=null),Y(T,B,J,H);function Y(K,te,re,X,I){return b(K,te,re,function(j,N){j&&(j.code==="EMFILE"||j.code==="ENFILE")?_i([Y,[K,te,re,X],j,I||Date.now(),Date.now()]):typeof X=="function"&&X.apply(this,arguments)})}}return e}function _i(e){Jn("ENQUEUE",e[0].name,e[1]),Ze[bt].push(e),Yf()}var na;function tp(){for(var e=Date.now(),t=0;t<Ze[bt].length;++t)Ze[bt][t].length>2&&(Ze[bt][t][3]=e,Ze[bt][t][4]=e);Yf()}function Yf(){if(clearTimeout(na),na=void 0,Ze[bt].length!==0){var e=Ze[bt].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)Jn("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){Jn("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),u=Math.min(l*1.2,100);a>=u?(Jn("RETRY",t.name,r),t.apply(null,r.concat([i]))):Ze[bt].push(e)}na===void 0&&(na=setTimeout(Yf,0))}}(function(e){const t=Mt.fromCallback,r=Ut,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,s){return typeof s=="function"?r.exists(i,s):new Promise(o=>r.exists(i,o))},e.read=function(i,s,o,a,l,u){return typeof u=="function"?r.read(i,s,o,a,l,u):new Promise((c,f)=>{r.read(i,s,o,a,l,(h,p,g)=>{if(h)return f(h);c({bytesRead:p,buffer:g})})})},e.write=function(i,s,...o){return typeof o[o.length-1]=="function"?r.write(i,s,...o):new Promise((a,l)=>{r.write(i,s,...o,(u,c,f)=>{if(u)return l(u);a({bytesWritten:c,buffer:f})})})},typeof r.writev=="function"&&(e.writev=function(i,s,...o){return typeof o[o.length-1]=="function"?r.writev(i,s,...o):new Promise((a,l)=>{r.writev(i,s,...o,(u,c,f)=>{if(u)return l(u);a({bytesWritten:c,buffers:f})})})}),typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(oi);var Jf={},gy={};const oR=Te;gy.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(oR.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const yy=oi,{checkPath:vy}=gy,_y=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};Jf.makeDir=async(e,t)=>(vy(e),yy.mkdir(e,{mode:_y(t),recursive:!0}));Jf.makeDirSync=(e,t)=>(vy(e),yy.mkdirSync(e,{mode:_y(t),recursive:!0}));const aR=Mt.fromPromise,{makeDir:lR,makeDirSync:rc}=Jf,nc=aR(lR);var Lr={mkdirs:nc,mkdirsSync:rc,mkdirp:nc,mkdirpSync:rc,ensureDir:nc,ensureDirSync:rc};const cR=Mt.fromPromise,$y=oi;function uR(e){return $y.access(e).then(()=>!0).catch(()=>!1)}var ai={pathExists:cR(uR),pathExistsSync:$y.existsSync};const ki=Ut;function fR(e,t,r,n){ki.open(e,"r+",(i,s)=>{if(i)return n(i);ki.futimes(s,t,r,o=>{ki.close(s,a=>{n&&n(o||a)})})})}function dR(e,t,r){const n=ki.openSync(e,"r+");return ki.futimesSync(n,t,r),ki.closeSync(n)}var Ey={utimesMillis:fR,utimesMillisSync:dR};const Vi=oi,yt=Te,hR=Zr;function pR(e,t,r){const n=r.dereference?i=>Vi.stat(i,{bigint:!0}):i=>Vi.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function mR(e,t,r){let n;const i=r.dereference?o=>Vi.statSync(o,{bigint:!0}):o=>Vi.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}function gR(e,t,r,n,i){hR.callbackify(pR)(e,t,n,(s,o)=>{if(s)return i(s);const{srcStat:a,destStat:l}=o;if(l){if($o(a,l)){const u=yt.basename(e),c=yt.basename(t);return r==="move"&&u!==c&&u.toLowerCase()===c.toLowerCase()?i(null,{srcStat:a,destStat:l,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!l.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!a.isDirectory()&&l.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return a.isDirectory()&&Xf(e,t)?i(new Error(ll(e,t,r))):i(null,{srcStat:a,destStat:l})})}function yR(e,t,r,n){const{srcStat:i,destStat:s}=mR(e,t,n);if(s){if($o(i,s)){const o=yt.basename(e),a=yt.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Xf(e,t))throw new Error(ll(e,t,r));return{srcStat:i,destStat:s}}function wy(e,t,r,n,i){const s=yt.resolve(yt.dirname(e)),o=yt.resolve(yt.dirname(r));if(o===s||o===yt.parse(o).root)return i();Vi.stat(o,{bigint:!0},(a,l)=>a?a.code==="ENOENT"?i():i(a):$o(t,l)?i(new Error(ll(e,r,n))):wy(e,t,o,n,i))}function Sy(e,t,r,n){const i=yt.resolve(yt.dirname(e)),s=yt.resolve(yt.dirname(r));if(s===i||s===yt.parse(s).root)return;let o;try{o=Vi.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if($o(t,o))throw new Error(ll(e,r,n));return Sy(e,t,s,n)}function $o(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Xf(e,t){const r=yt.resolve(e).split(yt.sep).filter(i=>i),n=yt.resolve(t).split(yt.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function ll(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var rs={checkPaths:gR,checkPathsSync:yR,checkParentPaths:wy,checkParentPathsSync:Sy,isSrcSubdir:Xf,areIdentical:$o};const Yt=Ut,Js=Te,vR=Lr.mkdirs,_R=ai.pathExists,$R=Ey.utimesMillis,Xs=rs;function ER(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),Xs.checkPaths(e,t,"copy",r,(i,s)=>{if(i)return n(i);const{srcStat:o,destStat:a}=s;Xs.checkParentPaths(e,o,t,"copy",l=>l?n(l):r.filter?by(rp,a,e,t,r,n):rp(a,e,t,r,n))})}function rp(e,t,r,n,i){const s=Js.dirname(r);_R(s,(o,a)=>{if(o)return i(o);if(a)return Da(e,t,r,n,i);vR(s,l=>l?i(l):Da(e,t,r,n,i))})}function by(e,t,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?e(t,r,n,i,s):s(),o=>s(o))}function wR(e,t,r,n,i){return n.filter?by(Da,e,t,r,n,i):Da(e,t,r,n,i)}function Da(e,t,r,n,i){(n.dereference?Yt.stat:Yt.lstat)(t,(o,a)=>o?i(o):a.isDirectory()?CR(a,e,t,r,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?SR(a,e,t,r,n,i):a.isSymbolicLink()?IR(e,t,r,n,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function SR(e,t,r,n,i,s){return t?bR(e,r,n,i,s):Py(e,r,n,i,s)}function bR(e,t,r,n,i){if(n.overwrite)Yt.unlink(r,s=>s?i(s):Py(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function Py(e,t,r,n,i){Yt.copyFile(t,r,s=>s?i(s):n.preserveTimestamps?PR(e.mode,t,r,i):cl(r,e.mode,i))}function PR(e,t,r,n){return TR(e)?OR(r,e,i=>i?n(i):np(e,t,r,n)):np(e,t,r,n)}function TR(e){return(e&128)===0}function OR(e,t,r){return cl(e,t|128,r)}function np(e,t,r,n){AR(t,r,i=>i?n(i):cl(r,e,n))}function cl(e,t,r){return Yt.chmod(e,t,r)}function AR(e,t,r){Yt.stat(e,(n,i)=>n?r(n):$R(t,i.atime,i.mtime,r))}function CR(e,t,r,n,i,s){return t?Ty(r,n,i,s):NR(e.mode,r,n,i,s)}function NR(e,t,r,n,i){Yt.mkdir(r,s=>{if(s)return i(s);Ty(t,r,n,o=>o?i(o):cl(r,e,i))})}function Ty(e,t,r,n){Yt.readdir(e,(i,s)=>i?n(i):Oy(s,e,t,r,n))}function Oy(e,t,r,n,i){const s=e.pop();return s?RR(e,s,t,r,n,i):i()}function RR(e,t,r,n,i,s){const o=Js.join(r,t),a=Js.join(n,t);Xs.checkPaths(o,a,"copy",i,(l,u)=>{if(l)return s(l);const{destStat:c}=u;wR(c,o,a,i,f=>f?s(f):Oy(e,r,n,i,s))})}function IR(e,t,r,n,i){Yt.readlink(t,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=Js.resolve(process.cwd(),o)),e)Yt.readlink(r,(a,l)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?Yt.symlink(o,r,i):i(a):(n.dereference&&(l=Js.resolve(process.cwd(),l)),Xs.isSrcSubdir(o,l)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${l}'.`)):e.isDirectory()&&Xs.isSrcSubdir(l,o)?i(new Error(`Cannot overwrite '${l}' with '${o}'.`)):DR(o,r,i)));else return Yt.symlink(o,r,i)})}function DR(e,t,r){Yt.unlink(t,n=>n?r(n):Yt.symlink(e,t,r))}var FR=ER;const Ct=Ut,Qs=Te,kR=Lr.mkdirsSync,LR=Ey.utimesMillisSync,Zs=rs;function jR(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:i}=Zs.checkPathsSync(e,t,"copy",r);return Zs.checkParentPathsSync(e,n,t,"copy"),MR(i,e,t,r)}function MR(e,t,r,n){if(n.filter&&!n.filter(t,r))return;const i=Qs.dirname(r);return Ct.existsSync(i)||kR(i),Ay(e,t,r,n)}function UR(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return Ay(e,t,r,n)}function Ay(e,t,r,n){const s=(n.dereference?Ct.statSync:Ct.lstatSync)(t);if(s.isDirectory())return GR(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return xR(s,e,t,r,n);if(s.isSymbolicLink())return YR(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function xR(e,t,r,n,i){return t?qR(e,r,n,i):Cy(e,r,n,i)}function qR(e,t,r,n){if(n.overwrite)return Ct.unlinkSync(r),Cy(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Cy(e,t,r,n){return Ct.copyFileSync(t,r),n.preserveTimestamps&&VR(e.mode,t,r),Qf(r,e.mode)}function VR(e,t,r){return BR(e)&&zR(r,e),HR(t,r)}function BR(e){return(e&128)===0}function zR(e,t){return Qf(e,t|128)}function Qf(e,t){return Ct.chmodSync(e,t)}function HR(e,t){const r=Ct.statSync(e);return LR(t,r.atime,r.mtime)}function GR(e,t,r,n,i){return t?Ny(r,n,i):WR(e.mode,r,n,i)}function WR(e,t,r,n){return Ct.mkdirSync(r),Ny(t,r,n),Qf(r,e)}function Ny(e,t,r){Ct.readdirSync(e).forEach(n=>KR(n,e,t,r))}function KR(e,t,r,n){const i=Qs.join(t,e),s=Qs.join(r,e),{destStat:o}=Zs.checkPathsSync(i,s,"copy",n);return UR(o,i,s,n)}function YR(e,t,r,n){let i=Ct.readlinkSync(t);if(n.dereference&&(i=Qs.resolve(process.cwd(),i)),e){let s;try{s=Ct.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Ct.symlinkSync(i,r);throw o}if(n.dereference&&(s=Qs.resolve(process.cwd(),s)),Zs.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(Ct.statSync(r).isDirectory()&&Zs.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return JR(i,r)}else return Ct.symlinkSync(i,r)}function JR(e,t){return Ct.unlinkSync(t),Ct.symlinkSync(e,t)}var XR=jR;const QR=Mt.fromCallback;var Zf={copy:QR(FR),copySync:XR};const ip=Ut,Ry=Te,xe=Qc,eo=process.platform==="win32";function Iy(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||ip[r],r=r+"Sync",e[r]=e[r]||ip[r]}),e.maxBusyTries=e.maxBusyTries||3}function ed(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),xe(e,"rimraf: missing path"),xe.strictEqual(typeof e,"string","rimraf: path should be a string"),xe.strictEqual(typeof r,"function","rimraf: callback function required"),xe(t,"rimraf: invalid options argument provided"),xe.strictEqual(typeof t,"object","rimraf: options should be object"),Iy(t),sp(e,t,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<t.maxBusyTries){n++;const o=n*100;return setTimeout(()=>sp(e,t,i),o)}s.code==="ENOENT"&&(s=null)}r(s)})}function sp(e,t,r){xe(e),xe(t),xe(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&eo)return op(e,t,n,r);if(i&&i.isDirectory())return va(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return eo?op(e,t,s,r):va(e,t,s,r);if(s.code==="EISDIR")return va(e,t,s,r)}return r(s)})})}function op(e,t,r,n){xe(e),xe(t),xe(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?va(e,t,r,n):t.unlink(e,n)})})}function ap(e,t,r){let n;xe(e),xe(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?_a(e,t,r):t.unlinkSync(e)}function va(e,t,r,n){xe(e),xe(t),xe(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?ZR(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function ZR(e,t,r){xe(e),xe(t),xe(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return t.rmdir(e,r);i.forEach(a=>{ed(Ry.join(e,a),t,l=>{if(!o){if(l)return r(o=l);--s===0&&t.rmdir(e,r)}})})})}function Dy(e,t){let r;t=t||{},Iy(t),xe(e,"rimraf: missing path"),xe.strictEqual(typeof e,"string","rimraf: path should be a string"),xe(t,"rimraf: missing options"),xe.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&eo&&ap(e,t,n)}try{r&&r.isDirectory()?_a(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return eo?ap(e,t,n):_a(e,t,n);if(n.code!=="EISDIR")throw n;_a(e,t,n)}}function _a(e,t,r){xe(e),xe(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")eI(e,t);else if(n.code!=="ENOENT")throw n}}function eI(e,t){if(xe(e),xe(t),t.readdirSync(e).forEach(r=>Dy(Ry.join(e,r),t)),eo){const r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}var tI=ed;ed.sync=Dy;const Fa=Ut,rI=Mt.fromCallback,Fy=tI;function nI(e,t){if(Fa.rm)return Fa.rm(e,{recursive:!0,force:!0},t);Fy(e,t)}function iI(e){if(Fa.rmSync)return Fa.rmSync(e,{recursive:!0,force:!0});Fy.sync(e)}var ul={remove:rI(nI),removeSync:iI};const sI=Mt.fromPromise,ky=oi,Ly=Te,jy=Lr,My=ul,lp=sI(async function(t){let r;try{r=await ky.readdir(t)}catch{return jy.mkdirs(t)}return Promise.all(r.map(n=>My.remove(Ly.join(t,n))))});function cp(e){let t;try{t=ky.readdirSync(e)}catch{return jy.mkdirsSync(e)}t.forEach(r=>{r=Ly.join(e,r),My.removeSync(r)})}var oI={emptyDirSync:cp,emptydirSync:cp,emptyDir:lp,emptydir:lp};const aI=Mt.fromCallback,Uy=Te,vn=Ut,xy=Lr;function lI(e,t){function r(){vn.writeFile(e,"",n=>{if(n)return t(n);t()})}vn.stat(e,(n,i)=>{if(!n&&i.isFile())return t();const s=Uy.dirname(e);vn.stat(s,(o,a)=>{if(o)return o.code==="ENOENT"?xy.mkdirs(s,l=>{if(l)return t(l);r()}):t(o);a.isDirectory()?r():vn.readdir(s,l=>{if(l)return t(l)})})})}function cI(e){let t;try{t=vn.statSync(e)}catch{}if(t&&t.isFile())return;const r=Uy.dirname(e);try{vn.statSync(r).isDirectory()||vn.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")xy.mkdirsSync(r);else throw n}vn.writeFileSync(e,"")}var uI={createFile:aI(lI),createFileSync:cI};const fI=Mt.fromCallback,qy=Te,dn=Ut,Vy=Lr,dI=ai.pathExists,{areIdentical:By}=rs;function hI(e,t,r){function n(i,s){dn.link(i,s,o=>{if(o)return r(o);r(null)})}dn.lstat(t,(i,s)=>{dn.lstat(e,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(s&&By(a,s))return r(null);const l=qy.dirname(t);dI(l,(u,c)=>{if(u)return r(u);if(c)return n(e,t);Vy.mkdirs(l,f=>{if(f)return r(f);n(e,t)})})})})}function pI(e,t){let r;try{r=dn.lstatSync(t)}catch{}try{const s=dn.lstatSync(e);if(r&&By(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}const n=qy.dirname(t);return dn.existsSync(n)||Vy.mkdirsSync(n),dn.linkSync(e,t)}var mI={createLink:fI(hI),createLinkSync:pI};const _n=Te,Bs=Ut,gI=ai.pathExists;function yI(e,t,r){if(_n.isAbsolute(e))return Bs.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{const n=_n.dirname(t),i=_n.join(n,e);return gI(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:e}):Bs.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:e,toDst:_n.relative(n,e)})))}}function vI(e,t){let r;if(_n.isAbsolute(e)){if(r=Bs.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const n=_n.dirname(t),i=_n.join(n,e);if(r=Bs.existsSync(i),r)return{toCwd:i,toDst:e};if(r=Bs.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:_n.relative(n,e)}}}var _I={symlinkPaths:yI,symlinkPathsSync:vI};const zy=Ut;function $I(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);zy.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function EI(e,t){let r;if(t)return t;try{r=zy.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var wI={symlinkType:$I,symlinkTypeSync:EI};const SI=Mt.fromCallback,Hy=Te,$r=oi,Gy=Lr,bI=Gy.mkdirs,PI=Gy.mkdirsSync,Wy=_I,TI=Wy.symlinkPaths,OI=Wy.symlinkPathsSync,Ky=wI,AI=Ky.symlinkType,CI=Ky.symlinkTypeSync,NI=ai.pathExists,{areIdentical:Yy}=rs;function RI(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,$r.lstat(t,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([$r.stat(e),$r.stat(t)]).then(([o,a])=>{if(Yy(o,a))return n(null);up(e,t,r,n)}):up(e,t,r,n)})}function up(e,t,r,n){TI(e,t,(i,s)=>{if(i)return n(i);e=s.toDst,AI(s.toCwd,r,(o,a)=>{if(o)return n(o);const l=Hy.dirname(t);NI(l,(u,c)=>{if(u)return n(u);if(c)return $r.symlink(e,t,a,n);bI(l,f=>{if(f)return n(f);$r.symlink(e,t,a,n)})})})})}function II(e,t,r){let n;try{n=$r.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const a=$r.statSync(e),l=$r.statSync(t);if(Yy(a,l))return}const i=OI(e,t);e=i.toDst,r=CI(i.toCwd,r);const s=Hy.dirname(t);return $r.existsSync(s)||PI(s),$r.symlinkSync(e,t,r)}var DI={createSymlink:SI(RI),createSymlinkSync:II};const{createFile:fp,createFileSync:dp}=uI,{createLink:hp,createLinkSync:pp}=mI,{createSymlink:mp,createSymlinkSync:gp}=DI;var FI={createFile:fp,createFileSync:dp,ensureFile:fp,ensureFileSync:dp,createLink:hp,createLinkSync:pp,ensureLink:hp,ensureLinkSync:pp,createSymlink:mp,createSymlinkSync:gp,ensureSymlink:mp,ensureSymlinkSync:gp};function kI(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){const s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function LI(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var td={stringify:kI,stripBom:LI};let Bi;try{Bi=Ut}catch{Bi=Ue}const fl=Mt,{stringify:Jy,stripBom:Xy}=td;async function jI(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Bi,n="throws"in t?t.throws:!0;let i=await fl.fromCallback(r.readFile)(e,t);i=Xy(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return s}const MI=fl.fromPromise(jI);function UI(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Bi,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=Xy(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function xI(e,t,r={}){const n=r.fs||Bi,i=Jy(t,r);await fl.fromCallback(n.writeFile)(e,i,r)}const qI=fl.fromPromise(xI);function VI(e,t,r={}){const n=r.fs||Bi,i=Jy(t,r);return n.writeFileSync(e,i,r)}const BI={readFile:MI,readFileSync:UI,writeFile:qI,writeFileSync:VI};var zI=BI;const ia=zI;var HI={readJson:ia.readFile,readJsonSync:ia.readFileSync,writeJson:ia.writeFile,writeJsonSync:ia.writeFileSync};const GI=Mt.fromCallback,zs=Ut,Qy=Te,Zy=Lr,WI=ai.pathExists;function KI(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");const i=Qy.dirname(e);WI(i,(s,o)=>{if(s)return n(s);if(o)return zs.writeFile(e,t,r,n);Zy.mkdirs(i,a=>{if(a)return n(a);zs.writeFile(e,t,r,n)})})}function YI(e,...t){const r=Qy.dirname(e);if(zs.existsSync(r))return zs.writeFileSync(e,...t);Zy.mkdirsSync(r),zs.writeFileSync(e,...t)}var rd={outputFile:GI(KI),outputFileSync:YI};const{stringify:JI}=td,{outputFile:XI}=rd;async function QI(e,t,r={}){const n=JI(t,r);await XI(e,n,r)}var ZI=QI;const{stringify:eD}=td,{outputFileSync:tD}=rd;function rD(e,t,r){const n=eD(t,r);tD(e,n,r)}var nD=rD;const iD=Mt.fromPromise,Lt=HI;Lt.outputJson=iD(ZI);Lt.outputJsonSync=nD;Lt.outputJSON=Lt.outputJson;Lt.outputJSONSync=Lt.outputJsonSync;Lt.writeJSON=Lt.writeJson;Lt.writeJSONSync=Lt.writeJsonSync;Lt.readJSON=Lt.readJson;Lt.readJSONSync=Lt.readJsonSync;var sD=Lt;const oD=Ut,qc=Te,aD=Zf.copy,e0=ul.remove,lD=Lr.mkdirp,cD=ai.pathExists,yp=rs;function uD(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};const i=r.overwrite||r.clobber||!1;yp.checkPaths(e,t,"move",r,(s,o)=>{if(s)return n(s);const{srcStat:a,isChangingCase:l=!1}=o;yp.checkParentPaths(e,a,t,"move",u=>{if(u)return n(u);if(fD(t))return vp(e,t,i,l,n);lD(qc.dirname(t),c=>c?n(c):vp(e,t,i,l,n))})})}function fD(e){const t=qc.dirname(e);return qc.parse(t).root===t}function vp(e,t,r,n,i){if(n)return ic(e,t,r,i);if(r)return e0(t,s=>s?i(s):ic(e,t,r,i));cD(t,(s,o)=>s?i(s):o?i(new Error("dest already exists.")):ic(e,t,r,i))}function ic(e,t,r,n){oD.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):dD(e,t,r,n):n())}function dD(e,t,r,n){aD(e,t,{overwrite:r,errorOnExist:!0},s=>s?n(s):e0(e,n))}var hD=uD;const t0=Ut,Vc=Te,pD=Zf.copySync,r0=ul.removeSync,mD=Lr.mkdirpSync,_p=rs;function gD(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=_p.checkPathsSync(e,t,"move",r);return _p.checkParentPathsSync(e,i,t,"move"),yD(t)||mD(Vc.dirname(t)),vD(e,t,n,s)}function yD(e){const t=Vc.dirname(e);return Vc.parse(t).root===t}function vD(e,t,r,n){if(n)return sc(e,t,r);if(r)return r0(t),sc(e,t,r);if(t0.existsSync(t))throw new Error("dest already exists.");return sc(e,t,r)}function sc(e,t,r){try{t0.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return _D(e,t,r)}}function _D(e,t,r){return pD(e,t,{overwrite:r,errorOnExist:!0}),r0(e)}var $D=gD;const ED=Mt.fromCallback;var wD={move:ED(hD),moveSync:$D},Tn={...oi,...Zf,...oI,...FI,...sD,...Lr,...wD,...rd,...ai,...ul},Mn={},Pt={},nd={},Tr={};function n0(e){return typeof e>"u"||e===null}function SD(e){return typeof e=="object"&&e!==null}function bD(e){return Array.isArray(e)?e:n0(e)?[]:[e]}function PD(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function TD(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function OD(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Tr.isNothing=n0;Tr.isObject=SD;Tr.toArray=bD;Tr.repeat=TD;Tr.isNegativeZero=OD;Tr.extend=PD;function i0(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function to(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=i0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}to.prototype=Object.create(Error.prototype);to.prototype.constructor=to;to.prototype.toString=function(t){return this.name+": "+i0(this,t)};var Eo=to,Rs=Tr;function oc(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"")+o,pos:n-t+s.length}}function ac(e,t){return Rs.repeat(" ",t-e.length)+e}function AD(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,u,c=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+c+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)u=oc(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),f),a=Rs.repeat(" ",t.indent)+ac((e.line-l+1).toString(),c)+" | "+u.str+`
`+a;for(u=oc(e.buffer,n[o],i[o],e.position,f),a+=Rs.repeat(" ",t.indent)+ac((e.line+1).toString(),c)+" | "+u.str+`
`,a+=Rs.repeat("-",t.indent+c+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)u=oc(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),f),a+=Rs.repeat(" ",t.indent)+ac((e.line+l+1).toString(),c)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var CD=AD,$p=Eo,ND=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],RD=["scalar","sequence","mapping"];function ID(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function DD(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(ND.indexOf(r)===-1)throw new $p('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=ID(t.styleAliases||null),RD.indexOf(this.kind)===-1)throw new $p('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var xt=DD,$s=Eo,lc=xt;function Ep(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function FD(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Bc(e){return this.extend(e)}Bc.prototype.extend=function(t){var r=[],n=[];if(t instanceof lc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new $s("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof lc))throw new $s("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new $s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new $s("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof lc))throw new $s("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Bc.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Ep(i,"implicit"),i.compiledExplicit=Ep(i,"explicit"),i.compiledTypeMap=FD(i.compiledImplicit,i.compiledExplicit),i};var s0=Bc,kD=xt,o0=new kD("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),LD=xt,a0=new LD("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),jD=xt,l0=new jD("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),MD=s0,c0=new MD({explicit:[o0,a0,l0]}),UD=xt;function xD(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function qD(){return null}function VD(e){return e===null}var u0=new UD("tag:yaml.org,2002:null",{kind:"scalar",resolve:xD,construct:qD,predicate:VD,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),BD=xt;function zD(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function HD(e){return e==="true"||e==="True"||e==="TRUE"}function GD(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var f0=new BD("tag:yaml.org,2002:bool",{kind:"scalar",resolve:zD,construct:HD,predicate:GD,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),WD=Tr,KD=xt;function YD(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function JD(e){return 48<=e&&e<=55}function XD(e){return 48<=e&&e<=57}function QD(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!YD(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!JD(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!XD(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function ZD(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function eF(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!WD.isNegativeZero(e)}var d0=new KD("tag:yaml.org,2002:int",{kind:"scalar",resolve:QD,construct:ZD,predicate:eF,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),h0=Tr,tF=xt,rF=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function nF(e){return!(e===null||!rF.test(e)||e[e.length-1]==="_")}function iF(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var sF=/^[-+]?[0-9]+e/;function oF(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(h0.isNegativeZero(e))return"-0.0";return r=e.toString(10),sF.test(r)?r.replace("e",".e"):r}function aF(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||h0.isNegativeZero(e))}var p0=new tF("tag:yaml.org,2002:float",{kind:"scalar",resolve:nF,construct:iF,predicate:aF,represent:oF,defaultStyle:"lowercase"}),m0=c0.extend({implicit:[u0,f0,d0,p0]}),g0=m0,lF=xt,y0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),v0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function cF(e){return e===null?!1:y0.exec(e)!==null||v0.exec(e)!==null}function uF(e){var t,r,n,i,s,o,a,l=0,u=null,c,f,h;if(t=y0.exec(e),t===null&&(t=v0.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=+t[10],f=+(t[11]||0),u=(c*60+f)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,s,o,a,l)),u&&h.setTime(h.getTime()-u),h}function fF(e){return e.toISOString()}var _0=new lF("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:cF,construct:uF,instanceOf:Date,represent:fF}),dF=xt;function hF(e){return e==="<<"||e===null}var $0=new dF("tag:yaml.org,2002:merge",{kind:"scalar",resolve:hF}),pF=xt,id=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function mF(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=id;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function gF(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=id,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function yF(e){var t="",r=0,n,i,s=e.length,o=id;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function vF(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var E0=new pF("tag:yaml.org,2002:binary",{kind:"scalar",resolve:mF,construct:gF,predicate:vF,represent:yF}),_F=xt,$F=Object.prototype.hasOwnProperty,EF=Object.prototype.toString;function wF(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,EF.call(i)!=="[object Object]")return!1;for(s in i)if($F.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function SF(e){return e!==null?e:[]}var w0=new _F("tag:yaml.org,2002:omap",{kind:"sequence",resolve:wF,construct:SF}),bF=xt,PF=Object.prototype.toString;function TF(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],PF.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function OF(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var S0=new bF("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:TF,construct:OF}),AF=xt,CF=Object.prototype.hasOwnProperty;function NF(e){if(e===null)return!0;var t,r=e;for(t in r)if(CF.call(r,t)&&r[t]!==null)return!1;return!0}function RF(e){return e!==null?e:{}}var b0=new AF("tag:yaml.org,2002:set",{kind:"mapping",resolve:NF,construct:RF}),sd=g0.extend({implicit:[_0,$0],explicit:[E0,w0,S0,b0]}),Gn=Tr,P0=Eo,IF=CD,DF=sd,wn=Object.prototype.hasOwnProperty,ka=1,T0=2,O0=3,La=4,cc=1,FF=2,wp=3,kF=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,LF=/[\x85\u2028\u2029]/,jF=/[,\[\]\{\}]/,A0=/^(?:!|!!|![a-z\-]+!)$/i,C0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Sp(e){return Object.prototype.toString.call(e)}function Dr(e){return e===10||e===13}function Xn(e){return e===9||e===32}function Jt(e){return e===9||e===32||e===10||e===13}function Ai(e){return e===44||e===91||e===93||e===123||e===125}function MF(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function UF(e){return e===120?2:e===117?4:e===85?8:0}function xF(e){return 48<=e&&e<=57?e-48:-1}function bp(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function qF(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var N0=new Array(256),R0=new Array(256);for(var $i=0;$i<256;$i++)N0[$i]=bp($i)?1:0,R0[$i]=bp($i);function VF(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||DF,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function I0(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=IF(r),new P0(t,r)}function de(e,t){throw I0(e,t)}function ja(e,t){e.onWarning&&e.onWarning.call(null,I0(e,t))}var Pp={YAML:function(t,r,n){var i,s,o;t.version!==null&&de(t,"duplication of %YAML directive"),n.length!==1&&de(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&de(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&de(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&ja(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&de(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],A0.test(i)||de(t,"ill-formed tag handle (first argument) of the TAG directive"),wn.call(t.tagMap,i)&&de(t,'there is a previously declared suffix for "'+i+'" tag handle'),C0.test(s)||de(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{de(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function En(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||de(e,"expected valid JSON character");else kF.test(a)&&de(e,"the stream contains non-printable characters");e.result+=a}}function Tp(e,t,r,n){var i,s,o,a;for(Gn.isObject(r)||de(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],wn.call(t,s)||(t[s]=r[s],n[s]=!0)}function Ci(e,t,r,n,i,s,o,a,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&de(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Sp(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&Sp(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)Tp(e,t,s[u],r);else Tp(e,t,s,r);else!e.json&&!wn.call(r,i)&&wn.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,de(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function od(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):de(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ct(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Xn(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Dr(i))for(od(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&ja(e,"deficient indentation"),n}function dl(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Jt(r)))}function ad(e,t){t===1?e.result+=" ":t>1&&(e.result+=Gn.repeat(`
`,t-1))}function BF(e,t,r){var n,i,s,o,a,l,u,c,f=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),Jt(p)||Ai(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),Jt(i)||r&&Ai(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),Jt(i)||r&&Ai(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),Jt(n))break}else{if(e.position===e.lineStart&&dl(e)||r&&Ai(p))break;if(Dr(p))if(l=e.line,u=e.lineStart,c=e.lineIndent,ct(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=u,e.lineIndent=c;break}}a&&(En(e,s,o,!1),ad(e,e.line-l),s=o=e.position,a=!1),Xn(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return En(e,s,o,!1),e.result?!0:(e.kind=f,e.result=h,!1)}function zF(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(En(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Dr(r)?(En(e,n,i,!0),ad(e,ct(e,!1,t)),n=i=e.position):e.position===e.lineStart&&dl(e)?de(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);de(e,"unexpected end of the stream within a single quoted scalar")}function HF(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return En(e,r,e.position,!0),e.position++,!0;if(a===92){if(En(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Dr(a))ct(e,!1,t);else if(a<256&&N0[a])e.result+=R0[a],e.position++;else if((o=UF(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=MF(a))>=0?s=(s<<4)+o:de(e,"expected hexadecimal character");e.result+=qF(s),e.position++}else de(e,"unknown escape sequence");r=n=e.position}else Dr(a)?(En(e,r,n,!0),ad(e,ct(e,!1,t)),r=n=e.position):e.position===e.lineStart&&dl(e)?de(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}de(e,"unexpected end of the stream within a double quoted scalar")}function GF(e,t){var r=!0,n,i,s,o=e.tag,a,l=e.anchor,u,c,f,h,p,g=Object.create(null),$,v,y,m;if(m=e.input.charCodeAt(e.position),m===91)c=93,p=!1,a=[];else if(m===123)c=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),m=e.input.charCodeAt(++e.position);m!==0;){if(ct(e,!0,t),m=e.input.charCodeAt(e.position),m===c)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=a,!0;r?m===44&&de(e,"expected the node content, but found ','"):de(e,"missed comma between flow collection entries"),v=$=y=null,f=h=!1,m===63&&(u=e.input.charCodeAt(e.position+1),Jt(u)&&(f=h=!0,e.position++,ct(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,zi(e,t,ka,!1,!0),v=e.tag,$=e.result,ct(e,!0,t),m=e.input.charCodeAt(e.position),(h||e.line===n)&&m===58&&(f=!0,m=e.input.charCodeAt(++e.position),ct(e,!0,t),zi(e,t,ka,!1,!0),y=e.result),p?Ci(e,a,g,v,$,y,n,i,s):f?a.push(Ci(e,null,g,v,$,y,n,i,s)):a.push($),ct(e,!0,t),m=e.input.charCodeAt(e.position),m===44?(r=!0,m=e.input.charCodeAt(++e.position)):r=!1}de(e,"unexpected end of the stream within a flow collection")}function WF(e,t){var r,n,i=cc,s=!1,o=!1,a=t,l=0,u=!1,c,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)cc===i?i=f===43?wp:FF:de(e,"repeat of a chomping mode identifier");else if((c=xF(f))>=0)c===0?de(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?de(e,"repeat of an indentation width identifier"):(a=t+c-1,o=!0);else break;if(Xn(f)){do f=e.input.charCodeAt(++e.position);while(Xn(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!Dr(f)&&f!==0)}for(;f!==0;){for(od(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),Dr(f)){l++;continue}if(e.lineIndent<a){i===wp?e.result+=Gn.repeat(`
`,s?1+l:l):i===cc&&s&&(e.result+=`
`);break}for(n?Xn(f)?(u=!0,e.result+=Gn.repeat(`
`,s?1+l:l)):u?(u=!1,e.result+=Gn.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=Gn.repeat(`
`,l):e.result+=Gn.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!Dr(f)&&f!==0;)f=e.input.charCodeAt(++e.position);En(e,r,e.position,!1)}return!0}function Op(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,de(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Jt(o))));){if(a=!0,e.position++,ct(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,zi(e,t,O0,!1,!0),s.push(e.result),ct(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)de(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function KF(e,t,r){var n,i,s,o,a,l,u=e.tag,c=e.anchor,f={},h=Object.create(null),p=null,g=null,$=null,v=!1,y=!1,m;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),m=e.input.charCodeAt(e.position);m!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,de(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(m===63||m===58)&&Jt(n))m===63?(v&&(Ci(e,f,h,p,g,null,o,a,l),p=g=$=null),y=!0,v=!0,i=!0):v?(v=!1,i=!0):de(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,m=n;else{if(o=e.line,a=e.lineStart,l=e.position,!zi(e,r,T0,!1,!0))break;if(e.line===s){for(m=e.input.charCodeAt(e.position);Xn(m);)m=e.input.charCodeAt(++e.position);if(m===58)m=e.input.charCodeAt(++e.position),Jt(m)||de(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Ci(e,f,h,p,g,null,o,a,l),p=g=$=null),y=!0,v=!1,i=!1,p=e.tag,g=e.result;else if(y)de(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=c,!0}else if(y)de(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=c,!0}if((e.line===s||e.lineIndent>t)&&(v&&(o=e.line,a=e.lineStart,l=e.position),zi(e,t,La,!0,i)&&(v?g=e.result:$=e.result),v||(Ci(e,f,h,p,g,$,o,a,l),p=g=$=null),ct(e,!0,-1),m=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&m!==0)de(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&Ci(e,f,h,p,g,null,o,a,l),y&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=f),y}function YF(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&de(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):de(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Jt(o);)o===33&&(n?de(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),A0.test(i)||de(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),jF.test(s)&&de(e,"tag suffix cannot contain flow indicator characters")}s&&!C0.test(s)&&de(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{de(e,"tag name is malformed: "+s)}return r?e.tag=s:wn.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:de(e,'undeclared tag handle "'+i+'"'),!0}function JF(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&de(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Jt(r)&&!Ai(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&de(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function XF(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Jt(n)&&!Ai(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&de(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),wn.call(e.anchorMap,r)||de(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],ct(e,!0,-1),!0}function zi(e,t,r,n,i){var s,o,a,l=1,u=!1,c=!1,f,h,p,g,$,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=La===r||O0===r,n&&ct(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;YF(e)||JF(e);)ct(e,!0,-1)?(u=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=u||i),(l===1||La===r)&&(ka===r||T0===r?$=t:$=t+1,v=e.position-e.lineStart,l===1?a&&(Op(e,v)||KF(e,v,$))||GF(e,$)?c=!0:(o&&WF(e,$)||zF(e,$)||HF(e,$)?c=!0:XF(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&de(e,"alias node should not have any properties")):BF(e,$,ka===r)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(c=a&&Op(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&de(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,h=e.implicitTypes.length;f<h;f+=1)if(g=e.implicitTypes[f],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(wn.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,p=e.typeMap.multi[e.kind||"fallback"],f=0,h=p.length;f<h;f+=1)if(e.tag.slice(0,p[f].tag.length)===p[f].tag){g=p[f];break}g||de(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&de(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):de(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function QF(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(ct(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Jt(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&de(e,"directive name must not be less than one character in length");o!==0;){for(;Xn(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Dr(o));break}if(Dr(o))break;for(r=e.position;o!==0&&!Jt(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&od(e),wn.call(Pp,n)?Pp[n](e,n,i):ja(e,'unknown document directive "'+n+'"')}if(ct(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ct(e,!0,-1)):s&&de(e,"directives end mark is expected"),zi(e,e.lineIndent-1,La,!1,!0),ct(e,!0,-1),e.checkLineBreaks&&LF.test(e.input.slice(t,e.position))&&ja(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&dl(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ct(e,!0,-1));return}if(e.position<e.length-1)de(e,"end of the stream or a document separator is expected");else return}function D0(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new VF(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,de(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)QF(r);return r.documents}function ZF(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=D0(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function ek(e,t){var r=D0(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new P0("expected a single document in the stream, but found more")}}nd.loadAll=ZF;nd.load=ek;var F0={},hl=Tr,wo=Eo,tk=sd,k0=Object.prototype.toString,L0=Object.prototype.hasOwnProperty,ld=65279,rk=9,ro=10,nk=13,ik=32,sk=33,ok=34,zc=35,ak=37,lk=38,ck=39,uk=42,j0=44,fk=45,Ma=58,dk=61,hk=62,pk=63,mk=64,M0=91,U0=93,gk=96,x0=123,yk=124,q0=125,Rt={};Rt[0]="\\0";Rt[7]="\\a";Rt[8]="\\b";Rt[9]="\\t";Rt[10]="\\n";Rt[11]="\\v";Rt[12]="\\f";Rt[13]="\\r";Rt[27]="\\e";Rt[34]='\\"';Rt[92]="\\\\";Rt[133]="\\N";Rt[160]="\\_";Rt[8232]="\\L";Rt[8233]="\\P";var vk=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],_k=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function $k(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&L0.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function Ek(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new wo("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+hl.repeat("0",n-t.length)+t}var wk=1,no=2;function Sk(e){this.schema=e.schema||tk,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=hl.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=$k(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?no:wk,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ap(e,t){for(var r=hl.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Hc(e,t){return`
`+hl.repeat(" ",e.indent*t)}function bk(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Ua(e){return e===ik||e===rk}function io(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==ld||65536<=e&&e<=1114111}function Cp(e){return io(e)&&e!==ld&&e!==nk&&e!==ro}function Np(e,t,r){var n=Cp(e),i=n&&!Ua(e);return(r?n:n&&e!==j0&&e!==M0&&e!==U0&&e!==x0&&e!==q0)&&e!==zc&&!(t===Ma&&!i)||Cp(t)&&!Ua(t)&&e===zc||t===Ma&&i}function Pk(e){return io(e)&&e!==ld&&!Ua(e)&&e!==fk&&e!==pk&&e!==Ma&&e!==j0&&e!==M0&&e!==U0&&e!==x0&&e!==q0&&e!==zc&&e!==lk&&e!==uk&&e!==sk&&e!==yk&&e!==dk&&e!==hk&&e!==ck&&e!==ok&&e!==ak&&e!==mk&&e!==gk}function Tk(e){return!Ua(e)&&e!==Ma}function Is(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function V0(e){var t=/^\n* /;return t.test(e)}var B0=1,Gc=2,z0=3,H0=4,Ti=5;function Ok(e,t,r,n,i,s,o,a){var l,u=0,c=null,f=!1,h=!1,p=n!==-1,g=-1,$=Pk(Is(e,0))&&Tk(Is(e,e.length-1));if(t||o)for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=Is(e,l),!io(u))return Ti;$=$&&Np(u,c,a),c=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=Is(e,l),u===ro)f=!0,p&&(h=h||l-g-1>n&&e[g+1]!==" ",g=l);else if(!io(u))return Ti;$=$&&Np(u,c,a),c=u}h=h||p&&l-g-1>n&&e[g+1]!==" "}return!f&&!h?$&&!o&&!i(e)?B0:s===no?Ti:Gc:r>9&&V0(e)?Ti:o?s===no?Ti:Gc:h?H0:z0}function Ak(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===no?'""':"''";if(!e.noCompatMode&&(vk.indexOf(t)!==-1||_k.test(t)))return e.quotingType===no?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function l(u){return bk(e,u)}switch(Ok(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case B0:return t;case Gc:return"'"+t.replace(/'/g,"''")+"'";case z0:return"|"+Rp(t,e.indent)+Ip(Ap(t,s));case H0:return">"+Rp(t,e.indent)+Ip(Ap(Ck(t,o),s));case Ti:return'"'+Nk(t)+'"';default:throw new wo("impossible error: invalid scalar style")}}()}function Rp(e,t){var r=V0(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function Ip(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Ck(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,Dp(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+Dp(l,t),i=s}return n}function Dp(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+=`
`+e.slice(i,s),i=s+1),o=a;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}function Nk(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Is(e,i),n=Rt[r],!n&&io(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Ek(r);return t}function Rk(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(Qr(e,t,a,!1,!1)||typeof a>"u"&&Qr(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Fp(e,t,r,n){var i="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(Qr(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&Qr(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Hc(e,t)),e.dump&&ro===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function Ik(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,u,c;for(o=0,a=s.length;o<a;o+=1)c="",n!==""&&(c+=", "),e.condenseFlow&&(c+='"'),l=s[o],u=r[l],e.replacer&&(u=e.replacer.call(r,l,u)),Qr(e,t,l,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Qr(e,t,u,!1,!1)&&(c+=e.dump,n+=c));e.tag=i,e.dump="{"+n+"}"}function Dk(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,u,c,f,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new wo("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)h="",(!n||i!=="")&&(h+=Hc(e,t)),u=o[a],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),Qr(e,t+1,u,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&ro===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,f&&(h+=Hc(e,t)),Qr(e,t+1,c,!0,f)&&(e.dump&&ro===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}function kp(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,k0.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(L0.call(a.represent,l))n=a.represent[l](t,l);else throw new wo("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function Qr(e,t,r,n,i,s,o){e.tag=null,e.dump=r,kp(e,r,!1)||kp(e,r,!0);var a=k0.call(e.dump),l=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var c=a==="[object Object]"||a==="[object Array]",f,h;if(c&&(f=e.duplicates.indexOf(r),h=f!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(c&&h&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(Dk(e,t,e.dump,i),h&&(e.dump="&ref_"+f+e.dump)):(Ik(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Fp(e,t-1,e.dump,i):Fp(e,t,e.dump,i),h&&(e.dump="&ref_"+f+e.dump)):(Rk(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Ak(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new wo("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}function Fk(e,t){var r=[],n=[],i,s;for(Wc(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function Wc(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Wc(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Wc(e[n[i]],t,r)}function kk(e,t){t=t||{};var r=new Sk(t);r.noRefs||Fk(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Qr(r,0,n,!0,!0)?r.dump+`
`:""}F0.dump=kk;var G0=nd,Lk=F0;function cd(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Pt.Type=xt;Pt.Schema=s0;Pt.FAILSAFE_SCHEMA=c0;Pt.JSON_SCHEMA=m0;Pt.CORE_SCHEMA=g0;Pt.DEFAULT_SCHEMA=sd;Pt.load=G0.load;Pt.loadAll=G0.loadAll;Pt.dump=Lk.dump;Pt.YAMLException=Eo;Pt.types={binary:E0,float:p0,map:l0,null:u0,pairs:S0,set:b0,timestamp:_0,bool:f0,int:d0,merge:$0,omap:w0,seq:a0,str:o0};Pt.safeLoad=cd("safeLoad","load");Pt.safeLoadAll=cd("safeLoadAll","loadAll");Pt.safeDump=cd("safeDump","dump");var pl={};Object.defineProperty(pl,"__esModule",{value:!0});pl.Lazy=void 0;class jk{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;const t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}}pl.Lazy=jk;var Hi={},xa={exports:{}};xa.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",g="[object GeneratorFunction]",$="[object Map]",v="[object Number]",y="[object Null]",m="[object Object]",S="[object Promise]",A="[object Proxy]",M="[object RegExp]",O="[object Set]",b="[object String]",D="[object Symbol]",T="[object Undefined]",B="[object WeakMap]",J="[object ArrayBuffer]",H="[object DataView]",Y="[object Float32Array]",K="[object Float64Array]",te="[object Int8Array]",re="[object Int16Array]",X="[object Int32Array]",I="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",w="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,C=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,E={};E[Y]=E[K]=E[te]=E[re]=E[X]=E[I]=E[j]=E[N]=E[w]=!0,E[a]=E[l]=E[J]=E[c]=E[H]=E[f]=E[h]=E[p]=E[$]=E[v]=E[m]=E[M]=E[O]=E[b]=E[B]=!1;var L=typeof ut=="object"&&ut&&ut.Object===Object&&ut,P=typeof self=="object"&&self&&self.Object===Object&&self,_=L||P||Function("return this")(),G=t&&!t.nodeType&&t,U=G&&!0&&e&&!e.nodeType&&e,x=U&&U.exports===G,z=x&&L.process,ee=function(){try{return z&&z.binding&&z.binding("util")}catch{}}(),ie=ee&&ee.isTypedArray;function se(k,W){for(var ne=-1,ae=k==null?0:k.length,He=0,ge=[];++ne<ae;){var rt=k[ne];W(rt,ne,k)&&(ge[He++]=rt)}return ge}function le(k,W){for(var ne=-1,ae=W.length,He=k.length;++ne<ae;)k[He+ne]=W[ne];return k}function me(k,W){for(var ne=-1,ae=k==null?0:k.length;++ne<ae;)if(W(k[ne],ne,k))return!0;return!1}function Re(k,W){for(var ne=-1,ae=Array(k);++ne<k;)ae[ne]=W(ne);return ae}function ze(k){return function(W){return k(W)}}function qe(k,W){return k.has(W)}function Fe(k,W){return k==null?void 0:k[W]}function et(k){var W=-1,ne=Array(k.size);return k.forEach(function(ae,He){ne[++W]=[He,ae]}),ne}function ke(k,W){return function(ne){return k(W(ne))}}function tr(k){var W=-1,ne=Array(k.size);return k.forEach(function(ae){ne[++W]=ae}),ne}var cr=Array.prototype,It=Function.prototype,qt=Object.prototype,ur=_["__core-js_shared__"],ht=It.toString,lt=qt.hasOwnProperty,is=function(){var k=/[^.]+$/.exec(ur&&ur.keys&&ur.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),ss=qt.toString,On=RegExp("^"+ht.call(lt).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=x?_.Buffer:void 0,li=_.Symbol,as=_.Uint8Array,Xt=qt.propertyIsEnumerable,bl=cr.splice,jr=li?li.toStringTag:void 0,To=Object.getOwnPropertySymbols,Pl=os?os.isBuffer:void 0,Tl=ke(Object.keys,Object),ls=di(_,"DataView"),rr=di(_,"Map"),cs=di(_,"Promise"),ci=di(_,"Set"),us=di(_,"WeakMap"),Mr=di(Object,"create"),Oo=Cn(ls),Ol=Cn(rr),Ao=Cn(cs),Al=Cn(ci),Co=Cn(us),q=li?li.prototype:void 0,F=q?q.valueOf:void 0;function V(k){var W=-1,ne=k==null?0:k.length;for(this.clear();++W<ne;){var ae=k[W];this.set(ae[0],ae[1])}}function Z(){this.__data__=Mr?Mr(null):{},this.size=0}function Q(k){var W=this.has(k)&&delete this.__data__[k];return this.size-=W?1:0,W}function ce(k){var W=this.__data__;if(Mr){var ne=W[k];return ne===n?void 0:ne}return lt.call(W,k)?W[k]:void 0}function fe(k){var W=this.__data__;return Mr?W[k]!==void 0:lt.call(W,k)}function be(k,W){var ne=this.__data__;return this.size+=this.has(k)?0:1,ne[k]=Mr&&W===void 0?n:W,this}V.prototype.clear=Z,V.prototype.delete=Q,V.prototype.get=ce,V.prototype.has=fe,V.prototype.set=be;function Pe(k){var W=-1,ne=k==null?0:k.length;for(this.clear();++W<ne;){var ae=k[W];this.set(ae[0],ae[1])}}function Ke(){this.__data__=[],this.size=0}function _e(k){var W=this.__data__,ne=qr(W,k);if(ne<0)return!1;var ae=W.length-1;return ne==ae?W.pop():bl.call(W,ne,1),--this.size,!0}function je(k){var W=this.__data__,ne=qr(W,k);return ne<0?void 0:W[ne][1]}function Ye(k){return qr(this.__data__,k)>-1}function he(k,W){var ne=this.__data__,ae=qr(ne,k);return ae<0?(++this.size,ne.push([k,W])):ne[ae][1]=W,this}Pe.prototype.clear=Ke,Pe.prototype.delete=_e,Pe.prototype.get=je,Pe.prototype.has=Ye,Pe.prototype.set=he;function Ce(k){var W=-1,ne=k==null?0:k.length;for(this.clear();++W<ne;){var ae=k[W];this.set(ae[0],ae[1])}}function tt(){this.size=0,this.__data__={hash:new V,map:new(rr||Pe),string:new V}}function Ve(k){var W=Io(this,k).delete(k);return this.size-=W?1:0,W}function Or(k){return Io(this,k).get(k)}function nr(k){return Io(this,k).has(k)}function ir(k,W){var ne=Io(this,k),ae=ne.size;return ne.set(k,W),this.size+=ne.size==ae?0:1,this}Ce.prototype.clear=tt,Ce.prototype.delete=Ve,Ce.prototype.get=Or,Ce.prototype.has=nr,Ce.prototype.set=ir;function fr(k){var W=-1,ne=k==null?0:k.length;for(this.__data__=new Ce;++W<ne;)this.add(k[W])}function Ur(k){return this.__data__.set(k,n),this}function Vt(k){return this.__data__.has(k)}fr.prototype.add=fr.prototype.push=Ur,fr.prototype.has=Vt;function dt(k){var W=this.__data__=new Pe(k);this.size=W.size}function xr(){this.__data__=new Pe,this.size=0}function dr(k){var W=this.__data__,ne=W.delete(k);return this.size=W.size,ne}function An(k){return this.__data__.get(k)}function No(k){return this.__data__.has(k)}function Ro(k,W){var ne=this.__data__;if(ne instanceof Pe){var ae=ne.__data__;if(!rr||ae.length<r-1)return ae.push([k,W]),this.size=++ne.size,this;ne=this.__data__=new Ce(ae)}return ne.set(k,W),this.size=ne.size,this}dt.prototype.clear=xr,dt.prototype.delete=dr,dt.prototype.get=An,dt.prototype.has=No,dt.prototype.set=Ro;function ui(k,W){var ne=Do(k),ae=!ne&&yv(k),He=!ne&&!ae&&Cl(k),ge=!ne&&!ae&&!He&&yd(k),rt=ne||ae||He||ge,pt=rt?Re(k.length,String):[],vt=pt.length;for(var Je in k)(W||lt.call(k,Je))&&!(rt&&(Je=="length"||He&&(Je=="offset"||Je=="parent")||ge&&(Je=="buffer"||Je=="byteLength"||Je=="byteOffset")||dv(Je,vt)))&&pt.push(Je);return pt}function qr(k,W){for(var ne=k.length;ne--;)if(hd(k[ne][0],W))return ne;return-1}function fi(k,W,ne){var ae=W(k);return Do(k)?ae:le(ae,ne(k))}function en(k){return k==null?k===void 0?T:y:jr&&jr in Object(k)?uv(k):gv(k)}function fs(k){return ds(k)&&en(k)==a}function tn(k,W,ne,ae,He){return k===W?!0:k==null||W==null||!ds(k)&&!ds(W)?k!==k&&W!==W:iv(k,W,ne,ae,tn,He)}function iv(k,W,ne,ae,He,ge){var rt=Do(k),pt=Do(W),vt=rt?l:rn(k),Je=pt?l:rn(W);vt=vt==a?m:vt,Je=Je==a?m:Je;var Qt=vt==m,hr=Je==m,Tt=vt==Je;if(Tt&&Cl(k)){if(!Cl(W))return!1;rt=!0,Qt=!1}if(Tt&&!Qt)return ge||(ge=new dt),rt||yd(k)?fd(k,W,ne,ae,He,ge):lv(k,W,vt,ne,ae,He,ge);if(!(ne&i)){var sr=Qt&&lt.call(k,"__wrapped__"),or=hr&&lt.call(W,"__wrapped__");if(sr||or){var nn=sr?k.value():k,Vr=or?W.value():W;return ge||(ge=new dt),He(nn,Vr,ne,ae,ge)}}return Tt?(ge||(ge=new dt),cv(k,W,ne,ae,He,ge)):!1}function sv(k){if(!gd(k)||pv(k))return!1;var W=pd(k)?On:C;return W.test(Cn(k))}function ov(k){return ds(k)&&md(k.length)&&!!E[en(k)]}function av(k){if(!mv(k))return Tl(k);var W=[];for(var ne in Object(k))lt.call(k,ne)&&ne!="constructor"&&W.push(ne);return W}function fd(k,W,ne,ae,He,ge){var rt=ne&i,pt=k.length,vt=W.length;if(pt!=vt&&!(rt&&vt>pt))return!1;var Je=ge.get(k);if(Je&&ge.get(W))return Je==W;var Qt=-1,hr=!0,Tt=ne&s?new fr:void 0;for(ge.set(k,W),ge.set(W,k);++Qt<pt;){var sr=k[Qt],or=W[Qt];if(ae)var nn=rt?ae(or,sr,Qt,W,k,ge):ae(sr,or,Qt,k,W,ge);if(nn!==void 0){if(nn)continue;hr=!1;break}if(Tt){if(!me(W,function(Vr,Nn){if(!qe(Tt,Nn)&&(sr===Vr||He(sr,Vr,ne,ae,ge)))return Tt.push(Nn)})){hr=!1;break}}else if(!(sr===or||He(sr,or,ne,ae,ge))){hr=!1;break}}return ge.delete(k),ge.delete(W),hr}function lv(k,W,ne,ae,He,ge,rt){switch(ne){case H:if(k.byteLength!=W.byteLength||k.byteOffset!=W.byteOffset)return!1;k=k.buffer,W=W.buffer;case J:return!(k.byteLength!=W.byteLength||!ge(new as(k),new as(W)));case c:case f:case v:return hd(+k,+W);case h:return k.name==W.name&&k.message==W.message;case M:case b:return k==W+"";case $:var pt=et;case O:var vt=ae&i;if(pt||(pt=tr),k.size!=W.size&&!vt)return!1;var Je=rt.get(k);if(Je)return Je==W;ae|=s,rt.set(k,W);var Qt=fd(pt(k),pt(W),ae,He,ge,rt);return rt.delete(k),Qt;case D:if(F)return F.call(k)==F.call(W)}return!1}function cv(k,W,ne,ae,He,ge){var rt=ne&i,pt=dd(k),vt=pt.length,Je=dd(W),Qt=Je.length;if(vt!=Qt&&!rt)return!1;for(var hr=vt;hr--;){var Tt=pt[hr];if(!(rt?Tt in W:lt.call(W,Tt)))return!1}var sr=ge.get(k);if(sr&&ge.get(W))return sr==W;var or=!0;ge.set(k,W),ge.set(W,k);for(var nn=rt;++hr<vt;){Tt=pt[hr];var Vr=k[Tt],Nn=W[Tt];if(ae)var vd=rt?ae(Nn,Vr,Tt,W,k,ge):ae(Vr,Nn,Tt,k,W,ge);if(!(vd===void 0?Vr===Nn||He(Vr,Nn,ne,ae,ge):vd)){or=!1;break}nn||(nn=Tt=="constructor")}if(or&&!nn){var Fo=k.constructor,ko=W.constructor;Fo!=ko&&"constructor"in k&&"constructor"in W&&!(typeof Fo=="function"&&Fo instanceof Fo&&typeof ko=="function"&&ko instanceof ko)&&(or=!1)}return ge.delete(k),ge.delete(W),or}function dd(k){return fi(k,$v,fv)}function Io(k,W){var ne=k.__data__;return hv(W)?ne[typeof W=="string"?"string":"hash"]:ne.map}function di(k,W){var ne=Fe(k,W);return sv(ne)?ne:void 0}function uv(k){var W=lt.call(k,jr),ne=k[jr];try{k[jr]=void 0;var ae=!0}catch{}var He=ss.call(k);return ae&&(W?k[jr]=ne:delete k[jr]),He}var fv=To?function(k){return k==null?[]:(k=Object(k),se(To(k),function(W){return Xt.call(k,W)}))}:Ev,rn=en;(ls&&rn(new ls(new ArrayBuffer(1)))!=H||rr&&rn(new rr)!=$||cs&&rn(cs.resolve())!=S||ci&&rn(new ci)!=O||us&&rn(new us)!=B)&&(rn=function(k){var W=en(k),ne=W==m?k.constructor:void 0,ae=ne?Cn(ne):"";if(ae)switch(ae){case Oo:return H;case Ol:return $;case Ao:return S;case Al:return O;case Co:return B}return W});function dv(k,W){return W=W??o,!!W&&(typeof k=="number"||d.test(k))&&k>-1&&k%1==0&&k<W}function hv(k){var W=typeof k;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?k!=="__proto__":k===null}function pv(k){return!!is&&is in k}function mv(k){var W=k&&k.constructor,ne=typeof W=="function"&&W.prototype||qt;return k===ne}function gv(k){return ss.call(k)}function Cn(k){if(k!=null){try{return ht.call(k)}catch{}try{return k+""}catch{}}return""}function hd(k,W){return k===W||k!==k&&W!==W}var yv=fs(function(){return arguments}())?fs:function(k){return ds(k)&&lt.call(k,"callee")&&!Xt.call(k,"callee")},Do=Array.isArray;function vv(k){return k!=null&&md(k.length)&&!pd(k)}var Cl=Pl||wv;function _v(k,W){return tn(k,W)}function pd(k){if(!gd(k))return!1;var W=en(k);return W==p||W==g||W==u||W==A}function md(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=o}function gd(k){var W=typeof k;return k!=null&&(W=="object"||W=="function")}function ds(k){return k!=null&&typeof k=="object"}var yd=ie?ze(ie):ov;function $v(k){return vv(k)?ui(k):av(k)}function Ev(){return[]}function wv(){return!1}e.exports=_v})(xa,xa.exports);var Mk=xa.exports;Object.defineProperty(Hi,"__esModule",{value:!0});Hi.createTempUpdateFile=Hi.DownloadedUpdateHelper=void 0;const Uk=Yi,xk=Ue,Lp=Mk,Un=Tn,Hs=Te;class qk{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return Hs.join(this.cacheDir,"pending")}async validateDownloadedPath(t,r,n,i){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return Lp(this.versionInfo,r)&&Lp(this.fileInfo.info,n.info)&&await(0,Un.pathExists)(t)?t:null;const s=await this.getValidCachedUpdateFile(n,i);return s===null?null:(i.info(`Update has already been downloaded to ${t}).`),this._file=s,s)}async setDownloadedFile(t,r,n,i,s,o){this._file=t,this._packageFile=r,this.versionInfo=n,this.fileInfo=i,this._downloadedFileInfo={fileName:s,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},o&&await(0,Un.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,Un.emptyDir)(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,r){var n;const i=this.getUpdateInfoFile();if(!await(0,Un.pathExists)(i))return null;let o;try{o=await(0,Un.readJson)(i)}catch(c){let f="No cached update info available";return c.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),f+=` (error on read: ${c.message})`),r.info(f),null}if(!((n=(o==null?void 0:o.fileName)!==null)!==null&&n!==void 0?n:!1))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==o.sha512)return r.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${o.sha512}, expected: ${t.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const l=Hs.join(this.cacheDirForPendingUpdate,o.fileName);if(!await(0,Un.pathExists)(l))return r.info("Cached update file doesn't exist"),null;const u=await Vk(l);return t.info.sha512!==u?(r.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${u}, expected: ${t.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=o,l)}getUpdateInfoFile(){return Hs.join(this.cacheDirForPendingUpdate,"update-info.json")}}Hi.DownloadedUpdateHelper=qk;function Vk(e,t="sha512",r="base64",n){return new Promise((i,s)=>{const o=(0,Uk.createHash)(t);o.on("error",s).setEncoding(r),(0,xk.createReadStream)(e,{...n,highWaterMark:1024*1024}).on("error",s).on("end",()=>{o.end(),i(o.read())}).pipe(o,{end:!1})})}async function Bk(e,t,r){let n=0,i=Hs.join(t,e);for(let s=0;s<3;s++)try{return await(0,Un.unlink)(i),i}catch(o){if(o.code==="ENOENT")return i;r.warn(`Error on remove temp update file: ${o}`),i=Hs.join(t,`${n++}-${e}`)}return i}Hi.createTempUpdateFile=Bk;var ml={},gl={};Object.defineProperty(gl,"__esModule",{value:!0});gl.getAppCacheDir=void 0;const uc=Te,zk=Pn;function Hk(){const e=(0,zk.homedir)();let t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||uc.join(e,"AppData","Local"):process.platform==="darwin"?t=uc.join(e,"Library","Caches"):t=process.env.XDG_CACHE_HOME||uc.join(e,".cache"),t}gl.getAppCacheDir=Hk;Object.defineProperty(ml,"__esModule",{value:!0});ml.ElectronAppAdapter=void 0;const jp=Te,Gk=gl;class Wk{constructor(t=oe.app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?jp.join(process.resourcesPath,"app-update.yml"):jp.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,Gk.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(t){this.app.once("quit",(r,n)=>t(n))}}ml.ElectronAppAdapter=Wk;var W0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronHttpExecutor=e.getNetSession=e.NET_SESSION_NAME=void 0;const t=ft();e.NET_SESSION_NAME="electron-updater";function r(){return oe.session.fromPartition(e.NET_SESSION_NAME,{cache:!1})}e.getNetSession=r;class n extends t.HttpExecutor{constructor(s){super(),this.proxyLoginCallback=s,this.cachedSession=null}async download(s,o,a){return await a.cancellationToken.createPromise((l,u,c)=>{const f={headers:a.headers||void 0,redirect:"manual"};(0,t.configureRequestUrl)(s,f),(0,t.configureRequestOptions)(f),this.doDownload(f,{destination:o,options:a,onCancel:c,callback:h=>{h==null?l(o):u(h)},responseHandler:null},0)})}createRequest(s,o){s.headers&&s.headers.Host&&(s.host=s.headers.Host,delete s.headers.Host),this.cachedSession==null&&(this.cachedSession=r());const a=oe.net.request({...s,session:this.cachedSession});return a.on("response",o),this.proxyLoginCallback!=null&&a.on("login",this.proxyLoginCallback),a}addRedirectHandlers(s,o,a,l,u){s.on("redirect",(c,f,h)=>{s.abort(),l>this.maxRedirects?a(this.createMaxRedirectError()):u(t.HttpExecutor.prepareRedirectUrlOptions(h,o))})}}e.ElectronHttpExecutor=n})(W0);var So={},Nt={},Kk=1/0,Yk="[object Symbol]",K0=/[\\^$.*+?()[\]{}|]/g,Jk=RegExp(K0.source),Xk=typeof ut=="object"&&ut&&ut.Object===Object&&ut,Qk=typeof self=="object"&&self&&self.Object===Object&&self,Zk=Xk||Qk||Function("return this")(),eL=Object.prototype,tL=eL.toString,Mp=Zk.Symbol,Up=Mp?Mp.prototype:void 0,xp=Up?Up.toString:void 0;function rL(e){if(typeof e=="string")return e;if(iL(e))return xp?xp.call(e):"";var t=e+"";return t=="0"&&1/e==-Kk?"-0":t}function nL(e){return!!e&&typeof e=="object"}function iL(e){return typeof e=="symbol"||nL(e)&&tL.call(e)==Yk}function sL(e){return e==null?"":rL(e)}function oL(e){return e=sL(e),e&&Jk.test(e)?e.replace(K0,"\\$&"):e}var aL=oL;Object.defineProperty(Nt,"__esModule",{value:!0});Nt.blockmapFiles=Nt.getChannelFilename=Nt.newUrlFromBase=Nt.newBaseUrl=void 0;const Y0=Ji,lL=aL;function cL(e){const t=new Y0.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}Nt.newBaseUrl=cL;function Kc(e,t,r=!1){const n=new Y0.URL(e,t),i=t.search;return i!=null&&i.length!==0?n.search=i:r&&(n.search=`noCache=${Date.now().toString(32)}`),n}Nt.newUrlFromBase=Kc;function uL(e){return`${e}.yml`}Nt.getChannelFilename=uL;function fL(e,t,r){const n=Kc(`${e.pathname}.blockmap`,e);return[Kc(`${e.pathname.replace(new RegExp(lL(r),"g"),t)}.blockmap`,e),n]}Nt.blockmapFiles=fL;var it={};Object.defineProperty(it,"__esModule",{value:!0});it.resolveFiles=it.getFileList=it.parseUpdateInfo=it.findFile=it.Provider=void 0;const Sn=ft(),dL=Pt,qp=Nt;class hL{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){const t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(t==="x64"?"":`-${t}`)}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return`${t}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,r,n){return this.executor.request(this.createRequestOptions(t,r),n)}createRequestOptions(t,r){const n={};return this.requestHeaders==null?r!=null&&(n.headers=r):n.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},(0,Sn.configureRequestUrl)(t,n),n}}it.Provider=hL;function pL(e,t,r){if(e.length===0)throw(0,Sn.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const n=e.find(i=>i.url.pathname.toLowerCase().endsWith(`.${t}`));return n??(r==null?e[0]:e.find(i=>!r.some(s=>i.url.pathname.toLowerCase().endsWith(`.${s}`))))}it.findFile=pL;function mL(e,t,r){if(e==null)throw(0,Sn.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let n;try{n=(0,dL.load)(e)}catch(i){throw(0,Sn.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): ${i.stack||i.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return n}it.parseUpdateInfo=mL;function J0(e){const t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw(0,Sn.newError)(`No files provided: ${(0,Sn.safeStringifyJson)(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}it.getFileList=J0;function gL(e,t,r=n=>n){const i=J0(e).map(a=>{if(a.sha2==null&&a.sha512==null)throw(0,Sn.newError)(`Update info doesn't contain nor sha256 neither sha512 checksum: ${(0,Sn.safeStringifyJson)(a)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:(0,qp.newUrlFromBase)(r(a.url),t),info:a}}),s=e.packages,o=s==null?null:s[process.arch]||s.ia32;return o!=null&&(i[0].packageInfo={...o,path:(0,qp.newUrlFromBase)(r(o.path),t).href}),i}it.resolveFiles=gL;Object.defineProperty(So,"__esModule",{value:!0});So.GenericProvider=void 0;const Vp=ft(),fc=Nt,dc=it;class yL extends dc.Provider{constructor(t,r,n){super(n),this.configuration=t,this.updater=r,this.baseUrl=(0,fc.newBaseUrl)(this.configuration.url)}get channel(){const t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){const t=(0,fc.getChannelFilename)(this.channel),r=(0,fc.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,dc.parseUpdateInfo)(await this.httpRequest(r),t,r)}catch(i){if(i instanceof Vp.HttpError&&i.statusCode===404)throw(0,Vp.newError)(`Cannot find channel "${t}" update info: ${i.stack||i.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&n<3){await new Promise((s,o)=>{try{setTimeout(s,1e3*n)}catch(a){o(a)}});continue}throw i}}resolveFiles(t){return(0,dc.resolveFiles)(t,this.baseUrl)}}So.GenericProvider=yL;var Gi={},yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.BitbucketProvider=void 0;const Bp=ft(),hc=Nt,pc=it;class vL extends pc.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r;const{owner:i,slug:s}=t;this.baseUrl=(0,hc.newBaseUrl)(`https://api.bitbucket.org/2.0/repositories/${i}/${s}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const t=new Bp.CancellationToken,r=(0,hc.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,hc.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,void 0,t);return(0,pc.parseUpdateInfo)(i,r,n)}catch(i){throw(0,Bp.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,pc.resolveFiles)(t,this.baseUrl)}toString(){const{owner:t,slug:r}=this.configuration;return`Bitbucket (owner: ${t}, slug: ${r}, channel: ${this.channel})`}}yl.BitbucketProvider=vL;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.computeReleaseNotes=Xr.GitHubProvider=Xr.BaseGitHubProvider=void 0;const Gr=ft(),Gs=Bf,_L=Ji,Ni=Nt,Yc=it,mc=/\/tag\/([^/]+)$/;class X0 extends Yc.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=(0,Ni.newBaseUrl)((0,Gr.githubUrl)(t,r));const i=r==="github.com"?"api.github.com":r;this.baseApiUrl=(0,Ni.newBaseUrl)((0,Gr.githubUrl)(t,i))}computeGithubBasePath(t){const r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?`/api/v3${t}`:t}}Xr.BaseGitHubProvider=X0;class $L extends X0{constructor(t,r,n){super(t,"github.com",n),this.options=t,this.updater=r}async getLatestVersion(){var t,r,n,i;const s=new Gr.CancellationToken,o=await this.httpRequest((0,Ni.newUrlFromBase)(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},s),a=(0,Gr.parseXml)(o);let l=a.element("entry",!1,"No published versions on GitHub"),u=null;try{if(this.updater.allowPrerelease){const $=((t=this.updater)===null||t===void 0?void 0:t.channel)||((r=Gs.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if($===null)u=mc.exec(l.element("link").attribute("href"))[1];else for(const v of a.getElements("entry")){const y=mc.exec(v.element("link").attribute("href"));if(y===null)continue;const m=y[1],S=((n=Gs.prerelease(m))===null||n===void 0?void 0:n[0])||null,A=!$||["alpha","beta"].includes($),M=S!==null&&!["alpha","beta"].includes(String(S));if(A&&!M&&!($==="beta"&&S==="alpha")){u=m;break}if(S&&S===$){u=m;break}}}else{u=await this.getLatestTagName(s);for(const $ of a.getElements("entry"))if(mc.exec($.element("link").attribute("href"))[1]===u){l=$;break}}}catch($){throw(0,Gr.newError)(`Cannot parse releases feed: ${$.stack||$.message},
XML:
${o}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(u==null)throw(0,Gr.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let c,f="",h="";const p=async $=>{f=(0,Ni.getChannelFilename)($),h=(0,Ni.newUrlFromBase)(this.getBaseDownloadPath(String(u),f),this.baseUrl);const v=this.createRequestOptions(h);try{return await this.executor.request(v,s)}catch(y){throw y instanceof Gr.HttpError&&y.statusCode===404?(0,Gr.newError)(`Cannot find ${f} in the latest release artifacts (${h}): ${y.stack||y.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):y}};try{const $=this.updater.allowPrerelease?this.getCustomChannelName(String(((i=Gs.prerelease(u))===null||i===void 0?void 0:i[0])||"latest")):this.getDefaultChannelName();c=await p($)}catch($){if(this.updater.allowPrerelease)c=await p(this.getDefaultChannelName());else throw $}const g=(0,Yc.parseUpdateInfo)(c,f,h);return g.releaseName==null&&(g.releaseName=l.elementValueOrEmpty("title")),g.releaseNotes==null&&(g.releaseNotes=Q0(this.updater.currentVersion,this.updater.fullChangelog,a,l)),{tag:u,...g}}async getLatestTagName(t){const r=this.options,n=r.host==null||r.host==="github.com"?(0,Ni.newUrlFromBase)(`${this.basePath}/latest`,this.baseUrl):new _L.URL(`${this.computeGithubBasePath(`/repos/${r.owner}/${r.repo}/releases`)}/latest`,this.baseApiUrl);try{const i=await this.httpRequest(n,{Accept:"application/json"},t);return i==null?null:JSON.parse(i).tag_name}catch(i){throw(0,Gr.newError)(`Unable to find latest version on GitHub (${n}), please ensure a production release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(t){return(0,Yc.resolveFiles)(t,this.baseUrl,r=>this.getBaseDownloadPath(t.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(t,r){return`${this.basePath}/download/${t}/${r}`}}Xr.GitHubProvider=$L;function zp(e){const t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function Q0(e,t,r,n){if(!t)return zp(n);const i=[];for(const s of r.getElements("entry")){const o=/\/tag\/v?([^/]+)$/.exec(s.element("link").attribute("href"))[1];Gs.lt(e,o)&&i.push({version:o,note:zp(s)})}return i.sort((s,o)=>Gs.rcompare(s.version,o.version))}Xr.computeReleaseNotes=Q0;var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.KeygenProvider=void 0;const Hp=ft(),gc=Nt,yc=it;class EL extends yc.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r,this.baseUrl=(0,gc.newBaseUrl)(`https://api.keygen.sh/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const t=new Hp.CancellationToken,r=(0,gc.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,gc.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},t);return(0,yc.parseUpdateInfo)(i,r,n)}catch(i){throw(0,Hp.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,yc.resolveFiles)(t,this.baseUrl)}toString(){const{account:t,product:r,platform:n}=this.configuration;return`Keygen (account: ${t}, product: ${r}, platform: ${n}, channel: ${this.channel})`}}vl.KeygenProvider=EL;var _l={};Object.defineProperty(_l,"__esModule",{value:!0});_l.PrivateGitHubProvider=void 0;const Ei=ft(),wL=Pt,SL=Te,Gp=Ji,Wp=Nt,bL=Xr,PL=it;class TL extends bL.BaseGitHubProvider{constructor(t,r,n,i){super(t,"api.github.com",i),this.updater=r,this.token=n}createRequestOptions(t,r){const n=super.createRequestOptions(t,r);return n.redirect="manual",n}async getLatestVersion(){const t=new Ei.CancellationToken,r=(0,Wp.getChannelFilename)(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(t),i=n.assets.find(a=>a.name===r);if(i==null)throw(0,Ei.newError)(`Cannot find ${r} in the release ${n.html_url||n.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const s=new Gp.URL(i.url);let o;try{o=(0,wL.load)(await this.httpRequest(s,this.configureHeaders("application/octet-stream"),t))}catch(a){throw a instanceof Ei.HttpError&&a.statusCode===404?(0,Ei.newError)(`Cannot find ${r} in the latest release artifacts (${s}): ${a.stack||a.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):a}return o.assets=n.assets,o}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:`token ${this.token}`}}async getLatestVersionInfo(t){const r=this.updater.allowPrerelease;let n=this.basePath;r||(n=`${n}/latest`);const i=(0,Wp.newUrlFromBase)(n,this.baseUrl);try{const s=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return r?s.find(o=>o.prerelease)||s[0]:s}catch(s){throw(0,Ei.newError)(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${s.stack||s.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(t){return(0,PL.getFileList)(t).map(r=>{const n=SL.posix.basename(r.url).replace(/ /g,"-"),i=t.assets.find(s=>s!=null&&s.name===n);if(i==null)throw(0,Ei.newError)(`Cannot find asset "${n}" in: ${JSON.stringify(t.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new Gp.URL(i.url),info:r}})}}_l.PrivateGitHubProvider=TL;Object.defineProperty(Gi,"__esModule",{value:!0});Gi.createClient=Gi.isUrlProbablySupportMultiRangeRequests=void 0;const sa=ft(),OL=yl,Kp=So,AL=Xr,CL=vl,NL=_l;function Z0(e){return!e.includes("s3.amazonaws.com")}Gi.isUrlProbablySupportMultiRangeRequests=Z0;function RL(e,t,r){if(typeof e=="string")throw(0,sa.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const n=e.provider;switch(n){case"github":{const i=e,s=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return s==null?new AL.GitHubProvider(i,t,r):new NL.PrivateGitHubProvider(i,t,s,r)}case"bitbucket":return new OL.BitbucketProvider(e,t,r);case"keygen":return new CL.KeygenProvider(e,t,r);case"s3":case"spaces":return new Kp.GenericProvider({provider:"generic",url:(0,sa.getS3LikeProviderBaseUrl)(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{const i=e;return new Kp.GenericProvider(i,t,{...r,isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&Z0(i.url)})}case"custom":{const i=e,s=i.updateProvider;if(!s)throw(0,sa.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new s(i,t,r)}default:throw(0,sa.newError)(`Unsupported provider: ${n}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}Gi.createClient=RL;var Yp;function ud(){if(Yp)return Mn;Yp=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.NoOpLogger=Mn.AppUpdater=void 0;const e=ft(),t=Yi,r=Ki,n=Tn,i=Pt,s=pl,o=Te,a=Bf,l=Hi,u=ml,c=W0,f=So,h=ns(),p=Gi;let g=class ev extends r.EventEmitter{get channel(){return this._channel}set channel(m){if(this._channel!=null){if(typeof m!="string")throw(0,e.newError)(`Channel must be a string, but got: ${m}`,"ERR_UPDATER_INVALID_CHANNEL");if(m.length===0)throw(0,e.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=m,this.allowDowngrade=!0}addAuthHeader(m){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:m})}get netSession(){return(0,c.getNetSession)()}get logger(){return this._logger}set logger(m){this._logger=m??new v}set updateConfigPath(m){this.clientPromise=null,this._appUpdateConfigPath=m,this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig())}constructor(m,S){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new h.UpdaterSignal(this),this._appUpdateConfigPath=null,this.clientPromise=null,this.stagingUserIdPromise=new s.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",O=>{this._logger.error(`Error: ${O.stack||O.message}`)}),S==null?(this.app=new u.ElectronAppAdapter,this.httpExecutor=new c.ElectronHttpExecutor((O,b)=>this.emit("login",O,b))):(this.app=S,this.httpExecutor=null);const A=this.app.version,M=(0,a.parse)(A);if(M==null)throw(0,e.newError)(`App version is not a valid semver version: "${A}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=M,this.allowPrerelease=$(M),m!=null&&(this.setFeedURL(m),typeof m!="string"&&m.requestHeaders&&(this.requestHeaders=m.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(m){const S=this.createProviderRuntimeOptions();let A;typeof m=="string"?A=new f.GenericProvider({provider:"generic",url:m},this,{...S,isUseMultipleRangeRequest:(0,p.isUrlProbablySupportMultiRangeRequests)(m)}):A=(0,p.createClient)(m,this,S),this.clientPromise=Promise.resolve(A)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let m=this.checkForUpdatesPromise;if(m!=null)return this._logger.info("Checking for update (already in progress)"),m;const S=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),m=this.doCheckForUpdates().then(A=>(S(),A)).catch(A=>{throw S(),this.emit("error",A,`Cannot check for updates: ${(A.stack||A).toString()}`),A}),this.checkForUpdatesPromise=m,m}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(m){return this.checkForUpdates().then(S=>S!=null&&S.downloadPromise?(S.downloadPromise.then(()=>{const A=ev.formatDownloadNotification(S.updateInfo.version,this.app.name,m);new oe.Notification(A).show()}),S):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),S))}static formatDownloadNotification(m,S,A){return A==null&&(A={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),A={title:A.title.replace("{appName}",S).replace("{version}",m),body:A.body.replace("{appName}",S).replace("{version}",m)},A}async isStagingMatch(m){const S=m.stagingPercentage;let A=S;if(A==null)return!0;if(A=parseInt(A,10),isNaN(A))return this._logger.warn(`Staging percentage is NaN: ${S}`),!0;A=A/100;const M=await this.stagingUserIdPromise.value,b=e.UUID.parse(M).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${A}, percentage: ${b}, user id: ${M}`),b<A}computeFinalHeaders(m){return this.requestHeaders!=null&&Object.assign(m,this.requestHeaders),m}async isUpdateAvailable(m){const S=(0,a.parse)(m.version);if(S==null)throw(0,e.newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${m.version}"`,"ERR_UPDATER_INVALID_VERSION");const A=this.currentVersion;if((0,a.eq)(S,A)||!await this.isStagingMatch(m))return!1;const O=(0,a.gt)(S,A),b=(0,a.lt)(S,A);return O?!0:this.allowDowngrade&&b}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(A=>(0,p.createClient)(A,this,this.createProviderRuntimeOptions())));const m=await this.clientPromise,S=await this.stagingUserIdPromise.value;return m.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":S})),{info:await m.getLatestVersion(),provider:m}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const m=await this.getUpdateInfoAndProvider(),S=m.info;if(!await this.isUpdateAvailable(S))return this._logger.info(`Update for version ${this.currentVersion} is not available (latest version: ${S.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",S),{versionInfo:S,updateInfo:S};this.updateInfoAndProvider=m,this.onUpdateAvailable(S);const A=new e.CancellationToken;return{versionInfo:S,updateInfo:S,cancellationToken:A,downloadPromise:this.autoDownload?this.downloadUpdate(A):null}}onUpdateAvailable(m){this._logger.info(`Found version ${m.version} (url: ${(0,e.asArray)(m.files).map(S=>S.url).join(", ")})`),this.emit("update-available",m)}downloadUpdate(m=new e.CancellationToken){const S=this.updateInfoAndProvider;if(S==null){const M=new Error("Please check update first");return this.dispatchError(M),Promise.reject(M)}this._logger.info(`Downloading update from ${(0,e.asArray)(S.info.files).map(M=>M.url).join(", ")}`);const A=M=>{if(!(M instanceof e.CancellationError))try{this.dispatchError(M)}catch(O){this._logger.warn(`Cannot dispatch error event: ${O.stack||O}`)}return M};try{return this.doDownloadUpdate({updateInfoAndProvider:S,requestHeaders:this.computeRequestHeaders(S.provider),cancellationToken:m,disableWebInstaller:this.disableWebInstaller}).catch(M=>{throw A(M)})}catch(M){return Promise.reject(A(M))}}dispatchError(m){this.emit("error",m,(m.stack||m).toString())}dispatchUpdateDownloaded(m){this.emit(h.UPDATE_DOWNLOADED,m)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,i.load)(await(0,n.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(m){const S=m.fileExtraDownloadHeaders;if(S!=null){const A=this.requestHeaders;return A==null?S:{...S,...A}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const m=o.join(this.app.userDataPath,".updaterId");try{const A=await(0,n.readFile)(m,"utf-8");if(e.UUID.check(A))return A;this._logger.warn(`Staging user id file exists, but content was invalid: ${A}`)}catch(A){A.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${A}`)}const S=e.UUID.v5((0,t.randomBytes)(4096),e.UUID.OID);this._logger.info(`Generated new staging user ID: ${S}`);try{await(0,n.outputFile)(m,S)}catch(A){this._logger.warn(`Couldn't write out staging user ID: ${A}`)}return S}get isAddNoCacheQuery(){const m=this.requestHeaders;if(m==null)return!0;for(const S of Object.keys(m)){const A=S.toLowerCase();if(A==="authorization"||A==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let m=this.downloadedUpdateHelper;if(m==null){const S=(await this.configOnDisk.value).updaterCacheDirName,A=this._logger;S==null&&A.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const M=o.join(this.app.baseCachePath,S||this.app.name);A.debug!=null&&A.debug(`updater cache dir: ${M}`),m=new l.DownloadedUpdateHelper(M),this.downloadedUpdateHelper=m}return m}async executeDownload(m){const S=m.fileInfo,A={headers:m.downloadUpdateOptions.requestHeaders,cancellationToken:m.downloadUpdateOptions.cancellationToken,sha2:S.info.sha2,sha512:S.info.sha512};this.listenerCount(h.DOWNLOAD_PROGRESS)>0&&(A.onProgress=j=>this.emit(h.DOWNLOAD_PROGRESS,j));const M=m.downloadUpdateOptions.updateInfoAndProvider.info,O=M.version,b=S.packageInfo;function D(){const j=decodeURIComponent(m.fileInfo.url.pathname);return j.endsWith(`.${m.fileExtension}`)?o.basename(j):m.fileInfo.info.url}const T=await this.getOrCreateDownloadHelper(),B=T.cacheDirForPendingUpdate;await(0,n.mkdir)(B,{recursive:!0});const J=D();let H=o.join(B,J);const Y=b==null?null:o.join(B,`package-${O}${o.extname(b.path)||".7z"}`),K=async j=>(await T.setDownloadedFile(H,Y,M,S,J,j),await m.done({...M,downloadedFile:H}),Y==null?[H]:[H,Y]),te=this._logger,re=await T.validateDownloadedPath(H,M,S,te);if(re!=null)return H=re,await K(!1);const X=async()=>(await T.clear().catch(()=>{}),await(0,n.unlink)(H).catch(()=>{})),I=await(0,l.createTempUpdateFile)(`temp-${J}`,B,te);try{await m.task(I,A,Y,X),await(0,n.rename)(I,H)}catch(j){throw await X(),j instanceof e.CancellationError&&(te.info("cancelled"),this.emit("update-cancelled",M)),j}return te.info(`New version ${O} has been downloaded to ${H}`),await K(!0)}};Mn.AppUpdater=g;function $(y){const m=(0,a.prerelease)(y);return m!=null&&m.length>0}class v{info(m){}warn(m){}error(m){}}return Mn.NoOpLogger=v,Mn}var Es={},ws={},Jp;function $l(){if(Jp)return ws;Jp=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.BaseUpdater=void 0;const e=so,t=ud();let r=class extends t.AppUpdater{constructor(i,s){super(i,s),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(i=!1,s=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(i,i?s:this.autoRunAppAfterInstall)?setImmediate(()=>{oe.autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(i){return super.executeDownload({...i,done:s=>(this.dispatchUpdateDownloaded(s),this.addQuitHandler(),Promise.resolve())})}install(i=!1,s=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const o=this.downloadedUpdateHelper,a=o==null?null:o.file,l=o==null?null:o.downloadedFileInfo;if(a==null||l==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${i}, isForceRunAfter: ${s}`),this.doInstall({installerPath:a,isSilent:i,isForceRunAfter:s,isAdminRightsRequired:l.isAdminRightsRequired})}catch(u){return this.dispatchError(u),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(i=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(i!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${i}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}wrapSudo(){const{name:i}=this.app,s=`"${i} would like to update"`,o=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),a=[o];return/kdesudo/i.test(o)?(a.push("--comment",s),a.push("-c")):/gksudo/i.test(o)?a.push("--message",s):/pkexec/i.test(o)&&a.push("--disable-internal-agent"),a.join(" ")}spawnSyncLog(i,s=[],o={}){return this._logger.info(`Executing: ${i} with args: ${s}`),(0,e.spawnSync)(i,s,{env:{...process.env,...o},encoding:"utf-8",shell:!0}).stdout.trim()}async spawnLog(i,s=[],o=void 0,a="ignore"){return this._logger.info(`Executing: ${i} with args: ${s}`),new Promise((l,u)=>{try{const c={stdio:a,env:o,detached:!0},f=(0,e.spawn)(i,s,c);f.on("error",h=>{u(h)}),f.unref(),f.pid!==void 0&&l(!0)}catch(c){u(c)}})}};return ws.BaseUpdater=r,ws}var bo={},Po={},si={},bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.computeOperations=bn.OperationKind=void 0;var Kn;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Kn||(bn.OperationKind=Kn={}));function IL(e,t,r){const n=Qp(e.files),i=Qp(t.files);let s=null;const o=t.files[0],a=[],l=o.name,u=n.get(l);if(u==null)throw new Error(`no file ${l} in old blockmap`);const c=i.get(l);let f=0;const{checksumToOffset:h,checksumToOldSize:p}=FL(n.get(l),u.offset,r);let g=o.offset;for(let $=0;$<c.checksums.length;g+=c.sizes[$],$++){const v=c.sizes[$],y=c.checksums[$];let m=h.get(y);m!=null&&p.get(y)!==v&&(r.warn(`Checksum ("${y}") matches, but size differs (old: ${p.get(y)}, new: ${v})`),m=void 0),m===void 0?(f++,s!=null&&s.kind===Kn.DOWNLOAD&&s.end===g?s.end+=v:(s={kind:Kn.DOWNLOAD,start:g,end:g+v},Xp(s,a,y,$))):s!=null&&s.kind===Kn.COPY&&s.end===m?s.end+=v:(s={kind:Kn.COPY,start:m,end:m+v},Xp(s,a,y,$))}return f>0&&r.info(`File${o.name==="file"?"":" "+o.name} has ${f} changed blocks`),a}bn.computeOperations=IL;const DL=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function Xp(e,t,r,n){if(DL&&t.length!==0){const i=t[t.length-1];if(i.kind===e.kind&&e.start<i.end&&e.start>i.start){const s=[i.start,i.end,e.start,e.end].reduce((o,a)=>o<a?o:a);throw new Error(`operation (block index: ${n}, checksum: ${r}, kind: ${Kn[e.kind]}) overlaps previous operation (checksum: ${r}):
abs: ${i.start} until ${i.end} and ${e.start} until ${e.end}
rel: ${i.start-s} until ${i.end-s} and ${e.start-s} until ${e.end-s}`)}}t.push(e)}function FL(e,t,r){const n=new Map,i=new Map;let s=t;for(let o=0;o<e.checksums.length;o++){const a=e.checksums[o],l=e.sizes[o],u=i.get(a);if(u===void 0)n.set(a,s),i.set(a,l);else if(r.debug!=null){const c=u===l?"(same size)":`(size: ${u}, this size: ${l})`;r.debug(`${a} duplicated in blockmap ${c}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}s+=l}return{checksumToOffset:n,checksumToOldSize:i}}function Qp(e){const t=new Map;for(const r of e)t.set(r.name,r);return t}Object.defineProperty(si,"__esModule",{value:!0});si.DataSplitter=si.copyData=void 0;const oa=ft(),kL=Ue,LL=oo,jL=bn,Zp=Buffer.from(`\r
\r
`);var un;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(un||(un={}));function tv(e,t,r,n,i){const s=(0,kL.createReadStream)("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",n),s.once("end",i),s.pipe(t,{end:!1})}si.copyData=tv;class ML extends LL.Writable{constructor(t,r,n,i,s,o){super(),this.out=t,this.options=r,this.partIndexToTaskIndex=n,this.partIndexToLength=s,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=un.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,r,n){if(this.isFinished){console.error(`Trailing ignored data: ${t.length} bytes`);return}this.handleData(t).then(n).catch(n)}async handleData(t){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw(0,oa.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const n=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=n,r=n}else if(this.remainingPartDataCount>0){const n=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=n,await this.processPartData(t,0,n),r=n}if(r!==t.length){if(this.readState===un.HEADER){const n=this.searchHeaderListEnd(t,r);if(n===-1)return;r=n,this.readState=un.BODY,this.headerListBuffer=null}for(;;){if(this.readState===un.BODY)this.readState=un.INIT;else{this.partIndex++;let o=this.partIndexToTaskIndex.get(this.partIndex);if(o==null)if(this.isFinished)o=this.options.end;else throw(0,oa.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");const a=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(a<o)await this.copyExistingData(a,o);else if(a>o)throw(0,oa.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(t,r),r===-1){this.readState=un.HEADER;return}}const n=this.partIndexToLength[this.partIndex],i=r+n,s=Math.min(i,t.length);if(await this.processPartStarted(t,r,s),this.remainingPartDataCount=n-(s-r),this.remainingPartDataCount>0)return;if(r=i+this.boundaryLength,r>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-i);return}}}}copyExistingData(t,r){return new Promise((n,i)=>{const s=()=>{if(t===r){n();return}const o=this.options.tasks[t];if(o.kind!==jL.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}tv(o,this.out,this.options.oldFileFd,i,()=>{t++,s()})};s()})}searchHeaderListEnd(t,r){const n=t.indexOf(Zp,r);if(n!==-1)return n+Zp.length;const i=r===0?t:t.slice(r);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){const t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw(0,oa.newError)(`Expected length: ${t} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,r,n){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,r,n)}processPartData(t,r,n){this.actualPartLength+=n-r;const i=this.out;return i.write(r===0&&t.length===n?t:t.slice(r,n))?Promise.resolve():new Promise((s,o)=>{i.on("error",o),i.once("drain",()=>{i.removeListener("error",o),s()})})}}si.DataSplitter=ML;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.checkIsRangesSupported=Wi.executeTasksUsingMultipleRangeRequests=void 0;const Jc=ft(),em=si,tm=bn;function UL(e,t,r,n,i){const s=o=>{if(o>=t.length){e.fileMetadataBuffer!=null&&r.write(e.fileMetadataBuffer),r.end();return}const a=o+1e3;xL(e,{tasks:t,start:o,end:Math.min(t.length,a),oldFileFd:n},r,()=>s(a),i)};return s}Wi.executeTasksUsingMultipleRangeRequests=UL;function xL(e,t,r,n,i){let s="bytes=",o=0;const a=new Map,l=[];for(let f=t.start;f<t.end;f++){const h=t.tasks[f];h.kind===tm.OperationKind.DOWNLOAD&&(s+=`${h.start}-${h.end-1}, `,a.set(o,f),o++,l.push(h.end-h.start))}if(o<=1){const f=h=>{if(h>=t.end){n();return}const p=t.tasks[h++];if(p.kind===tm.OperationKind.COPY)(0,em.copyData)(p,r,t.oldFileFd,i,()=>f(h));else{const g=e.createRequestOptions();g.headers.Range=`bytes=${p.start}-${p.end-1}`;const $=e.httpExecutor.createRequest(g,v=>{Xc(v,i)&&(v.pipe(r,{end:!1}),v.once("end",()=>f(h)))});e.httpExecutor.addErrorAndTimeoutHandlers($,i),$.end()}};f(t.start);return}const u=e.createRequestOptions();u.headers.Range=s.substring(0,s.length-2);const c=e.httpExecutor.createRequest(u,f=>{if(!Xc(f,i))return;const h=(0,Jc.safeGetHeader)(f,"content-type"),p=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(h);if(p==null){i(new Error(`Content-Type "multipart/byteranges" is expected, but got "${h}"`));return}const g=new em.DataSplitter(r,t,a,p[1]||p[2],l,n);g.on("error",i),f.pipe(g),f.on("end",()=>{setTimeout(()=>{c.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(c,i),c.end()}function Xc(e,t){if(e.statusCode>=400)return t((0,Jc.createHttpError)(e)),!1;if(e.statusCode!==206){const r=(0,Jc.safeGetHeader)(e,"accept-ranges");if(r==null||r==="none")return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}Wi.checkIsRangesSupported=Xc;var El={};Object.defineProperty(El,"__esModule",{value:!0});El.ProgressDifferentialDownloadCallbackTransform=void 0;const qL=oo;var Ri;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Ri||(Ri={}));class VL extends qL.Transform{constructor(t,r,n){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=Ri.COPY,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}if(this.operationType==Ri.COPY){n(null,t);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}beginFileCopy(){this.operationType=Ri.COPY}beginRangeDownload(){this.operationType=Ri.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}}El.ProgressDifferentialDownloadCallbackTransform=VL;Object.defineProperty(Po,"__esModule",{value:!0});Po.DifferentialDownloader=void 0;const Ss=ft(),vc=Tn,BL=Ue,zL=si,HL=Ji,aa=bn,rm=Wi,GL=El;class WL{constructor(t,r,n){this.blockAwareFileInfo=t,this.httpExecutor=r,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){const t={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,Ss.configureRequestUrl)(this.options.newUrl,t),(0,Ss.configureRequestOptions)(t),t}doDownload(t,r){if(t.version!==r.version)throw new Error(`version is different (${t.version} - ${r.version}), full download is required`);const n=this.logger,i=(0,aa.computeOperations)(t,r,n);n.debug!=null&&n.debug(JSON.stringify(i,null,2));let s=0,o=0;for(const l of i){const u=l.end-l.start;l.kind===aa.OperationKind.DOWNLOAD?s+=u:o+=u}const a=this.blockAwareFileInfo.size;if(s+o+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==a)throw new Error(`Internal error, size mismatch: downloadSize: ${s}, copySize: ${o}, newSize: ${a}`);return n.info(`Full: ${nm(a)}, To download: ${nm(s)} (${Math.round(s/(a/100))}%)`),this.downloadFile(i)}downloadFile(t){const r=[],n=()=>Promise.all(r.map(i=>(0,vc.close)(i.descriptor).catch(s=>{this.logger.error(`cannot close file "${i.path}": ${s}`)})));return this.doDownloadFile(t,r).then(n).catch(i=>n().catch(s=>{try{this.logger.error(`cannot close files: ${s}`)}catch(o){try{console.error(o)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(t,r){const n=await(0,vc.open)(this.options.oldFile,"r");r.push({descriptor:n,path:this.options.oldFile});const i=await(0,vc.open)(this.options.newFile,"w");r.push({descriptor:i,path:this.options.newFile});const s=(0,BL.createWriteStream)(this.options.newFile,{fd:i});await new Promise((o,a)=>{const l=[];let u;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const y=[];let m=0;for(const A of t)A.kind===aa.OperationKind.DOWNLOAD&&(y.push(A.end-A.start),m+=A.end-A.start);const S={expectedByteCounts:y,grandTotal:m};u=new GL.ProgressDifferentialDownloadCallbackTransform(S,this.options.cancellationToken,this.options.onProgress),l.push(u)}const c=new Ss.DigestTransform(this.blockAwareFileInfo.sha512);c.isValidateOnEnd=!1,l.push(c),s.on("finish",()=>{s.close(()=>{r.splice(1,1);try{c.validate()}catch(y){a(y);return}o(void 0)})}),l.push(s);let f=null;for(const y of l)y.on("error",a),f==null?f=y:f=f.pipe(y);const h=l[0];let p;if(this.options.isUseMultipleRangeRequest){p=(0,rm.executeTasksUsingMultipleRangeRequests)(this,t,h,n,a),p(0);return}let g=0,$=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const v=this.createRequestOptions();v.redirect="manual",p=y=>{var m,S;if(y>=t.length){this.fileMetadataBuffer!=null&&h.write(this.fileMetadataBuffer),h.end();return}const A=t[y++];if(A.kind===aa.OperationKind.COPY){u&&u.beginFileCopy(),(0,zL.copyData)(A,h,n,a,()=>p(y));return}const M=`bytes=${A.start}-${A.end-1}`;v.headers.range=M,(S=(m=this.logger)===null||m===void 0?void 0:m.debug)===null||S===void 0||S.call(m,`download range: ${M}`),u&&u.beginRangeDownload();const O=this.httpExecutor.createRequest(v,b=>{b.on("error",a),b.on("abort",()=>{a(new Error("response has been aborted by the server"))}),b.statusCode>=400&&a((0,Ss.createHttpError)(b)),b.pipe(h,{end:!1}),b.once("end",()=>{u&&u.endRangeDownload(),++g===100?(g=0,setTimeout(()=>p(y),1e3)):p(y)})});O.on("redirect",(b,D,T)=>{this.logger.info(`Redirect to ${KL(T)}`),$=T,(0,Ss.configureRequestUrl)(new HL.URL($),v),O.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(O,a),O.end()},p(0)})}async readRemoteBytes(t,r){const n=Buffer.allocUnsafe(r+1-t),i=this.createRequestOptions();i.headers.range=`bytes=${t}-${r}`;let s=0;if(await this.request(i,o=>{o.copy(n,s),s+=o.length}),s!==n.length)throw new Error(`Received data length ${s} is not equal to expected ${n.length}`);return n}request(t,r){return new Promise((n,i)=>{const s=this.httpExecutor.createRequest(t,o=>{(0,rm.checkIsRangesSupported)(o,i)&&(o.on("data",r),o.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(s,i),s.end()})}}Po.DifferentialDownloader=WL;function nm(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function KL(e){const t=e.indexOf("?");return t<0?e:e.substring(0,t)}Object.defineProperty(bo,"__esModule",{value:!0});bo.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const wi=Tn,YL=Po,JL=Em;class XL extends YL.DifferentialDownloader{async download(){const t=this.blockAwareFileInfo,r=t.size,n=r-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,r-1);const i=rv(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await QL(this.options.oldFile),i)}}bo.FileWithEmbeddedBlockMapDifferentialDownloader=XL;function rv(e){return JSON.parse((0,JL.inflateRawSync)(e).toString())}async function QL(e){const t=await(0,wi.open)(e,"r");try{const r=(await(0,wi.fstat)(t)).size,n=Buffer.allocUnsafe(4);await(0,wi.read)(t,n,0,n.length,r-n.length);const i=Buffer.allocUnsafe(n.readUInt32BE(0));return await(0,wi.read)(t,i,0,i.length,r-n.length-i.length),await(0,wi.close)(t),rv(i)}catch(r){throw await(0,wi.close)(t),r}}var im;function sm(){if(im)return Es;im=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.AppImageUpdater=void 0;const e=ft(),t=so,r=Tn,n=Ue,i=Te,s=$l(),o=bo,a=ns(),l=it;let u=class extends s.BaseUpdater{constructor(f,h){super(f,h)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(f){const h=f.updateInfoAndProvider.provider,p=(0,l.findFile)(h.resolveFiles(f.updateInfoAndProvider.info),"AppImage",["rpm","deb"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:p,downloadUpdateOptions:f,task:async(g,$)=>{const v=process.env.APPIMAGE;if(v==null)throw(0,e.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let y=!1;try{const m={newUrl:p.url,oldFile:v,logger:this._logger,newFile:g,isUseMultipleRangeRequest:h.isUseMultipleRangeRequest,requestHeaders:f.requestHeaders,cancellationToken:f.cancellationToken};this.listenerCount(a.DOWNLOAD_PROGRESS)>0&&(m.onProgress=S=>this.emit(a.DOWNLOAD_PROGRESS,S)),await new o.FileWithEmbeddedBlockMapDifferentialDownloader(p.info,this.httpExecutor,m).download()}catch(m){this._logger.error(`Cannot download differentially, fallback to full download: ${m.stack||m}`),y=process.platform==="linux"}y&&await this.httpExecutor.download(p.url,g,$),await(0,r.chmod)(g,493)}})}doInstall(f){const h=process.env.APPIMAGE;if(h==null)throw(0,e.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(0,n.unlinkSync)(h);let p;const g=i.basename(h);i.basename(f.installerPath)===g||!/\d+\.\d+\.\d+/.test(g)?p=h:p=i.join(i.dirname(h),i.basename(f.installerPath)),(0,t.execFileSync)("mv",["-f",f.installerPath,p]),p!==h&&this.emit("appimage-filename-updated",p);const $={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return f.isForceRunAfter?this.spawnLog(p,[],$):($.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,t.execFileSync)(p,[],{env:$})),!0}};return Es.AppImageUpdater=u,Es}var bs={},om;function am(){if(om)return bs;om=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.DebUpdater=void 0;const e=$l(),t=ns(),r=it;let n=class extends e.BaseUpdater{constructor(s,o){super(s,o)}doDownloadUpdate(s){const o=s.updateInfoAndProvider.provider,a=(0,r.findFile)(o.resolveFiles(s.updateInfoAndProvider.info),"deb",["AppImage","rpm"]);return this.executeDownload({fileExtension:"deb",fileInfo:a,downloadUpdateOptions:s,task:async(l,u)=>{this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(u.onProgress=c=>this.emit(t.DOWNLOAD_PROGRESS,c)),await this.httpExecutor.download(a.url,l,u)}})}doInstall(s){const o=this.wrapSudo(),a=/pkexec/i.test(o)?"":'"',l=["dpkg","-i",s.installerPath,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(o,[`${a}/bin/bash`,"-c",`'${l.join(" ")}'${a}`]),s.isForceRunAfter&&this.app.relaunch(),!0}};return bs.DebUpdater=n,bs}var Ps={},lm;function cm(){if(lm)return Ps;lm=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.RpmUpdater=void 0;const e=$l(),t=ns(),r=it;let n=class extends e.BaseUpdater{constructor(s,o){super(s,o)}doDownloadUpdate(s){const o=s.updateInfoAndProvider.provider,a=(0,r.findFile)(o.resolveFiles(s.updateInfoAndProvider.info),"rpm",["AppImage","deb"]);return this.executeDownload({fileExtension:"rpm",fileInfo:a,downloadUpdateOptions:s,task:async(l,u)=>{this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(u.onProgress=c=>this.emit(t.DOWNLOAD_PROGRESS,c)),await this.httpExecutor.download(a.url,l,u)}})}doInstall(s){const o=s.installerPath,a=this.wrapSudo(),l=/pkexec/i.test(a)?"":'"',u=this.spawnSyncLog("which zypper");let c;if(u)c=[u,"remove","-y",`'${this.app.name}'`,";",u,"clean","--all",";",u,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",o];else{const f=this.spawnSyncLog("which dnf || which yum");c=[f,"-y","remove",`'${this.app.name}'`,";",f,"-y","install",o]}return this.spawnSyncLog(a,[`${l}/bin/bash`,"-c",`'${c.join(" ")}'${l}`]),s.isForceRunAfter&&this.app.relaunch(),!0}};return Ps.RpmUpdater=n,Ps}var Ts={},um;function fm(){if(um)return Ts;um=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.MacUpdater=void 0;const e=ft(),t=Tn,r=Ue,n=$m,i=ud(),s=it,o=so,a=Yi;let l=class extends i.AppUpdater{constructor(c,f){super(c,f),this.nativeUpdater=oe.autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",h=>{this._logger.warn(h),this.emit("error",h)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0})}debug(c){this._logger.debug!=null&&this._logger.debug(c)}async doDownloadUpdate(c){let f=c.updateInfoAndProvider.provider.resolveFiles(c.updateInfoAndProvider.info);const h=this._logger,p="sysctl.proc_translated";let g=!1;try{this.debug("Checking for macOS Rosetta environment"),g=(0,o.execFileSync)("sysctl",[p],{encoding:"utf8"}).includes(`${p}: 1`),h.info(`Checked for macOS Rosetta environment (isRosetta=${g})`)}catch(m){h.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${m}`)}let $=!1;try{this.debug("Checking for arm64 in uname");const S=(0,o.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");h.info(`Checked 'uname -a': arm64=${S}`),$=$||S}catch(m){h.warn(`uname shell command to check for arm64 failed: ${m}`)}$=$||process.arch==="arm64"||g;const v=m=>{var S;return m.url.pathname.includes("arm64")||((S=m.info.url)===null||S===void 0?void 0:S.includes("arm64"))};$&&f.some(v)?f=f.filter(m=>$===v(m)):f=f.filter(m=>!v(m));const y=(0,s.findFile)(f,"zip",["pkg","dmg"]);if(y==null)throw(0,e.newError)(`ZIP file not provided: ${(0,e.safeStringifyJson)(f)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");return this.executeDownload({fileExtension:"zip",fileInfo:y,downloadUpdateOptions:c,task:(m,S)=>this.httpExecutor.download(y.url,m,S),done:m=>this.updateDownloaded(y,m)})}async updateDownloaded(c,f){var h,p;const g=f.downloadedFile,$=(h=c.info.size)!==null&&h!==void 0?h:(await(0,t.stat)(g)).size,v=this._logger,y=`fileToProxy=${c.url.href}`;this.debug(`Creating proxy server for native Squirrel.Mac (${y})`),(p=this.server)===null||p===void 0||p.close(),this.server=(0,n.createServer)(),this.debug(`Proxy server for native Squirrel.Mac is created (${y})`),this.server.on("close",()=>{v.info(`Proxy server for native Squirrel.Mac is closed (${y})`)});const m=S=>{const A=S.address();return typeof A=="string"?A:`http://127.0.0.1:${A==null?void 0:A.port}`};return await new Promise((S,A)=>{const M=(0,a.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),O=Buffer.from(`autoupdater:${M}`,"ascii"),b=`/${(0,a.randomBytes)(64).toString("hex")}.zip`;this.server.on("request",(D,T)=>{const B=D.url;if(v.info(`${B} requested`),B==="/"){if(!D.headers.authorization||D.headers.authorization.indexOf("Basic ")===-1){T.statusCode=401,T.statusMessage="Invalid Authentication Credentials",T.end(),v.warn("No authenthication info");return}const Y=D.headers.authorization.split(" ")[1],K=Buffer.from(Y,"base64").toString("ascii"),[te,re]=K.split(":");if(te!=="autoupdater"||re!==M){T.statusCode=401,T.statusMessage="Invalid Authentication Credentials",T.end(),v.warn("Invalid authenthication credentials");return}const X=Buffer.from(`{ "url": "${m(this.server)}${b}" }`);T.writeHead(200,{"Content-Type":"application/json","Content-Length":X.length}),T.end(X);return}if(!B.startsWith(b)){v.warn(`${B} requested, but not supported`),T.writeHead(404),T.end();return}v.info(`${b} requested by Squirrel.Mac, pipe ${g}`);let J=!1;T.on("finish",()=>{J||(this.nativeUpdater.removeListener("error",A),S([]))});const H=(0,r.createReadStream)(g);H.on("error",Y=>{try{T.end()}catch(K){v.warn(`cannot end response: ${K}`)}J=!0,this.nativeUpdater.removeListener("error",A),A(new Error(`Cannot pipe "${g}": ${Y}`))}),T.writeHead(200,{"Content-Type":"application/zip","Content-Length":$}),H.pipe(T)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${y})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${m(this.server)}, ${y})`),this.nativeUpdater.setFeedURL({url:m(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${O.toString("base64")}`}}),this.dispatchUpdateDownloaded(f),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",A),this.nativeUpdater.checkForUpdates()):S([])})})}quitAndInstall(){var c;this.squirrelDownloadedUpdate?(this.nativeUpdater.quitAndInstall(),(c=this.server)===null||c===void 0||c.close()):(this.nativeUpdater.on("update-downloaded",()=>{var f;this.nativeUpdater.quitAndInstall(),(f=this.server)===null||f===void 0||f.close()}),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}};return Ts.MacUpdater=l,Ts}var Os={},wl={};Object.defineProperty(wl,"__esModule",{value:!0});wl.GenericDifferentialDownloader=void 0;const ZL=Po;class ej extends ZL.DifferentialDownloader{download(t,r){return this.doDownload(t,r)}}wl.GenericDifferentialDownloader=ej;var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});Sl.verifySignature=void 0;const dm=ft(),nv=so,tj=Pn;function rj(e,t,r){return new Promise((n,i)=>{const s=t.replace(/'/g,"''");(0,nv.execFile)("chcp 65001 >NUL & powershell.exe",["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`"Get-AuthenticodeSignature -LiteralPath '${s}' | ConvertTo-Json -Compress"`],{shell:!0,timeout:20*1e3},(o,a,l)=>{try{if(o!=null||l){hm(r,o,l,i),n(null);return}const u=nj(a);if(u.Status===0){const f=(0,dm.parseDn)(u.SignerCertificate.Subject);let h=!1;for(const p of e){const g=(0,dm.parseDn)(p);if(g.size?h=Array.from(g.keys()).every(v=>g.get(v)===f.get(v)):p===f.get("CN")&&(r.warn(`Signature validated using only CN ${p}. Please add your full Distinguished Name (DN) to publisherNames configuration`),h=!0),h){n(null);return}}}const c=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(u,(f,h)=>f==="RawData"?void 0:h,2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${c}`),n(c)}catch(u){hm(r,u,null,i),n(null);return}})})}Sl.verifySignature=rj;function nj(e){const t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;const r=t.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),delete t.Path,t}function hm(e,t,r,n){if(ij()){e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{(0,nv.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(i){e.warn(`Cannot execute ConvertTo-Json: ${i.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}t!=null&&n(t),r&&n(new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`))}function ij(){const e=tj.release();return e.startsWith("6.")&&!e.startsWith("6.3")}var pm;function mm(){if(pm)return Os;pm=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.NsisUpdater=void 0;const e=ft(),t=Te,r=$l(),n=bo,i=wl,s=ns(),o=Nt,a=it,l=Tn,u=Sl,c=Ji,f=Em;let h=class extends r.BaseUpdater{constructor(g,$){super(g,$),this._verifyUpdateCodeSignature=(v,y)=>(0,u.verifySignature)(v,y,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(g){g&&(this._verifyUpdateCodeSignature=g)}doDownloadUpdate(g){const $=g.updateInfoAndProvider.provider,v=(0,a.findFile)($.resolveFiles(g.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:g,fileInfo:v,task:async(y,m,S,A)=>{const M=v.packageInfo,O=M!=null&&S!=null;if(O&&g.disableWebInstaller)throw(0,e.newError)(`Unable to download new version ${g.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");!O&&!g.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(O||await this.differentialDownloadInstaller(v,g,y,$))&&await this.httpExecutor.download(v.url,y,m);const b=await this.verifySignature(y);if(b!=null)throw await A(),(0,e.newError)(`New version ${g.updateInfoAndProvider.info.version} is not signed by the application owner: ${b}`,"ERR_UPDATER_INVALID_SIGNATURE");if(O&&await this.differentialDownloadWebPackage(g,M,S,$))try{await this.httpExecutor.download(new c.URL(M.path),S,{headers:g.requestHeaders,cancellationToken:g.cancellationToken,sha512:M.sha512})}catch(D){try{await(0,l.unlink)(S)}catch{}throw D}}})}async verifySignature(g){let $;try{if($=(await this.configOnDisk.value).publisherName,$==null)return null}catch(v){if(v.code==="ENOENT")return null;throw v}return await this._verifyUpdateCodeSignature(Array.isArray($)?$:[$],g)}doInstall(g){const $=["--updated"];g.isSilent&&$.push("/S"),g.isForceRunAfter&&$.push("--force-run"),this.installDirectory&&$.push(`/D=${this.installDirectory}`);const v=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;v!=null&&$.push(`--package-file=${v}`);const y=()=>{this.spawnLog(t.join(process.resourcesPath,"elevate.exe"),[g.installerPath].concat($)).catch(m=>this.dispatchError(m))};return g.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),y(),!0):(this.spawnLog(g.installerPath,$).catch(m=>{const S=m.code;this._logger.info(`Cannot run installer: error code: ${S}, error message: "${m.message}", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT`),S==="UNKNOWN"||S==="EACCES"?y():S==="ENOENT"?oe.shell.openPath(g.installerPath).catch(A=>this.dispatchError(A)):this.dispatchError(m)}),!0)}async differentialDownloadInstaller(g,$,v,y){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const m=(0,o.blockmapFiles)(g.url,this.app.version,$.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${m[0]}", new: ${m[1]})`);const S=async O=>{const b=await this.httpExecutor.downloadToBuffer(O,{headers:$.requestHeaders,cancellationToken:$.cancellationToken});if(b==null||b.length===0)throw new Error(`Blockmap "${O.href}" is empty`);try{return JSON.parse((0,f.gunzipSync)(b).toString())}catch(D){throw new Error(`Cannot parse blockmap "${O.href}", error: ${D}`)}},A={newUrl:g.url,oldFile:t.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_INSTALLER_FILE_NAME),logger:this._logger,newFile:v,isUseMultipleRangeRequest:y.isUseMultipleRangeRequest,requestHeaders:$.requestHeaders,cancellationToken:$.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(A.onProgress=O=>this.emit(s.DOWNLOAD_PROGRESS,O));const M=await Promise.all(m.map(O=>S(O)));return await new i.GenericDifferentialDownloader(g.info,this.httpExecutor,A).download(M[0],M[1]),!1}catch(m){if(this._logger.error(`Cannot download differentially, fallback to full download: ${m.stack||m}`),this._testOnlyOptions!=null)throw m;return!0}}async differentialDownloadWebPackage(g,$,v,y){if($.blockMapSize==null)return!0;try{const m={newUrl:new c.URL($.path),oldFile:t.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:v,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:y.isUseMultipleRangeRequest,cancellationToken:g.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(m.onProgress=S=>this.emit(s.DOWNLOAD_PROGRESS,S)),await new n.FileWithEmbeddedBlockMapDifferentialDownloader($,this.httpExecutor,m).download()}catch(m){return this._logger.error(`Cannot download differentially, fallback to full download: ${m.stack||m}`),process.platform==="win32"}return!1}};return Os.NsisUpdater=h,Os}var gm;function ns(){return gm||(gm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdaterSignal=e.UPDATE_DOWNLOADED=e.DOWNLOAD_PROGRESS=e.NsisUpdater=e.MacUpdater=e.RpmUpdater=e.DebUpdater=e.AppImageUpdater=e.Provider=e.CancellationToken=e.NoOpLogger=e.AppUpdater=void 0;const t=ft();Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}});const r=Tn,n=Te;var i=ud();Object.defineProperty(e,"AppUpdater",{enumerable:!0,get:function(){return i.AppUpdater}}),Object.defineProperty(e,"NoOpLogger",{enumerable:!0,get:function(){return i.NoOpLogger}});var s=it;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return s.Provider}});var o=sm();Object.defineProperty(e,"AppImageUpdater",{enumerable:!0,get:function(){return o.AppImageUpdater}});var a=am();Object.defineProperty(e,"DebUpdater",{enumerable:!0,get:function(){return a.DebUpdater}});var l=cm();Object.defineProperty(e,"RpmUpdater",{enumerable:!0,get:function(){return l.RpmUpdater}});var u=fm();Object.defineProperty(e,"MacUpdater",{enumerable:!0,get:function(){return u.MacUpdater}});var c=mm();Object.defineProperty(e,"NsisUpdater",{enumerable:!0,get:function(){return c.NsisUpdater}});let f;function h(){if(process.platform==="win32")f=new(mm()).NsisUpdater;else if(process.platform==="darwin")f=new(fm()).MacUpdater;else{f=new(sm()).AppImageUpdater;try{const $=n.join(process.resourcesPath,"package-type");if(!(0,r.existsSync)($))return f;console.info("Checking for beta autoupdate feature for deb/rpm distributions");const v=(0,r.readFileSync)($).toString().trim();switch(console.info("Found package-type:",v),v){case"deb":f=new(am()).DebUpdater;break;case"rpm":f=new(cm()).RpmUpdater;break;default:break}}catch($){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",$.message)}}return f}Object.defineProperty(e,"autoUpdater",{enumerable:!0,get:()=>f||h()}),e.DOWNLOAD_PROGRESS="download-progress",e.UPDATE_DOWNLOADED="update-downloaded";class p{constructor(v){this.emitter=v}login(v){g(this.emitter,"login",v)}progress(v){g(this.emitter,e.DOWNLOAD_PROGRESS,v)}updateDownloaded(v){g(this.emitter,e.UPDATE_DOWNLOADED,v)}updateCancelled(v){g(this.emitter,"update-cancelled",v)}}e.UpdaterSignal=p;function g($,v,y){$.on(v,y)}}(Jl)),Jl}var qa=ns();const sj=Zr.promisify(Ue.readdir),ym=Zr.promisify(Ue.readFile),oj=Zr.promisify(Ue.mkdir);process.env.DIST=st.join(__dirname,"../dist");process.env.PUBLIC=oe.app.isPackaged?process.env.DIST:st.join(process.env.DIST,"../public");let ve,Yn,zt,nt;console.log(oe.app.getPath("userData"));const vm=process.env.VITE_DEV_SERVER_URL,Me=new UA,_m=[{label:"File",submenu:[{role:"quit"}]},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"}]},{label:"View",submenu:[{role:"reload"},{role:"forceReload"},{role:"toggleDevTools"},{type:"separator"},{role:"resetZoom"},{role:"zoomIn"},{role:"zoomOut"},{type:"separator"},{role:"togglefullscreen"}]}];function aj(){Yn=new oe.BrowserWindow({width:500,height:300,transparent:!0,frame:!1,alwaysOnTop:!0}),Yn.loadFile("splash.html"),Yn.on("closed",()=>{Yn=null})}function lj(){ve=new oe.BrowserWindow({width:1e3,height:900,show:!1,backgroundColor:"#000000",icon:st.join(process.env.PUBLIC,"electron-vite.svg"),webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:st.join(__dirname,"preload.js")}}),Pm.enable(ve.webContents),ve.webContents.on("did-finish-load",()=>{ve==null||ve.webContents.send("main-process-message",new Date().toLocaleString())}),ve.on("resize",()=>{const[i,s]=(ve==null?void 0:ve.getSize())??[void 0,void 0];console.log(`resizing ${i} ${s}`);const o=Me.get("setup",!0);console.log("Is Setup Screen:",o),o?(Me.set("setupWindowSize",{width:i,height:s}),console.log("changed chat size")):Me.set("chatWindowSize",{width:i,height:s})}),oe.ipcMain.handle("setup",async()=>Me.get("setup",!0)),oe.ipcMain.handle("getSetupWindowSize",()=>Me.get("setupWindowSize",{width:1e3,height:900})),oe.ipcMain.handle("changeSetupWindowSize",()=>{const[i,s]=(ve==null?void 0:ve.getSize())??[void 0,void 0];console.log(`Setup Window size will be : ${i} ${s}`),Me.set("setupWindowSize",{width:i,height:s})}),oe.ipcMain.handle("getChatWindowSize",()=>Me.get("chatWindowSize",{width:500,height:900})),oe.ipcMain.handle("changeChatWindowSize",()=>{const[i,s]=(ve==null?void 0:ve.getSize())??[void 0,void 0];console.log(`Chat Window size will be : ${i} ${s}`),Me.set("chatWindowSize",{width:i,height:s})}),oe.ipcMain.handle("setSetup",async(i,s)=>{console.log(s),Me.set("setup",s)}),oe.ipcMain.handle("saveURLS",async(i,s)=>{console.log(s),Me.set("urls",s)}),oe.ipcMain.handle("saveEmoteURLS",async(i,s)=>{console.log(s),Me.set("emoteurls",s)}),oe.ipcMain.handle("saveFontSize",async(i,s)=>{console.log(s),Me.set("fontSize",s)}),oe.ipcMain.handle("getFontSize",async()=>(console.log(Me.get("fontSize",14)),Me.get("fontSize",14))),oe.ipcMain.handle("getURLs",async()=>Me.get("urls",[])),oe.ipcMain.handle("getEmoteURLs",async()=>Me.get("emoteurls",[])),oe.ipcMain.handle("setWindowSize",async(i,s,o)=>{ve==null||ve.setSize(s,o)}),oe.ipcMain.handle("saveBadgesEnabled",async(i,s)=>{console.log(`isBadgesEnabled is ${s}`),Me.set("isBadgesEnabled",s)}),oe.ipcMain.handle("getBadgesEnabled",async()=>{const i=Me.get("isBadgesEnabled",!1);return console.log(`isBadgesEnabled is ${i}`),i}),oe.ipcMain.handle("savePlatformIconsEnabled",async(i,s)=>{console.log(`isPlatformIconsEnabled is ${s}`),Me.set("isPlatformIconsEnabled",s)}),oe.ipcMain.handle("getPlatformIconsEnabled",async()=>{const i=Me.get("isPlatformIconsEnabled",!1);return console.log(`isPlatformIconsEnabled is ${i}`),i}),oe.ipcMain.handle("saveToolbarEnabled",async(i,s)=>{if(console.log(`isToolbarEnabled is ${s}`),Me.set("isToolbarEnabled",s),s){const o=oe.Menu.buildFromTemplate(_m);oe.Menu.setApplicationMenu(o)}else oe.Menu.setApplicationMenu(null)}),oe.ipcMain.handle("getToolbarEnabled",async()=>{const i=Me.get("isToolbarEnabled",!1);return console.log(`isToolbarEnabled is ${i}`),i}),oe.ipcMain.handle("openTutorial",async()=>{console.log("Opening Tutorial..."),e()});function e(){const i=new oe.BrowserWindow({width:850,height:650,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});return i.loadFile("tutorial.html"),i.setMenu(null),i}oe.ipcMain.handle("openEmoteTutorial",async()=>{console.log("Opening Tutorial..."),t()});function t(){const i=new oe.BrowserWindow({width:850,height:650,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});return i.loadFile("emoteTutorial.html"),i.setMenu(null),i}oe.ipcMain.handle("isTwitchLoggedIn",async()=>{const i=st.join(oe.app.getPath("userData"),"twitch-cookies.json");return Ue.existsSync(i)}),oe.ipcMain.handle("center",async()=>{ve==null||ve.center(),console.log("Window centered")}),oe.ipcMain.handle("getEmotesFromURL",async(i,s)=>{var l,u;console.log(`server handling... from ${s}`),zt||(zt=new oe.BrowserWindow({width:600,height:300,webPreferences:{nodeIntegration:!0,contextIsolation:!1}}),zt.loadFile("downloading.html"),zt.setMenu(null),zt.on("closed",()=>{zt=null}),zt.on("closed",()=>{zt=null,nt&&!nt.killed&&(nt.kill(),console.log("Download process was terminated."))}));const o=oe.app.getPath("userData"),a=oe.app.isPackaged?st.join(process.resourcesPath,"emotes.js"):st.join("./emotes.js");if(oe.app.isPackaged){const c=st.join(process.resourcesPath,"app.asar.unpacked","node_modules");nt=Lo.spawn("node",[a,o,s],{stdio:"pipe",windowsHide:!1,env:{...process.env,NODE_PATH:c,ELECTRON_RUN_AS_NODE:"1"}})}else nt=Lo.spawn("node",[a,o,s],{stdio:"pipe",windowsHide:!1});(l=nt.stdout)==null||l.on("data",c=>{zt&&(console.log(c),zt.webContents.send("update-download-status",`${c.toString()}`))}),(u=nt.stderr)==null||u.on("data",c=>{zt&&(console.log(c),zt.webContents.send("update-download-status",`${c.toString()}`))}),nt.on("exit",(c,f)=>{if(zt){let h=`Download complete with code ${c}.`;f&&(h+=` Terminated with signal ${f}.`),zt.webContents.send("update-download-status",h),c===0&&(ve==null||ve.webContents.send("emotes-ready",!0),Me.set("emotes-ready",!0))}})}),oe.ipcMain.handle("checkEmotesReady",async()=>{const i=Me.get("emotes-ready",!1);return console.log(i),i}),oe.ipcMain.handle("setEmotesReady",async i=>{Me.set("emotes-ready",i)}),oe.ipcMain.handle("startServer",async()=>{var f,h;console.log("server handling...");const i=Me.get("urls"),s=JSON.stringify(i),o=st.join(oe.app.getPath("userData"),"twitch-cookies.json"),a=st.join(oe.app.getPath("userData"),"youtube-cookies.json");let l="[]",u="[]";if(Ue.existsSync(o)){const p=JSON.parse(Ue.readFileSync(o,"utf-8"));l=JSON.stringify(p)}if(Ue.existsSync(a)){const p=JSON.parse(Ue.readFileSync(a,"utf-8"));u=JSON.stringify(p)}const c=oe.app.isPackaged?st.join(process.resourcesPath,"worker.js"):st.join("./worker.js");if(console.log(c),oe.app.isPackaged){const p=st.join(process.resourcesPath,"app.asar.unpacked","node_modules");nt=Lo.spawn("node",[c,s,l,u],{stdio:"pipe",windowsHide:!1,env:{...process.env,NODE_PATH:p,ELECTRON_RUN_AS_NODE:"1"}})}else nt=Lo.spawn("node",[c,s,l,u],{stdio:"pipe",windowsHide:!1});Zo.info("Server has been started"),(f=nt.stdout)==null||f.on("data",p=>{console.log(`stdout: ${p}`),Zo.info(`Child stdout:
${p}`)}),(h=nt.stderr)==null||h.on("data",p=>{console.error(`Child stderr:
${p}`),Zo.info(`Child stderr:
${p}`)}),nt.on("exit",(p,g)=>{console.log(`Child exited with code ${p} and signal ${g}`),Zo.info(`Child exited with code ${p} and signal ${g}`)})}),oe.ipcMain.handle("getEmoteFiles",async()=>{const i=oe.app.getPath("userData"),s=st.join(i,"downloaded_emotes");if(!Ue.existsSync(s))return await oj(s,{recursive:!0}),[];try{const o=await sj(s);if(o.length===0)return[];const l=o.filter(c=>c!=="emotes.json").map(async c=>{const f=st.join(s,c),p=(await ym(f)).toString("base64"),g=st.basename(c,".webp");return{data:`data:image/webp;base64,${p}`,name:g}});return await Promise.all(l)}catch(o){throw console.error("Failed to get emote files:",o),o}}),oe.ipcMain.handle("getEmotesJSON",async()=>{const i=oe.app.getPath("userData"),s=st.join(i,"downloaded_emotes"),o=st.join(s,"emotes.json");try{const a=await ym(o,{encoding:"utf8"});return JSON.parse(a)}catch(a){throw console.error("Failed to read emotes.json:",a),a}}),oe.ipcMain.handle("open-settings-window",async()=>{console.log("setup updated"),Me.set("setup",!0),ve==null||ve.webContents.send("setup-updated",!0)}),oe.ipcMain.handle("closeServer",async()=>{var i;if(console.log("clossing server"),nt&&!nt.killed){const s=JSON.stringify({action:"shutdown"});(i=nt.stdin)==null||i.write(s+`
`),console.log("Shutdown command sent to child process."),await new Promise(o=>{nt==null||nt.on("exit",()=>{console.log("Child process exited gracefully."),o()})})}else console.log("No child process to terminate.")}),oe.ipcMain.handle("loginWithTwitch",async()=>{console.log("Attempting to log in with Twitch"),r()}),oe.ipcMain.handle("loginWithYouTube",async()=>{console.log("Attempting to log in with YouTube"),n()});function r(){const i=new oe.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});return i.loadURL("https://www.twitch.tv/login"),i.webContents.on("did-navigate",async(s,o)=>{if(!o.includes("https://www.twitch.tv/login")){const a=await i.webContents.session.cookies.get({domain:".twitch.tv"});console.log("Twitch Login Cookies:",a);const l=st.join(oe.app.getPath("userData"),"twitch-cookies.json");Ue.writeFileSync(l,JSON.stringify(a,null,2)),i.close()}}),i}function n(){const i=new oe.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0}}),s="https://www.youtube.com/live_chat?is_popout=1&v=HugDvUEbsKc";return i.loadURL(s),i.on("close",async o=>{o.preventDefault();const a=await i.webContents.session.cookies.get({});console.log("YouTube Login Cookies:",a);const l=st.join(oe.app.getPath("userData"),"youtube-cookies.json");Ue.writeFileSync(l,JSON.stringify(a,null,2)),i.removeAllListeners("close"),i.close()}),i}if(vm?ve.loadURL(vm):ve.loadFile(st.join(process.env.DIST,"index.html")),Me.get("isToolbarEnabled",!1)){const i=oe.Menu.buildFromTemplate(_m);oe.Menu.setApplicationMenu(i)}else oe.Menu.setApplicationMenu(null);ve.once("ready-to-show",()=>{Yn==null||Yn.close(),ve==null||ve.show()}),ve==null||ve.on("closed",()=>{ve=null})}oe.app.on("before-quit",()=>{nt==null||nt.kill()});oe.app.on("window-all-closed",()=>{ve=null,process.platform!=="darwin"&&oe.app.quit()});oe.app.on("ready",()=>{qa.autoUpdater.checkForUpdatesAndNotify()});qa.autoUpdater.on("update-available",()=>{oe.dialog.showMessageBox({type:"info",title:"Update Available",message:"A new version of the application is available. It will be downloaded in the background.",buttons:["OK"]}).then(e=>{console.log("User response:",e.response)}).catch(e=>{console.error("Failed to show update dialog:",e)})});qa.autoUpdater.on("update-downloaded",()=>{qa.autoUpdater.quitAndInstall()});Pm.initialize();oe.app.whenReady().then(aj).then(lj);
