"use strict";var Hf=Object.defineProperty;var Bf=(e,t,r)=>t in e?Hf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ue=(e,t,r)=>(Bf(e,typeof t!="symbol"?t+"":t,r),r);const je=require("electron"),zs=require("events"),wr=require("node:path"),it=require("path"),Xa=require("util"),pr=require("fs"),Jf=require("crypto"),Xf=require("assert"),Un=require("os"),Yf=require("node:child_process"),Qf=require("child_process"),Zf=require("http"),xf=require("https");var Yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Il(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Al={},Ns={exports:{}},Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});const ca=(e,t)=>`${e.id}-${t}`;class ed{constructor(){this.nextId=0,this.storage={},this.owners={},this.electronIds=new WeakMap}add(t,r,n){const s=this.saveToStorage(n),a=ca(t,r);let i=this.owners[a];return i||(i=this.owners[a]=new Map,this.registerDeleteListener(t,r)),i.has(s)||(i.set(s,0),this.storage[s].count++),i.set(s,i.get(s)+1),s}get(t){const r=this.storage[t];if(r!=null)return r.object}remove(t,r,n){const s=ca(t,r),a=this.owners[s];if(a&&a.has(n)){const i=a.get(n)-1;i<=0?(a.delete(n),this.dereference(n)):a.set(n,i)}}clear(t,r){const n=ca(t,r),s=this.owners[n];if(s){for(const a of s.keys())this.dereference(a);delete this.owners[n]}}saveToStorage(t){let r=this.electronIds.get(t);return r||(r=++this.nextId,this.storage[r]={count:0,object:t},this.electronIds.set(t,r)),r}dereference(t){const r=this.storage[t];r!=null&&(r.count-=1,r.count===0&&(this.electronIds.delete(r.object),delete this.storage[t]))}registerDeleteListener(t,r){const n=r.split("-")[0],s=(a,i)=>{i&&i.toString()===n&&(t.removeListener("render-view-deleted",s),this.clear(t,r))};t.on("render-view-deleted",s)}}Ya.default=new ed;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.deserialize=Dt.serialize=Dt.isSerializableObject=Dt.isPromise=void 0;const td=je;function rd(e){return e&&e.then&&e.then instanceof Function&&e.constructor&&e.constructor.reject&&e.constructor.reject instanceof Function&&e.constructor.resolve&&e.constructor.resolve instanceof Function}Dt.isPromise=rd;const nd=[Boolean,Number,String,Date,Error,RegExp,ArrayBuffer];function Qa(e){return e===null||ArrayBuffer.isView(e)||nd.some(t=>e instanceof t)}Dt.isSerializableObject=Qa;const Cl=function(e,t){const n=Object.entries(e).map(([s,a])=>[s,t(a)]);return Object.fromEntries(n)};function sd(e){const t=[],r=e.getScaleFactors();if(r.length===1){const n=r[0],s=e.getSize(n),a=e.toBitmap({scaleFactor:n});t.push({scaleFactor:n,size:s,buffer:a})}else for(const n of r){const s=e.getSize(n),a=e.toDataURL({scaleFactor:n});t.push({scaleFactor:n,size:s,dataURL:a})}return{__ELECTRON_SERIALIZED_NativeImage__:!0,representations:t}}function ad(e){const t=td.nativeImage.createEmpty();if(e.representations.length===1){const{buffer:r,size:n,scaleFactor:s}=e.representations[0],{width:a,height:i}=n;t.addRepresentation({buffer:r,scaleFactor:s,width:a,height:i})}else for(const r of e.representations){const{dataURL:n,size:s,scaleFactor:a}=r,{width:i,height:u}=s;t.addRepresentation({dataURL:n,scaleFactor:a,width:i,height:u})}return t}function Ta(e){return e&&e.constructor&&e.constructor.name==="NativeImage"?sd(e):Array.isArray(e)?e.map(Ta):Qa(e)?e:e instanceof Object?Cl(e,Ta):e}Dt.serialize=Ta;function Ia(e){return e&&e.__ELECTRON_SERIALIZED_NativeImage__?ad(e):Array.isArray(e)?e.map(Ia):Qa(e)?e:e instanceof Object?Cl(e,Ia):e}Dt.deserialize=Ia;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.getElectronBinding=void 0;const od=e=>process._linkedBinding?process._linkedBinding("electron_common_"+e):process.electronBinding?process.electronBinding(e):null;qs.getElectronBinding=od;Ns.exports;(function(e,t){var r=Yt&&Yt.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.isInitialized=t.enable=t.isRemoteModuleEnabled=void 0;const n=zs,s=r(Ya),a=Dt,i=je,u=qs,{Promise:c}=Yt,l=u.getElectronBinding("v8_util"),f=(()=>{var R,j;const $=Number((j=(R=process.versions.electron)===null||R===void 0?void 0:R.split("."))===null||j===void 0?void 0:j[0]);return Number.isNaN($)||$<14})(),p=["length","name","arguments","caller","prototype"],T=new Map,E=new FinalizationRegistry(R=>{const j=R.id[0]+"~"+R.id[1],$=T.get(j);if($!==void 0&&$.deref()===void 0&&(T.delete(j),!R.webContents.isDestroyed()))try{R.webContents.sendToFrame(R.frameId,"REMOTE_RENDERER_RELEASE_CALLBACK",R.id[0],R.id[1])}catch(d){console.warn(`sendToFrame() failed: ${d}`)}});function v(R){const j=R[0]+"~"+R[1],$=T.get(j);if($!==void 0){const d=$.deref();if(d!==void 0)return d}}function P(R,j,$,d){const _=new WeakRef(d),y=R[0]+"~"+R[1];return T.set(y,_),E.register(d,{id:R,webContents:j,frameId:$}),d}const g=new WeakMap,m=function(R){let j=Object.getOwnPropertyNames(R);return typeof R=="function"&&(j=j.filter($=>!p.includes($))),j.map($=>{const d=Object.getOwnPropertyDescriptor(R,$);let _,y=!1;return d.get===void 0&&typeof R[$]=="function"?_="method":((d.set||d.writable)&&(y=!0),_="get"),{name:$,enumerable:d.enumerable,writable:y,type:_}})},b=function(R){const j=Object.getPrototypeOf(R);return j===null||j===Object.prototype?null:{members:m(j),proto:b(j)}},w=function(R,j,$,d=!1){let _;switch(typeof $){case"object":$ instanceof Buffer?_="buffer":$&&$.constructor&&$.constructor.name==="NativeImage"?_="nativeimage":Array.isArray($)?_="array":$ instanceof Error?_="error":a.isSerializableObject($)?_="value":a.isPromise($)?_="promise":Object.prototype.hasOwnProperty.call($,"callee")&&$.length!=null?_="array":d&&l.getHiddenValue($,"simple")?_="value":_="object";break;case"function":_="function";break;default:_="value";break}return _==="array"?{type:_,members:$.map(y=>w(R,j,y,d))}:_==="nativeimage"?{type:_,value:a.serialize($)}:_==="object"||_==="function"?{type:_,name:$.constructor?$.constructor.name:"",id:s.default.add(R,j,$),members:m($),proto:b($)}:_==="buffer"?{type:_,value:$}:_==="promise"?($.then(function(){},function(){}),{type:_,then:w(R,j,function(y,o){$.then(y,o)})}):_==="error"?{type:_,value:$,members:Object.keys($).map(y=>({name:y,value:w(R,j,$[y])}))}:{type:"value",value:$}},A=function(R){const j=new Error(R);throw j.code="EBADRPC",j.errno=-72,j},L=(R,j)=>{let d=`Attempting to call a function in a renderer window that has been closed or released.
Function provided here: ${g.get(j)}`;if(R instanceof n.EventEmitter){const _=R.eventNames().filter(y=>R.listeners(y).includes(j));_.length>0&&(d+=`
Remote event names: ${_.join(", ")}`,_.forEach(y=>{R.removeListener(y,j)}))}console.warn(d)},S=(R,j)=>new Proxy(Object,{get($,d,_){return d==="name"?j:Reflect.get($,d,_)}}),O=function(R,j,$,d){const _=function(y){switch(y.type){case"nativeimage":return a.deserialize(y.value);case"value":return y.value;case"remote-object":return s.default.get(y.id);case"array":return O(R,j,$,y.value);case"buffer":return Buffer.from(y.value.buffer,y.value.byteOffset,y.value.byteLength);case"promise":return c.resolve({then:_(y.then)});case"object":{const o=y.name!=="Object"?Object.create({constructor:S(Object,y.name)}):{};for(const{name:h,value:I}of y.members)o[h]=_(I);return o}case"function-with-return-value":{const o=_(y.value);return function(){return o}}case"function":{const o=[$,y.id],h=v(o);if(h!==void 0)return h;const I=function(...U){let z=!1;if(!R.isDestroyed())try{z=R.sendToFrame(j,"REMOTE_RENDERER_CALLBACK",$,y.id,w(R,$,U))!==!1}catch(J){console.warn(`sendToFrame() failed: ${J}`)}z||L(this,I)};return g.set(I,y.location),Object.defineProperty(I,"length",{value:y.length}),P(o,R,j,I),I}default:throw new TypeError(`Unknown type: ${y.type}`)}};return d.map(_)},k=function(R){const j=R.getLastWebPreferences()||{};return j.enableRemoteModule!=null?!!j.enableRemoteModule:!1},V=new WeakMap,G=function(R){return f&&!V.has(R)&&V.set(R,k(R)),V.get(R)};t.isRemoteModuleEnabled=G;function Q(R){V.set(R,!0)}t.enable=Q;const W=function(R,j){i.ipcMain.on(R,($,d,..._)=>{let y;if(!t.isRemoteModuleEnabled($.sender)){$.returnValue={type:"exception",value:w($.sender,d,new Error('@electron/remote is disabled for this WebContents. Call require("@electron/remote/main").enable(webContents) to enable it.'))};return}try{y=j($,d,..._)}catch(o){y={type:"exception",value:w($.sender,d,o)}}y!==void 0&&($.returnValue=y)})},K=function(R,j,...$){const d={sender:R,returnValue:void 0,defaultPrevented:!1};return i.app.emit(j,d,R,...$),R.emit(j,d,...$),d},q=function(R,j,$){$&&console.warn(`WebContents (${R.id}): ${j}`,$)};let B=!1;function X(){return B}t.isInitialized=X;function H(){if(B)throw new Error("@electron/remote has already been initialized");B=!0,W("REMOTE_BROWSER_WRONG_CONTEXT_ERROR",function(R,j,$,d){const y=v([$,d]);y!==void 0&&L(R.sender,y)}),W("REMOTE_BROWSER_REQUIRE",function(R,j,$,d){q(R.sender,`remote.require('${$}')`,d);const _=K(R.sender,"remote-require",$);if(_.returnValue===void 0){if(_.defaultPrevented)throw new Error(`Blocked remote.require('${$}')`);if(process.mainModule)_.returnValue=process.mainModule.require($);else{let y=e;for(;y.parent;)y=y.parent;_.returnValue=y.require($)}}return w(R.sender,j,_.returnValue)}),W("REMOTE_BROWSER_GET_BUILTIN",function(R,j,$,d){q(R.sender,`remote.getBuiltin('${$}')`,d);const _=K(R.sender,"remote-get-builtin",$);if(_.returnValue===void 0){if(_.defaultPrevented)throw new Error(`Blocked remote.getBuiltin('${$}')`);_.returnValue=je[$]}return w(R.sender,j,_.returnValue)}),W("REMOTE_BROWSER_GET_GLOBAL",function(R,j,$,d){q(R.sender,`remote.getGlobal('${$}')`,d);const _=K(R.sender,"remote-get-global",$);if(_.returnValue===void 0){if(_.defaultPrevented)throw new Error(`Blocked remote.getGlobal('${$}')`);_.returnValue=Yt[$]}return w(R.sender,j,_.returnValue)}),W("REMOTE_BROWSER_GET_CURRENT_WINDOW",function(R,j,$){q(R.sender,"remote.getCurrentWindow()",$);const d=K(R.sender,"remote-get-current-window");if(d.returnValue===void 0){if(d.defaultPrevented)throw new Error("Blocked remote.getCurrentWindow()");d.returnValue=R.sender.getOwnerBrowserWindow()}return w(R.sender,j,d.returnValue)}),W("REMOTE_BROWSER_GET_CURRENT_WEB_CONTENTS",function(R,j,$){q(R.sender,"remote.getCurrentWebContents()",$);const d=K(R.sender,"remote-get-current-web-contents");if(d.returnValue===void 0){if(d.defaultPrevented)throw new Error("Blocked remote.getCurrentWebContents()");d.returnValue=R.sender}return w(R.sender,j,d.returnValue)}),W("REMOTE_BROWSER_CONSTRUCTOR",function(R,j,$,d){d=O(R.sender,R.frameId,j,d);const _=s.default.get($);return _==null&&A(`Cannot call constructor on missing remote object ${$}`),w(R.sender,j,new _(...d))}),W("REMOTE_BROWSER_FUNCTION_CALL",function(R,j,$,d){d=O(R.sender,R.frameId,j,d);const _=s.default.get($);_==null&&A(`Cannot call function on missing remote object ${$}`);try{return w(R.sender,j,_(...d),!0)}catch(y){const o=new Error(`Could not call remote function '${_.name||"anonymous"}'. Check that the function signature is correct. Underlying error: ${y}
`+(y instanceof Error?`Underlying stack: ${y.stack}
`:""));throw o.cause=y,o}}),W("REMOTE_BROWSER_MEMBER_CONSTRUCTOR",function(R,j,$,d,_){_=O(R.sender,R.frameId,j,_);const y=s.default.get($);return y==null&&A(`Cannot call constructor '${d}' on missing remote object ${$}`),w(R.sender,j,new y[d](..._))}),W("REMOTE_BROWSER_MEMBER_CALL",function(R,j,$,d,_){_=O(R.sender,R.frameId,j,_);const y=s.default.get($);y==null&&A(`Cannot call method '${d}' on missing remote object ${$}`);try{return w(R.sender,j,y[d](..._),!0)}catch(o){const h=new Error(`Could not call remote method '${d}'. Check that the method signature is correct. Underlying error: ${o}`+(o instanceof Error?`Underlying stack: ${o.stack}
`:""));throw h.cause=o,h}}),W("REMOTE_BROWSER_MEMBER_SET",function(R,j,$,d,_){_=O(R.sender,R.frameId,j,_);const y=s.default.get($);return y==null&&A(`Cannot set property '${d}' on missing remote object ${$}`),y[d]=_[0],null}),W("REMOTE_BROWSER_MEMBER_GET",function(R,j,$,d){const _=s.default.get($);return _==null&&A(`Cannot get property '${d}' on missing remote object ${$}`),w(R.sender,j,_[d])}),W("REMOTE_BROWSER_DEREFERENCE",function(R,j,$){s.default.remove(R.sender,j,$)}),W("REMOTE_BROWSER_CONTEXT_RELEASE",(R,j)=>(s.default.clear(R.sender,j),null))}t.initialize=H})(Ns,Ns.exports);var id=Ns.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.isInitialized=e.initialize=void 0;var t=id;Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}}),Object.defineProperty(e,"isInitialized",{enumerable:!0,get:function(){return t.isInitialized}}),Object.defineProperty(e,"enable",{enumerable:!0,get:function(){return t.enable}})})(Al);var jl=Al,Aa={exports:{}},cd=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const gr=cd,ld=new Set(["__proto__","prototype","constructor"]),ud=e=>!e.some(t=>ld.has(t));function rs(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let s=t[n];for(;s[s.length-1]==="\\"&&t[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=t[++n];r.push(s)}return ud(r)?r:[]}var fd={get(e,t,r){if(!gr(e)||typeof t!="string")return r===void 0?e:r;const n=rs(t);if(n.length!==0){for(let s=0;s<n.length;s++)if(e=e[n[s]],e==null){if(s!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!gr(e)||typeof t!="string")return e;const n=e,s=rs(t);for(let a=0;a<s.length;a++){const i=s[a];gr(e[i])||(e[i]={}),a===s.length-1&&(e[i]=r),e=e[i]}return n},delete(e,t){if(!gr(e)||typeof t!="string")return!1;const r=rs(t);for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return delete e[s],!0;if(e=e[s],!gr(e))return!1}},has(e,t){if(!gr(e)||typeof t!="string")return!1;const r=rs(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(gr(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},Za={exports:{}},xa={exports:{}},eo={exports:{}},to={exports:{}};const Dl=pr;to.exports=e=>new Promise(t=>{Dl.access(e,r=>{t(!r)})});to.exports.sync=e=>{try{return Dl.accessSync(e),!0}catch{return!1}};var dd=to.exports,ro={exports:{}},no={exports:{}};const kl=(e,...t)=>new Promise(r=>{r(e(...t))});no.exports=kl;no.exports.default=kl;var hd=no.exports;const pd=hd,Ll=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},s=(u,c,...l)=>{r++;const f=pd(u,...l);c(f),f.then(n,n)},a=(u,c,...l)=>{r<e?s(u,c,...l):t.push(s.bind(null,u,c,...l))},i=(u,...c)=>new Promise(l=>a(u,l,...c));return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),i};ro.exports=Ll;ro.exports.default=Ll;var md=ro.exports;const sc=md;class Ml extends Error{constructor(t){super(),this.value=t}}const yd=(e,t)=>Promise.resolve(e).then(t),$d=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Ml(t[0])));var gd=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=sc(r.concurrency),s=[...e].map(i=>[i,n(yd,i,t)]),a=sc(r.preserveOrder?1:1/0);return Promise.all(s.map(i=>a($d,i))).then(()=>{}).catch(i=>i instanceof Ml?i.value:Promise.reject(i))};const Fl=it,Vl=dd,vd=gd;eo.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),vd(e,r=>Vl(Fl.resolve(t.cwd,r)),t));eo.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(Vl.sync(Fl.resolve(t.cwd,r)))return r};var _d=eo.exports;const ir=it,Ul=_d;xa.exports=(e,t={})=>{const r=ir.resolve(t.cwd||""),{root:n}=ir.parse(r),s=[].concat(e);return new Promise(a=>{(function i(u){Ul(s,{cwd:u}).then(c=>{c?a(ir.join(u,c)):u===n?a(null):i(ir.dirname(u))})})(r)})};xa.exports.sync=(e,t={})=>{let r=ir.resolve(t.cwd||"");const{root:n}=ir.parse(r),s=[].concat(e);for(;;){const a=Ul.sync(s,{cwd:r});if(a)return ir.join(r,a);if(r===n)return null;r=ir.dirname(r)}};var Ed=xa.exports;const zl=Ed;Za.exports=async({cwd:e}={})=>zl("package.json",{cwd:e});Za.exports.sync=({cwd:e}={})=>zl.sync("package.json",{cwd:e});var wd=Za.exports,so={exports:{}};const Re=it,ql=Un,or=ql.homedir(),ao=ql.tmpdir(),{env:Qr}=process,Sd=e=>{const t=Re.join(or,"Library");return{data:Re.join(t,"Application Support",e),config:Re.join(t,"Preferences",e),cache:Re.join(t,"Caches",e),log:Re.join(t,"Logs",e),temp:Re.join(ao,e)}},bd=e=>{const t=Qr.APPDATA||Re.join(or,"AppData","Roaming"),r=Qr.LOCALAPPDATA||Re.join(or,"AppData","Local");return{data:Re.join(r,e,"Data"),config:Re.join(t,e,"Config"),cache:Re.join(r,e,"Cache"),log:Re.join(r,e,"Log"),temp:Re.join(ao,e)}},Pd=e=>{const t=Re.basename(or);return{data:Re.join(Qr.XDG_DATA_HOME||Re.join(or,".local","share"),e),config:Re.join(Qr.XDG_CONFIG_HOME||Re.join(or,".config"),e),cache:Re.join(Qr.XDG_CACHE_HOME||Re.join(or,".cache"),e),log:Re.join(Qr.XDG_STATE_HOME||Re.join(or,".local","state"),e),temp:Re.join(ao,t,e)}},Gl=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?Sd(e):process.platform==="win32"?bd(e):Pd(e)};so.exports=Gl;so.exports.default=Gl;var Od=so.exports,kt={},$e={};Object.defineProperty($e,"__esModule",{value:!0});$e.NOOP=$e.LIMIT_FILES_DESCRIPTORS=$e.LIMIT_BASENAME_LENGTH=$e.IS_USER_ROOT=$e.IS_POSIX=$e.DEFAULT_TIMEOUT_SYNC=$e.DEFAULT_TIMEOUT_ASYNC=$e.DEFAULT_WRITE_OPTIONS=$e.DEFAULT_READ_OPTIONS=$e.DEFAULT_FOLDER_MODE=$e.DEFAULT_FILE_MODE=$e.DEFAULT_ENCODING=void 0;const Rd="utf8";$e.DEFAULT_ENCODING=Rd;const Nd=438;$e.DEFAULT_FILE_MODE=Nd;const Td=511;$e.DEFAULT_FOLDER_MODE=Td;const Id={};$e.DEFAULT_READ_OPTIONS=Id;const Ad={};$e.DEFAULT_WRITE_OPTIONS=Ad;const Cd=5e3;$e.DEFAULT_TIMEOUT_ASYNC=Cd;const jd=100;$e.DEFAULT_TIMEOUT_SYNC=jd;const Dd=!!process.getuid;$e.IS_POSIX=Dd;const kd=process.getuid?!process.getuid():!1;$e.IS_USER_ROOT=kd;const Ld=128;$e.LIMIT_BASENAME_LENGTH=Ld;const Md=1e4;$e.LIMIT_FILES_DESCRIPTORS=Md;const Fd=()=>{};$e.NOOP=Fd;var Gs={},tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.attemptifySync=tn.attemptifyAsync=void 0;const Kl=$e,Vd=(e,t=Kl.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};tn.attemptifyAsync=Vd;const Ud=(e,t=Kl.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};tn.attemptifySync=Ud;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});const zd=$e,Wl={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!zd.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Wl.isChangeErrorOk(e))throw e}};oo.default=Wl;var rn={},io={};Object.defineProperty(io,"__esModule",{value:!0});const qd=$e,_e={interval:25,intervalId:void 0,limit:qd.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{_e.intervalId||(_e.intervalId=setInterval(_e.tick,_e.interval))},reset:()=>{_e.intervalId&&(clearInterval(_e.intervalId),delete _e.intervalId)},add:e=>{_e.queueWaiting.add(e),_e.queueActive.size<_e.limit/2?_e.tick():_e.init()},remove:e=>{_e.queueWaiting.delete(e),_e.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>_e.remove(r),r=()=>e(t);_e.add(r)}),tick:()=>{if(!(_e.queueActive.size>=_e.limit)){if(!_e.queueWaiting.size)return _e.reset();for(const e of _e.queueWaiting){if(_e.queueActive.size>=_e.limit)break;_e.queueWaiting.delete(e),_e.queueActive.add(e),e()}}}};io.default=_e;Object.defineProperty(rn,"__esModule",{value:!0});rn.retryifySync=rn.retryifyAsync=void 0;const Gd=io,Kd=(e,t)=>function(r){return function n(){return Gd.default.schedule().then(s=>e.apply(void 0,arguments).then(a=>(s(),a),a=>{if(s(),Date.now()>=r)throw a;if(t(a)){const i=Math.round(100+400*Math.random());return new Promise(c=>setTimeout(c,i)).then(()=>n.apply(void 0,arguments))}throw a}))}};rn.retryifyAsync=Kd;const Wd=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(s){if(Date.now()>r)throw s;if(t(s))return n.apply(void 0,arguments);throw s}}};rn.retryifySync=Wd;Object.defineProperty(Gs,"__esModule",{value:!0});const ge=pr,Be=Xa,Je=tn,ke=oo,xe=rn,Hd={chmodAttempt:Je.attemptifyAsync(Be.promisify(ge.chmod),ke.default.onChangeError),chownAttempt:Je.attemptifyAsync(Be.promisify(ge.chown),ke.default.onChangeError),closeAttempt:Je.attemptifyAsync(Be.promisify(ge.close)),fsyncAttempt:Je.attemptifyAsync(Be.promisify(ge.fsync)),mkdirAttempt:Je.attemptifyAsync(Be.promisify(ge.mkdir)),realpathAttempt:Je.attemptifyAsync(Be.promisify(ge.realpath)),statAttempt:Je.attemptifyAsync(Be.promisify(ge.stat)),unlinkAttempt:Je.attemptifyAsync(Be.promisify(ge.unlink)),closeRetry:xe.retryifyAsync(Be.promisify(ge.close),ke.default.isRetriableError),fsyncRetry:xe.retryifyAsync(Be.promisify(ge.fsync),ke.default.isRetriableError),openRetry:xe.retryifyAsync(Be.promisify(ge.open),ke.default.isRetriableError),readFileRetry:xe.retryifyAsync(Be.promisify(ge.readFile),ke.default.isRetriableError),renameRetry:xe.retryifyAsync(Be.promisify(ge.rename),ke.default.isRetriableError),statRetry:xe.retryifyAsync(Be.promisify(ge.stat),ke.default.isRetriableError),writeRetry:xe.retryifyAsync(Be.promisify(ge.write),ke.default.isRetriableError),chmodSyncAttempt:Je.attemptifySync(ge.chmodSync,ke.default.onChangeError),chownSyncAttempt:Je.attemptifySync(ge.chownSync,ke.default.onChangeError),closeSyncAttempt:Je.attemptifySync(ge.closeSync),mkdirSyncAttempt:Je.attemptifySync(ge.mkdirSync),realpathSyncAttempt:Je.attemptifySync(ge.realpathSync),statSyncAttempt:Je.attemptifySync(ge.statSync),unlinkSyncAttempt:Je.attemptifySync(ge.unlinkSync),closeSyncRetry:xe.retryifySync(ge.closeSync,ke.default.isRetriableError),fsyncSyncRetry:xe.retryifySync(ge.fsyncSync,ke.default.isRetriableError),openSyncRetry:xe.retryifySync(ge.openSync,ke.default.isRetriableError),readFileSyncRetry:xe.retryifySync(ge.readFileSync,ke.default.isRetriableError),renameSyncRetry:xe.retryifySync(ge.renameSync,ke.default.isRetriableError),statSyncRetry:xe.retryifySync(ge.statSync,ke.default.isRetriableError),writeSyncRetry:xe.retryifySync(ge.writeSync,ke.default.isRetriableError)};Gs.default=Hd;var co={};Object.defineProperty(co,"__esModule",{value:!0});const Bd={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};co.default=Bd;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});const ns={},Ca={next:e=>{const t=ns[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Ca.next(e)):delete ns[e]},schedule:e=>new Promise(t=>{let r=ns[e];r||(r=ns[e]=[]),r.push(t),!(r.length>1)&&t(()=>Ca.next(e))})};lo.default=Ca;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});const Jd=it,ac=$e,oc=Gs,at={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",s=`.${n}${r}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=at.truncate(t(e));return n in at.store?at.get(e,t,r):(at.store[n]=r,[n,()=>delete at.store[n]])},purge:e=>{at.store[e]&&(delete at.store[e],oc.default.unlinkAttempt(e))},purgeSync:e=>{at.store[e]&&(delete at.store[e],oc.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in at.store)at.purgeSync(e)},truncate:e=>{const t=Jd.basename(e);if(t.length<=ac.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-ac.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",at.purgeSyncAll);uo.default=at;Object.defineProperty(kt,"__esModule",{value:!0});kt.writeFileSync=kt.writeFile=kt.readFileSync=kt.readFile=void 0;const Hl=it,ze=$e,ye=Gs,ot=co,Xd=lo,cr=uo;function Bl(e,t=ze.DEFAULT_READ_OPTIONS){var r;if(ot.default.isString(t))return Bl(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:ze.DEFAULT_TIMEOUT_ASYNC);return ye.default.readFileRetry(n)(e,t)}kt.readFile=Bl;function Jl(e,t=ze.DEFAULT_READ_OPTIONS){var r;if(ot.default.isString(t))return Jl(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:ze.DEFAULT_TIMEOUT_SYNC);return ye.default.readFileSyncRetry(n)(e,t)}kt.readFileSync=Jl;const Xl=(e,t,r,n)=>{if(ot.default.isFunction(r))return Xl(e,t,ze.DEFAULT_WRITE_OPTIONS,r);const s=Yl(e,t,r);return n&&s.then(n,n),s};kt.writeFile=Xl;const Yl=async(e,t,r=ze.DEFAULT_WRITE_OPTIONS)=>{var n;if(ot.default.isString(r))return Yl(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:ze.DEFAULT_TIMEOUT_ASYNC);let a=null,i=null,u=null,c=null,l=null;try{r.schedule&&(a=await r.schedule(e)),i=await Xd.default.schedule(e),e=await ye.default.realpathAttempt(e)||e,[c,u]=cr.default.get(e,r.tmpCreate||cr.default.create,r.tmpPurge!==!1);const f=ze.IS_POSIX&&ot.default.isUndefined(r.chown),p=ot.default.isUndefined(r.mode);if(f||p){const E=await ye.default.statAttempt(e);E&&(r={...r},f&&(r.chown={uid:E.uid,gid:E.gid}),p&&(r.mode=E.mode))}const T=Hl.dirname(e);await ye.default.mkdirAttempt(T,{mode:ze.DEFAULT_FOLDER_MODE,recursive:!0}),l=await ye.default.openRetry(s)(c,"w",r.mode||ze.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(c),ot.default.isString(t)?await ye.default.writeRetry(s)(l,t,0,r.encoding||ze.DEFAULT_ENCODING):ot.default.isUndefined(t)||await ye.default.writeRetry(s)(l,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await ye.default.fsyncRetry(s)(l):ye.default.fsyncAttempt(l)),await ye.default.closeRetry(s)(l),l=null,r.chown&&await ye.default.chownAttempt(c,r.chown.uid,r.chown.gid),r.mode&&await ye.default.chmodAttempt(c,r.mode);try{await ye.default.renameRetry(s)(c,e)}catch(E){if(E.code!=="ENAMETOOLONG")throw E;await ye.default.renameRetry(s)(c,cr.default.truncate(e))}u(),c=null}finally{l&&await ye.default.closeAttempt(l),c&&cr.default.purge(c),a&&a(),i&&i()}},Ql=(e,t,r=ze.DEFAULT_WRITE_OPTIONS)=>{var n;if(ot.default.isString(r))return Ql(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:ze.DEFAULT_TIMEOUT_SYNC);let a=null,i=null,u=null;try{e=ye.default.realpathSyncAttempt(e)||e,[i,a]=cr.default.get(e,r.tmpCreate||cr.default.create,r.tmpPurge!==!1);const c=ze.IS_POSIX&&ot.default.isUndefined(r.chown),l=ot.default.isUndefined(r.mode);if(c||l){const p=ye.default.statSyncAttempt(e);p&&(r={...r},c&&(r.chown={uid:p.uid,gid:p.gid}),l&&(r.mode=p.mode))}const f=Hl.dirname(e);ye.default.mkdirSyncAttempt(f,{mode:ze.DEFAULT_FOLDER_MODE,recursive:!0}),u=ye.default.openSyncRetry(s)(i,"w",r.mode||ze.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(i),ot.default.isString(t)?ye.default.writeSyncRetry(s)(u,t,0,r.encoding||ze.DEFAULT_ENCODING):ot.default.isUndefined(t)||ye.default.writeSyncRetry(s)(u,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?ye.default.fsyncSyncRetry(s)(u):ye.default.fsyncAttempt(u)),ye.default.closeSyncRetry(s)(u),u=null,r.chown&&ye.default.chownSyncAttempt(i,r.chown.uid,r.chown.gid),r.mode&&ye.default.chmodSyncAttempt(i,r.mode);try{ye.default.renameSyncRetry(s)(i,e)}catch(p){if(p.code!=="ENAMETOOLONG")throw p;ye.default.renameSyncRetry(s)(i,cr.default.truncate(e))}a(),i=null}finally{u&&ye.default.closeSyncAttempt(u),i&&cr.default.purge(i)}};kt.writeFileSync=Ql;var ja={exports:{}},Zl={},gt={},nn={},zn={},le={},Fn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(b){if(super(),!e.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((w,A)=>`${w}${A}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((w,A)=>(A instanceof r&&(w[A.str]=(w[A.str]||0)+1),w),{})}}e._Code=n,e.nil=new n("");function s(m,...b){const w=[m[0]];let A=0;for(;A<b.length;)u(w,b[A]),w.push(m[++A]);return new n(w)}e._=s;const a=new n("+");function i(m,...b){const w=[E(m[0])];let A=0;for(;A<b.length;)w.push(a),u(w,b[A]),w.push(a,E(m[++A]));return c(w),new n(w)}e.str=i;function u(m,b){b instanceof n?m.push(...b._items):b instanceof r?m.push(b):m.push(p(b))}e.addCodeArg=u;function c(m){let b=1;for(;b<m.length-1;){if(m[b]===a){const w=l(m[b-1],m[b+1]);if(w!==void 0){m.splice(b-1,3,w);continue}m[b++]="+"}b++}}function l(m,b){if(b==='""')return m;if(m==='""')return b;if(typeof m=="string")return b instanceof r||m[m.length-1]!=='"'?void 0:typeof b!="string"?`${m.slice(0,-1)}${b}"`:b[0]==='"'?m.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(m instanceof r))return`"${m}${b.slice(1)}`}function f(m,b){return b.emptyStr()?m:m.emptyStr()?b:i`${m}${b}`}e.strConcat=f;function p(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:E(Array.isArray(m)?m.join(","):m)}function T(m){return new n(E(m))}e.stringify=T;function E(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=E;function v(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=v;function P(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=P;function g(m){return new n(m.toString())}e.regexpCode=g})(Fn);var Da={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Fn;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:l,parent:f}={}){this._names={},this._prefixes=l,this._parent=f}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const f=this._names[l]||this._nameGroup(l);return`${l}${f.index++}`}_nameGroup(l){var f,p;if(!((p=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||p===void 0)&&p.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=s;class a extends t.Name{constructor(l,f){super(f),this.prefix=l}setValue(l,{property:f,itemIndex:p}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(f)}[${p}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class u extends s{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?i:t.nil}}get(){return this._scope}name(l){return new a(l,this._newName(l))}value(l,f){var p;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const T=this.toName(l),{prefix:E}=T,v=(p=f.key)!==null&&p!==void 0?p:f.ref;let P=this._values[E];if(P){const b=P.get(v);if(b)return b}else P=this._values[E]=new Map;P.set(v,T);const g=this._scope[E]||(this._scope[E]=[]),m=g.length;return g[m]=f.ref,T.setValue(f,{property:E,itemIndex:m}),T}getValue(l,f){const p=this._values[l];if(p)return p.get(f)}scopeRefs(l,f=this._values){return this._reduceValues(f,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${l}${p.scopePath}`})}scopeCode(l=this._values,f,p){return this._reduceValues(l,T=>{if(T.value===void 0)throw new Error(`CodeGen: name "${T}" has no value`);return T.value.code},f,p)}_reduceValues(l,f,p={},T){let E=t.nil;for(const v in l){const P=l[v];if(!P)continue;const g=p[v]=p[v]||new Map;P.forEach(m=>{if(g.has(m))return;g.set(m,n.Started);let b=f(m);if(b){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;E=(0,t._)`${E}${w} ${m} = ${b};${this.opts._n}`}else if(b=T==null?void 0:T(m))E=(0,t._)`${E}${b}${this.opts._n}`;else throw new r(m);g.set(m,n.Completed)})}return E}}e.ValueScope=u})(Da);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Fn,r=Da;var n=Fn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Da;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(o,h){return this}}class i extends a{constructor(o,h,I){super(),this.varKind=o,this.name=h,this.rhs=I}render({es5:o,_n:h}){const I=o?r.varKinds.var:this.varKind,U=this.rhs===void 0?"":` = ${this.rhs}`;return`${I} ${this.name}${U};`+h}optimizeNames(o,h){if(o[this.name.str])return this.rhs&&(this.rhs=q(this.rhs,o,h)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(o,h,I){super(),this.lhs=o,this.rhs=h,this.sideEffects=I}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,h){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=q(this.rhs,o,h),this}get names(){const o=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(o,this.rhs)}}class c extends u{constructor(o,h,I,U){super(o,I,U),this.op=h}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class l extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class f extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class p extends a{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class T extends a{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,h){return this.code=q(this.code,o,h),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class E extends a{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((h,I)=>h+I.render(o),"")}optimizeNodes(){const{nodes:o}=this;let h=o.length;for(;h--;){const I=o[h].optimizeNodes();Array.isArray(I)?o.splice(h,1,...I):I?o[h]=I:o.splice(h,1)}return o.length>0?this:void 0}optimizeNames(o,h){const{nodes:I}=this;let U=I.length;for(;U--;){const z=I[U];z.optimizeNames(o,h)||(B(o,z.names),I.splice(U,1))}return I.length>0?this:void 0}get names(){return this.nodes.reduce((o,h)=>W(o,h.names),{})}}class v extends E{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class P extends E{}class g extends v{}g.kind="else";class m extends v{constructor(o,h){super(h),this.condition=o}render(o){let h=`if(${this.condition})`+super.render(o);return this.else&&(h+="else "+this.else.render(o)),h}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let h=this.else;if(h){const I=h.optimizeNodes();h=this.else=Array.isArray(I)?new g(I):I}if(h)return o===!1?h instanceof m?h:h.nodes:this.nodes.length?this:new m(X(o),h instanceof m?[h]:h.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,h){var I;if(this.else=(I=this.else)===null||I===void 0?void 0:I.optimizeNames(o,h),!!(super.optimizeNames(o,h)||this.else))return this.condition=q(this.condition,o,h),this}get names(){const o=super.names;return K(o,this.condition),this.else&&W(o,this.else.names),o}}m.kind="if";class b extends v{}b.kind="for";class w extends b{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,h){if(super.optimizeNames(o,h))return this.iteration=q(this.iteration,o,h),this}get names(){return W(super.names,this.iteration.names)}}class A extends b{constructor(o,h,I,U){super(),this.varKind=o,this.name=h,this.from=I,this.to=U}render(o){const h=o.es5?r.varKinds.var:this.varKind,{name:I,from:U,to:z}=this;return`for(${h} ${I}=${U}; ${I}<${z}; ${I}++)`+super.render(o)}get names(){const o=K(super.names,this.from);return K(o,this.to)}}class L extends b{constructor(o,h,I,U){super(),this.loop=o,this.varKind=h,this.name=I,this.iterable=U}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,h){if(super.optimizeNames(o,h))return this.iterable=q(this.iterable,o,h),this}get names(){return W(super.names,this.iterable.names)}}class S extends v{constructor(o,h,I){super(),this.name=o,this.args=h,this.async=I}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}S.kind="func";class O extends E{render(o){return"return "+super.render(o)}}O.kind="return";class k extends v{render(o){let h="try"+super.render(o);return this.catch&&(h+=this.catch.render(o)),this.finally&&(h+=this.finally.render(o)),h}optimizeNodes(){var o,h;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(o,h){var I,U;return super.optimizeNames(o,h),(I=this.catch)===null||I===void 0||I.optimizeNames(o,h),(U=this.finally)===null||U===void 0||U.optimizeNames(o,h),this}get names(){const o=super.names;return this.catch&&W(o,this.catch.names),this.finally&&W(o,this.finally.names),o}}class V extends v{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}V.kind="catch";class G extends v{render(o){return"finally"+super.render(o)}}G.kind="finally";class Q{constructor(o,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new P]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,h){const I=this._extScope.value(o,h);return(this._values[I.prefix]||(this._values[I.prefix]=new Set)).add(I),I}getScopeValue(o,h){return this._extScope.getValue(o,h)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,h,I,U){const z=this._scope.toName(h);return I!==void 0&&U&&(this._constants[z.str]=I),this._leafNode(new i(o,z,I)),z}const(o,h,I){return this._def(r.varKinds.const,o,h,I)}let(o,h,I){return this._def(r.varKinds.let,o,h,I)}var(o,h,I){return this._def(r.varKinds.var,o,h,I)}assign(o,h,I){return this._leafNode(new u(o,h,I))}add(o,h){return this._leafNode(new c(o,e.operators.ADD,h))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new T(o)),this}object(...o){const h=["{"];for(const[I,U]of o)h.length>1&&h.push(","),h.push(I),(I!==U||this.opts.es5)&&(h.push(":"),(0,t.addCodeArg)(h,U));return h.push("}"),new t._Code(h)}if(o,h,I){if(this._blockNode(new m(o)),h&&I)this.code(h).else().code(I).endIf();else if(h)this.code(h).endIf();else if(I)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new m(o))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(m,g)}_for(o,h){return this._blockNode(o),h&&this.code(h).endFor(),this}for(o,h){return this._for(new w(o),h)}forRange(o,h,I,U,z=this.opts.es5?r.varKinds.var:r.varKinds.let){const J=this._scope.toName(o);return this._for(new A(z,J,h,I),()=>U(J))}forOf(o,h,I,U=r.varKinds.const){const z=this._scope.toName(o);if(this.opts.es5){const J=h instanceof t.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,t._)`${J}.length`,Y=>{this.var(z,(0,t._)`${J}[${Y}]`),I(z)})}return this._for(new L("of",U,z,h),()=>I(z))}forIn(o,h,I,U=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${h})`,I);const z=this._scope.toName(o);return this._for(new L("in",U,z,h),()=>I(z))}endFor(){return this._endBlockNode(b)}label(o){return this._leafNode(new l(o))}break(o){return this._leafNode(new f(o))}return(o){const h=new O;if(this._blockNode(h),this.code(o),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(O)}try(o,h,I){if(!h&&!I)throw new Error('CodeGen: "try" without "catch" and "finally"');const U=new k;if(this._blockNode(U),this.code(o),h){const z=this.name("e");this._currNode=U.catch=new V(z),h(z)}return I&&(this._currNode=U.finally=new G,this.code(I)),this._endBlockNode(V,G)}throw(o){return this._leafNode(new p(o))}block(o,h){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(h),this}endBlock(o){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const I=this._nodes.length-h;if(I<0||o!==void 0&&I!==o)throw new Error(`CodeGen: wrong number of nodes: ${I} vs ${o} expected`);return this._nodes.length=h,this}func(o,h=t.nil,I,U){return this._blockNode(new S(o,h,I)),U&&this.code(U).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,h){const I=this._currNode;if(I instanceof o||h&&I instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${o.kind}/${h.kind}`:o.kind}"`)}_elseNode(o){const h=this._currNode;if(!(h instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const h=this._nodes;h[h.length-1]=o}}e.CodeGen=Q;function W(y,o){for(const h in o)y[h]=(y[h]||0)+(o[h]||0);return y}function K(y,o){return o instanceof t._CodeOrName?W(y,o.names):y}function q(y,o,h){if(y instanceof t.Name)return I(y);if(!U(y))return y;return new t._Code(y._items.reduce((z,J)=>(J instanceof t.Name&&(J=I(J)),J instanceof t._Code?z.push(...J._items):z.push(J),z),[]));function I(z){const J=h[z.str];return J===void 0||o[z.str]!==1?z:(delete o[z.str],J)}function U(z){return z instanceof t._Code&&z._items.some(J=>J instanceof t.Name&&o[J.str]===1&&h[J.str]!==void 0)}}function B(y,o){for(const h in o)y[h]=(y[h]||0)-(o[h]||0)}function X(y){return typeof y=="boolean"||typeof y=="number"||y===null?!y:(0,t._)`!${_(y)}`}e.not=X;const H=d(e.operators.AND);function R(...y){return y.reduce(H)}e.and=R;const j=d(e.operators.OR);function $(...y){return y.reduce(j)}e.or=$;function d(y){return(o,h)=>o===t.nil?h:h===t.nil?o:(0,t._)`${_(o)} ${y} ${_(h)}`}function _(y){return y instanceof t.Name?y:(0,t._)`(${y})`}})(le);var he={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=le,r=Fn;function n(S){const O={};for(const k of S)O[k]=!0;return O}e.toHash=n;function s(S,O){return typeof O=="boolean"?O:Object.keys(O).length===0?!0:(a(S,O),!i(O,S.self.RULES.all))}e.alwaysValidSchema=s;function a(S,O=S.schema){const{opts:k,self:V}=S;if(!k.strictSchema||typeof O=="boolean")return;const G=V.RULES.keywords;for(const Q in O)G[Q]||L(S,`unknown keyword: "${Q}"`)}e.checkUnknownRules=a;function i(S,O){if(typeof S=="boolean")return!S;for(const k in S)if(O[k])return!0;return!1}e.schemaHasRules=i;function u(S,O){if(typeof S=="boolean")return!S;for(const k in S)if(k!=="$ref"&&O.all[k])return!0;return!1}e.schemaHasRulesButRef=u;function c({topSchemaRef:S,schemaPath:O},k,V,G){if(!G){if(typeof k=="number"||typeof k=="boolean")return k;if(typeof k=="string")return(0,t._)`${k}`}return(0,t._)`${S}${O}${(0,t.getProperty)(V)}`}e.schemaRefOrVal=c;function l(S){return T(decodeURIComponent(S))}e.unescapeFragment=l;function f(S){return encodeURIComponent(p(S))}e.escapeFragment=f;function p(S){return typeof S=="number"?`${S}`:S.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=p;function T(S){return S.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=T;function E(S,O){if(Array.isArray(S))for(const k of S)O(k);else O(S)}e.eachItem=E;function v({mergeNames:S,mergeToName:O,mergeValues:k,resultToName:V}){return(G,Q,W,K)=>{const q=W===void 0?Q:W instanceof t.Name?(Q instanceof t.Name?S(G,Q,W):O(G,Q,W),W):Q instanceof t.Name?(O(G,W,Q),Q):k(Q,W);return K===t.Name&&!(q instanceof t.Name)?V(G,q):q}}e.mergeEvaluated={props:v({mergeNames:(S,O,k)=>S.if((0,t._)`${k} !== true && ${O} !== undefined`,()=>{S.if((0,t._)`${O} === true`,()=>S.assign(k,!0),()=>S.assign(k,(0,t._)`${k} || {}`).code((0,t._)`Object.assign(${k}, ${O})`))}),mergeToName:(S,O,k)=>S.if((0,t._)`${k} !== true`,()=>{O===!0?S.assign(k,!0):(S.assign(k,(0,t._)`${k} || {}`),g(S,k,O))}),mergeValues:(S,O)=>S===!0?!0:{...S,...O},resultToName:P}),items:v({mergeNames:(S,O,k)=>S.if((0,t._)`${k} !== true && ${O} !== undefined`,()=>S.assign(k,(0,t._)`${O} === true ? true : ${k} > ${O} ? ${k} : ${O}`)),mergeToName:(S,O,k)=>S.if((0,t._)`${k} !== true`,()=>S.assign(k,O===!0?!0:(0,t._)`${k} > ${O} ? ${k} : ${O}`)),mergeValues:(S,O)=>S===!0?!0:Math.max(S,O),resultToName:(S,O)=>S.var("items",O)})};function P(S,O){if(O===!0)return S.var("props",!0);const k=S.var("props",(0,t._)`{}`);return O!==void 0&&g(S,k,O),k}e.evaluatedPropsToName=P;function g(S,O,k){Object.keys(k).forEach(V=>S.assign((0,t._)`${O}${(0,t.getProperty)(V)}`,!0))}e.setEvaluated=g;const m={};function b(S,O){return S.scopeValue("func",{ref:O,code:m[O.code]||(m[O.code]=new r._Code(O.code))})}e.useFunc=b;var w;(function(S){S[S.Num=0]="Num",S[S.Str=1]="Str"})(w=e.Type||(e.Type={}));function A(S,O,k){if(S instanceof t.Name){const V=O===w.Num;return k?V?(0,t._)`"[" + ${S} + "]"`:(0,t._)`"['" + ${S} + "']"`:V?(0,t._)`"/" + ${S}`:(0,t._)`"/" + ${S}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return k?(0,t.getProperty)(S).toString():"/"+p(S)}e.getErrorPath=A;function L(S,O,k=S.opts.strictSchema){if(k){if(O=`strict mode: ${O}`,k===!0)throw new Error(O);S.self.logger.warn(O)}}e.checkStrictMode=L})(he);var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});const Ke=le,Yd={data:new Ke.Name("data"),valCxt:new Ke.Name("valCxt"),instancePath:new Ke.Name("instancePath"),parentData:new Ke.Name("parentData"),parentDataProperty:new Ke.Name("parentDataProperty"),rootData:new Ke.Name("rootData"),dynamicAnchors:new Ke.Name("dynamicAnchors"),vErrors:new Ke.Name("vErrors"),errors:new Ke.Name("errors"),this:new Ke.Name("this"),self:new Ke.Name("self"),scope:new Ke.Name("scope"),json:new Ke.Name("json"),jsonPos:new Ke.Name("jsonPos"),jsonLen:new Ke.Name("jsonLen"),jsonPart:new Ke.Name("jsonPart")};Ft.default=Yd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=le,r=he,n=Ft;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:m})=>m?(0,t.str)`"${g}" keyword must be ${m} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function s(g,m=e.keywordError,b,w){const{it:A}=g,{gen:L,compositeRule:S,allErrors:O}=A,k=p(g,m,b);w??(S||O)?c(L,k):l(A,(0,t._)`[${k}]`)}e.reportError=s;function a(g,m=e.keywordError,b){const{it:w}=g,{gen:A,compositeRule:L,allErrors:S}=w,O=p(g,m,b);c(A,O),L||S||l(w,n.default.vErrors)}e.reportExtraError=a;function i(g,m){g.assign(n.default.errors,m),g.if((0,t._)`${n.default.vErrors} !== null`,()=>g.if(m,()=>g.assign((0,t._)`${n.default.vErrors}.length`,m),()=>g.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function u({gen:g,keyword:m,schemaValue:b,data:w,errsCount:A,it:L}){if(A===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",A,n.default.errors,O=>{g.const(S,(0,t._)`${n.default.vErrors}[${O}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(n.default.instancePath,L.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${L.errSchemaPath}/${m}`),L.opts.verbose&&(g.assign((0,t._)`${S}.schema`,b),g.assign((0,t._)`${S}.data`,w))})}e.extendErrors=u;function c(g,m){const b=g.const("err",m);g.if((0,t._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,t._)`[${b}]`),(0,t._)`${n.default.vErrors}.push(${b})`),g.code((0,t._)`${n.default.errors}++`)}function l(g,m){const{gen:b,validateName:w,schemaEnv:A}=g;A.$async?b.throw((0,t._)`new ${g.ValidationError}(${m})`):(b.assign((0,t._)`${w}.errors`,m),b.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(g,m,b){const{createErrors:w}=g.it;return w===!1?(0,t._)`{}`:T(g,m,b)}function T(g,m,b={}){const{gen:w,it:A}=g,L=[E(A,b),v(g,b)];return P(g,m,L),w.object(...L)}function E({errorPath:g},{instancePath:m}){const b=m?(0,t.str)`${g}${(0,r.getErrorPath)(m,r.Type.Str)}`:g;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,b)]}function v({keyword:g,it:{errSchemaPath:m}},{schemaPath:b,parentSchema:w}){let A=w?m:(0,t.str)`${m}/${g}`;return b&&(A=(0,t.str)`${A}${(0,r.getErrorPath)(b,r.Type.Str)}`),[f.schemaPath,A]}function P(g,{params:m,message:b},w){const{keyword:A,data:L,schemaValue:S,it:O}=g,{opts:k,propertyName:V,topSchemaRef:G,schemaPath:Q}=O;w.push([f.keyword,A],[f.params,typeof m=="function"?m(g):m||(0,t._)`{}`]),k.messages&&w.push([f.message,typeof b=="function"?b(g):b]),k.verbose&&w.push([f.schema,S],[f.parentSchema,(0,t._)`${G}${Q}`],[n.default.data,L]),V&&w.push([f.propertyName,V])}})(zn);Object.defineProperty(nn,"__esModule",{value:!0});nn.boolOrEmptySchema=nn.topBoolOrEmptySchema=void 0;const Qd=zn,Zd=le,xd=Ft,eh={message:"boolean schema is false"};function th(e){const{gen:t,schema:r,validateName:n}=e;r===!1?xl(e,!1):typeof r=="object"&&r.$async===!0?t.return(xd.default.data):(t.assign((0,Zd._)`${n}.errors`,null),t.return(!0))}nn.topBoolOrEmptySchema=th;function rh(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),xl(e)):r.var(t,!0)}nn.boolOrEmptySchema=rh;function xl(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Qd.reportError)(s,eh,void 0,t)}var qn={},jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.getRules=jr.isJSONType=void 0;const nh=["string","number","integer","boolean","null","object","array"],sh=new Set(nh);function ah(e){return typeof e=="string"&&sh.has(e)}jr.isJSONType=ah;function oh(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}jr.getRules=oh;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.shouldUseRule=Qt.shouldUseGroup=Qt.schemaHasRulesForType=void 0;function ih({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&eu(e,n)}Qt.schemaHasRulesForType=ih;function eu(e,t){return t.rules.some(r=>tu(e,r))}Qt.shouldUseGroup=eu;function tu(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Qt.shouldUseRule=tu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=jr,r=Qt,n=zn,s=le,a=he;var i;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(i=e.DataType||(e.DataType={}));function u(w){const A=c(w.type);if(A.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&A.push("null")}return A}e.getSchemaTypes=u;function c(w){const A=Array.isArray(w)?w:w?[w]:[];if(A.every(t.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}e.getJSONTypes=c;function l(w,A){const{gen:L,data:S,opts:O}=w,k=p(A,O.coerceTypes),V=A.length>0&&!(k.length===0&&A.length===1&&(0,r.schemaHasRulesForType)(w,A[0]));if(V){const G=P(A,S,O.strictNumbers,i.Wrong);L.if(G,()=>{k.length?T(w,A,k):m(w)})}return V}e.coerceAndCheckDataType=l;const f=new Set(["string","number","integer","boolean","null"]);function p(w,A){return A?w.filter(L=>f.has(L)||A==="array"&&L==="array"):[]}function T(w,A,L){const{gen:S,data:O,opts:k}=w,V=S.let("dataType",(0,s._)`typeof ${O}`),G=S.let("coerced",(0,s._)`undefined`);k.coerceTypes==="array"&&S.if((0,s._)`${V} == 'object' && Array.isArray(${O}) && ${O}.length == 1`,()=>S.assign(O,(0,s._)`${O}[0]`).assign(V,(0,s._)`typeof ${O}`).if(P(A,O,k.strictNumbers),()=>S.assign(G,O))),S.if((0,s._)`${G} !== undefined`);for(const W of L)(f.has(W)||W==="array"&&k.coerceTypes==="array")&&Q(W);S.else(),m(w),S.endIf(),S.if((0,s._)`${G} !== undefined`,()=>{S.assign(O,G),E(w,G)});function Q(W){switch(W){case"string":S.elseIf((0,s._)`${V} == "number" || ${V} == "boolean"`).assign(G,(0,s._)`"" + ${O}`).elseIf((0,s._)`${O} === null`).assign(G,(0,s._)`""`);return;case"number":S.elseIf((0,s._)`${V} == "boolean" || ${O} === null
              || (${V} == "string" && ${O} && ${O} == +${O})`).assign(G,(0,s._)`+${O}`);return;case"integer":S.elseIf((0,s._)`${V} === "boolean" || ${O} === null
              || (${V} === "string" && ${O} && ${O} == +${O} && !(${O} % 1))`).assign(G,(0,s._)`+${O}`);return;case"boolean":S.elseIf((0,s._)`${O} === "false" || ${O} === 0 || ${O} === null`).assign(G,!1).elseIf((0,s._)`${O} === "true" || ${O} === 1`).assign(G,!0);return;case"null":S.elseIf((0,s._)`${O} === "" || ${O} === 0 || ${O} === false`),S.assign(G,null);return;case"array":S.elseIf((0,s._)`${V} === "string" || ${V} === "number"
              || ${V} === "boolean" || ${O} === null`).assign(G,(0,s._)`[${O}]`)}}}function E({gen:w,parentData:A,parentDataProperty:L},S){w.if((0,s._)`${A} !== undefined`,()=>w.assign((0,s._)`${A}[${L}]`,S))}function v(w,A,L,S=i.Correct){const O=S===i.Correct?s.operators.EQ:s.operators.NEQ;let k;switch(w){case"null":return(0,s._)`${A} ${O} null`;case"array":k=(0,s._)`Array.isArray(${A})`;break;case"object":k=(0,s._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":k=V((0,s._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":k=V();break;default:return(0,s._)`typeof ${A} ${O} ${w}`}return S===i.Correct?k:(0,s.not)(k);function V(G=s.nil){return(0,s.and)((0,s._)`typeof ${A} == "number"`,G,L?(0,s._)`isFinite(${A})`:s.nil)}}e.checkDataType=v;function P(w,A,L,S){if(w.length===1)return v(w[0],A,L,S);let O;const k=(0,a.toHash)(w);if(k.array&&k.object){const V=(0,s._)`typeof ${A} != "object"`;O=k.null?V:(0,s._)`!${A} || ${V}`,delete k.null,delete k.array,delete k.object}else O=s.nil;k.number&&delete k.integer;for(const V in k)O=(0,s.and)(O,v(V,A,L,S));return O}e.checkDataTypes=P;const g={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:A})=>typeof w=="string"?(0,s._)`{type: ${w}}`:(0,s._)`{type: ${A}}`};function m(w){const A=b(w);(0,n.reportError)(A,g)}e.reportTypeError=m;function b(w){const{gen:A,data:L,schema:S}=w,O=(0,a.schemaRefOrVal)(w,S,"type");return{gen:A,keyword:"type",data:L,schema:S.type,schemaCode:O,schemaValue:O,parentSchema:S,params:{},it:w}}})(qn);var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.assignDefaults=void 0;const Ur=le,ch=he;function lh(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)ic(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>ic(e,a,s.default))}Ks.assignDefaults=lh;function ic(e,t,r){const{gen:n,compositeRule:s,data:a,opts:i}=e;if(r===void 0)return;const u=(0,Ur._)`${a}${(0,Ur.getProperty)(t)}`;if(s){(0,ch.checkStrictMode)(e,`default is ignored for: ${u}`);return}let c=(0,Ur._)`${u} === undefined`;i.useDefaults==="empty"&&(c=(0,Ur._)`${c} || ${u} === null || ${u} === ""`),n.if(c,(0,Ur._)`${u} = ${(0,Ur.stringify)(r)}`)}var Lt={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.validateUnion=ie.validateArray=ie.usePattern=ie.callValidateCode=ie.schemaProperties=ie.allSchemaProperties=ie.noPropertyInData=ie.propertyInData=ie.isOwnProperty=ie.hasPropFunc=ie.reportMissingProp=ie.checkMissingProp=ie.checkReportMissingProp=void 0;const we=le,fo=he,rr=Ft,uh=he;function fh(e,t){const{gen:r,data:n,it:s}=e;r.if(po(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,we._)`${t}`},!0),e.error()})}ie.checkReportMissingProp=fh;function dh({gen:e,data:t,it:{opts:r}},n,s){return(0,we.or)(...n.map(a=>(0,we.and)(po(e,t,a,r.ownProperties),(0,we._)`${s} = ${a}`)))}ie.checkMissingProp=dh;function hh(e,t){e.setParams({missingProperty:t},!0),e.error()}ie.reportMissingProp=hh;function ru(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,we._)`Object.prototype.hasOwnProperty`})}ie.hasPropFunc=ru;function ho(e,t,r){return(0,we._)`${ru(e)}.call(${t}, ${r})`}ie.isOwnProperty=ho;function ph(e,t,r,n){const s=(0,we._)`${t}${(0,we.getProperty)(r)} !== undefined`;return n?(0,we._)`${s} && ${ho(e,t,r)}`:s}ie.propertyInData=ph;function po(e,t,r,n){const s=(0,we._)`${t}${(0,we.getProperty)(r)} === undefined`;return n?(0,we.or)(s,(0,we.not)(ho(e,t,r))):s}ie.noPropertyInData=po;function nu(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ie.allSchemaProperties=nu;function mh(e,t){return nu(t).filter(r=>!(0,fo.alwaysValidSchema)(e,t[r]))}ie.schemaProperties=mh;function yh({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},u,c,l){const f=l?(0,we._)`${e}, ${t}, ${n}${s}`:t,p=[[rr.default.instancePath,(0,we.strConcat)(rr.default.instancePath,a)],[rr.default.parentData,i.parentData],[rr.default.parentDataProperty,i.parentDataProperty],[rr.default.rootData,rr.default.rootData]];i.opts.dynamicRef&&p.push([rr.default.dynamicAnchors,rr.default.dynamicAnchors]);const T=(0,we._)`${f}, ${r.object(...p)}`;return c!==we.nil?(0,we._)`${u}.call(${c}, ${T})`:(0,we._)`${u}(${T})`}ie.callValidateCode=yh;const $h=(0,we._)`new RegExp`;function gh({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,we._)`${s.code==="new RegExp"?$h:(0,uh.useFunc)(e,s)}(${r}, ${n})`})}ie.usePattern=gh;function vh(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return i(()=>t.assign(u,!1)),u}return t.var(a,!0),i(()=>t.break()),a;function i(u){const c=t.const("len",(0,we._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:fo.Type.Num},a),t.if((0,we.not)(a),u)})}}ie.validateArray=vh;function _h(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,fo.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const i=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((c,l)=>{const f=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},u);t.assign(i,(0,we._)`${i} || ${u}`),e.mergeValidEvaluated(f,u)||t.if((0,we.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}ie.validateUnion=_h;Object.defineProperty(Lt,"__esModule",{value:!0});Lt.validateKeywordUsage=Lt.validSchemaType=Lt.funcKeywordCode=Lt.macroKeywordCode=void 0;const Xe=le,Sr=Ft,Eh=ie,wh=zn;function Sh(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=e,u=t.macro.call(i.self,s,a,i),c=su(r,n,u);i.opts.validateSchema!==!1&&i.self.validateSchema(u,!0);const l=r.name("valid");e.subschema({schema:u,schemaPath:Xe.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Lt.macroKeywordCode=Sh;function bh(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:i,$data:u,it:c}=e;Oh(c,t);const l=!u&&t.compile?t.compile.call(c.self,a,i,c):t.validate,f=su(n,s,l),p=n.let("valid");e.block$data(p,T),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function T(){if(t.errors===!1)P(),t.modifying&&cc(e),g(()=>e.error());else{const m=t.async?E():v();t.modifying&&cc(e),g(()=>Ph(e,m))}}function E(){const m=n.let("ruleErrs",null);return n.try(()=>P((0,Xe._)`await `),b=>n.assign(p,!1).if((0,Xe._)`${b} instanceof ${c.ValidationError}`,()=>n.assign(m,(0,Xe._)`${b}.errors`),()=>n.throw(b))),m}function v(){const m=(0,Xe._)`${f}.errors`;return n.assign(m,null),P(Xe.nil),m}function P(m=t.async?(0,Xe._)`await `:Xe.nil){const b=c.opts.passContext?Sr.default.this:Sr.default.self,w=!("compile"in t&&!u||t.schema===!1);n.assign(p,(0,Xe._)`${m}${(0,Eh.callValidateCode)(e,f,b,w)}`,t.modifying)}function g(m){var b;n.if((0,Xe.not)((b=t.valid)!==null&&b!==void 0?b:p),m)}}Lt.funcKeywordCode=bh;function cc(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Xe._)`${n.parentData}[${n.parentDataProperty}]`))}function Ph(e,t){const{gen:r}=e;r.if((0,Xe._)`Array.isArray(${t})`,()=>{r.assign(Sr.default.vErrors,(0,Xe._)`${Sr.default.vErrors} === null ? ${t} : ${Sr.default.vErrors}.concat(${t})`).assign(Sr.default.errors,(0,Xe._)`${Sr.default.vErrors}.length`),(0,wh.extendErrors)(e)},()=>e.error())}function Oh({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function su(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Xe.stringify)(r)})}function Rh(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Lt.validSchemaType=Rh;function Nh({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const i=s.dependencies;if(i!=null&&i.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Lt.validateKeywordUsage=Nh;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.extendSubschemaMode=dr.extendSubschemaData=dr.getSubschema=void 0;const Ct=le,au=he;function Th(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,Ct._)`${e.schemaPath}${(0,Ct.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,Ct._)`${e.schemaPath}${(0,Ct.getProperty)(t)}${(0,Ct.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,au.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}dr.getSubschema=Th;function Ih(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:l,dataPathArr:f,opts:p}=t,T=u.let("data",(0,Ct._)`${t.data}${(0,Ct.getProperty)(r)}`,!0);c(T),e.errorPath=(0,Ct.str)`${l}${(0,au.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,Ct._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(s!==void 0){const l=s instanceof Ct.Name?s:u.let("data",s,!0);c(l),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}dr.extendSubschemaData=Ih;function Ah(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}dr.extendSubschemaMode=Ah;var qe={},Ws=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var i=a[s];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r},ou={exports:{}},lr=ou.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};vs(t,n,s,e,"",e)};lr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};lr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};lr.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};lr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function vs(e,t,r,n,s,a,i,u,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,i,u,c,l);for(var f in n){var p=n[f];if(Array.isArray(p)){if(f in lr.arrayKeywords)for(var T=0;T<p.length;T++)vs(e,t,r,p[T],s+"/"+f+"/"+T,a,s,f,n,T)}else if(f in lr.propsKeywords){if(p&&typeof p=="object")for(var E in p)vs(e,t,r,p[E],s+"/"+f+"/"+Ch(E),a,s,f,n,E)}else(f in lr.keywords||e.allKeys&&!(f in lr.skipKeywords))&&vs(e,t,r,p,s+"/"+f,a,s,f,n)}r(n,s,a,i,u,c,l)}}function Ch(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var jh=ou.exports;Object.defineProperty(qe,"__esModule",{value:!0});qe.getSchemaRefs=qe.resolveUrl=qe.normalizeId=qe._getFullPath=qe.getFullPath=qe.inlineRef=void 0;const Dh=he,kh=Ws,Lh=jh,Mh=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Fh(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ka(e):t?iu(e)<=t:!1}qe.inlineRef=Fh;const Vh=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ka(e){for(const t in e){if(Vh.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(ka)||typeof r=="object"&&ka(r))return!0}return!1}function iu(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Mh.has(r)&&(typeof e[r]=="object"&&(0,Dh.eachItem)(e[r],n=>t+=iu(n)),t===1/0))return 1/0}return t}function cu(e,t="",r){r!==!1&&(t=Zr(t));const n=e.parse(t);return lu(e,n)}qe.getFullPath=cu;function lu(e,t){return e.serialize(t).split("#")[0]+"#"}qe._getFullPath=lu;const Uh=/#\/?$/;function Zr(e){return e?e.replace(Uh,""):""}qe.normalizeId=Zr;function zh(e,t,r){return r=Zr(r),e.resolve(t,r)}qe.resolveUrl=zh;const qh=/^[a-z_][-a-z0-9._]*$/i;function Gh(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Zr(e[r]||t),a={"":s},i=cu(n,s,!1),u={},c=new Set;return Lh(e,{allKeys:!0},(p,T,E,v)=>{if(v===void 0)return;const P=i+T;let g=a[v];typeof p[r]=="string"&&(g=m.call(this,p[r])),b.call(this,p.$anchor),b.call(this,p.$dynamicAnchor),a[T]=g;function m(w){const A=this.opts.uriResolver.resolve;if(w=Zr(g?A(g,w):w),c.has(w))throw f(w);c.add(w);let L=this.refs[w];return typeof L=="string"&&(L=this.refs[L]),typeof L=="object"?l(p,L.schema,w):w!==Zr(P)&&(w[0]==="#"?(l(p,u[w],w),u[w]=p):this.refs[w]=P),w}function b(w){if(typeof w=="string"){if(!qh.test(w))throw new Error(`invalid anchor "${w}"`);m.call(this,`#${w}`)}}}),u;function l(p,T,E){if(T!==void 0&&!kh(p,T))throw f(E)}function f(p){return new Error(`reference "${p}" resolves to more than one schema`)}}qe.getSchemaRefs=Gh;Object.defineProperty(gt,"__esModule",{value:!0});gt.getData=gt.KeywordCxt=gt.validateFunctionCode=void 0;const uu=nn,lc=qn,mo=Qt,Ts=qn,Kh=Ks,Rn=Lt,la=dr,Z=le,re=Ft,Wh=qe,Zt=he,yn=zn;function Hh(e){if(hu(e)&&(pu(e),du(e))){Xh(e);return}fu(e,()=>(0,uu.topBoolOrEmptySchema)(e))}gt.validateFunctionCode=Hh;function fu({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,Z._)`${re.default.data}, ${re.default.valCxt}`,n.$async,()=>{e.code((0,Z._)`"use strict"; ${uc(r,s)}`),Jh(e,s),e.code(a)}):e.func(t,(0,Z._)`${re.default.data}, ${Bh(s)}`,n.$async,()=>e.code(uc(r,s)).code(a))}function Bh(e){return(0,Z._)`{${re.default.instancePath}="", ${re.default.parentData}, ${re.default.parentDataProperty}, ${re.default.rootData}=${re.default.data}${e.dynamicRef?(0,Z._)`, ${re.default.dynamicAnchors}={}`:Z.nil}}={}`}function Jh(e,t){e.if(re.default.valCxt,()=>{e.var(re.default.instancePath,(0,Z._)`${re.default.valCxt}.${re.default.instancePath}`),e.var(re.default.parentData,(0,Z._)`${re.default.valCxt}.${re.default.parentData}`),e.var(re.default.parentDataProperty,(0,Z._)`${re.default.valCxt}.${re.default.parentDataProperty}`),e.var(re.default.rootData,(0,Z._)`${re.default.valCxt}.${re.default.rootData}`),t.dynamicRef&&e.var(re.default.dynamicAnchors,(0,Z._)`${re.default.valCxt}.${re.default.dynamicAnchors}`)},()=>{e.var(re.default.instancePath,(0,Z._)`""`),e.var(re.default.parentData,(0,Z._)`undefined`),e.var(re.default.parentDataProperty,(0,Z._)`undefined`),e.var(re.default.rootData,re.default.data),t.dynamicRef&&e.var(re.default.dynamicAnchors,(0,Z._)`{}`)})}function Xh(e){const{schema:t,opts:r,gen:n}=e;fu(e,()=>{r.$comment&&t.$comment&&yu(e),ep(e),n.let(re.default.vErrors,null),n.let(re.default.errors,0),r.unevaluated&&Yh(e),mu(e),np(e)})}function Yh(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Z._)`${r}.evaluated`),t.if((0,Z._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Z._)`${e.evaluated}.props`,(0,Z._)`undefined`)),t.if((0,Z._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Z._)`${e.evaluated}.items`,(0,Z._)`undefined`))}function uc(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Z._)`/*# sourceURL=${r} */`:Z.nil}function Qh(e,t){if(hu(e)&&(pu(e),du(e))){Zh(e,t);return}(0,uu.boolOrEmptySchema)(e,t)}function du({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function hu(e){return typeof e.schema!="boolean"}function Zh(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&yu(e),tp(e),rp(e);const a=n.const("_errs",re.default.errors);mu(e,a),n.var(t,(0,Z._)`${a} === ${re.default.errors}`)}function pu(e){(0,Zt.checkUnknownRules)(e),xh(e)}function mu(e,t){if(e.opts.jtd)return fc(e,[],!1,t);const r=(0,lc.getSchemaTypes)(e.schema),n=(0,lc.coerceAndCheckDataType)(e,r);fc(e,r,!n,t)}function xh(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Zt.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function ep(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Zt.checkStrictMode)(e,"default is ignored in the schema root")}function tp(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Wh.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function rp(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function yu({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,Z._)`${re.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const i=(0,Z.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,Z._)`${re.default.self}.opts.$comment(${a}, ${i}, ${u}.schema)`)}}function np(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,Z._)`${re.default.errors} === 0`,()=>t.return(re.default.data),()=>t.throw((0,Z._)`new ${s}(${re.default.vErrors})`)):(t.assign((0,Z._)`${n}.errors`,re.default.vErrors),a.unevaluated&&sp(e),t.return((0,Z._)`${re.default.errors} === 0`))}function sp({gen:e,evaluated:t,props:r,items:n}){r instanceof Z.Name&&e.assign((0,Z._)`${t}.props`,r),n instanceof Z.Name&&e.assign((0,Z._)`${t}.items`,n)}function fc(e,t,r,n){const{gen:s,schema:a,data:i,allErrors:u,opts:c,self:l}=e,{RULES:f}=l;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,Zt.schemaHasRulesButRef)(a,f))){s.block(()=>vu(e,"$ref",f.all.$ref.definition));return}c.jtd||ap(e,t),s.block(()=>{for(const T of f.rules)p(T);p(f.post)});function p(T){(0,mo.shouldUseGroup)(a,T)&&(T.type?(s.if((0,Ts.checkDataType)(T.type,i,c.strictNumbers)),dc(e,T),t.length===1&&t[0]===T.type&&r&&(s.else(),(0,Ts.reportTypeError)(e)),s.endIf()):dc(e,T),u||s.if((0,Z._)`${re.default.errors} === ${n||0}`))}}function dc(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Kh.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,mo.shouldUseRule)(n,a)&&vu(e,a.keyword,a.definition,t.type)})}function ap(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(op(e,t),e.opts.allowUnionTypes||ip(e,t),cp(e,e.dataTypes))}function op(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{$u(e.dataTypes,r)||yo(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),up(e,t)}}function ip(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&yo(e,"use allowUnionTypes to allow union type keyword")}function cp(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,mo.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(i=>lp(t,i))&&yo(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function lp(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function $u(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function up(e,t){const r=[];for(const n of e.dataTypes)$u(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function yo(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Zt.checkStrictMode)(e,t,e.opts.strictTypes)}let gu=class{constructor(t,r,n){if((0,Rn.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Zt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",_u(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Rn.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",re.default.errors))}result(t,r,n){this.failResult((0,Z.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Z.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Z._)`${r} !== undefined && (${(0,Z.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?yn.reportExtraError:yn.reportError)(this,this.def.error,r)}$dataError(){(0,yn.reportError)(this,this.def.$dataError||yn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,yn.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Z.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Z.nil,r=Z.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if((0,Z.or)((0,Z._)`${s} === undefined`,r)),t!==Z.nil&&n.assign(t,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Z.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,Z.or)(i(),u());function i(){if(n.length){if(!(r instanceof Z.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,Z._)`${(0,Ts.checkDataTypes)(c,r,a.opts.strictNumbers,Ts.DataType.Wrong)}`}return Z.nil}function u(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,Z._)`!${c}(${r})`}return Z.nil}}subschema(t,r){const n=(0,la.getSubschema)(this.it,t);(0,la.extendSubschemaData)(n,this.it,t),(0,la.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return Qh(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Zt.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Zt.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,Z.Name)),!0}};gt.KeywordCxt=gu;function vu(e,t,r,n){const s=new gu(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Rn.funcKeywordCode)(s,r):"macro"in r?(0,Rn.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Rn.funcKeywordCode)(s,r)}const fp=/^\/(?:[^~]|~0|~1)*$/,dp=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function _u(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return re.default.rootData;if(e[0]==="/"){if(!fp.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=re.default.rootData}else{const l=dp.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+l[1];if(s=l[2],s==="#"){if(f>=t)throw new Error(c("property/index",f));return n[t-f]}if(f>t)throw new Error(c("data",f));if(a=r[t-f],!s)return a}let i=a;const u=s.split("/");for(const l of u)l&&(a=(0,Z._)`${a}${(0,Z.getProperty)((0,Zt.unescapeJsonPointer)(l))}`,i=(0,Z._)`${i} && ${a}`);return i;function c(l,f){return`Cannot access ${l} ${f} levels up, current level is ${t}`}}gt.getData=_u;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});let hp=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};Gn.default=hp;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});const ua=qe;let pp=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,ua.resolveUrl)(t,r,n),this.missingSchema=(0,ua.normalizeId)((0,ua.getFullPath)(t,this.missingRef))}};Kn.default=pp;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.resolveSchema=rt.getCompilingSchema=rt.resolveRef=rt.compileSchema=rt.SchemaEnv=void 0;const ft=le,mp=Gn,vr=Ft,yt=qe,hc=he,yp=gt;let Hs=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,yt.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};rt.SchemaEnv=Hs;function $o(e){const t=Eu.call(this,e);if(t)return t;const r=(0,yt.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new ft.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=i.scopeValue("Error",{ref:mp.default,code:(0,ft._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const l={gen:i,allErrors:this.opts.allErrors,data:vr.default.data,parentData:vr.default.parentData,parentDataProperty:vr.default.parentDataProperty,dataNames:[vr.default.data],dataPathArr:[ft.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ft.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ft.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ft._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,yp.validateFunctionCode)(l),i.optimize(this.opts.code.optimize);const p=i.toString();f=`${i.scopeRefs(vr.default.scope)}return ${p}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const E=new Function(`${vr.default.self}`,`${vr.default.scope}`,f)(this,this.scope.get());if(this.scope.value(c,{ref:E}),E.errors=null,E.schema=e.schema,E.schemaEnv=e,e.$async&&(E.$async=!0),this.opts.code.source===!0&&(E.source={validateName:c,validateCode:p,scopeValues:i._values}),this.opts.unevaluated){const{props:v,items:P}=l;E.evaluated={props:v instanceof ft.Name?void 0:v,items:P instanceof ft.Name?void 0:P,dynamicProps:v instanceof ft.Name,dynamicItems:P instanceof ft.Name},E.source&&(E.source.evaluated=(0,ft.stringify)(E.evaluated))}return e.validate=E,e}catch(p){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),p}finally{this._compilations.delete(e)}}rt.compileSchema=$o;function $p(e,t,r){var n;r=(0,yt.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=_p.call(this,e,r);if(a===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;i&&(a=new Hs({schema:i,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=gp.call(this,a)}rt.resolveRef=$p;function gp(e){return(0,yt.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:$o.call(this,e)}function Eu(e){for(const t of this._compilations)if(vp(t,e))return t}rt.getCompilingSchema=Eu;function vp(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function _p(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Bs.call(this,e,t)}function Bs(e,t){const r=this.opts.uriResolver.parse(t),n=(0,yt._getFullPath)(this.opts.uriResolver,r);let s=(0,yt.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return fa.call(this,r,e);const a=(0,yt.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const u=Bs.call(this,e,i);return typeof(u==null?void 0:u.schema)!="object"?void 0:fa.call(this,r,u)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||$o.call(this,i),a===(0,yt.normalizeId)(t)){const{schema:u}=i,{schemaId:c}=this.opts,l=u[c];return l&&(s=(0,yt.resolveUrl)(this.opts.uriResolver,s,l)),new Hs({schema:u,schemaId:c,root:e,baseId:s})}return fa.call(this,r,i)}}rt.resolveSchema=Bs;const Ep=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function fa(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,hc.unescapeFragment)(u)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!Ep.has(u)&&l&&(t=(0,yt.resolveUrl)(this.opts.uriResolver,t,l))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,hc.schemaHasRulesButRef)(r,this.RULES)){const u=(0,yt.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Bs.call(this,n,u)}const{schemaId:i}=this.opts;if(a=a||new Hs({schema:r,schemaId:i,root:n,baseId:t}),a.schema!==a.root.schema)return a}const wp="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Sp="Meta-schema for $data reference (JSON AnySchema extension proposal)",bp="object",Pp=["$data"],Op={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Rp=!1,Np={$id:wp,description:Sp,type:bp,required:Pp,properties:Op,additionalProperties:Rp};var go={},La={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Yt,function(r){function n(){for(var C=arguments.length,N=Array(C),D=0;D<C;D++)N[D]=arguments[D];if(N.length>1){N[0]=N[0].slice(0,-1);for(var F=N.length-1,M=1;M<F;++M)N[M]=N[M].slice(1,-1);return N[F]=N[F].slice(1),N.join("")}else return N[0]}function s(C){return"(?:"+C+")"}function a(C){return C===void 0?"undefined":C===null?"null":Object.prototype.toString.call(C).split(" ").pop().split("]").shift().toLowerCase()}function i(C){return C.toUpperCase()}function u(C){return C!=null?C instanceof Array?C:typeof C.length!="number"||C.split||C.setInterval||C.call?[C]:Array.prototype.slice.call(C):[]}function c(C,N){var D=C;if(N)for(var F in N)D[F]=N[F];return D}function l(C){var N="[A-Za-z]",D="[0-9]",F=n(D,"[A-Fa-f]"),M=s(s("%[EFef]"+F+"%"+F+F+"%"+F+F)+"|"+s("%[89A-Fa-f]"+F+"%"+F+F)+"|"+s("%"+F+F)),ee="[\\:\\/\\?\\#\\[\\]\\@]",te="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",de=n(ee,te),Ee=C?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ne=C?"[\\uE000-\\uF8FF]":"[]",fe=n(N,D,"[\\-\\.\\_\\~]",Ee);s(N+n(N,D,"[\\+\\-\\.]")+"*"),s(s(M+"|"+n(fe,te,"[\\:]"))+"*");var ve=s(s("25[0-5]")+"|"+s("2[0-4]"+D)+"|"+s("1"+D+D)+"|"+s("0?[1-9]"+D)+"|0?0?"+D),Te=s(ve+"\\."+ve+"\\."+ve+"\\."+ve),se=s(F+"{1,4}"),be=s(s(se+"\\:"+se)+"|"+Te),Ce=s(s(se+"\\:")+"{6}"+be),Pe=s("\\:\\:"+s(se+"\\:")+"{5}"+be),tr=s(s(se)+"?\\:\\:"+s(se+"\\:")+"{4}"+be),Nt=s(s(s(se+"\\:")+"{0,1}"+se)+"?\\:\\:"+s(se+"\\:")+"{3}"+be),Tt=s(s(s(se+"\\:")+"{0,2}"+se)+"?\\:\\:"+s(se+"\\:")+"{2}"+be),Vr=s(s(s(se+"\\:")+"{0,3}"+se)+"?\\:\\:"+se+"\\:"+be),yr=s(s(s(se+"\\:")+"{0,4}"+se)+"?\\:\\:"+be),ct=s(s(s(se+"\\:")+"{0,5}"+se)+"?\\:\\:"+se),It=s(s(s(se+"\\:")+"{0,6}"+se)+"?\\:\\:"),$r=s([Ce,Pe,tr,Nt,Tt,Vr,yr,ct,It].join("|")),Bt=s(s(fe+"|"+M)+"+");s("[vV]"+F+"+\\."+n(fe,te,"[\\:]")+"+"),s(s(M+"|"+n(fe,te))+"*");var pn=s(M+"|"+n(fe,te,"[\\:\\@]"));return s(s(M+"|"+n(fe,te,"[\\@]"))+"+"),s(s(pn+"|"+n("[\\/\\?]",Ne))+"*"),{NOT_SCHEME:new RegExp(n("[^]",N,D,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",fe,te),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",fe,te),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",fe,te),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",fe,te),"g"),NOT_QUERY:new RegExp(n("[^\\%]",fe,te,"[\\:\\@\\/\\?]",Ne),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",fe,te,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",fe,te),"g"),UNRESERVED:new RegExp(fe,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",fe,de),"g"),PCT_ENCODED:new RegExp(M,"g"),IPV4ADDRESS:new RegExp("^("+Te+")$"),IPV6ADDRESS:new RegExp("^\\[?("+$r+")"+s(s("\\%25|\\%(?!"+F+"{2})")+"("+Bt+")")+"?\\]?$")}}var f=l(!1),p=l(!0),T=function(){function C(N,D){var F=[],M=!0,ee=!1,te=void 0;try{for(var de=N[Symbol.iterator](),Ee;!(M=(Ee=de.next()).done)&&(F.push(Ee.value),!(D&&F.length===D));M=!0);}catch(Ne){ee=!0,te=Ne}finally{try{!M&&de.return&&de.return()}finally{if(ee)throw te}}return F}return function(N,D){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return C(N,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(C){if(Array.isArray(C)){for(var N=0,D=Array(C.length);N<C.length;N++)D[N]=C[N];return D}else return Array.from(C)},v=2147483647,P=36,g=1,m=26,b=38,w=700,A=72,L=128,S="-",O=/^xn--/,k=/[^\0-\x7E]/,V=/[\x2E\u3002\uFF0E\uFF61]/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Q=P-g,W=Math.floor,K=String.fromCharCode;function q(C){throw new RangeError(G[C])}function B(C,N){for(var D=[],F=C.length;F--;)D[F]=N(C[F]);return D}function X(C,N){var D=C.split("@"),F="";D.length>1&&(F=D[0]+"@",C=D[1]),C=C.replace(V,".");var M=C.split("."),ee=B(M,N).join(".");return F+ee}function H(C){for(var N=[],D=0,F=C.length;D<F;){var M=C.charCodeAt(D++);if(M>=55296&&M<=56319&&D<F){var ee=C.charCodeAt(D++);(ee&64512)==56320?N.push(((M&1023)<<10)+(ee&1023)+65536):(N.push(M),D--)}else N.push(M)}return N}var R=function(N){return String.fromCodePoint.apply(String,E(N))},j=function(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:P},$=function(N,D){return N+22+75*(N<26)-((D!=0)<<5)},d=function(N,D,F){var M=0;for(N=F?W(N/w):N>>1,N+=W(N/D);N>Q*m>>1;M+=P)N=W(N/Q);return W(M+(Q+1)*N/(N+b))},_=function(N){var D=[],F=N.length,M=0,ee=L,te=A,de=N.lastIndexOf(S);de<0&&(de=0);for(var Ee=0;Ee<de;++Ee)N.charCodeAt(Ee)>=128&&q("not-basic"),D.push(N.charCodeAt(Ee));for(var Ne=de>0?de+1:0;Ne<F;){for(var fe=M,ve=1,Te=P;;Te+=P){Ne>=F&&q("invalid-input");var se=j(N.charCodeAt(Ne++));(se>=P||se>W((v-M)/ve))&&q("overflow"),M+=se*ve;var be=Te<=te?g:Te>=te+m?m:Te-te;if(se<be)break;var Ce=P-be;ve>W(v/Ce)&&q("overflow"),ve*=Ce}var Pe=D.length+1;te=d(M-fe,Pe,fe==0),W(M/Pe)>v-ee&&q("overflow"),ee+=W(M/Pe),M%=Pe,D.splice(M++,0,ee)}return String.fromCodePoint.apply(String,D)},y=function(N){var D=[];N=H(N);var F=N.length,M=L,ee=0,te=A,de=!0,Ee=!1,Ne=void 0;try{for(var fe=N[Symbol.iterator](),ve;!(de=(ve=fe.next()).done);de=!0){var Te=ve.value;Te<128&&D.push(K(Te))}}catch(mn){Ee=!0,Ne=mn}finally{try{!de&&fe.return&&fe.return()}finally{if(Ee)throw Ne}}var se=D.length,be=se;for(se&&D.push(S);be<F;){var Ce=v,Pe=!0,tr=!1,Nt=void 0;try{for(var Tt=N[Symbol.iterator](),Vr;!(Pe=(Vr=Tt.next()).done);Pe=!0){var yr=Vr.value;yr>=M&&yr<Ce&&(Ce=yr)}}catch(mn){tr=!0,Nt=mn}finally{try{!Pe&&Tt.return&&Tt.return()}finally{if(tr)throw Nt}}var ct=be+1;Ce-M>W((v-ee)/ct)&&q("overflow"),ee+=(Ce-M)*ct,M=Ce;var It=!0,$r=!1,Bt=void 0;try{for(var pn=N[Symbol.iterator](),ec;!(It=(ec=pn.next()).done);It=!0){var tc=ec.value;if(tc<M&&++ee>v&&q("overflow"),tc==M){for(var xn=ee,es=P;;es+=P){var ts=es<=te?g:es>=te+m?m:es-te;if(xn<ts)break;var rc=xn-ts,nc=P-ts;D.push(K($(ts+rc%nc,0))),xn=W(rc/nc)}D.push(K($(xn,0))),te=d(ee,ct,be==se),ee=0,++be}}}catch(mn){$r=!0,Bt=mn}finally{try{!It&&pn.return&&pn.return()}finally{if($r)throw Bt}}++ee,++M}return D.join("")},o=function(N){return X(N,function(D){return O.test(D)?_(D.slice(4).toLowerCase()):D})},h=function(N){return X(N,function(D){return k.test(D)?"xn--"+y(D):D})},I={version:"2.1.0",ucs2:{decode:H,encode:R},decode:_,encode:y,toASCII:h,toUnicode:o},U={};function z(C){var N=C.charCodeAt(0),D=void 0;return N<16?D="%0"+N.toString(16).toUpperCase():N<128?D="%"+N.toString(16).toUpperCase():N<2048?D="%"+(N>>6|192).toString(16).toUpperCase()+"%"+(N&63|128).toString(16).toUpperCase():D="%"+(N>>12|224).toString(16).toUpperCase()+"%"+(N>>6&63|128).toString(16).toUpperCase()+"%"+(N&63|128).toString(16).toUpperCase(),D}function J(C){for(var N="",D=0,F=C.length;D<F;){var M=parseInt(C.substr(D+1,2),16);if(M<128)N+=String.fromCharCode(M),D+=3;else if(M>=194&&M<224){if(F-D>=6){var ee=parseInt(C.substr(D+4,2),16);N+=String.fromCharCode((M&31)<<6|ee&63)}else N+=C.substr(D,6);D+=6}else if(M>=224){if(F-D>=9){var te=parseInt(C.substr(D+4,2),16),de=parseInt(C.substr(D+7,2),16);N+=String.fromCharCode((M&15)<<12|(te&63)<<6|de&63)}else N+=C.substr(D,9);D+=9}else N+=C.substr(D,3),D+=3}return N}function Y(C,N){function D(F){var M=J(F);return M.match(N.UNRESERVED)?M:F}return C.scheme&&(C.scheme=String(C.scheme).replace(N.PCT_ENCODED,D).toLowerCase().replace(N.NOT_SCHEME,"")),C.userinfo!==void 0&&(C.userinfo=String(C.userinfo).replace(N.PCT_ENCODED,D).replace(N.NOT_USERINFO,z).replace(N.PCT_ENCODED,i)),C.host!==void 0&&(C.host=String(C.host).replace(N.PCT_ENCODED,D).toLowerCase().replace(N.NOT_HOST,z).replace(N.PCT_ENCODED,i)),C.path!==void 0&&(C.path=String(C.path).replace(N.PCT_ENCODED,D).replace(C.scheme?N.NOT_PATH:N.NOT_PATH_NOSCHEME,z).replace(N.PCT_ENCODED,i)),C.query!==void 0&&(C.query=String(C.query).replace(N.PCT_ENCODED,D).replace(N.NOT_QUERY,z).replace(N.PCT_ENCODED,i)),C.fragment!==void 0&&(C.fragment=String(C.fragment).replace(N.PCT_ENCODED,D).replace(N.NOT_FRAGMENT,z).replace(N.PCT_ENCODED,i)),C}function ae(C){return C.replace(/^0*(.*)/,"$1")||"0"}function Me(C,N){var D=C.match(N.IPV4ADDRESS)||[],F=T(D,2),M=F[1];return M?M.split(".").map(ae).join("."):C}function wt(C,N){var D=C.match(N.IPV6ADDRESS)||[],F=T(D,3),M=F[1],ee=F[2];if(M){for(var te=M.toLowerCase().split("::").reverse(),de=T(te,2),Ee=de[0],Ne=de[1],fe=Ne?Ne.split(":").map(ae):[],ve=Ee.split(":").map(ae),Te=N.IPV4ADDRESS.test(ve[ve.length-1]),se=Te?7:8,be=ve.length-se,Ce=Array(se),Pe=0;Pe<se;++Pe)Ce[Pe]=fe[Pe]||ve[be+Pe]||"";Te&&(Ce[se-1]=Me(Ce[se-1],N));var tr=Ce.reduce(function(ct,It,$r){if(!It||It==="0"){var Bt=ct[ct.length-1];Bt&&Bt.index+Bt.length===$r?Bt.length++:ct.push({index:$r,length:1})}return ct},[]),Nt=tr.sort(function(ct,It){return It.length-ct.length})[0],Tt=void 0;if(Nt&&Nt.length>1){var Vr=Ce.slice(0,Nt.index),yr=Ce.slice(Nt.index+Nt.length);Tt=Vr.join(":")+"::"+yr.join(":")}else Tt=Ce.join(":");return ee&&(Tt+="%"+ee),Tt}else return C}var Ut=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,zt="".match(/(){0}/)[1]===void 0;function Fe(C){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D={},F=N.iri!==!1?p:f;N.reference==="suffix"&&(C=(N.scheme?N.scheme+":":"")+"//"+C);var M=C.match(Ut);if(M){zt?(D.scheme=M[1],D.userinfo=M[3],D.host=M[4],D.port=parseInt(M[5],10),D.path=M[6]||"",D.query=M[7],D.fragment=M[8],isNaN(D.port)&&(D.port=M[5])):(D.scheme=M[1]||void 0,D.userinfo=C.indexOf("@")!==-1?M[3]:void 0,D.host=C.indexOf("//")!==-1?M[4]:void 0,D.port=parseInt(M[5],10),D.path=M[6]||"",D.query=C.indexOf("?")!==-1?M[7]:void 0,D.fragment=C.indexOf("#")!==-1?M[8]:void 0,isNaN(D.port)&&(D.port=C.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?M[4]:void 0)),D.host&&(D.host=wt(Me(D.host,F),F)),D.scheme===void 0&&D.userinfo===void 0&&D.host===void 0&&D.port===void 0&&!D.path&&D.query===void 0?D.reference="same-document":D.scheme===void 0?D.reference="relative":D.fragment===void 0?D.reference="absolute":D.reference="uri",N.reference&&N.reference!=="suffix"&&N.reference!==D.reference&&(D.error=D.error||"URI is not a "+N.reference+" reference.");var ee=U[(N.scheme||D.scheme||"").toLowerCase()];if(!N.unicodeSupport&&(!ee||!ee.unicodeSupport)){if(D.host&&(N.domainHost||ee&&ee.domainHost))try{D.host=I.toASCII(D.host.replace(F.PCT_ENCODED,J).toLowerCase())}catch(te){D.error=D.error||"Host's domain name can not be converted to ASCII via punycode: "+te}Y(D,f)}else Y(D,F);ee&&ee.parse&&ee.parse(D,N)}else D.error=D.error||"URI can not be parsed.";return D}function qt(C,N){var D=N.iri!==!1?p:f,F=[];return C.userinfo!==void 0&&(F.push(C.userinfo),F.push("@")),C.host!==void 0&&F.push(wt(Me(String(C.host),D),D).replace(D.IPV6ADDRESS,function(M,ee,te){return"["+ee+(te?"%25"+te:"")+"]"})),(typeof C.port=="number"||typeof C.port=="string")&&(F.push(":"),F.push(String(C.port))),F.length?F.join(""):void 0}var St=/^\.\.?\//,bt=/^\/\.(\/|$)/,Pt=/^\/\.\.(\/|$)/,Gt=/^\/?(?:.|\n)*?(?=\/|$)/;function Ze(C){for(var N=[];C.length;)if(C.match(St))C=C.replace(St,"");else if(C.match(bt))C=C.replace(bt,"/");else if(C.match(Pt))C=C.replace(Pt,"/"),N.pop();else if(C==="."||C==="..")C="";else{var D=C.match(Gt);if(D){var F=D[0];C=C.slice(F.length),N.push(F)}else throw new Error("Unexpected dot segment condition")}return N.join("")}function De(C){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=N.iri?p:f,F=[],M=U[(N.scheme||C.scheme||"").toLowerCase()];if(M&&M.serialize&&M.serialize(C,N),C.host&&!D.IPV6ADDRESS.test(C.host)){if(N.domainHost||M&&M.domainHost)try{C.host=N.iri?I.toUnicode(C.host):I.toASCII(C.host.replace(D.PCT_ENCODED,J).toLowerCase())}catch(de){C.error=C.error||"Host's domain name can not be converted to "+(N.iri?"Unicode":"ASCII")+" via punycode: "+de}}Y(C,D),N.reference!=="suffix"&&C.scheme&&(F.push(C.scheme),F.push(":"));var ee=qt(C,N);if(ee!==void 0&&(N.reference!=="suffix"&&F.push("//"),F.push(ee),C.path&&C.path.charAt(0)!=="/"&&F.push("/")),C.path!==void 0){var te=C.path;!N.absolutePath&&(!M||!M.absolutePath)&&(te=Ze(te)),ee===void 0&&(te=te.replace(/^\/\//,"/%2F")),F.push(te)}return C.query!==void 0&&(F.push("?"),F.push(C.query)),C.fragment!==void 0&&(F.push("#"),F.push(C.fragment)),F.join("")}function Ot(C,N){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},F=arguments[3],M={};return F||(C=Fe(De(C,D),D),N=Fe(De(N,D),D)),D=D||{},!D.tolerant&&N.scheme?(M.scheme=N.scheme,M.userinfo=N.userinfo,M.host=N.host,M.port=N.port,M.path=Ze(N.path||""),M.query=N.query):(N.userinfo!==void 0||N.host!==void 0||N.port!==void 0?(M.userinfo=N.userinfo,M.host=N.host,M.port=N.port,M.path=Ze(N.path||""),M.query=N.query):(N.path?(N.path.charAt(0)==="/"?M.path=Ze(N.path):((C.userinfo!==void 0||C.host!==void 0||C.port!==void 0)&&!C.path?M.path="/"+N.path:C.path?M.path=C.path.slice(0,C.path.lastIndexOf("/")+1)+N.path:M.path=N.path,M.path=Ze(M.path)),M.query=N.query):(M.path=C.path,N.query!==void 0?M.query=N.query:M.query=C.query),M.userinfo=C.userinfo,M.host=C.host,M.port=C.port),M.scheme=C.scheme),M.fragment=N.fragment,M}function Kt(C,N,D){var F=c({scheme:"null"},D);return De(Ot(Fe(C,F),Fe(N,F),F,!0),F)}function st(C,N){return typeof C=="string"?C=De(Fe(C,N),N):a(C)==="object"&&(C=Fe(De(C,N),N)),C}function Wt(C,N,D){return typeof C=="string"?C=De(Fe(C,D),D):a(C)==="object"&&(C=De(C,D)),typeof N=="string"?N=De(Fe(N,D),D):a(N)==="object"&&(N=De(N,D)),C===N}function mr(C,N){return C&&C.toString().replace(!N||!N.iri?f.ESCAPE:p.ESCAPE,z)}function He(C,N){return C&&C.toString().replace(!N||!N.iri?f.PCT_ENCODED:p.PCT_ENCODED,J)}var Ht={scheme:"http",domainHost:!0,parse:function(N,D){return N.host||(N.error=N.error||"HTTP URIs must have a host."),N},serialize:function(N,D){var F=String(N.scheme).toLowerCase()==="https";return(N.port===(F?443:80)||N.port==="")&&(N.port=void 0),N.path||(N.path="/"),N}},Hi={scheme:"https",domainHost:Ht.domainHost,parse:Ht.parse,serialize:Ht.serialize};function Bi(C){return typeof C.secure=="boolean"?C.secure:String(C.scheme).toLowerCase()==="wss"}var hn={scheme:"ws",domainHost:!0,parse:function(N,D){var F=N;return F.secure=Bi(F),F.resourceName=(F.path||"/")+(F.query?"?"+F.query:""),F.path=void 0,F.query=void 0,F},serialize:function(N,D){if((N.port===(Bi(N)?443:80)||N.port==="")&&(N.port=void 0),typeof N.secure=="boolean"&&(N.scheme=N.secure?"wss":"ws",N.secure=void 0),N.resourceName){var F=N.resourceName.split("?"),M=T(F,2),ee=M[0],te=M[1];N.path=ee&&ee!=="/"?ee:void 0,N.query=te,N.resourceName=void 0}return N.fragment=void 0,N}},Ji={scheme:"wss",domainHost:hn.domainHost,parse:hn.parse,serialize:hn.serialize},kf={},Xi="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Rt="[0-9A-Fa-f]",Lf=s(s("%[EFef]"+Rt+"%"+Rt+Rt+"%"+Rt+Rt)+"|"+s("%[89A-Fa-f]"+Rt+"%"+Rt+Rt)+"|"+s("%"+Rt+Rt)),Mf="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ff="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Vf=n(Ff,'[\\"\\\\]'),Uf="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",zf=new RegExp(Xi,"g"),Fr=new RegExp(Lf,"g"),qf=new RegExp(n("[^]",Mf,"[\\.]",'[\\"]',Vf),"g"),Yi=new RegExp(n("[^]",Xi,Uf),"g"),Gf=Yi;function ia(C){var N=J(C);return N.match(zf)?N:C}var Qi={scheme:"mailto",parse:function(N,D){var F=N,M=F.to=F.path?F.path.split(","):[];if(F.path=void 0,F.query){for(var ee=!1,te={},de=F.query.split("&"),Ee=0,Ne=de.length;Ee<Ne;++Ee){var fe=de[Ee].split("=");switch(fe[0]){case"to":for(var ve=fe[1].split(","),Te=0,se=ve.length;Te<se;++Te)M.push(ve[Te]);break;case"subject":F.subject=He(fe[1],D);break;case"body":F.body=He(fe[1],D);break;default:ee=!0,te[He(fe[0],D)]=He(fe[1],D);break}}ee&&(F.headers=te)}F.query=void 0;for(var be=0,Ce=M.length;be<Ce;++be){var Pe=M[be].split("@");if(Pe[0]=He(Pe[0]),D.unicodeSupport)Pe[1]=He(Pe[1],D).toLowerCase();else try{Pe[1]=I.toASCII(He(Pe[1],D).toLowerCase())}catch(tr){F.error=F.error||"Email address's domain name can not be converted to ASCII via punycode: "+tr}M[be]=Pe.join("@")}return F},serialize:function(N,D){var F=N,M=u(N.to);if(M){for(var ee=0,te=M.length;ee<te;++ee){var de=String(M[ee]),Ee=de.lastIndexOf("@"),Ne=de.slice(0,Ee).replace(Fr,ia).replace(Fr,i).replace(qf,z),fe=de.slice(Ee+1);try{fe=D.iri?I.toUnicode(fe):I.toASCII(He(fe,D).toLowerCase())}catch(be){F.error=F.error||"Email address's domain name can not be converted to "+(D.iri?"Unicode":"ASCII")+" via punycode: "+be}M[ee]=Ne+"@"+fe}F.path=M.join(",")}var ve=N.headers=N.headers||{};N.subject&&(ve.subject=N.subject),N.body&&(ve.body=N.body);var Te=[];for(var se in ve)ve[se]!==kf[se]&&Te.push(se.replace(Fr,ia).replace(Fr,i).replace(Yi,z)+"="+ve[se].replace(Fr,ia).replace(Fr,i).replace(Gf,z));return Te.length&&(F.query=Te.join("&")),F}},Kf=/^([^\:]+)\:(.*)/,Zi={scheme:"urn",parse:function(N,D){var F=N.path&&N.path.match(Kf),M=N;if(F){var ee=D.scheme||M.scheme||"urn",te=F[1].toLowerCase(),de=F[2],Ee=ee+":"+(D.nid||te),Ne=U[Ee];M.nid=te,M.nss=de,M.path=void 0,Ne&&(M=Ne.parse(M,D))}else M.error=M.error||"URN can not be parsed.";return M},serialize:function(N,D){var F=D.scheme||N.scheme||"urn",M=N.nid,ee=F+":"+(D.nid||M),te=U[ee];te&&(N=te.serialize(N,D));var de=N,Ee=N.nss;return de.path=(M||D.nid)+":"+Ee,de}},Wf=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,xi={scheme:"urn:uuid",parse:function(N,D){var F=N;return F.uuid=F.nss,F.nss=void 0,!D.tolerant&&(!F.uuid||!F.uuid.match(Wf))&&(F.error=F.error||"UUID is not valid."),F},serialize:function(N,D){var F=N;return F.nss=(N.uuid||"").toLowerCase(),F}};U[Ht.scheme]=Ht,U[Hi.scheme]=Hi,U[hn.scheme]=hn,U[Ji.scheme]=Ji,U[Qi.scheme]=Qi,U[Zi.scheme]=Zi,U[xi.scheme]=xi,r.SCHEMES=U,r.pctEncChar=z,r.pctDecChars=J,r.parse=Fe,r.removeDotSegments=Ze,r.serialize=De,r.resolveComponents=Ot,r.resolve=Kt,r.normalize=st,r.equal=Wt,r.escapeComponent=mr,r.unescapeComponent=He,Object.defineProperty(r,"__esModule",{value:!0})})})(La,La.exports);var wu=La.exports;Object.defineProperty(go,"__esModule",{value:!0});const Su=wu;Su.code='require("ajv/dist/runtime/uri").default';go.default=Su;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=gt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=le;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Gn,s=Kn,a=jr,i=rt,u=le,c=qe,l=qn,f=he,p=Np,T=go,E=($,d)=>new RegExp($,d);E.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],P=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function w($){var d,_,y,o,h,I,U,z,J,Y,ae,Me,wt,Ut,zt,Fe,qt,St,bt,Pt,Gt,Ze,De,Ot,Kt;const st=$.strict,Wt=(d=$.code)===null||d===void 0?void 0:d.optimize,mr=Wt===!0||Wt===void 0?1:Wt||0,He=(y=(_=$.code)===null||_===void 0?void 0:_.regExp)!==null&&y!==void 0?y:E,Ht=(o=$.uriResolver)!==null&&o!==void 0?o:T.default;return{strictSchema:(I=(h=$.strictSchema)!==null&&h!==void 0?h:st)!==null&&I!==void 0?I:!0,strictNumbers:(z=(U=$.strictNumbers)!==null&&U!==void 0?U:st)!==null&&z!==void 0?z:!0,strictTypes:(Y=(J=$.strictTypes)!==null&&J!==void 0?J:st)!==null&&Y!==void 0?Y:"log",strictTuples:(Me=(ae=$.strictTuples)!==null&&ae!==void 0?ae:st)!==null&&Me!==void 0?Me:"log",strictRequired:(Ut=(wt=$.strictRequired)!==null&&wt!==void 0?wt:st)!==null&&Ut!==void 0?Ut:!1,code:$.code?{...$.code,optimize:mr,regExp:He}:{optimize:mr,regExp:He},loopRequired:(zt=$.loopRequired)!==null&&zt!==void 0?zt:b,loopEnum:(Fe=$.loopEnum)!==null&&Fe!==void 0?Fe:b,meta:(qt=$.meta)!==null&&qt!==void 0?qt:!0,messages:(St=$.messages)!==null&&St!==void 0?St:!0,inlineRefs:(bt=$.inlineRefs)!==null&&bt!==void 0?bt:!0,schemaId:(Pt=$.schemaId)!==null&&Pt!==void 0?Pt:"$id",addUsedSchema:(Gt=$.addUsedSchema)!==null&&Gt!==void 0?Gt:!0,validateSchema:(Ze=$.validateSchema)!==null&&Ze!==void 0?Ze:!0,validateFormats:(De=$.validateFormats)!==null&&De!==void 0?De:!0,unicodeRegExp:(Ot=$.unicodeRegExp)!==null&&Ot!==void 0?Ot:!0,int32range:(Kt=$.int32range)!==null&&Kt!==void 0?Kt:!0,uriResolver:Ht}}class A{constructor(d={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,d=this.opts={...d,...w(d)};const{es5:_,lines:y}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:P,es5:_,lines:y}),this.logger=W(d.logger);const o=d.validateFormats;d.validateFormats=!1,this.RULES=(0,a.getRules)(),L.call(this,g,d,"NOT SUPPORTED"),L.call(this,m,d,"DEPRECATED","warn"),this._metaOpts=G.call(this),d.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),d.keywords&&V.call(this,d.keywords),typeof d.meta=="object"&&this.addMetaSchema(d.meta),O.call(this),d.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:d,meta:_,schemaId:y}=this.opts;let o=p;y==="id"&&(o={...p},o.id=o.$id,delete o.$id),_&&d&&this.addMetaSchema(o,o[y],!1)}defaultMeta(){const{meta:d,schemaId:_}=this.opts;return this.opts.defaultMeta=typeof d=="object"?d[_]||d:void 0}validate(d,_){let y;if(typeof d=="string"){if(y=this.getSchema(d),!y)throw new Error(`no schema with key or ref "${d}"`)}else y=this.compile(d);const o=y(_);return"$async"in y||(this.errors=y.errors),o}compile(d,_){const y=this._addSchema(d,_);return y.validate||this._compileSchemaEnv(y)}compileAsync(d,_){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:y}=this.opts;return o.call(this,d,_);async function o(Y,ae){await h.call(this,Y.$schema);const Me=this._addSchema(Y,ae);return Me.validate||I.call(this,Me)}async function h(Y){Y&&!this.getSchema(Y)&&await o.call(this,{$ref:Y},!0)}async function I(Y){try{return this._compileSchemaEnv(Y)}catch(ae){if(!(ae instanceof s.default))throw ae;return U.call(this,ae),await z.call(this,ae.missingSchema),I.call(this,Y)}}function U({missingSchema:Y,missingRef:ae}){if(this.refs[Y])throw new Error(`AnySchema ${Y} is loaded but ${ae} cannot be resolved`)}async function z(Y){const ae=await J.call(this,Y);this.refs[Y]||await h.call(this,ae.$schema),this.refs[Y]||this.addSchema(ae,Y,_)}async function J(Y){const ae=this._loading[Y];if(ae)return ae;try{return await(this._loading[Y]=y(Y))}finally{delete this._loading[Y]}}}addSchema(d,_,y,o=this.opts.validateSchema){if(Array.isArray(d)){for(const I of d)this.addSchema(I,void 0,y,o);return this}let h;if(typeof d=="object"){const{schemaId:I}=this.opts;if(h=d[I],h!==void 0&&typeof h!="string")throw new Error(`schema ${I} must be string`)}return _=(0,c.normalizeId)(_||h),this._checkUnique(_),this.schemas[_]=this._addSchema(d,y,_,o,!0),this}addMetaSchema(d,_,y=this.opts.validateSchema){return this.addSchema(d,_,!0,y),this}validateSchema(d,_){if(typeof d=="boolean")return!0;let y;if(y=d.$schema,y!==void 0&&typeof y!="string")throw new Error("$schema must be a string");if(y=y||this.opts.defaultMeta||this.defaultMeta(),!y)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(y,d);if(!o&&_){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return o}getSchema(d){let _;for(;typeof(_=S.call(this,d))=="string";)d=_;if(_===void 0){const{schemaId:y}=this.opts,o=new i.SchemaEnv({schema:{},schemaId:y});if(_=i.resolveSchema.call(this,o,d),!_)return;this.refs[d]=_}return _.validate||this._compileSchemaEnv(_)}removeSchema(d){if(d instanceof RegExp)return this._removeAllSchemas(this.schemas,d),this._removeAllSchemas(this.refs,d),this;switch(typeof d){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const _=S.call(this,d);return typeof _=="object"&&this._cache.delete(_.schema),delete this.schemas[d],delete this.refs[d],this}case"object":{const _=d;this._cache.delete(_);let y=d[this.opts.schemaId];return y&&(y=(0,c.normalizeId)(y),delete this.schemas[y],delete this.refs[y]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(d){for(const _ of d)this.addKeyword(_);return this}addKeyword(d,_){let y;if(typeof d=="string")y=d,typeof _=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),_.keyword=y);else if(typeof d=="object"&&_===void 0){if(_=d,y=_.keyword,Array.isArray(y)&&!y.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(q.call(this,y,_),!_)return(0,f.eachItem)(y,h=>B.call(this,h)),this;H.call(this,_);const o={..._,type:(0,l.getJSONTypes)(_.type),schemaType:(0,l.getJSONTypes)(_.schemaType)};return(0,f.eachItem)(y,o.type.length===0?h=>B.call(this,h,o):h=>o.type.forEach(I=>B.call(this,h,o,I))),this}getKeyword(d){const _=this.RULES.all[d];return typeof _=="object"?_.definition:!!_}removeKeyword(d){const{RULES:_}=this;delete _.keywords[d],delete _.all[d];for(const y of _.rules){const o=y.rules.findIndex(h=>h.keyword===d);o>=0&&y.rules.splice(o,1)}return this}addFormat(d,_){return typeof _=="string"&&(_=new RegExp(_)),this.formats[d]=_,this}errorsText(d=this.errors,{separator:_=", ",dataVar:y="data"}={}){return!d||d.length===0?"No errors":d.map(o=>`${y}${o.instancePath} ${o.message}`).reduce((o,h)=>o+_+h)}$dataMetaSchema(d,_){const y=this.RULES.all;d=JSON.parse(JSON.stringify(d));for(const o of _){const h=o.split("/").slice(1);let I=d;for(const U of h)I=I[U];for(const U in y){const z=y[U];if(typeof z!="object")continue;const{$data:J}=z.definition,Y=I[U];J&&Y&&(I[U]=j(Y))}}return d}_removeAllSchemas(d,_){for(const y in d){const o=d[y];(!_||_.test(y))&&(typeof o=="string"?delete d[y]:o&&!o.meta&&(this._cache.delete(o.schema),delete d[y]))}}_addSchema(d,_,y,o=this.opts.validateSchema,h=this.opts.addUsedSchema){let I;const{schemaId:U}=this.opts;if(typeof d=="object")I=d[U];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof d!="boolean")throw new Error("schema must be object or boolean")}let z=this._cache.get(d);if(z!==void 0)return z;y=(0,c.normalizeId)(I||y);const J=c.getSchemaRefs.call(this,d,y);return z=new i.SchemaEnv({schema:d,schemaId:U,meta:_,baseId:y,localRefs:J}),this._cache.set(z.schema,z),h&&!y.startsWith("#")&&(y&&this._checkUnique(y),this.refs[y]=z),o&&this.validateSchema(d,!0),z}_checkUnique(d){if(this.schemas[d]||this.refs[d])throw new Error(`schema with key or id "${d}" already exists`)}_compileSchemaEnv(d){if(d.meta?this._compileMetaSchema(d):i.compileSchema.call(this,d),!d.validate)throw new Error("ajv implementation error");return d.validate}_compileMetaSchema(d){const _=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,d)}finally{this.opts=_}}}e.default=A,A.ValidationError=n.default,A.MissingRefError=s.default;function L($,d,_,y="error"){for(const o in $){const h=o;h in d&&this.logger[y](`${_}: option ${o}. ${$[h]}`)}}function S($){return $=(0,c.normalizeId)($),this.schemas[$]||this.refs[$]}function O(){const $=this.opts.schemas;if($)if(Array.isArray($))this.addSchema($);else for(const d in $)this.addSchema($[d],d)}function k(){for(const $ in this.opts.formats){const d=this.opts.formats[$];d&&this.addFormat($,d)}}function V($){if(Array.isArray($)){this.addVocabulary($);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const d in $){const _=$[d];_.keyword||(_.keyword=d),this.addKeyword(_)}}function G(){const $={...this.opts};for(const d of v)delete $[d];return $}const Q={log(){},warn(){},error(){}};function W($){if($===!1)return Q;if($===void 0)return console;if($.log&&$.warn&&$.error)return $;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function q($,d){const{RULES:_}=this;if((0,f.eachItem)($,y=>{if(_.keywords[y])throw new Error(`Keyword ${y} is already defined`);if(!K.test(y))throw new Error(`Keyword ${y} has invalid name`)}),!!d&&d.$data&&!("code"in d||"validate"in d))throw new Error('$data keyword must have "code" or "validate" function')}function B($,d,_){var y;const o=d==null?void 0:d.post;if(_&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let I=o?h.post:h.rules.find(({type:z})=>z===_);if(I||(I={type:_,rules:[]},h.rules.push(I)),h.keywords[$]=!0,!d)return;const U={keyword:$,definition:{...d,type:(0,l.getJSONTypes)(d.type),schemaType:(0,l.getJSONTypes)(d.schemaType)}};d.before?X.call(this,I,U,d.before):I.rules.push(U),h.all[$]=U,(y=d.implements)===null||y===void 0||y.forEach(z=>this.addKeyword(z))}function X($,d,_){const y=$.rules.findIndex(o=>o.keyword===_);y>=0?$.rules.splice(y,0,d):($.rules.push(d),this.logger.warn(`rule ${_} is not defined`))}function H($){let{metaSchema:d}=$;d!==void 0&&($.$data&&this.opts.$data&&(d=j(d)),$.validateSchema=this.compile(d,!0))}const R={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j($){return{anyOf:[$,R]}}})(Zl);var vo={},_o={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});const Tp={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Eo.default=Tp;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.callRef=Dr.getValidate=void 0;const Ip=Kn,pc=ie,et=le,zr=Ft,mc=rt,ss=he,Ap={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:i,opts:u,self:c}=n,{root:l}=a;if((r==="#"||r==="#/")&&s===l.baseId)return p();const f=mc.resolveRef.call(c,l,s,r);if(f===void 0)throw new Ip.default(n.opts.uriResolver,s,r);if(f instanceof mc.SchemaEnv)return T(f);return E(f);function p(){if(a===l)return _s(e,i,a,a.$async);const v=t.scopeValue("root",{ref:l});return _s(e,(0,et._)`${v}.validate`,l,l.$async)}function T(v){const P=bu(e,v);_s(e,P,v,v.$async)}function E(v){const P=t.scopeValue("schema",u.code.source===!0?{ref:v,code:(0,et.stringify)(v)}:{ref:v}),g=t.name("valid"),m=e.subschema({schema:v,dataTypes:[],schemaPath:et.nil,topSchemaRef:P,errSchemaPath:r},g);e.mergeEvaluated(m),e.ok(g)}}};function bu(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,et._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Dr.getValidate=bu;function _s(e,t,r,n){const{gen:s,it:a}=e,{allErrors:i,schemaEnv:u,opts:c}=a,l=c.passContext?zr.default.this:et.nil;n?f():p();function f(){if(!u.$async)throw new Error("async schema referenced by sync schema");const v=s.let("valid");s.try(()=>{s.code((0,et._)`await ${(0,pc.callValidateCode)(e,t,l)}`),E(t),i||s.assign(v,!0)},P=>{s.if((0,et._)`!(${P} instanceof ${a.ValidationError})`,()=>s.throw(P)),T(P),i||s.assign(v,!1)}),e.ok(v)}function p(){e.result((0,pc.callValidateCode)(e,t,l),()=>E(t),()=>T(t))}function T(v){const P=(0,et._)`${v}.errors`;s.assign(zr.default.vErrors,(0,et._)`${zr.default.vErrors} === null ? ${P} : ${zr.default.vErrors}.concat(${P})`),s.assign(zr.default.errors,(0,et._)`${zr.default.vErrors}.length`)}function E(v){var P;if(!a.opts.unevaluated)return;const g=(P=r==null?void 0:r.validate)===null||P===void 0?void 0:P.evaluated;if(a.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(a.props=ss.mergeEvaluated.props(s,g.props,a.props));else{const m=s.var("props",(0,et._)`${v}.evaluated.props`);a.props=ss.mergeEvaluated.props(s,m,a.props,et.Name)}if(a.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(a.items=ss.mergeEvaluated.items(s,g.items,a.items));else{const m=s.var("items",(0,et._)`${v}.evaluated.items`);a.items=ss.mergeEvaluated.items(s,m,a.items,et.Name)}}}Dr.callRef=_s;Dr.default=Ap;Object.defineProperty(_o,"__esModule",{value:!0});const Cp=Eo,jp=Dr,Dp=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Cp.default,jp.default];_o.default=Dp;var wo={},So={};Object.defineProperty(So,"__esModule",{value:!0});const Is=le,nr=Is.operators,As={maximum:{okStr:"<=",ok:nr.LTE,fail:nr.GT},minimum:{okStr:">=",ok:nr.GTE,fail:nr.LT},exclusiveMaximum:{okStr:"<",ok:nr.LT,fail:nr.GTE},exclusiveMinimum:{okStr:">",ok:nr.GT,fail:nr.LTE}},kp={message:({keyword:e,schemaCode:t})=>(0,Is.str)`must be ${As[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Is._)`{comparison: ${As[e].okStr}, limit: ${t}}`},Lp={keyword:Object.keys(As),type:"number",schemaType:"number",$data:!0,error:kp,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Is._)`${r} ${As[t].fail} ${n} || isNaN(${r})`)}};So.default=Lp;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});const Nn=le,Mp={message:({schemaCode:e})=>(0,Nn.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Nn._)`{multipleOf: ${e}}`},Fp={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Mp,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,i=t.let("res"),u=a?(0,Nn._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,Nn._)`${i} !== parseInt(${i})`;e.fail$data((0,Nn._)`(${n} === 0 || (${i} = ${r}/${n}, ${u}))`)}};bo.default=Fp;var Po={},Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});function Pu(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Oo.default=Pu;Pu.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Po,"__esModule",{value:!0});const br=le,Vp=he,Up=Oo,zp={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,br.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,br._)`{limit: ${e}}`},qp={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:zp,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?br.operators.GT:br.operators.LT,i=s.opts.unicode===!1?(0,br._)`${r}.length`:(0,br._)`${(0,Vp.useFunc)(e.gen,Up.default)}(${r})`;e.fail$data((0,br._)`${i} ${a} ${n}`)}};Po.default=qp;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});const Gp=ie,Cs=le,Kp={message:({schemaCode:e})=>(0,Cs.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Cs._)`{pattern: ${e}}`},Wp={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Kp,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,i=a.opts.unicodeRegExp?"u":"",u=r?(0,Cs._)`(new RegExp(${s}, ${i}))`:(0,Gp.usePattern)(e,n);e.fail$data((0,Cs._)`!${u}.test(${t})`)}};Ro.default=Wp;var No={};Object.defineProperty(No,"__esModule",{value:!0});const Tn=le,Hp={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Tn.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Tn._)`{limit: ${e}}`},Bp={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Hp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Tn.operators.GT:Tn.operators.LT;e.fail$data((0,Tn._)`Object.keys(${r}).length ${s} ${n}`)}};No.default=Bp;var To={};Object.defineProperty(To,"__esModule",{value:!0});const $n=ie,In=le,Jp=he,Xp={message:({params:{missingProperty:e}})=>(0,In.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,In._)`{missingProperty: ${e}}`},Yp={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Xp,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:i}=e,{opts:u}=i;if(!a&&r.length===0)return;const c=r.length>=u.loopRequired;if(i.allErrors?l():f(),u.strictRequired){const E=e.parentSchema.properties,{definedProperties:v}=e.it;for(const P of r)if((E==null?void 0:E[P])===void 0&&!v.has(P)){const g=i.schemaEnv.baseId+i.errSchemaPath,m=`required property "${P}" is not defined at "${g}" (strictRequired)`;(0,Jp.checkStrictMode)(i,m,i.opts.strictRequired)}}function l(){if(c||a)e.block$data(In.nil,p);else for(const E of r)(0,$n.checkReportMissingProp)(e,E)}function f(){const E=t.let("missing");if(c||a){const v=t.let("valid",!0);e.block$data(v,()=>T(E,v)),e.ok(v)}else t.if((0,$n.checkMissingProp)(e,r,E)),(0,$n.reportMissingProp)(e,E),t.else()}function p(){t.forOf("prop",n,E=>{e.setParams({missingProperty:E}),t.if((0,$n.noPropertyInData)(t,s,E,u.ownProperties),()=>e.error())})}function T(E,v){e.setParams({missingProperty:E}),t.forOf(E,n,()=>{t.assign(v,(0,$n.propertyInData)(t,s,E,u.ownProperties)),t.if((0,In.not)(v),()=>{e.error(),t.break()})},In.nil)}}};To.default=Yp;var Io={};Object.defineProperty(Io,"__esModule",{value:!0});const An=le,Qp={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,An.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,An._)`{limit: ${e}}`},Zp={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Qp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?An.operators.GT:An.operators.LT;e.fail$data((0,An._)`${r}.length ${s} ${n}`)}};Io.default=Zp;var Ao={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});const Ou=Ws;Ou.code='require("ajv/dist/runtime/equal").default';Wn.default=Ou;Object.defineProperty(Ao,"__esModule",{value:!0});const da=qn,Ve=le,xp=he,em=Wn,tm={message:({params:{i:e,j:t}})=>(0,Ve.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ve._)`{i: ${e}, j: ${t}}`},rm={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:tm,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:u}=e;if(!n&&!s)return;const c=t.let("valid"),l=a.items?(0,da.getSchemaTypes)(a.items):[];e.block$data(c,f,(0,Ve._)`${i} === false`),e.ok(c);function f(){const v=t.let("i",(0,Ve._)`${r}.length`),P=t.let("j");e.setParams({i:v,j:P}),t.assign(c,!0),t.if((0,Ve._)`${v} > 1`,()=>(p()?T:E)(v,P))}function p(){return l.length>0&&!l.some(v=>v==="object"||v==="array")}function T(v,P){const g=t.name("item"),m=(0,da.checkDataTypes)(l,g,u.opts.strictNumbers,da.DataType.Wrong),b=t.const("indices",(0,Ve._)`{}`);t.for((0,Ve._)`;${v}--;`,()=>{t.let(g,(0,Ve._)`${r}[${v}]`),t.if(m,(0,Ve._)`continue`),l.length>1&&t.if((0,Ve._)`typeof ${g} == "string"`,(0,Ve._)`${g} += "_"`),t.if((0,Ve._)`typeof ${b}[${g}] == "number"`,()=>{t.assign(P,(0,Ve._)`${b}[${g}]`),e.error(),t.assign(c,!1).break()}).code((0,Ve._)`${b}[${g}] = ${v}`)})}function E(v,P){const g=(0,xp.useFunc)(t,em.default),m=t.name("outer");t.label(m).for((0,Ve._)`;${v}--;`,()=>t.for((0,Ve._)`${P} = ${v}; ${P}--;`,()=>t.if((0,Ve._)`${g}(${r}[${v}], ${r}[${P}])`,()=>{e.error(),t.assign(c,!1).break(m)})))}}};Ao.default=rm;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});const Ma=le,nm=he,sm=Wn,am={message:"must be equal to constant",params:({schemaCode:e})=>(0,Ma._)`{allowedValue: ${e}}`},om={keyword:"const",$data:!0,error:am,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,Ma._)`!${(0,nm.useFunc)(t,sm.default)}(${r}, ${s})`):e.fail((0,Ma._)`${a} !== ${r}`)}};Co.default=om;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});const Sn=le,im=he,cm=Wn,lm={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Sn._)`{allowedValues: ${e}}`},um={keyword:"enum",schemaType:"array",$data:!0,error:lm,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:i}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=i.opts.loopEnum;let c;const l=()=>c??(c=(0,im.useFunc)(t,cm.default));let f;if(u||n)f=t.let("valid"),e.block$data(f,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const E=t.const("vSchema",a);f=(0,Sn.or)(...s.map((v,P)=>T(E,P)))}e.pass(f);function p(){t.assign(f,!1),t.forOf("v",a,E=>t.if((0,Sn._)`${l()}(${r}, ${E})`,()=>t.assign(f,!0).break()))}function T(E,v){const P=s[v];return typeof P=="object"&&P!==null?(0,Sn._)`${l()}(${r}, ${E}[${v}])`:(0,Sn._)`${r} === ${P}`}}};jo.default=um;Object.defineProperty(wo,"__esModule",{value:!0});const fm=So,dm=bo,hm=Po,pm=Ro,mm=No,ym=To,$m=Io,gm=Ao,vm=Co,_m=jo,Em=[fm.default,dm.default,hm.default,pm.default,mm.default,ym.default,$m.default,gm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},vm.default,_m.default];wo.default=Em;var Do={},cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.validateAdditionalItems=void 0;const Pr=le,Fa=he,wm={message:({params:{len:e}})=>(0,Pr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Pr._)`{limit: ${e}}`},Sm={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:wm,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Fa.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ru(e,n)}};function Ru(e,t){const{gen:r,schema:n,data:s,keyword:a,it:i}=e;i.items=!0;const u=r.const("len",(0,Pr._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Pr._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,Fa.alwaysValidSchema)(i,n)){const l=r.var("valid",(0,Pr._)`${u} <= ${t.length}`);r.if((0,Pr.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,u,f=>{e.subschema({keyword:a,dataProp:f,dataPropType:Fa.Type.Num},l),i.allErrors||r.if((0,Pr.not)(l),()=>r.break())})}}cn.validateAdditionalItems=Ru;cn.default=Sm;var ko={},ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.validateTuple=void 0;const yc=le,Es=he,bm=ie,Pm={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Nu(e,"additionalItems",t);r.items=!0,!(0,Es.alwaysValidSchema)(r,t)&&e.ok((0,bm.validateArray)(e))}};function Nu(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:i,it:u}=e;f(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=Es.mergeEvaluated.items(n,r.length,u.items));const c=n.name("valid"),l=n.const("len",(0,yc._)`${a}.length`);r.forEach((p,T)=>{(0,Es.alwaysValidSchema)(u,p)||(n.if((0,yc._)`${l} > ${T}`,()=>e.subschema({keyword:i,schemaProp:T,dataProp:T},c)),e.ok(c))});function f(p){const{opts:T,errSchemaPath:E}=u,v=r.length,P=v===p.minItems&&(v===p.maxItems||p[t]===!1);if(T.strictTuples&&!P){const g=`"${i}" is ${v}-tuple, but minItems or maxItems/${t} are not specified or different at path "${E}"`;(0,Es.checkStrictMode)(u,g,T.strictTuples)}}}ln.validateTuple=Nu;ln.default=Pm;Object.defineProperty(ko,"__esModule",{value:!0});const Om=ln,Rm={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Om.validateTuple)(e,"items")};ko.default=Rm;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});const $c=le,Nm=he,Tm=ie,Im=cn,Am={message:({params:{len:e}})=>(0,$c.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,$c._)`{limit: ${e}}`},Cm={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Am,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,Nm.alwaysValidSchema)(n,t)&&(s?(0,Im.validateAdditionalItems)(e,s):e.ok((0,Tm.validateArray)(e)))}};Lo.default=Cm;var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});const lt=le,as=he,jm={message:({params:{min:e,max:t}})=>t===void 0?(0,lt.str)`must contain at least ${e} valid item(s)`:(0,lt.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,lt._)`{minContains: ${e}}`:(0,lt._)`{minContains: ${e}, maxContains: ${t}}`},Dm={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:jm,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let i,u;const{minContains:c,maxContains:l}=n;a.opts.next?(i=c===void 0?1:c,u=l):i=1;const f=t.const("len",(0,lt._)`${s}.length`);if(e.setParams({min:i,max:u}),u===void 0&&i===0){(0,as.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&i>u){(0,as.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,as.alwaysValidSchema)(a,r)){let P=(0,lt._)`${f} >= ${i}`;u!==void 0&&(P=(0,lt._)`${P} && ${f} <= ${u}`),e.pass(P);return}a.items=!0;const p=t.name("valid");u===void 0&&i===1?E(p,()=>t.if(p,()=>t.break())):i===0?(t.let(p,!0),u!==void 0&&t.if((0,lt._)`${s}.length > 0`,T)):(t.let(p,!1),T()),e.result(p,()=>e.reset());function T(){const P=t.name("_valid"),g=t.let("count",0);E(P,()=>t.if(P,()=>v(g)))}function E(P,g){t.forRange("i",0,f,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:as.Type.Num,compositeRule:!0},P),g()})}function v(P){t.code((0,lt._)`${P}++`),u===void 0?t.if((0,lt._)`${P} >= ${i}`,()=>t.assign(p,!0).break()):(t.if((0,lt._)`${P} > ${u}`,()=>t.assign(p,!1).break()),i===1?t.assign(p,!0):t.if((0,lt._)`${P} >= ${i}`,()=>t.assign(p,!0)))}}};Mo.default=Dm;var Tu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=le,r=he,n=ie;e.error={message:({params:{property:c,depsCount:l,deps:f}})=>{const p=l===1?"property":"properties";return(0,t.str)`must have ${p} ${f} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:f,missingProperty:p}})=>(0,t._)`{property: ${c},
    missingProperty: ${p},
    depsCount: ${l},
    deps: ${f}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,f]=a(c);i(c,l),u(c,f)}};function a({schema:c}){const l={},f={};for(const p in c){if(p==="__proto__")continue;const T=Array.isArray(c[p])?l:f;T[p]=c[p]}return[l,f]}function i(c,l=c.schema){const{gen:f,data:p,it:T}=c;if(Object.keys(l).length===0)return;const E=f.let("missing");for(const v in l){const P=l[v];if(P.length===0)continue;const g=(0,n.propertyInData)(f,p,v,T.opts.ownProperties);c.setParams({property:v,depsCount:P.length,deps:P.join(", ")}),T.allErrors?f.if(g,()=>{for(const m of P)(0,n.checkReportMissingProp)(c,m)}):(f.if((0,t._)`${g} && (${(0,n.checkMissingProp)(c,P,E)})`),(0,n.reportMissingProp)(c,E),f.else())}}e.validatePropertyDeps=i;function u(c,l=c.schema){const{gen:f,data:p,keyword:T,it:E}=c,v=f.name("valid");for(const P in l)(0,r.alwaysValidSchema)(E,l[P])||(f.if((0,n.propertyInData)(f,p,P,E.opts.ownProperties),()=>{const g=c.subschema({keyword:T,schemaProp:P},v);c.mergeValidEvaluated(g,v)},()=>f.var(v,!0)),c.ok(v))}e.validateSchemaDeps=u,e.default=s})(Tu);var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});const Iu=le,km=he,Lm={message:"property name must be valid",params:({params:e})=>(0,Iu._)`{propertyName: ${e.propertyName}}`},Mm={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Lm,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,km.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,Iu.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Fo.default=Mm;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});const os=ie,ht=le,Fm=Ft,is=he,Vm={message:"must NOT have additional properties",params:({params:e})=>(0,ht._)`{additionalProperty: ${e.additionalProperty}}`},Um={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Vm,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,is.alwaysValidSchema)(i,r))return;const l=(0,os.allSchemaProperties)(n.properties),f=(0,os.allSchemaProperties)(n.patternProperties);p(),e.ok((0,ht._)`${a} === ${Fm.default.errors}`);function p(){t.forIn("key",s,g=>{!l.length&&!f.length?v(g):t.if(T(g),()=>v(g))})}function T(g){let m;if(l.length>8){const b=(0,is.schemaRefOrVal)(i,n.properties,"properties");m=(0,os.isOwnProperty)(t,b,g)}else l.length?m=(0,ht.or)(...l.map(b=>(0,ht._)`${g} === ${b}`)):m=ht.nil;return f.length&&(m=(0,ht.or)(m,...f.map(b=>(0,ht._)`${(0,os.usePattern)(e,b)}.test(${g})`))),(0,ht.not)(m)}function E(g){t.code((0,ht._)`delete ${s}[${g}]`)}function v(g){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){E(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,is.alwaysValidSchema)(i,r)){const m=t.name("valid");c.removeAdditional==="failing"?(P(g,m,!1),t.if((0,ht.not)(m),()=>{e.reset(),E(g)})):(P(g,m),u||t.if((0,ht.not)(m),()=>t.break()))}}function P(g,m,b){const w={keyword:"additionalProperties",dataProp:g,dataPropType:is.Type.Str};b===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,m)}}};Js.default=Um;var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});const zm=gt,gc=ie,ha=he,vc=Js,qm={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&vc.default.code(new zm.KeywordCxt(a,vc.default,"additionalProperties"));const i=(0,gc.allSchemaProperties)(r);for(const p of i)a.definedProperties.add(p);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=ha.mergeEvaluated.props(t,(0,ha.toHash)(i),a.props));const u=i.filter(p=>!(0,ha.alwaysValidSchema)(a,r[p]));if(u.length===0)return;const c=t.name("valid");for(const p of u)l(p)?f(p):(t.if((0,gc.propertyInData)(t,s,p,a.opts.ownProperties)),f(p),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(c);function l(p){return a.opts.useDefaults&&!a.compositeRule&&r[p].default!==void 0}function f(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},c)}}};Vo.default=qm;var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});const _c=ie,cs=le,Ec=he,wc=he,Gm={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:i}=a,u=(0,_c.allSchemaProperties)(r),c=u.filter(P=>(0,Ec.alwaysValidSchema)(a,r[P]));if(u.length===0||c.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const l=i.strictSchema&&!i.allowMatchingProperties&&s.properties,f=t.name("valid");a.props!==!0&&!(a.props instanceof cs.Name)&&(a.props=(0,wc.evaluatedPropsToName)(t,a.props));const{props:p}=a;T();function T(){for(const P of u)l&&E(P),a.allErrors?v(P):(t.var(f,!0),v(P),t.if(f))}function E(P){for(const g in l)new RegExp(P).test(g)&&(0,Ec.checkStrictMode)(a,`property ${g} matches pattern ${P} (use allowMatchingProperties)`)}function v(P){t.forIn("key",n,g=>{t.if((0,cs._)`${(0,_c.usePattern)(e,P)}.test(${g})`,()=>{const m=c.includes(P);m||e.subschema({keyword:"patternProperties",schemaProp:P,dataProp:g,dataPropType:wc.Type.Str},f),a.opts.unevaluated&&p!==!0?t.assign((0,cs._)`${p}[${g}]`,!0):!m&&!a.allErrors&&t.if((0,cs.not)(f),()=>t.break())})})}}};Uo.default=Gm;var zo={};Object.defineProperty(zo,"__esModule",{value:!0});const Km=he,Wm={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Km.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};zo.default=Wm;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});const Hm=ie,Bm={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Hm.validateUnion,error:{message:"must match a schema in anyOf"}};qo.default=Bm;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});const ws=le,Jm=he,Xm={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ws._)`{passingSchemas: ${e.passing}}`},Ym={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Xm,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,i=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");e.setParams({passing:u}),t.block(l),e.result(i,()=>e.reset(),()=>e.error(!0));function l(){a.forEach((f,p)=>{let T;(0,Jm.alwaysValidSchema)(s,f)?t.var(c,!0):T=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},c),p>0&&t.if((0,ws._)`${c} && ${i}`).assign(i,!1).assign(u,(0,ws._)`[${u}, ${p}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(u,p),T&&e.mergeEvaluated(T,ws.Name)})})}}};Go.default=Ym;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});const Qm=he,Zm={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,i)=>{if((0,Qm.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:i},s);e.ok(s),e.mergeEvaluated(u)})}};Ko.default=Zm;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});const js=le,Au=he,xm={message:({params:e})=>(0,js.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,js._)`{failingKeyword: ${e.ifClause}}`},ey={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:xm,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Au.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Sc(n,"then"),a=Sc(n,"else");if(!s&&!a)return;const i=t.let("valid",!0),u=t.name("_valid");if(c(),e.reset(),s&&a){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(u,l("then",f),l("else",f))}else s?t.if(u,l("then")):t.if((0,js.not)(u),l("else"));e.pass(i,()=>e.error(!0));function c(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(f)}function l(f,p){return()=>{const T=e.subschema({keyword:f},u);t.assign(i,u),e.mergeValidEvaluated(T,i),p?t.assign(p,(0,js._)`${f}`):e.setParams({ifClause:f})}}}};function Sc(e,t){const r=e.schema[t];return r!==void 0&&!(0,Au.alwaysValidSchema)(e,r)}Wo.default=ey;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});const ty=he,ry={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,ty.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ho.default=ry;Object.defineProperty(Do,"__esModule",{value:!0});const ny=cn,sy=ko,ay=ln,oy=Lo,iy=Mo,cy=Tu,ly=Fo,uy=Js,fy=Vo,dy=Uo,hy=zo,py=qo,my=Go,yy=Ko,$y=Wo,gy=Ho;function vy(e=!1){const t=[hy.default,py.default,my.default,yy.default,$y.default,gy.default,ly.default,uy.default,cy.default,fy.default,dy.default];return e?t.push(sy.default,oy.default):t.push(ny.default,ay.default),t.push(iy.default),t}Do.default=vy;var Bo={},Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});const Ie=le,_y={message:({schemaCode:e})=>(0,Ie.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ie._)`{format: ${e}}`},Ey={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:_y,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:u}=e,{opts:c,errSchemaPath:l,schemaEnv:f,self:p}=u;if(!c.validateFormats)return;s?T():E();function T(){const v=r.scopeValue("formats",{ref:p.formats,code:c.code.formats}),P=r.const("fDef",(0,Ie._)`${v}[${i}]`),g=r.let("fType"),m=r.let("format");r.if((0,Ie._)`typeof ${P} == "object" && !(${P} instanceof RegExp)`,()=>r.assign(g,(0,Ie._)`${P}.type || "string"`).assign(m,(0,Ie._)`${P}.validate`),()=>r.assign(g,(0,Ie._)`"string"`).assign(m,P)),e.fail$data((0,Ie.or)(b(),w()));function b(){return c.strictSchema===!1?Ie.nil:(0,Ie._)`${i} && !${m}`}function w(){const A=f.$async?(0,Ie._)`(${P}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,Ie._)`${m}(${n})`,L=(0,Ie._)`(typeof ${m} == "function" ? ${A} : ${m}.test(${n}))`;return(0,Ie._)`${m} && ${m} !== true && ${g} === ${t} && !${L}`}}function E(){const v=p.formats[a];if(!v){b();return}if(v===!0)return;const[P,g,m]=w(v);P===t&&e.pass(A());function b(){if(c.strictSchema===!1){p.logger.warn(L());return}throw new Error(L());function L(){return`unknown format "${a}" ignored in schema at path "${l}"`}}function w(L){const S=L instanceof RegExp?(0,Ie.regexpCode)(L):c.code.formats?(0,Ie._)`${c.code.formats}${(0,Ie.getProperty)(a)}`:void 0,O=r.scopeValue("formats",{key:a,ref:L,code:S});return typeof L=="object"&&!(L instanceof RegExp)?[L.type||"string",L.validate,(0,Ie._)`${O}.validate`]:["string",L,O]}function A(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Ie._)`await ${m}(${n})`}return typeof g=="function"?(0,Ie._)`${m}(${n})`:(0,Ie._)`${m}.test(${n})`}}}};Jo.default=Ey;Object.defineProperty(Bo,"__esModule",{value:!0});const wy=Jo,Sy=[wy.default];Bo.default=Sy;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.contentVocabulary=sn.metadataVocabulary=void 0;sn.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];sn.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(vo,"__esModule",{value:!0});const by=_o,Py=wo,Oy=Do,Ry=Bo,bc=sn,Ny=[by.default,Py.default,(0,Oy.default)(),Ry.default,bc.metadataVocabulary,bc.contentVocabulary];vo.default=Ny;var Xo={},Cu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Cu);Object.defineProperty(Xo,"__esModule",{value:!0});const Jr=le,Va=Cu,Pc=rt,Ty=he,Iy={message:({params:{discrError:e,tagName:t}})=>e===Va.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Jr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Ay={keyword:"discriminator",type:"object",schemaType:"object",error:Iy,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",(0,Jr._)`${r}${(0,Jr.getProperty)(u)}`);t.if((0,Jr._)`typeof ${l} == "string"`,()=>f(),()=>e.error(!1,{discrError:Va.DiscrError.Tag,tag:l,tagName:u})),e.ok(c);function f(){const E=T();t.if(!1);for(const v in E)t.elseIf((0,Jr._)`${l} === ${v}`),t.assign(c,p(E[v]));t.else(),e.error(!1,{discrError:Va.DiscrError.Mapping,tag:l,tagName:u}),t.endIf()}function p(E){const v=t.name("valid"),P=e.subschema({keyword:"oneOf",schemaProp:E},v);return e.mergeEvaluated(P,Jr.Name),v}function T(){var E;const v={},P=m(s);let g=!0;for(let A=0;A<i.length;A++){let L=i[A];L!=null&&L.$ref&&!(0,Ty.schemaHasRulesButRef)(L,a.self.RULES)&&(L=Pc.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,L==null?void 0:L.$ref),L instanceof Pc.SchemaEnv&&(L=L.schema));const S=(E=L==null?void 0:L.properties)===null||E===void 0?void 0:E[u];if(typeof S!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);g=g&&(P||m(L)),b(S,A)}if(!g)throw new Error(`discriminator: "${u}" must be required`);return v;function m({required:A}){return Array.isArray(A)&&A.includes(u)}function b(A,L){if(A.const)w(A.const,L);else if(A.enum)for(const S of A.enum)w(S,L);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function w(A,L){if(typeof A!="string"||A in v)throw new Error(`discriminator: "${u}" values must be unique strings`);v[A]=L}}}};Xo.default=Ay;const Cy="http://json-schema.org/draft-07/schema#",jy="http://json-schema.org/draft-07/schema#",Dy="Core schema meta-schema",ky={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ly=["object","boolean"],My={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Fy={$schema:Cy,$id:jy,title:Dy,definitions:ky,type:Ly,properties:My,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Zl,n=vo,s=Xo,a=Fy,i=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(v,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=gt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var f=le;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var p=Gn;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var T=Kn;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return T.default}})})(ja,ja.exports);var Vy=ja.exports,Ua={exports:{}},ju={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(V,G){return{validate:V,compare:G}}e.fullFormats={date:t(a,i),time:t(c,l),"date-time":t(p,T),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:P,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:k,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:A},int64:{type:"number",validate:L},float:{type:"number",validate:S},double:{type:"number",validate:S},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,T),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(V){return V%4===0&&(V%100!==0||V%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(V){const G=n.exec(V);if(!G)return!1;const Q=+G[1],W=+G[2],K=+G[3];return W>=1&&W<=12&&K>=1&&K<=(W===2&&r(Q)?29:s[W])}function i(V,G){if(V&&G)return V>G?1:V<G?-1:0}const u=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(V,G){const Q=u.exec(V);if(!Q)return!1;const W=+Q[1],K=+Q[2],q=+Q[3],B=Q[5];return(W<=23&&K<=59&&q<=59||W===23&&K===59&&q===60)&&(!G||B!=="")}function l(V,G){if(!(V&&G))return;const Q=u.exec(V),W=u.exec(G);if(Q&&W)return V=Q[1]+Q[2]+Q[3]+(Q[4]||""),G=W[1]+W[2]+W[3]+(W[4]||""),V>G?1:V<G?-1:0}const f=/t|\s/i;function p(V){const G=V.split(f);return G.length===2&&a(G[0])&&c(G[1],!0)}function T(V,G){if(!(V&&G))return;const[Q,W]=V.split(f),[K,q]=G.split(f),B=i(Q,K);if(B!==void 0)return B||l(W,q)}const E=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function P(V){return E.test(V)&&v.test(V)}const g=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(V){return g.lastIndex=0,g.test(V)}const b=-(2**31),w=2**31-1;function A(V){return Number.isInteger(V)&&V<=w&&V>=b}function L(V){return Number.isInteger(V)}function S(){return!0}const O=/[^\\]\\Z/;function k(V){if(O.test(V))return!1;try{return new RegExp(V),!0}catch{return!1}}})(ju);var Du={},za={exports:{}},ku={},vt={},an={},Hn={},oe={},Vn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(b){if(super(),!e.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((w,A)=>`${w}${A}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((w,A)=>(A instanceof r&&(w[A.str]=(w[A.str]||0)+1),w),{})}}e._Code=n,e.nil=new n("");function s(m,...b){const w=[m[0]];let A=0;for(;A<b.length;)u(w,b[A]),w.push(m[++A]);return new n(w)}e._=s;const a=new n("+");function i(m,...b){const w=[E(m[0])];let A=0;for(;A<b.length;)w.push(a),u(w,b[A]),w.push(a,E(m[++A]));return c(w),new n(w)}e.str=i;function u(m,b){b instanceof n?m.push(...b._items):b instanceof r?m.push(b):m.push(p(b))}e.addCodeArg=u;function c(m){let b=1;for(;b<m.length-1;){if(m[b]===a){const w=l(m[b-1],m[b+1]);if(w!==void 0){m.splice(b-1,3,w);continue}m[b++]="+"}b++}}function l(m,b){if(b==='""')return m;if(m==='""')return b;if(typeof m=="string")return b instanceof r||m[m.length-1]!=='"'?void 0:typeof b!="string"?`${m.slice(0,-1)}${b}"`:b[0]==='"'?m.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(m instanceof r))return`"${m}${b.slice(1)}`}function f(m,b){return b.emptyStr()?m:m.emptyStr()?b:i`${m}${b}`}e.strConcat=f;function p(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:E(Array.isArray(m)?m.join(","):m)}function T(m){return new n(E(m))}e.stringify=T;function E(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=E;function v(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=v;function P(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=P;function g(m){return new n(m.toString())}e.regexpCode=g})(Vn);var qa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Vn;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:l,parent:f}={}){this._names={},this._prefixes=l,this._parent=f}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const f=this._names[l]||this._nameGroup(l);return`${l}${f.index++}`}_nameGroup(l){var f,p;if(!((p=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||p===void 0)&&p.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=s;class a extends t.Name{constructor(l,f){super(f),this.prefix=l}setValue(l,{property:f,itemIndex:p}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(f)}[${p}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class u extends s{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?i:t.nil}}get(){return this._scope}name(l){return new a(l,this._newName(l))}value(l,f){var p;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const T=this.toName(l),{prefix:E}=T,v=(p=f.key)!==null&&p!==void 0?p:f.ref;let P=this._values[E];if(P){const b=P.get(v);if(b)return b}else P=this._values[E]=new Map;P.set(v,T);const g=this._scope[E]||(this._scope[E]=[]),m=g.length;return g[m]=f.ref,T.setValue(f,{property:E,itemIndex:m}),T}getValue(l,f){const p=this._values[l];if(p)return p.get(f)}scopeRefs(l,f=this._values){return this._reduceValues(f,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${l}${p.scopePath}`})}scopeCode(l=this._values,f,p){return this._reduceValues(l,T=>{if(T.value===void 0)throw new Error(`CodeGen: name "${T}" has no value`);return T.value.code},f,p)}_reduceValues(l,f,p={},T){let E=t.nil;for(const v in l){const P=l[v];if(!P)continue;const g=p[v]=p[v]||new Map;P.forEach(m=>{if(g.has(m))return;g.set(m,n.Started);let b=f(m);if(b){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;E=(0,t._)`${E}${w} ${m} = ${b};${this.opts._n}`}else if(b=T==null?void 0:T(m))E=(0,t._)`${E}${b}${this.opts._n}`;else throw new r(m);g.set(m,n.Completed)})}return E}}e.ValueScope=u})(qa);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Vn,r=qa;var n=Vn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=qa;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(o,h){return this}}class i extends a{constructor(o,h,I){super(),this.varKind=o,this.name=h,this.rhs=I}render({es5:o,_n:h}){const I=o?r.varKinds.var:this.varKind,U=this.rhs===void 0?"":` = ${this.rhs}`;return`${I} ${this.name}${U};`+h}optimizeNames(o,h){if(o[this.name.str])return this.rhs&&(this.rhs=q(this.rhs,o,h)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(o,h,I){super(),this.lhs=o,this.rhs=h,this.sideEffects=I}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,h){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=q(this.rhs,o,h),this}get names(){const o=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(o,this.rhs)}}class c extends u{constructor(o,h,I,U){super(o,I,U),this.op=h}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class l extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class f extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class p extends a{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class T extends a{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,h){return this.code=q(this.code,o,h),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class E extends a{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((h,I)=>h+I.render(o),"")}optimizeNodes(){const{nodes:o}=this;let h=o.length;for(;h--;){const I=o[h].optimizeNodes();Array.isArray(I)?o.splice(h,1,...I):I?o[h]=I:o.splice(h,1)}return o.length>0?this:void 0}optimizeNames(o,h){const{nodes:I}=this;let U=I.length;for(;U--;){const z=I[U];z.optimizeNames(o,h)||(B(o,z.names),I.splice(U,1))}return I.length>0?this:void 0}get names(){return this.nodes.reduce((o,h)=>W(o,h.names),{})}}class v extends E{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class P extends E{}class g extends v{}g.kind="else";class m extends v{constructor(o,h){super(h),this.condition=o}render(o){let h=`if(${this.condition})`+super.render(o);return this.else&&(h+="else "+this.else.render(o)),h}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let h=this.else;if(h){const I=h.optimizeNodes();h=this.else=Array.isArray(I)?new g(I):I}if(h)return o===!1?h instanceof m?h:h.nodes:this.nodes.length?this:new m(X(o),h instanceof m?[h]:h.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,h){var I;if(this.else=(I=this.else)===null||I===void 0?void 0:I.optimizeNames(o,h),!!(super.optimizeNames(o,h)||this.else))return this.condition=q(this.condition,o,h),this}get names(){const o=super.names;return K(o,this.condition),this.else&&W(o,this.else.names),o}}m.kind="if";class b extends v{}b.kind="for";class w extends b{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,h){if(super.optimizeNames(o,h))return this.iteration=q(this.iteration,o,h),this}get names(){return W(super.names,this.iteration.names)}}class A extends b{constructor(o,h,I,U){super(),this.varKind=o,this.name=h,this.from=I,this.to=U}render(o){const h=o.es5?r.varKinds.var:this.varKind,{name:I,from:U,to:z}=this;return`for(${h} ${I}=${U}; ${I}<${z}; ${I}++)`+super.render(o)}get names(){const o=K(super.names,this.from);return K(o,this.to)}}class L extends b{constructor(o,h,I,U){super(),this.loop=o,this.varKind=h,this.name=I,this.iterable=U}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,h){if(super.optimizeNames(o,h))return this.iterable=q(this.iterable,o,h),this}get names(){return W(super.names,this.iterable.names)}}class S extends v{constructor(o,h,I){super(),this.name=o,this.args=h,this.async=I}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}S.kind="func";class O extends E{render(o){return"return "+super.render(o)}}O.kind="return";class k extends v{render(o){let h="try"+super.render(o);return this.catch&&(h+=this.catch.render(o)),this.finally&&(h+=this.finally.render(o)),h}optimizeNodes(){var o,h;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(o,h){var I,U;return super.optimizeNames(o,h),(I=this.catch)===null||I===void 0||I.optimizeNames(o,h),(U=this.finally)===null||U===void 0||U.optimizeNames(o,h),this}get names(){const o=super.names;return this.catch&&W(o,this.catch.names),this.finally&&W(o,this.finally.names),o}}class V extends v{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}V.kind="catch";class G extends v{render(o){return"finally"+super.render(o)}}G.kind="finally";class Q{constructor(o,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new P]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,h){const I=this._extScope.value(o,h);return(this._values[I.prefix]||(this._values[I.prefix]=new Set)).add(I),I}getScopeValue(o,h){return this._extScope.getValue(o,h)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,h,I,U){const z=this._scope.toName(h);return I!==void 0&&U&&(this._constants[z.str]=I),this._leafNode(new i(o,z,I)),z}const(o,h,I){return this._def(r.varKinds.const,o,h,I)}let(o,h,I){return this._def(r.varKinds.let,o,h,I)}var(o,h,I){return this._def(r.varKinds.var,o,h,I)}assign(o,h,I){return this._leafNode(new u(o,h,I))}add(o,h){return this._leafNode(new c(o,e.operators.ADD,h))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new T(o)),this}object(...o){const h=["{"];for(const[I,U]of o)h.length>1&&h.push(","),h.push(I),(I!==U||this.opts.es5)&&(h.push(":"),(0,t.addCodeArg)(h,U));return h.push("}"),new t._Code(h)}if(o,h,I){if(this._blockNode(new m(o)),h&&I)this.code(h).else().code(I).endIf();else if(h)this.code(h).endIf();else if(I)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new m(o))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(m,g)}_for(o,h){return this._blockNode(o),h&&this.code(h).endFor(),this}for(o,h){return this._for(new w(o),h)}forRange(o,h,I,U,z=this.opts.es5?r.varKinds.var:r.varKinds.let){const J=this._scope.toName(o);return this._for(new A(z,J,h,I),()=>U(J))}forOf(o,h,I,U=r.varKinds.const){const z=this._scope.toName(o);if(this.opts.es5){const J=h instanceof t.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,t._)`${J}.length`,Y=>{this.var(z,(0,t._)`${J}[${Y}]`),I(z)})}return this._for(new L("of",U,z,h),()=>I(z))}forIn(o,h,I,U=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${h})`,I);const z=this._scope.toName(o);return this._for(new L("in",U,z,h),()=>I(z))}endFor(){return this._endBlockNode(b)}label(o){return this._leafNode(new l(o))}break(o){return this._leafNode(new f(o))}return(o){const h=new O;if(this._blockNode(h),this.code(o),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(O)}try(o,h,I){if(!h&&!I)throw new Error('CodeGen: "try" without "catch" and "finally"');const U=new k;if(this._blockNode(U),this.code(o),h){const z=this.name("e");this._currNode=U.catch=new V(z),h(z)}return I&&(this._currNode=U.finally=new G,this.code(I)),this._endBlockNode(V,G)}throw(o){return this._leafNode(new p(o))}block(o,h){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(h),this}endBlock(o){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const I=this._nodes.length-h;if(I<0||o!==void 0&&I!==o)throw new Error(`CodeGen: wrong number of nodes: ${I} vs ${o} expected`);return this._nodes.length=h,this}func(o,h=t.nil,I,U){return this._blockNode(new S(o,h,I)),U&&this.code(U).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,h){const I=this._currNode;if(I instanceof o||h&&I instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${o.kind}/${h.kind}`:o.kind}"`)}_elseNode(o){const h=this._currNode;if(!(h instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const h=this._nodes;h[h.length-1]=o}}e.CodeGen=Q;function W(y,o){for(const h in o)y[h]=(y[h]||0)+(o[h]||0);return y}function K(y,o){return o instanceof t._CodeOrName?W(y,o.names):y}function q(y,o,h){if(y instanceof t.Name)return I(y);if(!U(y))return y;return new t._Code(y._items.reduce((z,J)=>(J instanceof t.Name&&(J=I(J)),J instanceof t._Code?z.push(...J._items):z.push(J),z),[]));function I(z){const J=h[z.str];return J===void 0||o[z.str]!==1?z:(delete o[z.str],J)}function U(z){return z instanceof t._Code&&z._items.some(J=>J instanceof t.Name&&o[J.str]===1&&h[J.str]!==void 0)}}function B(y,o){for(const h in o)y[h]=(y[h]||0)-(o[h]||0)}function X(y){return typeof y=="boolean"||typeof y=="number"||y===null?!y:(0,t._)`!${_(y)}`}e.not=X;const H=d(e.operators.AND);function R(...y){return y.reduce(H)}e.and=R;const j=d(e.operators.OR);function $(...y){return y.reduce(j)}e.or=$;function d(y){return(o,h)=>o===t.nil?h:h===t.nil?o:(0,t._)`${_(o)} ${y} ${_(h)}`}function _(y){return y instanceof t.Name?y:(0,t._)`(${y})`}})(oe);var pe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=oe,r=Vn;function n(S){const O={};for(const k of S)O[k]=!0;return O}e.toHash=n;function s(S,O){return typeof O=="boolean"?O:Object.keys(O).length===0?!0:(a(S,O),!i(O,S.self.RULES.all))}e.alwaysValidSchema=s;function a(S,O=S.schema){const{opts:k,self:V}=S;if(!k.strictSchema||typeof O=="boolean")return;const G=V.RULES.keywords;for(const Q in O)G[Q]||L(S,`unknown keyword: "${Q}"`)}e.checkUnknownRules=a;function i(S,O){if(typeof S=="boolean")return!S;for(const k in S)if(O[k])return!0;return!1}e.schemaHasRules=i;function u(S,O){if(typeof S=="boolean")return!S;for(const k in S)if(k!=="$ref"&&O.all[k])return!0;return!1}e.schemaHasRulesButRef=u;function c({topSchemaRef:S,schemaPath:O},k,V,G){if(!G){if(typeof k=="number"||typeof k=="boolean")return k;if(typeof k=="string")return(0,t._)`${k}`}return(0,t._)`${S}${O}${(0,t.getProperty)(V)}`}e.schemaRefOrVal=c;function l(S){return T(decodeURIComponent(S))}e.unescapeFragment=l;function f(S){return encodeURIComponent(p(S))}e.escapeFragment=f;function p(S){return typeof S=="number"?`${S}`:S.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=p;function T(S){return S.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=T;function E(S,O){if(Array.isArray(S))for(const k of S)O(k);else O(S)}e.eachItem=E;function v({mergeNames:S,mergeToName:O,mergeValues:k,resultToName:V}){return(G,Q,W,K)=>{const q=W===void 0?Q:W instanceof t.Name?(Q instanceof t.Name?S(G,Q,W):O(G,Q,W),W):Q instanceof t.Name?(O(G,W,Q),Q):k(Q,W);return K===t.Name&&!(q instanceof t.Name)?V(G,q):q}}e.mergeEvaluated={props:v({mergeNames:(S,O,k)=>S.if((0,t._)`${k} !== true && ${O} !== undefined`,()=>{S.if((0,t._)`${O} === true`,()=>S.assign(k,!0),()=>S.assign(k,(0,t._)`${k} || {}`).code((0,t._)`Object.assign(${k}, ${O})`))}),mergeToName:(S,O,k)=>S.if((0,t._)`${k} !== true`,()=>{O===!0?S.assign(k,!0):(S.assign(k,(0,t._)`${k} || {}`),g(S,k,O))}),mergeValues:(S,O)=>S===!0?!0:{...S,...O},resultToName:P}),items:v({mergeNames:(S,O,k)=>S.if((0,t._)`${k} !== true && ${O} !== undefined`,()=>S.assign(k,(0,t._)`${O} === true ? true : ${k} > ${O} ? ${k} : ${O}`)),mergeToName:(S,O,k)=>S.if((0,t._)`${k} !== true`,()=>S.assign(k,O===!0?!0:(0,t._)`${k} > ${O} ? ${k} : ${O}`)),mergeValues:(S,O)=>S===!0?!0:Math.max(S,O),resultToName:(S,O)=>S.var("items",O)})};function P(S,O){if(O===!0)return S.var("props",!0);const k=S.var("props",(0,t._)`{}`);return O!==void 0&&g(S,k,O),k}e.evaluatedPropsToName=P;function g(S,O,k){Object.keys(k).forEach(V=>S.assign((0,t._)`${O}${(0,t.getProperty)(V)}`,!0))}e.setEvaluated=g;const m={};function b(S,O){return S.scopeValue("func",{ref:O,code:m[O.code]||(m[O.code]=new r._Code(O.code))})}e.useFunc=b;var w;(function(S){S[S.Num=0]="Num",S[S.Str=1]="Str"})(w=e.Type||(e.Type={}));function A(S,O,k){if(S instanceof t.Name){const V=O===w.Num;return k?V?(0,t._)`"[" + ${S} + "]"`:(0,t._)`"['" + ${S} + "']"`:V?(0,t._)`"/" + ${S}`:(0,t._)`"/" + ${S}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return k?(0,t.getProperty)(S).toString():"/"+p(S)}e.getErrorPath=A;function L(S,O,k=S.opts.strictSchema){if(k){if(O=`strict mode: ${O}`,k===!0)throw new Error(O);S.self.logger.warn(O)}}e.checkStrictMode=L})(pe);var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});const We=oe,Uy={data:new We.Name("data"),valCxt:new We.Name("valCxt"),instancePath:new We.Name("instancePath"),parentData:new We.Name("parentData"),parentDataProperty:new We.Name("parentDataProperty"),rootData:new We.Name("rootData"),dynamicAnchors:new We.Name("dynamicAnchors"),vErrors:new We.Name("vErrors"),errors:new We.Name("errors"),this:new We.Name("this"),self:new We.Name("self"),scope:new We.Name("scope"),json:new We.Name("json"),jsonPos:new We.Name("jsonPos"),jsonLen:new We.Name("jsonLen"),jsonPart:new We.Name("jsonPart")};Vt.default=Uy;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=oe,r=pe,n=Vt;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:m})=>m?(0,t.str)`"${g}" keyword must be ${m} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function s(g,m=e.keywordError,b,w){const{it:A}=g,{gen:L,compositeRule:S,allErrors:O}=A,k=p(g,m,b);w??(S||O)?c(L,k):l(A,(0,t._)`[${k}]`)}e.reportError=s;function a(g,m=e.keywordError,b){const{it:w}=g,{gen:A,compositeRule:L,allErrors:S}=w,O=p(g,m,b);c(A,O),L||S||l(w,n.default.vErrors)}e.reportExtraError=a;function i(g,m){g.assign(n.default.errors,m),g.if((0,t._)`${n.default.vErrors} !== null`,()=>g.if(m,()=>g.assign((0,t._)`${n.default.vErrors}.length`,m),()=>g.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function u({gen:g,keyword:m,schemaValue:b,data:w,errsCount:A,it:L}){if(A===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",A,n.default.errors,O=>{g.const(S,(0,t._)`${n.default.vErrors}[${O}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(n.default.instancePath,L.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${L.errSchemaPath}/${m}`),L.opts.verbose&&(g.assign((0,t._)`${S}.schema`,b),g.assign((0,t._)`${S}.data`,w))})}e.extendErrors=u;function c(g,m){const b=g.const("err",m);g.if((0,t._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,t._)`[${b}]`),(0,t._)`${n.default.vErrors}.push(${b})`),g.code((0,t._)`${n.default.errors}++`)}function l(g,m){const{gen:b,validateName:w,schemaEnv:A}=g;A.$async?b.throw((0,t._)`new ${g.ValidationError}(${m})`):(b.assign((0,t._)`${w}.errors`,m),b.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(g,m,b){const{createErrors:w}=g.it;return w===!1?(0,t._)`{}`:T(g,m,b)}function T(g,m,b={}){const{gen:w,it:A}=g,L=[E(A,b),v(g,b)];return P(g,m,L),w.object(...L)}function E({errorPath:g},{instancePath:m}){const b=m?(0,t.str)`${g}${(0,r.getErrorPath)(m,r.Type.Str)}`:g;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,b)]}function v({keyword:g,it:{errSchemaPath:m}},{schemaPath:b,parentSchema:w}){let A=w?m:(0,t.str)`${m}/${g}`;return b&&(A=(0,t.str)`${A}${(0,r.getErrorPath)(b,r.Type.Str)}`),[f.schemaPath,A]}function P(g,{params:m,message:b},w){const{keyword:A,data:L,schemaValue:S,it:O}=g,{opts:k,propertyName:V,topSchemaRef:G,schemaPath:Q}=O;w.push([f.keyword,A],[f.params,typeof m=="function"?m(g):m||(0,t._)`{}`]),k.messages&&w.push([f.message,typeof b=="function"?b(g):b]),k.verbose&&w.push([f.schema,S],[f.parentSchema,(0,t._)`${G}${Q}`],[n.default.data,L]),V&&w.push([f.propertyName,V])}})(Hn);Object.defineProperty(an,"__esModule",{value:!0});an.boolOrEmptySchema=an.topBoolOrEmptySchema=void 0;const zy=Hn,qy=oe,Gy=Vt,Ky={message:"boolean schema is false"};function Wy(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Lu(e,!1):typeof r=="object"&&r.$async===!0?t.return(Gy.default.data):(t.assign((0,qy._)`${n}.errors`,null),t.return(!0))}an.topBoolOrEmptySchema=Wy;function Hy(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Lu(e)):r.var(t,!0)}an.boolOrEmptySchema=Hy;function Lu(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,zy.reportError)(s,Ky,void 0,t)}var Bn={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.getRules=kr.isJSONType=void 0;const By=["string","number","integer","boolean","null","object","array"],Jy=new Set(By);function Xy(e){return typeof e=="string"&&Jy.has(e)}kr.isJSONType=Xy;function Yy(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}kr.getRules=Yy;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.shouldUseRule=xt.shouldUseGroup=xt.schemaHasRulesForType=void 0;function Qy({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Mu(e,n)}xt.schemaHasRulesForType=Qy;function Mu(e,t){return t.rules.some(r=>Fu(e,r))}xt.shouldUseGroup=Mu;function Fu(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}xt.shouldUseRule=Fu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=kr,r=xt,n=Hn,s=oe,a=pe;var i;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(i=e.DataType||(e.DataType={}));function u(w){const A=c(w.type);if(A.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&A.push("null")}return A}e.getSchemaTypes=u;function c(w){const A=Array.isArray(w)?w:w?[w]:[];if(A.every(t.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}e.getJSONTypes=c;function l(w,A){const{gen:L,data:S,opts:O}=w,k=p(A,O.coerceTypes),V=A.length>0&&!(k.length===0&&A.length===1&&(0,r.schemaHasRulesForType)(w,A[0]));if(V){const G=P(A,S,O.strictNumbers,i.Wrong);L.if(G,()=>{k.length?T(w,A,k):m(w)})}return V}e.coerceAndCheckDataType=l;const f=new Set(["string","number","integer","boolean","null"]);function p(w,A){return A?w.filter(L=>f.has(L)||A==="array"&&L==="array"):[]}function T(w,A,L){const{gen:S,data:O,opts:k}=w,V=S.let("dataType",(0,s._)`typeof ${O}`),G=S.let("coerced",(0,s._)`undefined`);k.coerceTypes==="array"&&S.if((0,s._)`${V} == 'object' && Array.isArray(${O}) && ${O}.length == 1`,()=>S.assign(O,(0,s._)`${O}[0]`).assign(V,(0,s._)`typeof ${O}`).if(P(A,O,k.strictNumbers),()=>S.assign(G,O))),S.if((0,s._)`${G} !== undefined`);for(const W of L)(f.has(W)||W==="array"&&k.coerceTypes==="array")&&Q(W);S.else(),m(w),S.endIf(),S.if((0,s._)`${G} !== undefined`,()=>{S.assign(O,G),E(w,G)});function Q(W){switch(W){case"string":S.elseIf((0,s._)`${V} == "number" || ${V} == "boolean"`).assign(G,(0,s._)`"" + ${O}`).elseIf((0,s._)`${O} === null`).assign(G,(0,s._)`""`);return;case"number":S.elseIf((0,s._)`${V} == "boolean" || ${O} === null
              || (${V} == "string" && ${O} && ${O} == +${O})`).assign(G,(0,s._)`+${O}`);return;case"integer":S.elseIf((0,s._)`${V} === "boolean" || ${O} === null
              || (${V} === "string" && ${O} && ${O} == +${O} && !(${O} % 1))`).assign(G,(0,s._)`+${O}`);return;case"boolean":S.elseIf((0,s._)`${O} === "false" || ${O} === 0 || ${O} === null`).assign(G,!1).elseIf((0,s._)`${O} === "true" || ${O} === 1`).assign(G,!0);return;case"null":S.elseIf((0,s._)`${O} === "" || ${O} === 0 || ${O} === false`),S.assign(G,null);return;case"array":S.elseIf((0,s._)`${V} === "string" || ${V} === "number"
              || ${V} === "boolean" || ${O} === null`).assign(G,(0,s._)`[${O}]`)}}}function E({gen:w,parentData:A,parentDataProperty:L},S){w.if((0,s._)`${A} !== undefined`,()=>w.assign((0,s._)`${A}[${L}]`,S))}function v(w,A,L,S=i.Correct){const O=S===i.Correct?s.operators.EQ:s.operators.NEQ;let k;switch(w){case"null":return(0,s._)`${A} ${O} null`;case"array":k=(0,s._)`Array.isArray(${A})`;break;case"object":k=(0,s._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":k=V((0,s._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":k=V();break;default:return(0,s._)`typeof ${A} ${O} ${w}`}return S===i.Correct?k:(0,s.not)(k);function V(G=s.nil){return(0,s.and)((0,s._)`typeof ${A} == "number"`,G,L?(0,s._)`isFinite(${A})`:s.nil)}}e.checkDataType=v;function P(w,A,L,S){if(w.length===1)return v(w[0],A,L,S);let O;const k=(0,a.toHash)(w);if(k.array&&k.object){const V=(0,s._)`typeof ${A} != "object"`;O=k.null?V:(0,s._)`!${A} || ${V}`,delete k.null,delete k.array,delete k.object}else O=s.nil;k.number&&delete k.integer;for(const V in k)O=(0,s.and)(O,v(V,A,L,S));return O}e.checkDataTypes=P;const g={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:A})=>typeof w=="string"?(0,s._)`{type: ${w}}`:(0,s._)`{type: ${A}}`};function m(w){const A=b(w);(0,n.reportError)(A,g)}e.reportTypeError=m;function b(w){const{gen:A,data:L,schema:S}=w,O=(0,a.schemaRefOrVal)(w,S,"type");return{gen:A,keyword:"type",data:L,schema:S.type,schemaCode:O,schemaValue:O,parentSchema:S,params:{},it:w}}})(Bn);var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.assignDefaults=void 0;const qr=oe,Zy=pe;function xy(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Oc(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Oc(e,a,s.default))}Xs.assignDefaults=xy;function Oc(e,t,r){const{gen:n,compositeRule:s,data:a,opts:i}=e;if(r===void 0)return;const u=(0,qr._)`${a}${(0,qr.getProperty)(t)}`;if(s){(0,Zy.checkStrictMode)(e,`default is ignored for: ${u}`);return}let c=(0,qr._)`${u} === undefined`;i.useDefaults==="empty"&&(c=(0,qr._)`${c} || ${u} === null || ${u} === ""`),n.if(c,(0,qr._)`${u} = ${(0,qr.stringify)(r)}`)}var Mt={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.validateUnion=ce.validateArray=ce.usePattern=ce.callValidateCode=ce.schemaProperties=ce.allSchemaProperties=ce.noPropertyInData=ce.propertyInData=ce.isOwnProperty=ce.hasPropFunc=ce.reportMissingProp=ce.checkMissingProp=ce.checkReportMissingProp=void 0;const Se=oe,Yo=pe,sr=Vt,e$=pe;function t$(e,t){const{gen:r,data:n,it:s}=e;r.if(Zo(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Se._)`${t}`},!0),e.error()})}ce.checkReportMissingProp=t$;function r$({gen:e,data:t,it:{opts:r}},n,s){return(0,Se.or)(...n.map(a=>(0,Se.and)(Zo(e,t,a,r.ownProperties),(0,Se._)`${s} = ${a}`)))}ce.checkMissingProp=r$;function n$(e,t){e.setParams({missingProperty:t},!0),e.error()}ce.reportMissingProp=n$;function Vu(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Se._)`Object.prototype.hasOwnProperty`})}ce.hasPropFunc=Vu;function Qo(e,t,r){return(0,Se._)`${Vu(e)}.call(${t}, ${r})`}ce.isOwnProperty=Qo;function s$(e,t,r,n){const s=(0,Se._)`${t}${(0,Se.getProperty)(r)} !== undefined`;return n?(0,Se._)`${s} && ${Qo(e,t,r)}`:s}ce.propertyInData=s$;function Zo(e,t,r,n){const s=(0,Se._)`${t}${(0,Se.getProperty)(r)} === undefined`;return n?(0,Se.or)(s,(0,Se.not)(Qo(e,t,r))):s}ce.noPropertyInData=Zo;function Uu(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ce.allSchemaProperties=Uu;function a$(e,t){return Uu(t).filter(r=>!(0,Yo.alwaysValidSchema)(e,t[r]))}ce.schemaProperties=a$;function o$({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},u,c,l){const f=l?(0,Se._)`${e}, ${t}, ${n}${s}`:t,p=[[sr.default.instancePath,(0,Se.strConcat)(sr.default.instancePath,a)],[sr.default.parentData,i.parentData],[sr.default.parentDataProperty,i.parentDataProperty],[sr.default.rootData,sr.default.rootData]];i.opts.dynamicRef&&p.push([sr.default.dynamicAnchors,sr.default.dynamicAnchors]);const T=(0,Se._)`${f}, ${r.object(...p)}`;return c!==Se.nil?(0,Se._)`${u}.call(${c}, ${T})`:(0,Se._)`${u}(${T})`}ce.callValidateCode=o$;const i$=(0,Se._)`new RegExp`;function c$({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,Se._)`${s.code==="new RegExp"?i$:(0,e$.useFunc)(e,s)}(${r}, ${n})`})}ce.usePattern=c$;function l$(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return i(()=>t.assign(u,!1)),u}return t.var(a,!0),i(()=>t.break()),a;function i(u){const c=t.const("len",(0,Se._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:Yo.Type.Num},a),t.if((0,Se.not)(a),u)})}}ce.validateArray=l$;function u$(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Yo.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const i=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((c,l)=>{const f=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},u);t.assign(i,(0,Se._)`${i} || ${u}`),e.mergeValidEvaluated(f,u)||t.if((0,Se.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}ce.validateUnion=u$;Object.defineProperty(Mt,"__esModule",{value:!0});Mt.validateKeywordUsage=Mt.validSchemaType=Mt.funcKeywordCode=Mt.macroKeywordCode=void 0;const Ye=oe,Or=Vt,f$=ce,d$=Hn;function h$(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=e,u=t.macro.call(i.self,s,a,i),c=zu(r,n,u);i.opts.validateSchema!==!1&&i.self.validateSchema(u,!0);const l=r.name("valid");e.subschema({schema:u,schemaPath:Ye.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Mt.macroKeywordCode=h$;function p$(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:i,$data:u,it:c}=e;y$(c,t);const l=!u&&t.compile?t.compile.call(c.self,a,i,c):t.validate,f=zu(n,s,l),p=n.let("valid");e.block$data(p,T),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function T(){if(t.errors===!1)P(),t.modifying&&Rc(e),g(()=>e.error());else{const m=t.async?E():v();t.modifying&&Rc(e),g(()=>m$(e,m))}}function E(){const m=n.let("ruleErrs",null);return n.try(()=>P((0,Ye._)`await `),b=>n.assign(p,!1).if((0,Ye._)`${b} instanceof ${c.ValidationError}`,()=>n.assign(m,(0,Ye._)`${b}.errors`),()=>n.throw(b))),m}function v(){const m=(0,Ye._)`${f}.errors`;return n.assign(m,null),P(Ye.nil),m}function P(m=t.async?(0,Ye._)`await `:Ye.nil){const b=c.opts.passContext?Or.default.this:Or.default.self,w=!("compile"in t&&!u||t.schema===!1);n.assign(p,(0,Ye._)`${m}${(0,f$.callValidateCode)(e,f,b,w)}`,t.modifying)}function g(m){var b;n.if((0,Ye.not)((b=t.valid)!==null&&b!==void 0?b:p),m)}}Mt.funcKeywordCode=p$;function Rc(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ye._)`${n.parentData}[${n.parentDataProperty}]`))}function m$(e,t){const{gen:r}=e;r.if((0,Ye._)`Array.isArray(${t})`,()=>{r.assign(Or.default.vErrors,(0,Ye._)`${Or.default.vErrors} === null ? ${t} : ${Or.default.vErrors}.concat(${t})`).assign(Or.default.errors,(0,Ye._)`${Or.default.vErrors}.length`),(0,d$.extendErrors)(e)},()=>e.error())}function y$({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function zu(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ye.stringify)(r)})}function $$(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Mt.validSchemaType=$$;function g$({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const i=s.dependencies;if(i!=null&&i.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Mt.validateKeywordUsage=g$;var hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.extendSubschemaMode=hr.extendSubschemaData=hr.getSubschema=void 0;const jt=oe,qu=pe;function v$(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,jt._)`${e.schemaPath}${(0,jt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,jt._)`${e.schemaPath}${(0,jt.getProperty)(t)}${(0,jt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,qu.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}hr.getSubschema=v$;function _$(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:l,dataPathArr:f,opts:p}=t,T=u.let("data",(0,jt._)`${t.data}${(0,jt.getProperty)(r)}`,!0);c(T),e.errorPath=(0,jt.str)`${l}${(0,qu.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,jt._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(s!==void 0){const l=s instanceof jt.Name?s:u.let("data",s,!0);c(l),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}hr.extendSubschemaData=_$;function E$(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}hr.extendSubschemaMode=E$;var Ge={},Gu={exports:{}},ur=Gu.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Ss(t,n,s,e,"",e)};ur.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ur.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ur.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ur.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ss(e,t,r,n,s,a,i,u,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,i,u,c,l);for(var f in n){var p=n[f];if(Array.isArray(p)){if(f in ur.arrayKeywords)for(var T=0;T<p.length;T++)Ss(e,t,r,p[T],s+"/"+f+"/"+T,a,s,f,n,T)}else if(f in ur.propsKeywords){if(p&&typeof p=="object")for(var E in p)Ss(e,t,r,p[E],s+"/"+f+"/"+w$(E),a,s,f,n,E)}else(f in ur.keywords||e.allKeys&&!(f in ur.skipKeywords))&&Ss(e,t,r,p,s+"/"+f,a,s,f,n)}r(n,s,a,i,u,c,l)}}function w$(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var S$=Gu.exports;Object.defineProperty(Ge,"__esModule",{value:!0});Ge.getSchemaRefs=Ge.resolveUrl=Ge.normalizeId=Ge._getFullPath=Ge.getFullPath=Ge.inlineRef=void 0;const b$=pe,P$=Ws,O$=S$,R$=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function N$(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Ga(e):t?Ku(e)<=t:!1}Ge.inlineRef=N$;const T$=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ga(e){for(const t in e){if(T$.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Ga)||typeof r=="object"&&Ga(r))return!0}return!1}function Ku(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!R$.has(r)&&(typeof e[r]=="object"&&(0,b$.eachItem)(e[r],n=>t+=Ku(n)),t===1/0))return 1/0}return t}function Wu(e,t="",r){r!==!1&&(t=xr(t));const n=e.parse(t);return Hu(e,n)}Ge.getFullPath=Wu;function Hu(e,t){return e.serialize(t).split("#")[0]+"#"}Ge._getFullPath=Hu;const I$=/#\/?$/;function xr(e){return e?e.replace(I$,""):""}Ge.normalizeId=xr;function A$(e,t,r){return r=xr(r),e.resolve(t,r)}Ge.resolveUrl=A$;const C$=/^[a-z_][-a-z0-9._]*$/i;function j$(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=xr(e[r]||t),a={"":s},i=Wu(n,s,!1),u={},c=new Set;return O$(e,{allKeys:!0},(p,T,E,v)=>{if(v===void 0)return;const P=i+T;let g=a[v];typeof p[r]=="string"&&(g=m.call(this,p[r])),b.call(this,p.$anchor),b.call(this,p.$dynamicAnchor),a[T]=g;function m(w){const A=this.opts.uriResolver.resolve;if(w=xr(g?A(g,w):w),c.has(w))throw f(w);c.add(w);let L=this.refs[w];return typeof L=="string"&&(L=this.refs[L]),typeof L=="object"?l(p,L.schema,w):w!==xr(P)&&(w[0]==="#"?(l(p,u[w],w),u[w]=p):this.refs[w]=P),w}function b(w){if(typeof w=="string"){if(!C$.test(w))throw new Error(`invalid anchor "${w}"`);m.call(this,`#${w}`)}}}),u;function l(p,T,E){if(T!==void 0&&!P$(p,T))throw f(E)}function f(p){return new Error(`reference "${p}" resolves to more than one schema`)}}Ge.getSchemaRefs=j$;Object.defineProperty(vt,"__esModule",{value:!0});vt.getData=vt.KeywordCxt=vt.validateFunctionCode=void 0;const Bu=an,Nc=Bn,xo=xt,Ds=Bn,D$=Xs,Cn=Mt,pa=hr,x=oe,ne=Vt,k$=Ge,er=pe,gn=Hn;function L$(e){if(Yu(e)&&(Qu(e),Xu(e))){V$(e);return}Ju(e,()=>(0,Bu.topBoolOrEmptySchema)(e))}vt.validateFunctionCode=L$;function Ju({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,x._)`${ne.default.data}, ${ne.default.valCxt}`,n.$async,()=>{e.code((0,x._)`"use strict"; ${Tc(r,s)}`),F$(e,s),e.code(a)}):e.func(t,(0,x._)`${ne.default.data}, ${M$(s)}`,n.$async,()=>e.code(Tc(r,s)).code(a))}function M$(e){return(0,x._)`{${ne.default.instancePath}="", ${ne.default.parentData}, ${ne.default.parentDataProperty}, ${ne.default.rootData}=${ne.default.data}${e.dynamicRef?(0,x._)`, ${ne.default.dynamicAnchors}={}`:x.nil}}={}`}function F$(e,t){e.if(ne.default.valCxt,()=>{e.var(ne.default.instancePath,(0,x._)`${ne.default.valCxt}.${ne.default.instancePath}`),e.var(ne.default.parentData,(0,x._)`${ne.default.valCxt}.${ne.default.parentData}`),e.var(ne.default.parentDataProperty,(0,x._)`${ne.default.valCxt}.${ne.default.parentDataProperty}`),e.var(ne.default.rootData,(0,x._)`${ne.default.valCxt}.${ne.default.rootData}`),t.dynamicRef&&e.var(ne.default.dynamicAnchors,(0,x._)`${ne.default.valCxt}.${ne.default.dynamicAnchors}`)},()=>{e.var(ne.default.instancePath,(0,x._)`""`),e.var(ne.default.parentData,(0,x._)`undefined`),e.var(ne.default.parentDataProperty,(0,x._)`undefined`),e.var(ne.default.rootData,ne.default.data),t.dynamicRef&&e.var(ne.default.dynamicAnchors,(0,x._)`{}`)})}function V$(e){const{schema:t,opts:r,gen:n}=e;Ju(e,()=>{r.$comment&&t.$comment&&xu(e),K$(e),n.let(ne.default.vErrors,null),n.let(ne.default.errors,0),r.unevaluated&&U$(e),Zu(e),B$(e)})}function U$(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,x._)`${r}.evaluated`),t.if((0,x._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,x._)`${e.evaluated}.props`,(0,x._)`undefined`)),t.if((0,x._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,x._)`${e.evaluated}.items`,(0,x._)`undefined`))}function Tc(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,x._)`/*# sourceURL=${r} */`:x.nil}function z$(e,t){if(Yu(e)&&(Qu(e),Xu(e))){q$(e,t);return}(0,Bu.boolOrEmptySchema)(e,t)}function Xu({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Yu(e){return typeof e.schema!="boolean"}function q$(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&xu(e),W$(e),H$(e);const a=n.const("_errs",ne.default.errors);Zu(e,a),n.var(t,(0,x._)`${a} === ${ne.default.errors}`)}function Qu(e){(0,er.checkUnknownRules)(e),G$(e)}function Zu(e,t){if(e.opts.jtd)return Ic(e,[],!1,t);const r=(0,Nc.getSchemaTypes)(e.schema),n=(0,Nc.coerceAndCheckDataType)(e,r);Ic(e,r,!n,t)}function G$(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,er.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function K$(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,er.checkStrictMode)(e,"default is ignored in the schema root")}function W$(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,k$.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function H$(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function xu({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,x._)`${ne.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const i=(0,x.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,x._)`${ne.default.self}.opts.$comment(${a}, ${i}, ${u}.schema)`)}}function B$(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,x._)`${ne.default.errors} === 0`,()=>t.return(ne.default.data),()=>t.throw((0,x._)`new ${s}(${ne.default.vErrors})`)):(t.assign((0,x._)`${n}.errors`,ne.default.vErrors),a.unevaluated&&J$(e),t.return((0,x._)`${ne.default.errors} === 0`))}function J$({gen:e,evaluated:t,props:r,items:n}){r instanceof x.Name&&e.assign((0,x._)`${t}.props`,r),n instanceof x.Name&&e.assign((0,x._)`${t}.items`,n)}function Ic(e,t,r,n){const{gen:s,schema:a,data:i,allErrors:u,opts:c,self:l}=e,{RULES:f}=l;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,er.schemaHasRulesButRef)(a,f))){s.block(()=>rf(e,"$ref",f.all.$ref.definition));return}c.jtd||X$(e,t),s.block(()=>{for(const T of f.rules)p(T);p(f.post)});function p(T){(0,xo.shouldUseGroup)(a,T)&&(T.type?(s.if((0,Ds.checkDataType)(T.type,i,c.strictNumbers)),Ac(e,T),t.length===1&&t[0]===T.type&&r&&(s.else(),(0,Ds.reportTypeError)(e)),s.endIf()):Ac(e,T),u||s.if((0,x._)`${ne.default.errors} === ${n||0}`))}}function Ac(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,D$.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,xo.shouldUseRule)(n,a)&&rf(e,a.keyword,a.definition,t.type)})}function X$(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Y$(e,t),e.opts.allowUnionTypes||Q$(e,t),Z$(e,e.dataTypes))}function Y$(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{ef(e.dataTypes,r)||ei(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),eg(e,t)}}function Q$(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ei(e,"use allowUnionTypes to allow union type keyword")}function Z$(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,xo.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(i=>x$(t,i))&&ei(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function x$(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function ef(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function eg(e,t){const r=[];for(const n of e.dataTypes)ef(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function ei(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,er.checkStrictMode)(e,t,e.opts.strictTypes)}class tf{constructor(t,r,n){if((0,Cn.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,er.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",nf(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Cn.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ne.default.errors))}result(t,r,n){this.failResult((0,x.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,x.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,x._)`${r} !== undefined && (${(0,x.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?gn.reportExtraError:gn.reportError)(this,this.def.error,r)}$dataError(){(0,gn.reportError)(this,this.def.$dataError||gn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,gn.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=x.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=x.nil,r=x.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if((0,x.or)((0,x._)`${s} === undefined`,r)),t!==x.nil&&n.assign(t,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==x.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,x.or)(i(),u());function i(){if(n.length){if(!(r instanceof x.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,x._)`${(0,Ds.checkDataTypes)(c,r,a.opts.strictNumbers,Ds.DataType.Wrong)}`}return x.nil}function u(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,x._)`!${c}(${r})`}return x.nil}}subschema(t,r){const n=(0,pa.getSubschema)(this.it,t);(0,pa.extendSubschemaData)(n,this.it,t),(0,pa.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return z$(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=er.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=er.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,x.Name)),!0}}vt.KeywordCxt=tf;function rf(e,t,r,n){const s=new tf(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Cn.funcKeywordCode)(s,r):"macro"in r?(0,Cn.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Cn.funcKeywordCode)(s,r)}const tg=/^\/(?:[^~]|~0|~1)*$/,rg=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function nf(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return ne.default.rootData;if(e[0]==="/"){if(!tg.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=ne.default.rootData}else{const l=rg.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+l[1];if(s=l[2],s==="#"){if(f>=t)throw new Error(c("property/index",f));return n[t-f]}if(f>t)throw new Error(c("data",f));if(a=r[t-f],!s)return a}let i=a;const u=s.split("/");for(const l of u)l&&(a=(0,x._)`${a}${(0,x.getProperty)((0,er.unescapeJsonPointer)(l))}`,i=(0,x._)`${i} && ${a}`);return i;function c(l,f){return`Cannot access ${l} ${f} levels up, current level is ${t}`}}vt.getData=nf;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});class ng extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Jn.default=ng;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});const ma=Ge;class sg extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,ma.resolveUrl)(t,r,n),this.missingSchema=(0,ma.normalizeId)((0,ma.getFullPath)(t,this.missingRef))}}Xn.default=sg;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.resolveSchema=nt.getCompilingSchema=nt.resolveRef=nt.compileSchema=nt.SchemaEnv=void 0;const dt=oe,ag=Jn,_r=Vt,$t=Ge,Cc=pe,og=vt;class Ys{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,$t.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}nt.SchemaEnv=Ys;function ti(e){const t=sf.call(this,e);if(t)return t;const r=(0,$t.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new dt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=i.scopeValue("Error",{ref:ag.default,code:(0,dt._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const l={gen:i,allErrors:this.opts.allErrors,data:_r.default.data,parentData:_r.default.parentData,parentDataProperty:_r.default.parentDataProperty,dataNames:[_r.default.data],dataPathArr:[dt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,dt.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:dt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,dt._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,og.validateFunctionCode)(l),i.optimize(this.opts.code.optimize);const p=i.toString();f=`${i.scopeRefs(_r.default.scope)}return ${p}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const E=new Function(`${_r.default.self}`,`${_r.default.scope}`,f)(this,this.scope.get());if(this.scope.value(c,{ref:E}),E.errors=null,E.schema=e.schema,E.schemaEnv=e,e.$async&&(E.$async=!0),this.opts.code.source===!0&&(E.source={validateName:c,validateCode:p,scopeValues:i._values}),this.opts.unevaluated){const{props:v,items:P}=l;E.evaluated={props:v instanceof dt.Name?void 0:v,items:P instanceof dt.Name?void 0:P,dynamicProps:v instanceof dt.Name,dynamicItems:P instanceof dt.Name},E.source&&(E.source.evaluated=(0,dt.stringify)(E.evaluated))}return e.validate=E,e}catch(p){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),p}finally{this._compilations.delete(e)}}nt.compileSchema=ti;function ig(e,t,r){var n;r=(0,$t.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=ug.call(this,e,r);if(a===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;i&&(a=new Ys({schema:i,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=cg.call(this,a)}nt.resolveRef=ig;function cg(e){return(0,$t.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:ti.call(this,e)}function sf(e){for(const t of this._compilations)if(lg(t,e))return t}nt.getCompilingSchema=sf;function lg(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function ug(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Qs.call(this,e,t)}function Qs(e,t){const r=this.opts.uriResolver.parse(t),n=(0,$t._getFullPath)(this.opts.uriResolver,r);let s=(0,$t.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return ya.call(this,r,e);const a=(0,$t.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const u=Qs.call(this,e,i);return typeof(u==null?void 0:u.schema)!="object"?void 0:ya.call(this,r,u)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||ti.call(this,i),a===(0,$t.normalizeId)(t)){const{schema:u}=i,{schemaId:c}=this.opts,l=u[c];return l&&(s=(0,$t.resolveUrl)(this.opts.uriResolver,s,l)),new Ys({schema:u,schemaId:c,root:e,baseId:s})}return ya.call(this,r,i)}}nt.resolveSchema=Qs;const fg=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ya(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Cc.unescapeFragment)(u)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!fg.has(u)&&l&&(t=(0,$t.resolveUrl)(this.opts.uriResolver,t,l))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Cc.schemaHasRulesButRef)(r,this.RULES)){const u=(0,$t.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Qs.call(this,n,u)}const{schemaId:i}=this.opts;if(a=a||new Ys({schema:r,schemaId:i,root:n,baseId:t}),a.schema!==a.root.schema)return a}const dg="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",hg="Meta-schema for $data reference (JSON AnySchema extension proposal)",pg="object",mg=["$data"],yg={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},$g=!1,gg={$id:dg,description:hg,type:pg,required:mg,properties:yg,additionalProperties:$g};var ri={};Object.defineProperty(ri,"__esModule",{value:!0});const af=wu;af.code='require("ajv/dist/runtime/uri").default';ri.default=af;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=vt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=oe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Jn,s=Xn,a=kr,i=nt,u=oe,c=Ge,l=Bn,f=pe,p=gg,T=ri,E=($,d)=>new RegExp($,d);E.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],P=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function w($){var d,_,y,o,h,I,U,z,J,Y,ae,Me,wt,Ut,zt,Fe,qt,St,bt,Pt,Gt,Ze,De,Ot,Kt;const st=$.strict,Wt=(d=$.code)===null||d===void 0?void 0:d.optimize,mr=Wt===!0||Wt===void 0?1:Wt||0,He=(y=(_=$.code)===null||_===void 0?void 0:_.regExp)!==null&&y!==void 0?y:E,Ht=(o=$.uriResolver)!==null&&o!==void 0?o:T.default;return{strictSchema:(I=(h=$.strictSchema)!==null&&h!==void 0?h:st)!==null&&I!==void 0?I:!0,strictNumbers:(z=(U=$.strictNumbers)!==null&&U!==void 0?U:st)!==null&&z!==void 0?z:!0,strictTypes:(Y=(J=$.strictTypes)!==null&&J!==void 0?J:st)!==null&&Y!==void 0?Y:"log",strictTuples:(Me=(ae=$.strictTuples)!==null&&ae!==void 0?ae:st)!==null&&Me!==void 0?Me:"log",strictRequired:(Ut=(wt=$.strictRequired)!==null&&wt!==void 0?wt:st)!==null&&Ut!==void 0?Ut:!1,code:$.code?{...$.code,optimize:mr,regExp:He}:{optimize:mr,regExp:He},loopRequired:(zt=$.loopRequired)!==null&&zt!==void 0?zt:b,loopEnum:(Fe=$.loopEnum)!==null&&Fe!==void 0?Fe:b,meta:(qt=$.meta)!==null&&qt!==void 0?qt:!0,messages:(St=$.messages)!==null&&St!==void 0?St:!0,inlineRefs:(bt=$.inlineRefs)!==null&&bt!==void 0?bt:!0,schemaId:(Pt=$.schemaId)!==null&&Pt!==void 0?Pt:"$id",addUsedSchema:(Gt=$.addUsedSchema)!==null&&Gt!==void 0?Gt:!0,validateSchema:(Ze=$.validateSchema)!==null&&Ze!==void 0?Ze:!0,validateFormats:(De=$.validateFormats)!==null&&De!==void 0?De:!0,unicodeRegExp:(Ot=$.unicodeRegExp)!==null&&Ot!==void 0?Ot:!0,int32range:(Kt=$.int32range)!==null&&Kt!==void 0?Kt:!0,uriResolver:Ht}}class A{constructor(d={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,d=this.opts={...d,...w(d)};const{es5:_,lines:y}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:P,es5:_,lines:y}),this.logger=W(d.logger);const o=d.validateFormats;d.validateFormats=!1,this.RULES=(0,a.getRules)(),L.call(this,g,d,"NOT SUPPORTED"),L.call(this,m,d,"DEPRECATED","warn"),this._metaOpts=G.call(this),d.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),d.keywords&&V.call(this,d.keywords),typeof d.meta=="object"&&this.addMetaSchema(d.meta),O.call(this),d.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:d,meta:_,schemaId:y}=this.opts;let o=p;y==="id"&&(o={...p},o.id=o.$id,delete o.$id),_&&d&&this.addMetaSchema(o,o[y],!1)}defaultMeta(){const{meta:d,schemaId:_}=this.opts;return this.opts.defaultMeta=typeof d=="object"?d[_]||d:void 0}validate(d,_){let y;if(typeof d=="string"){if(y=this.getSchema(d),!y)throw new Error(`no schema with key or ref "${d}"`)}else y=this.compile(d);const o=y(_);return"$async"in y||(this.errors=y.errors),o}compile(d,_){const y=this._addSchema(d,_);return y.validate||this._compileSchemaEnv(y)}compileAsync(d,_){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:y}=this.opts;return o.call(this,d,_);async function o(Y,ae){await h.call(this,Y.$schema);const Me=this._addSchema(Y,ae);return Me.validate||I.call(this,Me)}async function h(Y){Y&&!this.getSchema(Y)&&await o.call(this,{$ref:Y},!0)}async function I(Y){try{return this._compileSchemaEnv(Y)}catch(ae){if(!(ae instanceof s.default))throw ae;return U.call(this,ae),await z.call(this,ae.missingSchema),I.call(this,Y)}}function U({missingSchema:Y,missingRef:ae}){if(this.refs[Y])throw new Error(`AnySchema ${Y} is loaded but ${ae} cannot be resolved`)}async function z(Y){const ae=await J.call(this,Y);this.refs[Y]||await h.call(this,ae.$schema),this.refs[Y]||this.addSchema(ae,Y,_)}async function J(Y){const ae=this._loading[Y];if(ae)return ae;try{return await(this._loading[Y]=y(Y))}finally{delete this._loading[Y]}}}addSchema(d,_,y,o=this.opts.validateSchema){if(Array.isArray(d)){for(const I of d)this.addSchema(I,void 0,y,o);return this}let h;if(typeof d=="object"){const{schemaId:I}=this.opts;if(h=d[I],h!==void 0&&typeof h!="string")throw new Error(`schema ${I} must be string`)}return _=(0,c.normalizeId)(_||h),this._checkUnique(_),this.schemas[_]=this._addSchema(d,y,_,o,!0),this}addMetaSchema(d,_,y=this.opts.validateSchema){return this.addSchema(d,_,!0,y),this}validateSchema(d,_){if(typeof d=="boolean")return!0;let y;if(y=d.$schema,y!==void 0&&typeof y!="string")throw new Error("$schema must be a string");if(y=y||this.opts.defaultMeta||this.defaultMeta(),!y)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(y,d);if(!o&&_){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return o}getSchema(d){let _;for(;typeof(_=S.call(this,d))=="string";)d=_;if(_===void 0){const{schemaId:y}=this.opts,o=new i.SchemaEnv({schema:{},schemaId:y});if(_=i.resolveSchema.call(this,o,d),!_)return;this.refs[d]=_}return _.validate||this._compileSchemaEnv(_)}removeSchema(d){if(d instanceof RegExp)return this._removeAllSchemas(this.schemas,d),this._removeAllSchemas(this.refs,d),this;switch(typeof d){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const _=S.call(this,d);return typeof _=="object"&&this._cache.delete(_.schema),delete this.schemas[d],delete this.refs[d],this}case"object":{const _=d;this._cache.delete(_);let y=d[this.opts.schemaId];return y&&(y=(0,c.normalizeId)(y),delete this.schemas[y],delete this.refs[y]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(d){for(const _ of d)this.addKeyword(_);return this}addKeyword(d,_){let y;if(typeof d=="string")y=d,typeof _=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),_.keyword=y);else if(typeof d=="object"&&_===void 0){if(_=d,y=_.keyword,Array.isArray(y)&&!y.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(q.call(this,y,_),!_)return(0,f.eachItem)(y,h=>B.call(this,h)),this;H.call(this,_);const o={..._,type:(0,l.getJSONTypes)(_.type),schemaType:(0,l.getJSONTypes)(_.schemaType)};return(0,f.eachItem)(y,o.type.length===0?h=>B.call(this,h,o):h=>o.type.forEach(I=>B.call(this,h,o,I))),this}getKeyword(d){const _=this.RULES.all[d];return typeof _=="object"?_.definition:!!_}removeKeyword(d){const{RULES:_}=this;delete _.keywords[d],delete _.all[d];for(const y of _.rules){const o=y.rules.findIndex(h=>h.keyword===d);o>=0&&y.rules.splice(o,1)}return this}addFormat(d,_){return typeof _=="string"&&(_=new RegExp(_)),this.formats[d]=_,this}errorsText(d=this.errors,{separator:_=", ",dataVar:y="data"}={}){return!d||d.length===0?"No errors":d.map(o=>`${y}${o.instancePath} ${o.message}`).reduce((o,h)=>o+_+h)}$dataMetaSchema(d,_){const y=this.RULES.all;d=JSON.parse(JSON.stringify(d));for(const o of _){const h=o.split("/").slice(1);let I=d;for(const U of h)I=I[U];for(const U in y){const z=y[U];if(typeof z!="object")continue;const{$data:J}=z.definition,Y=I[U];J&&Y&&(I[U]=j(Y))}}return d}_removeAllSchemas(d,_){for(const y in d){const o=d[y];(!_||_.test(y))&&(typeof o=="string"?delete d[y]:o&&!o.meta&&(this._cache.delete(o.schema),delete d[y]))}}_addSchema(d,_,y,o=this.opts.validateSchema,h=this.opts.addUsedSchema){let I;const{schemaId:U}=this.opts;if(typeof d=="object")I=d[U];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof d!="boolean")throw new Error("schema must be object or boolean")}let z=this._cache.get(d);if(z!==void 0)return z;y=(0,c.normalizeId)(I||y);const J=c.getSchemaRefs.call(this,d,y);return z=new i.SchemaEnv({schema:d,schemaId:U,meta:_,baseId:y,localRefs:J}),this._cache.set(z.schema,z),h&&!y.startsWith("#")&&(y&&this._checkUnique(y),this.refs[y]=z),o&&this.validateSchema(d,!0),z}_checkUnique(d){if(this.schemas[d]||this.refs[d])throw new Error(`schema with key or id "${d}" already exists`)}_compileSchemaEnv(d){if(d.meta?this._compileMetaSchema(d):i.compileSchema.call(this,d),!d.validate)throw new Error("ajv implementation error");return d.validate}_compileMetaSchema(d){const _=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,d)}finally{this.opts=_}}}e.default=A,A.ValidationError=n.default,A.MissingRefError=s.default;function L($,d,_,y="error"){for(const o in $){const h=o;h in d&&this.logger[y](`${_}: option ${o}. ${$[h]}`)}}function S($){return $=(0,c.normalizeId)($),this.schemas[$]||this.refs[$]}function O(){const $=this.opts.schemas;if($)if(Array.isArray($))this.addSchema($);else for(const d in $)this.addSchema($[d],d)}function k(){for(const $ in this.opts.formats){const d=this.opts.formats[$];d&&this.addFormat($,d)}}function V($){if(Array.isArray($)){this.addVocabulary($);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const d in $){const _=$[d];_.keyword||(_.keyword=d),this.addKeyword(_)}}function G(){const $={...this.opts};for(const d of v)delete $[d];return $}const Q={log(){},warn(){},error(){}};function W($){if($===!1)return Q;if($===void 0)return console;if($.log&&$.warn&&$.error)return $;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function q($,d){const{RULES:_}=this;if((0,f.eachItem)($,y=>{if(_.keywords[y])throw new Error(`Keyword ${y} is already defined`);if(!K.test(y))throw new Error(`Keyword ${y} has invalid name`)}),!!d&&d.$data&&!("code"in d||"validate"in d))throw new Error('$data keyword must have "code" or "validate" function')}function B($,d,_){var y;const o=d==null?void 0:d.post;if(_&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let I=o?h.post:h.rules.find(({type:z})=>z===_);if(I||(I={type:_,rules:[]},h.rules.push(I)),h.keywords[$]=!0,!d)return;const U={keyword:$,definition:{...d,type:(0,l.getJSONTypes)(d.type),schemaType:(0,l.getJSONTypes)(d.schemaType)}};d.before?X.call(this,I,U,d.before):I.rules.push(U),h.all[$]=U,(y=d.implements)===null||y===void 0||y.forEach(z=>this.addKeyword(z))}function X($,d,_){const y=$.rules.findIndex(o=>o.keyword===_);y>=0?$.rules.splice(y,0,d):($.rules.push(d),this.logger.warn(`rule ${_} is not defined`))}function H($){let{metaSchema:d}=$;d!==void 0&&($.$data&&this.opts.$data&&(d=j(d)),$.validateSchema=this.compile(d,!0))}const R={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j($){return{anyOf:[$,R]}}})(ku);var ni={},si={},ai={};Object.defineProperty(ai,"__esModule",{value:!0});const vg={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ai.default=vg;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.callRef=Lr.getValidate=void 0;const _g=Xn,jc=ce,tt=oe,Gr=Vt,Dc=nt,ls=pe,Eg={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:i,opts:u,self:c}=n,{root:l}=a;if((r==="#"||r==="#/")&&s===l.baseId)return p();const f=Dc.resolveRef.call(c,l,s,r);if(f===void 0)throw new _g.default(n.opts.uriResolver,s,r);if(f instanceof Dc.SchemaEnv)return T(f);return E(f);function p(){if(a===l)return bs(e,i,a,a.$async);const v=t.scopeValue("root",{ref:l});return bs(e,(0,tt._)`${v}.validate`,l,l.$async)}function T(v){const P=of(e,v);bs(e,P,v,v.$async)}function E(v){const P=t.scopeValue("schema",u.code.source===!0?{ref:v,code:(0,tt.stringify)(v)}:{ref:v}),g=t.name("valid"),m=e.subschema({schema:v,dataTypes:[],schemaPath:tt.nil,topSchemaRef:P,errSchemaPath:r},g);e.mergeEvaluated(m),e.ok(g)}}};function of(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,tt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Lr.getValidate=of;function bs(e,t,r,n){const{gen:s,it:a}=e,{allErrors:i,schemaEnv:u,opts:c}=a,l=c.passContext?Gr.default.this:tt.nil;n?f():p();function f(){if(!u.$async)throw new Error("async schema referenced by sync schema");const v=s.let("valid");s.try(()=>{s.code((0,tt._)`await ${(0,jc.callValidateCode)(e,t,l)}`),E(t),i||s.assign(v,!0)},P=>{s.if((0,tt._)`!(${P} instanceof ${a.ValidationError})`,()=>s.throw(P)),T(P),i||s.assign(v,!1)}),e.ok(v)}function p(){e.result((0,jc.callValidateCode)(e,t,l),()=>E(t),()=>T(t))}function T(v){const P=(0,tt._)`${v}.errors`;s.assign(Gr.default.vErrors,(0,tt._)`${Gr.default.vErrors} === null ? ${P} : ${Gr.default.vErrors}.concat(${P})`),s.assign(Gr.default.errors,(0,tt._)`${Gr.default.vErrors}.length`)}function E(v){var P;if(!a.opts.unevaluated)return;const g=(P=r==null?void 0:r.validate)===null||P===void 0?void 0:P.evaluated;if(a.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(a.props=ls.mergeEvaluated.props(s,g.props,a.props));else{const m=s.var("props",(0,tt._)`${v}.evaluated.props`);a.props=ls.mergeEvaluated.props(s,m,a.props,tt.Name)}if(a.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(a.items=ls.mergeEvaluated.items(s,g.items,a.items));else{const m=s.var("items",(0,tt._)`${v}.evaluated.items`);a.items=ls.mergeEvaluated.items(s,m,a.items,tt.Name)}}}Lr.callRef=bs;Lr.default=Eg;Object.defineProperty(si,"__esModule",{value:!0});const wg=ai,Sg=Lr,bg=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",wg.default,Sg.default];si.default=bg;var oi={},ii={};Object.defineProperty(ii,"__esModule",{value:!0});const ks=oe,ar=ks.operators,Ls={maximum:{okStr:"<=",ok:ar.LTE,fail:ar.GT},minimum:{okStr:">=",ok:ar.GTE,fail:ar.LT},exclusiveMaximum:{okStr:"<",ok:ar.LT,fail:ar.GTE},exclusiveMinimum:{okStr:">",ok:ar.GT,fail:ar.LTE}},Pg={message:({keyword:e,schemaCode:t})=>(0,ks.str)`must be ${Ls[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ks._)`{comparison: ${Ls[e].okStr}, limit: ${t}}`},Og={keyword:Object.keys(Ls),type:"number",schemaType:"number",$data:!0,error:Pg,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,ks._)`${r} ${Ls[t].fail} ${n} || isNaN(${r})`)}};ii.default=Og;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});const jn=oe,Rg={message:({schemaCode:e})=>(0,jn.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,jn._)`{multipleOf: ${e}}`},Ng={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Rg,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,i=t.let("res"),u=a?(0,jn._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,jn._)`${i} !== parseInt(${i})`;e.fail$data((0,jn._)`(${n} === 0 || (${i} = ${r}/${n}, ${u}))`)}};ci.default=Ng;var li={},ui={};Object.defineProperty(ui,"__esModule",{value:!0});function cf(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}ui.default=cf;cf.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(li,"__esModule",{value:!0});const Rr=oe,Tg=pe,Ig=ui,Ag={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Rr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Rr._)`{limit: ${e}}`},Cg={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Ag,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Rr.operators.GT:Rr.operators.LT,i=s.opts.unicode===!1?(0,Rr._)`${r}.length`:(0,Rr._)`${(0,Tg.useFunc)(e.gen,Ig.default)}(${r})`;e.fail$data((0,Rr._)`${i} ${a} ${n}`)}};li.default=Cg;var fi={};Object.defineProperty(fi,"__esModule",{value:!0});const jg=ce,Ms=oe,Dg={message:({schemaCode:e})=>(0,Ms.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Ms._)`{pattern: ${e}}`},kg={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Dg,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,i=a.opts.unicodeRegExp?"u":"",u=r?(0,Ms._)`(new RegExp(${s}, ${i}))`:(0,jg.usePattern)(e,n);e.fail$data((0,Ms._)`!${u}.test(${t})`)}};fi.default=kg;var di={};Object.defineProperty(di,"__esModule",{value:!0});const Dn=oe,Lg={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Dn.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Dn._)`{limit: ${e}}`},Mg={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Lg,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Dn.operators.GT:Dn.operators.LT;e.fail$data((0,Dn._)`Object.keys(${r}).length ${s} ${n}`)}};di.default=Mg;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});const vn=ce,kn=oe,Fg=pe,Vg={message:({params:{missingProperty:e}})=>(0,kn.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,kn._)`{missingProperty: ${e}}`},Ug={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Vg,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:i}=e,{opts:u}=i;if(!a&&r.length===0)return;const c=r.length>=u.loopRequired;if(i.allErrors?l():f(),u.strictRequired){const E=e.parentSchema.properties,{definedProperties:v}=e.it;for(const P of r)if((E==null?void 0:E[P])===void 0&&!v.has(P)){const g=i.schemaEnv.baseId+i.errSchemaPath,m=`required property "${P}" is not defined at "${g}" (strictRequired)`;(0,Fg.checkStrictMode)(i,m,i.opts.strictRequired)}}function l(){if(c||a)e.block$data(kn.nil,p);else for(const E of r)(0,vn.checkReportMissingProp)(e,E)}function f(){const E=t.let("missing");if(c||a){const v=t.let("valid",!0);e.block$data(v,()=>T(E,v)),e.ok(v)}else t.if((0,vn.checkMissingProp)(e,r,E)),(0,vn.reportMissingProp)(e,E),t.else()}function p(){t.forOf("prop",n,E=>{e.setParams({missingProperty:E}),t.if((0,vn.noPropertyInData)(t,s,E,u.ownProperties),()=>e.error())})}function T(E,v){e.setParams({missingProperty:E}),t.forOf(E,n,()=>{t.assign(v,(0,vn.propertyInData)(t,s,E,u.ownProperties)),t.if((0,kn.not)(v),()=>{e.error(),t.break()})},kn.nil)}}};hi.default=Ug;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});const Ln=oe,zg={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Ln.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Ln._)`{limit: ${e}}`},qg={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:zg,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?Ln.operators.GT:Ln.operators.LT;e.fail$data((0,Ln._)`${r}.length ${s} ${n}`)}};pi.default=qg;var mi={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});const lf=Ws;lf.code='require("ajv/dist/runtime/equal").default';Yn.default=lf;Object.defineProperty(mi,"__esModule",{value:!0});const $a=Bn,Ue=oe,Gg=pe,Kg=Yn,Wg={message:({params:{i:e,j:t}})=>(0,Ue.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ue._)`{i: ${e}, j: ${t}}`},Hg={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Wg,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:u}=e;if(!n&&!s)return;const c=t.let("valid"),l=a.items?(0,$a.getSchemaTypes)(a.items):[];e.block$data(c,f,(0,Ue._)`${i} === false`),e.ok(c);function f(){const v=t.let("i",(0,Ue._)`${r}.length`),P=t.let("j");e.setParams({i:v,j:P}),t.assign(c,!0),t.if((0,Ue._)`${v} > 1`,()=>(p()?T:E)(v,P))}function p(){return l.length>0&&!l.some(v=>v==="object"||v==="array")}function T(v,P){const g=t.name("item"),m=(0,$a.checkDataTypes)(l,g,u.opts.strictNumbers,$a.DataType.Wrong),b=t.const("indices",(0,Ue._)`{}`);t.for((0,Ue._)`;${v}--;`,()=>{t.let(g,(0,Ue._)`${r}[${v}]`),t.if(m,(0,Ue._)`continue`),l.length>1&&t.if((0,Ue._)`typeof ${g} == "string"`,(0,Ue._)`${g} += "_"`),t.if((0,Ue._)`typeof ${b}[${g}] == "number"`,()=>{t.assign(P,(0,Ue._)`${b}[${g}]`),e.error(),t.assign(c,!1).break()}).code((0,Ue._)`${b}[${g}] = ${v}`)})}function E(v,P){const g=(0,Gg.useFunc)(t,Kg.default),m=t.name("outer");t.label(m).for((0,Ue._)`;${v}--;`,()=>t.for((0,Ue._)`${P} = ${v}; ${P}--;`,()=>t.if((0,Ue._)`${g}(${r}[${v}], ${r}[${P}])`,()=>{e.error(),t.assign(c,!1).break(m)})))}}};mi.default=Hg;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});const Ka=oe,Bg=pe,Jg=Yn,Xg={message:"must be equal to constant",params:({schemaCode:e})=>(0,Ka._)`{allowedValue: ${e}}`},Yg={keyword:"const",$data:!0,error:Xg,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,Ka._)`!${(0,Bg.useFunc)(t,Jg.default)}(${r}, ${s})`):e.fail((0,Ka._)`${a} !== ${r}`)}};yi.default=Yg;var $i={};Object.defineProperty($i,"__esModule",{value:!0});const bn=oe,Qg=pe,Zg=Yn,xg={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,bn._)`{allowedValues: ${e}}`},ev={keyword:"enum",schemaType:"array",$data:!0,error:xg,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:i}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=i.opts.loopEnum;let c;const l=()=>c??(c=(0,Qg.useFunc)(t,Zg.default));let f;if(u||n)f=t.let("valid"),e.block$data(f,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const E=t.const("vSchema",a);f=(0,bn.or)(...s.map((v,P)=>T(E,P)))}e.pass(f);function p(){t.assign(f,!1),t.forOf("v",a,E=>t.if((0,bn._)`${l()}(${r}, ${E})`,()=>t.assign(f,!0).break()))}function T(E,v){const P=s[v];return typeof P=="object"&&P!==null?(0,bn._)`${l()}(${r}, ${E}[${v}])`:(0,bn._)`${r} === ${P}`}}};$i.default=ev;Object.defineProperty(oi,"__esModule",{value:!0});const tv=ii,rv=ci,nv=li,sv=fi,av=di,ov=hi,iv=pi,cv=mi,lv=yi,uv=$i,fv=[tv.default,rv.default,nv.default,sv.default,av.default,ov.default,iv.default,cv.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},lv.default,uv.default];oi.default=fv;var gi={},un={};Object.defineProperty(un,"__esModule",{value:!0});un.validateAdditionalItems=void 0;const Nr=oe,Wa=pe,dv={message:({params:{len:e}})=>(0,Nr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Nr._)`{limit: ${e}}`},hv={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:dv,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Wa.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}uf(e,n)}};function uf(e,t){const{gen:r,schema:n,data:s,keyword:a,it:i}=e;i.items=!0;const u=r.const("len",(0,Nr._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Nr._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,Wa.alwaysValidSchema)(i,n)){const l=r.var("valid",(0,Nr._)`${u} <= ${t.length}`);r.if((0,Nr.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,u,f=>{e.subschema({keyword:a,dataProp:f,dataPropType:Wa.Type.Num},l),i.allErrors||r.if((0,Nr.not)(l),()=>r.break())})}}un.validateAdditionalItems=uf;un.default=hv;var vi={},fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.validateTuple=void 0;const kc=oe,Ps=pe,pv=ce,mv={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return ff(e,"additionalItems",t);r.items=!0,!(0,Ps.alwaysValidSchema)(r,t)&&e.ok((0,pv.validateArray)(e))}};function ff(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:i,it:u}=e;f(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=Ps.mergeEvaluated.items(n,r.length,u.items));const c=n.name("valid"),l=n.const("len",(0,kc._)`${a}.length`);r.forEach((p,T)=>{(0,Ps.alwaysValidSchema)(u,p)||(n.if((0,kc._)`${l} > ${T}`,()=>e.subschema({keyword:i,schemaProp:T,dataProp:T},c)),e.ok(c))});function f(p){const{opts:T,errSchemaPath:E}=u,v=r.length,P=v===p.minItems&&(v===p.maxItems||p[t]===!1);if(T.strictTuples&&!P){const g=`"${i}" is ${v}-tuple, but minItems or maxItems/${t} are not specified or different at path "${E}"`;(0,Ps.checkStrictMode)(u,g,T.strictTuples)}}}fn.validateTuple=ff;fn.default=mv;Object.defineProperty(vi,"__esModule",{value:!0});const yv=fn,$v={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,yv.validateTuple)(e,"items")};vi.default=$v;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});const Lc=oe,gv=pe,vv=ce,_v=un,Ev={message:({params:{len:e}})=>(0,Lc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Lc._)`{limit: ${e}}`},wv={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ev,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,gv.alwaysValidSchema)(n,t)&&(s?(0,_v.validateAdditionalItems)(e,s):e.ok((0,vv.validateArray)(e)))}};_i.default=wv;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});const ut=oe,us=pe,Sv={message:({params:{min:e,max:t}})=>t===void 0?(0,ut.str)`must contain at least ${e} valid item(s)`:(0,ut.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ut._)`{minContains: ${e}}`:(0,ut._)`{minContains: ${e}, maxContains: ${t}}`},bv={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Sv,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let i,u;const{minContains:c,maxContains:l}=n;a.opts.next?(i=c===void 0?1:c,u=l):i=1;const f=t.const("len",(0,ut._)`${s}.length`);if(e.setParams({min:i,max:u}),u===void 0&&i===0){(0,us.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&i>u){(0,us.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,us.alwaysValidSchema)(a,r)){let P=(0,ut._)`${f} >= ${i}`;u!==void 0&&(P=(0,ut._)`${P} && ${f} <= ${u}`),e.pass(P);return}a.items=!0;const p=t.name("valid");u===void 0&&i===1?E(p,()=>t.if(p,()=>t.break())):i===0?(t.let(p,!0),u!==void 0&&t.if((0,ut._)`${s}.length > 0`,T)):(t.let(p,!1),T()),e.result(p,()=>e.reset());function T(){const P=t.name("_valid"),g=t.let("count",0);E(P,()=>t.if(P,()=>v(g)))}function E(P,g){t.forRange("i",0,f,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:us.Type.Num,compositeRule:!0},P),g()})}function v(P){t.code((0,ut._)`${P}++`),u===void 0?t.if((0,ut._)`${P} >= ${i}`,()=>t.assign(p,!0).break()):(t.if((0,ut._)`${P} > ${u}`,()=>t.assign(p,!1).break()),i===1?t.assign(p,!0):t.if((0,ut._)`${P} >= ${i}`,()=>t.assign(p,!0)))}}};Ei.default=bv;var df={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=oe,r=pe,n=ce;e.error={message:({params:{property:c,depsCount:l,deps:f}})=>{const p=l===1?"property":"properties";return(0,t.str)`must have ${p} ${f} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:f,missingProperty:p}})=>(0,t._)`{property: ${c},
    missingProperty: ${p},
    depsCount: ${l},
    deps: ${f}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,f]=a(c);i(c,l),u(c,f)}};function a({schema:c}){const l={},f={};for(const p in c){if(p==="__proto__")continue;const T=Array.isArray(c[p])?l:f;T[p]=c[p]}return[l,f]}function i(c,l=c.schema){const{gen:f,data:p,it:T}=c;if(Object.keys(l).length===0)return;const E=f.let("missing");for(const v in l){const P=l[v];if(P.length===0)continue;const g=(0,n.propertyInData)(f,p,v,T.opts.ownProperties);c.setParams({property:v,depsCount:P.length,deps:P.join(", ")}),T.allErrors?f.if(g,()=>{for(const m of P)(0,n.checkReportMissingProp)(c,m)}):(f.if((0,t._)`${g} && (${(0,n.checkMissingProp)(c,P,E)})`),(0,n.reportMissingProp)(c,E),f.else())}}e.validatePropertyDeps=i;function u(c,l=c.schema){const{gen:f,data:p,keyword:T,it:E}=c,v=f.name("valid");for(const P in l)(0,r.alwaysValidSchema)(E,l[P])||(f.if((0,n.propertyInData)(f,p,P,E.opts.ownProperties),()=>{const g=c.subschema({keyword:T,schemaProp:P},v);c.mergeValidEvaluated(g,v)},()=>f.var(v,!0)),c.ok(v))}e.validateSchemaDeps=u,e.default=s})(df);var wi={};Object.defineProperty(wi,"__esModule",{value:!0});const hf=oe,Pv=pe,Ov={message:"property name must be valid",params:({params:e})=>(0,hf._)`{propertyName: ${e.propertyName}}`},Rv={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Ov,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,Pv.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,hf.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};wi.default=Rv;var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});const fs=ce,pt=oe,Nv=Vt,ds=pe,Tv={message:"must NOT have additional properties",params:({params:e})=>(0,pt._)`{additionalProperty: ${e.additionalProperty}}`},Iv={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Tv,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,ds.alwaysValidSchema)(i,r))return;const l=(0,fs.allSchemaProperties)(n.properties),f=(0,fs.allSchemaProperties)(n.patternProperties);p(),e.ok((0,pt._)`${a} === ${Nv.default.errors}`);function p(){t.forIn("key",s,g=>{!l.length&&!f.length?v(g):t.if(T(g),()=>v(g))})}function T(g){let m;if(l.length>8){const b=(0,ds.schemaRefOrVal)(i,n.properties,"properties");m=(0,fs.isOwnProperty)(t,b,g)}else l.length?m=(0,pt.or)(...l.map(b=>(0,pt._)`${g} === ${b}`)):m=pt.nil;return f.length&&(m=(0,pt.or)(m,...f.map(b=>(0,pt._)`${(0,fs.usePattern)(e,b)}.test(${g})`))),(0,pt.not)(m)}function E(g){t.code((0,pt._)`delete ${s}[${g}]`)}function v(g){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){E(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,ds.alwaysValidSchema)(i,r)){const m=t.name("valid");c.removeAdditional==="failing"?(P(g,m,!1),t.if((0,pt.not)(m),()=>{e.reset(),E(g)})):(P(g,m),u||t.if((0,pt.not)(m),()=>t.break()))}}function P(g,m,b){const w={keyword:"additionalProperties",dataProp:g,dataPropType:ds.Type.Str};b===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,m)}}};Zs.default=Iv;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});const Av=vt,Mc=ce,ga=pe,Fc=Zs,Cv={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Fc.default.code(new Av.KeywordCxt(a,Fc.default,"additionalProperties"));const i=(0,Mc.allSchemaProperties)(r);for(const p of i)a.definedProperties.add(p);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=ga.mergeEvaluated.props(t,(0,ga.toHash)(i),a.props));const u=i.filter(p=>!(0,ga.alwaysValidSchema)(a,r[p]));if(u.length===0)return;const c=t.name("valid");for(const p of u)l(p)?f(p):(t.if((0,Mc.propertyInData)(t,s,p,a.opts.ownProperties)),f(p),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(c);function l(p){return a.opts.useDefaults&&!a.compositeRule&&r[p].default!==void 0}function f(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},c)}}};Si.default=Cv;var bi={};Object.defineProperty(bi,"__esModule",{value:!0});const Vc=ce,hs=oe,Uc=pe,zc=pe,jv={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:i}=a,u=(0,Vc.allSchemaProperties)(r),c=u.filter(P=>(0,Uc.alwaysValidSchema)(a,r[P]));if(u.length===0||c.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const l=i.strictSchema&&!i.allowMatchingProperties&&s.properties,f=t.name("valid");a.props!==!0&&!(a.props instanceof hs.Name)&&(a.props=(0,zc.evaluatedPropsToName)(t,a.props));const{props:p}=a;T();function T(){for(const P of u)l&&E(P),a.allErrors?v(P):(t.var(f,!0),v(P),t.if(f))}function E(P){for(const g in l)new RegExp(P).test(g)&&(0,Uc.checkStrictMode)(a,`property ${g} matches pattern ${P} (use allowMatchingProperties)`)}function v(P){t.forIn("key",n,g=>{t.if((0,hs._)`${(0,Vc.usePattern)(e,P)}.test(${g})`,()=>{const m=c.includes(P);m||e.subschema({keyword:"patternProperties",schemaProp:P,dataProp:g,dataPropType:zc.Type.Str},f),a.opts.unevaluated&&p!==!0?t.assign((0,hs._)`${p}[${g}]`,!0):!m&&!a.allErrors&&t.if((0,hs.not)(f),()=>t.break())})})}}};bi.default=jv;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});const Dv=pe,kv={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Dv.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Pi.default=kv;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});const Lv=ce,Mv={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Lv.validateUnion,error:{message:"must match a schema in anyOf"}};Oi.default=Mv;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});const Os=oe,Fv=pe,Vv={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Os._)`{passingSchemas: ${e.passing}}`},Uv={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Vv,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,i=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");e.setParams({passing:u}),t.block(l),e.result(i,()=>e.reset(),()=>e.error(!0));function l(){a.forEach((f,p)=>{let T;(0,Fv.alwaysValidSchema)(s,f)?t.var(c,!0):T=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},c),p>0&&t.if((0,Os._)`${c} && ${i}`).assign(i,!1).assign(u,(0,Os._)`[${u}, ${p}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(u,p),T&&e.mergeEvaluated(T,Os.Name)})})}}};Ri.default=Uv;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});const zv=pe,qv={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,i)=>{if((0,zv.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:i},s);e.ok(s),e.mergeEvaluated(u)})}};Ni.default=qv;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});const Fs=oe,pf=pe,Gv={message:({params:e})=>(0,Fs.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Fs._)`{failingKeyword: ${e.ifClause}}`},Kv={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Gv,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,pf.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=qc(n,"then"),a=qc(n,"else");if(!s&&!a)return;const i=t.let("valid",!0),u=t.name("_valid");if(c(),e.reset(),s&&a){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(u,l("then",f),l("else",f))}else s?t.if(u,l("then")):t.if((0,Fs.not)(u),l("else"));e.pass(i,()=>e.error(!0));function c(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(f)}function l(f,p){return()=>{const T=e.subschema({keyword:f},u);t.assign(i,u),e.mergeValidEvaluated(T,i),p?t.assign(p,(0,Fs._)`${f}`):e.setParams({ifClause:f})}}}};function qc(e,t){const r=e.schema[t];return r!==void 0&&!(0,pf.alwaysValidSchema)(e,r)}Ti.default=Kv;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});const Wv=pe,Hv={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Wv.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ii.default=Hv;Object.defineProperty(gi,"__esModule",{value:!0});const Bv=un,Jv=vi,Xv=fn,Yv=_i,Qv=Ei,Zv=df,xv=wi,e_=Zs,t_=Si,r_=bi,n_=Pi,s_=Oi,a_=Ri,o_=Ni,i_=Ti,c_=Ii;function l_(e=!1){const t=[n_.default,s_.default,a_.default,o_.default,i_.default,c_.default,xv.default,e_.default,Zv.default,t_.default,r_.default];return e?t.push(Jv.default,Yv.default):t.push(Bv.default,Xv.default),t.push(Qv.default),t}gi.default=l_;var Ai={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});const Ae=oe,u_={message:({schemaCode:e})=>(0,Ae.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ae._)`{format: ${e}}`},f_={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:u_,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:u}=e,{opts:c,errSchemaPath:l,schemaEnv:f,self:p}=u;if(!c.validateFormats)return;s?T():E();function T(){const v=r.scopeValue("formats",{ref:p.formats,code:c.code.formats}),P=r.const("fDef",(0,Ae._)`${v}[${i}]`),g=r.let("fType"),m=r.let("format");r.if((0,Ae._)`typeof ${P} == "object" && !(${P} instanceof RegExp)`,()=>r.assign(g,(0,Ae._)`${P}.type || "string"`).assign(m,(0,Ae._)`${P}.validate`),()=>r.assign(g,(0,Ae._)`"string"`).assign(m,P)),e.fail$data((0,Ae.or)(b(),w()));function b(){return c.strictSchema===!1?Ae.nil:(0,Ae._)`${i} && !${m}`}function w(){const A=f.$async?(0,Ae._)`(${P}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,Ae._)`${m}(${n})`,L=(0,Ae._)`(typeof ${m} == "function" ? ${A} : ${m}.test(${n}))`;return(0,Ae._)`${m} && ${m} !== true && ${g} === ${t} && !${L}`}}function E(){const v=p.formats[a];if(!v){b();return}if(v===!0)return;const[P,g,m]=w(v);P===t&&e.pass(A());function b(){if(c.strictSchema===!1){p.logger.warn(L());return}throw new Error(L());function L(){return`unknown format "${a}" ignored in schema at path "${l}"`}}function w(L){const S=L instanceof RegExp?(0,Ae.regexpCode)(L):c.code.formats?(0,Ae._)`${c.code.formats}${(0,Ae.getProperty)(a)}`:void 0,O=r.scopeValue("formats",{key:a,ref:L,code:S});return typeof L=="object"&&!(L instanceof RegExp)?[L.type||"string",L.validate,(0,Ae._)`${O}.validate`]:["string",L,O]}function A(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Ae._)`await ${m}(${n})`}return typeof g=="function"?(0,Ae._)`${m}(${n})`:(0,Ae._)`${m}.test(${n})`}}}};Ci.default=f_;Object.defineProperty(Ai,"__esModule",{value:!0});const d_=Ci,h_=[d_.default];Ai.default=h_;var on={};Object.defineProperty(on,"__esModule",{value:!0});on.contentVocabulary=on.metadataVocabulary=void 0;on.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];on.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ni,"__esModule",{value:!0});const p_=si,m_=oi,y_=gi,$_=Ai,Gc=on,g_=[p_.default,m_.default,(0,y_.default)(),$_.default,Gc.metadataVocabulary,Gc.contentVocabulary];ni.default=g_;var ji={},mf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(mf);Object.defineProperty(ji,"__esModule",{value:!0});const Xr=oe,Ha=mf,Kc=nt,v_=pe,__={message:({params:{discrError:e,tagName:t}})=>e===Ha.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Xr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},E_={keyword:"discriminator",type:"object",schemaType:"object",error:__,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",(0,Xr._)`${r}${(0,Xr.getProperty)(u)}`);t.if((0,Xr._)`typeof ${l} == "string"`,()=>f(),()=>e.error(!1,{discrError:Ha.DiscrError.Tag,tag:l,tagName:u})),e.ok(c);function f(){const E=T();t.if(!1);for(const v in E)t.elseIf((0,Xr._)`${l} === ${v}`),t.assign(c,p(E[v]));t.else(),e.error(!1,{discrError:Ha.DiscrError.Mapping,tag:l,tagName:u}),t.endIf()}function p(E){const v=t.name("valid"),P=e.subschema({keyword:"oneOf",schemaProp:E},v);return e.mergeEvaluated(P,Xr.Name),v}function T(){var E;const v={},P=m(s);let g=!0;for(let A=0;A<i.length;A++){let L=i[A];L!=null&&L.$ref&&!(0,v_.schemaHasRulesButRef)(L,a.self.RULES)&&(L=Kc.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,L==null?void 0:L.$ref),L instanceof Kc.SchemaEnv&&(L=L.schema));const S=(E=L==null?void 0:L.properties)===null||E===void 0?void 0:E[u];if(typeof S!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);g=g&&(P||m(L)),b(S,A)}if(!g)throw new Error(`discriminator: "${u}" must be required`);return v;function m({required:A}){return Array.isArray(A)&&A.includes(u)}function b(A,L){if(A.const)w(A.const,L);else if(A.enum)for(const S of A.enum)w(S,L);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function w(A,L){if(typeof A!="string"||A in v)throw new Error(`discriminator: "${u}" values must be unique strings`);v[A]=L}}}};ji.default=E_;const w_="http://json-schema.org/draft-07/schema#",S_="http://json-schema.org/draft-07/schema#",b_="Core schema meta-schema",P_={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},O_=["object","boolean"],R_={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},N_={$schema:w_,$id:S_,title:b_,definitions:P_,type:O_,properties:R_,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=ku,n=ni,s=ji,a=N_,i=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(v,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=vt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var f=oe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var p=Jn;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var T=Xn;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return T.default}})})(za,za.exports);var T_=za.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=T_,r=oe,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:u,schemaCode:c})=>r.str`should be ${s[u].okStr} ${c}`,params:({keyword:u,schemaCode:c})=>r._`{comparison: ${s[u].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(u){const{gen:c,data:l,schemaCode:f,keyword:p,it:T}=u,{opts:E,self:v}=T;if(!E.validateFormats)return;const P=new t.KeywordCxt(T,v.RULES.all.format.definition,"format");P.$data?g():m();function g(){const w=c.scopeValue("formats",{ref:v.formats,code:E.code.formats}),A=c.const("fmt",r._`${w}[${P.schemaCode}]`);u.fail$data(r.or(r._`typeof ${A} != "object"`,r._`${A} instanceof RegExp`,r._`typeof ${A}.compare != "function"`,b(A)))}function m(){const w=P.schema,A=v.formats[w];if(!A||A===!0)return;if(typeof A!="object"||A instanceof RegExp||typeof A.compare!="function")throw new Error(`"${p}": format "${w}" does not define "compare" function`);const L=c.scopeValue("formats",{key:w,ref:A,code:E.code.formats?r._`${E.code.formats}${r.getProperty(w)}`:void 0});u.fail$data(b(L))}function b(w){return r._`${w}.compare(${l}, ${f}) ${s[p].fail} 0`}},dependencies:["format"]};const i=u=>(u.addKeyword(e.formatLimitDefinition),u);e.default=i})(Du);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=ju,n=Du,s=oe,a=new s.Name("fullFormats"),i=new s.Name("fastFormats"),u=(l,f={keywords:!0})=>{if(Array.isArray(f))return c(l,f,r.fullFormats,a),l;const[p,T]=f.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,a],E=f.formats||r.formatNames;return c(l,E,p,T),f.keywords&&n.default(l),l};u.get=(l,f="full")=>{const T=(f==="fast"?r.fastFormats:r.fullFormats)[l];if(!T)throw new Error(`Unknown format "${l}"`);return T};function c(l,f,p,T){var E,v;(E=(v=l.opts.code).formats)!==null&&E!==void 0||(v.formats=s._`require("ajv-formats/dist/formats").${T}`);for(const P of f)l.addFormat(P,p[P])}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u})(Ua,Ua.exports);var I_=Ua.exports;const A_=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!C_(s,a)&&n||Object.defineProperty(e,r,a)},C_=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},j_=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},D_=(e,t)=>`/* Wrapped ${e}*/
${t}`,k_=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),L_=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),M_=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=D_.bind(null,n,t.toString());Object.defineProperty(s,"name",L_),Object.defineProperty(e,"toString",{...k_,value:s})},F_=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const s of Reflect.ownKeys(t))A_(e,t,s,r);return j_(e,t),M_(e,t,n),e};var V_=F_;const U_=V_;var z_=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:s=!0}=t;if(!n&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,i;const u=function(...c){const l=this,f=()=>{a=void 0,s&&(i=e.apply(l,c))},p=n&&!a;return clearTimeout(a),a=setTimeout(f,r),p&&(i=e.apply(l,c)),i};return U_(u,e),u.cancel=()=>{a&&(clearTimeout(a),a=void 0)},u},Ba={exports:{}};const q_="2.0.0",yf=256,G_=Number.MAX_SAFE_INTEGER||9007199254740991,K_=16,W_=yf-6,H_=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var xs={MAX_LENGTH:yf,MAX_SAFE_COMPONENT_LENGTH:K_,MAX_SAFE_BUILD_LENGTH:W_,MAX_SAFE_INTEGER:G_,RELEASE_TYPES:H_,SEMVER_SPEC_VERSION:q_,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const B_=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ea=B_;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=xs,a=ea;t=e.exports={};const i=t.re=[],u=t.safeRe=[],c=t.src=[],l=t.t={};let f=0;const p="[a-zA-Z0-9-]",T=[["\\s",1],["\\d",s],[p,n]],E=P=>{for(const[g,m]of T)P=P.split(`${g}*`).join(`${g}{0,${m}}`).split(`${g}+`).join(`${g}{1,${m}}`);return P},v=(P,g,m)=>{const b=E(g),w=f++;a(P,w,g),l[P]=w,c[w]=g,i[w]=new RegExp(g,m?"g":void 0),u[w]=new RegExp(b,m?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),v("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),v("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER",`${p}+`),v("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),v("FULL",`^${c[l.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),v("LOOSE",`^${c[l.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),v("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),v("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),v("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),v("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),v("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),v("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),v("COERCERTL",c[l.COERCE],!0),v("COERCERTLFULL",c[l.COERCEFULL],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",v("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",v("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ba,Ba.exports);var Qn=Ba.exports;const J_=Object.freeze({loose:!0}),X_=Object.freeze({}),Y_=e=>e?typeof e!="object"?J_:e:X_;var Di=Y_;const Wc=/^[0-9]+$/,$f=(e,t)=>{const r=Wc.test(e),n=Wc.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Q_=(e,t)=>$f(t,e);var gf={compareIdentifiers:$f,rcompareIdentifiers:Q_};const ps=ea,{MAX_LENGTH:Hc,MAX_SAFE_INTEGER:ms}=xs,{safeRe:Bc,t:Jc}=Qn,Z_=Di,{compareIdentifiers:Kr}=gf;let x_=class At{constructor(t,r){if(r=Z_(r),t instanceof At){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Hc)throw new TypeError(`version is longer than ${Hc} characters`);ps("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Bc[Jc.LOOSE]:Bc[Jc.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ms||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ms||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ms||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<ms)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ps("SemVer.compare",this.version,this.options,t),!(t instanceof At)){if(typeof t=="string"&&t===this.version)return 0;t=new At(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof At||(t=new At(t,this.options)),Kr(this.major,t.major)||Kr(this.minor,t.minor)||Kr(this.patch,t.patch)}comparePre(t){if(t instanceof At||(t=new At(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(ps("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Kr(n,s)}while(++r)}compareBuild(t){t instanceof At||(t=new At(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(ps("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Kr(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),Kr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Qe=x_;const Xc=Qe,e0=(e,t,r=!1)=>{if(e instanceof Xc)return e;try{return new Xc(e,t)}catch(n){if(!r)return null;throw n}};var dn=e0;const t0=dn,r0=(e,t)=>{const r=t0(e,t);return r?r.version:null};var n0=r0;const s0=dn,a0=(e,t)=>{const r=s0(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var o0=a0;const Yc=Qe,i0=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Yc(e instanceof Yc?e.version:e,r).inc(t,n,s).version}catch{return null}};var c0=i0;const Qc=dn,l0=(e,t)=>{const r=Qc(e,null,!0),n=Qc(t,null,!0),s=r.compare(n);if(s===0)return null;const a=s>0,i=a?r:n,u=a?n:r,c=!!i.prerelease.length;if(!!u.prerelease.length&&!c)return!u.patch&&!u.minor?"major":i.patch?"patch":i.minor?"minor":"major";const f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"};var u0=l0;const f0=Qe,d0=(e,t)=>new f0(e,t).major;var h0=d0;const p0=Qe,m0=(e,t)=>new p0(e,t).minor;var y0=m0;const $0=Qe,g0=(e,t)=>new $0(e,t).patch;var v0=g0;const _0=dn,E0=(e,t)=>{const r=_0(e,t);return r&&r.prerelease.length?r.prerelease:null};var w0=E0;const Zc=Qe,S0=(e,t,r)=>new Zc(e,r).compare(new Zc(t,r));var _t=S0;const b0=_t,P0=(e,t,r)=>b0(t,e,r);var O0=P0;const R0=_t,N0=(e,t)=>R0(e,t,!0);var T0=N0;const xc=Qe,I0=(e,t,r)=>{const n=new xc(e,r),s=new xc(t,r);return n.compare(s)||n.compareBuild(s)};var ki=I0;const A0=ki,C0=(e,t)=>e.sort((r,n)=>A0(r,n,t));var j0=C0;const D0=ki,k0=(e,t)=>e.sort((r,n)=>D0(n,r,t));var L0=k0;const M0=_t,F0=(e,t,r)=>M0(e,t,r)>0;var ta=F0;const V0=_t,U0=(e,t,r)=>V0(e,t,r)<0;var Li=U0;const z0=_t,q0=(e,t,r)=>z0(e,t,r)===0;var vf=q0;const G0=_t,K0=(e,t,r)=>G0(e,t,r)!==0;var _f=K0;const W0=_t,H0=(e,t,r)=>W0(e,t,r)>=0;var Mi=H0;const B0=_t,J0=(e,t,r)=>B0(e,t,r)<=0;var Fi=J0;const X0=vf,Y0=_f,Q0=ta,Z0=Mi,x0=Li,eE=Fi,tE=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return X0(e,r,n);case"!=":return Y0(e,r,n);case">":return Q0(e,r,n);case">=":return Z0(e,r,n);case"<":return x0(e,r,n);case"<=":return eE(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Ef=tE;const rE=Qe,nE=dn,{safeRe:ys,t:$s}=Qn,sE=(e,t)=>{if(e instanceof rE)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?ys[$s.COERCEFULL]:ys[$s.COERCE]);else{const c=t.includePrerelease?ys[$s.COERCERTLFULL]:ys[$s.COERCERTL];let l;for(;(l=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",a=r[4]||"0",i=t.includePrerelease&&r[5]?`-${r[5]}`:"",u=t.includePrerelease&&r[6]?`+${r[6]}`:"";return nE(`${n}.${s}.${a}${i}${u}`,t)};var aE=sE,va,el;function oE(){return el||(el=1,va=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),va}var iE=me;me.Node=Mr;me.create=me;function me(e){var t=this;if(t instanceof me||(t=new me),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}me.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};me.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};me.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};me.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)lE(this,arguments[e]);return this.length};me.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)uE(this,arguments[e]);return this.length};me.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};me.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};me.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};me.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};me.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};me.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};me.prototype.map=function(e,t){t=t||this;for(var r=new me,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};me.prototype.mapReverse=function(e,t){t=t||this;for(var r=new me,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};me.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=e(r,n.value,s),n=n.next;return r};me.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=e(r,n.value,s),n=n.prev;return r};me.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};me.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};me.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new me;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(;s!==null&&n<t;n++,s=s.next)r.push(s.value);return r};me.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new me;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;s!==null&&n>t;n--)s=s.prev;for(;s!==null&&n>e;n--,s=s.prev)r.push(s.value);return r};me.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(var a=[],n=0;s&&n<t;n++)a.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=cE(this,s,r[n]);return a};me.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function cE(e,t,r){var n=t===e.head?new Mr(r,null,t,e):new Mr(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function lE(e,t){e.tail=new Mr(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function uE(e,t){e.head=new Mr(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Mr(e,t,r,n){if(!(this instanceof Mr))return new Mr(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{oE()(me)}catch{}const fE=iE,Tr=Symbol("max"),Xt=Symbol("length"),Wr=Symbol("lengthCalculator"),Mn=Symbol("allowStale"),Ir=Symbol("maxAge"),Jt=Symbol("dispose"),tl=Symbol("noDisposeOnSet"),Le=Symbol("lruList"),mt=Symbol("cache"),wf=Symbol("updateAgeOnGet"),_a=()=>1;class dE{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Tr]=t.max||1/0;const r=t.length||_a;if(this[Wr]=typeof r!="function"?_a:r,this[Mn]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ir]=t.maxAge||0,this[Jt]=t.dispose,this[tl]=t.noDisposeOnSet||!1,this[wf]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Tr]=t||1/0,_n(this)}get max(){return this[Tr]}set allowStale(t){this[Mn]=!!t}get allowStale(){return this[Mn]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Ir]=t,_n(this)}get maxAge(){return this[Ir]}set lengthCalculator(t){typeof t!="function"&&(t=_a),t!==this[Wr]&&(this[Wr]=t,this[Xt]=0,this[Le].forEach(r=>{r.length=this[Wr](r.value,r.key),this[Xt]+=r.length})),_n(this)}get lengthCalculator(){return this[Wr]}get length(){return this[Xt]}get itemCount(){return this[Le].length}rforEach(t,r){r=r||this;for(let n=this[Le].tail;n!==null;){const s=n.prev;rl(this,t,n,r),n=s}}forEach(t,r){r=r||this;for(let n=this[Le].head;n!==null;){const s=n.next;rl(this,t,n,r),n=s}}keys(){return this[Le].toArray().map(t=>t.key)}values(){return this[Le].toArray().map(t=>t.value)}reset(){this[Jt]&&this[Le]&&this[Le].length&&this[Le].forEach(t=>this[Jt](t.key,t.value)),this[mt]=new Map,this[Le]=new fE,this[Xt]=0}dump(){return this[Le].map(t=>Vs(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Le]}set(t,r,n){if(n=n||this[Ir],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const s=n?Date.now():0,a=this[Wr](r,t);if(this[mt].has(t)){if(a>this[Tr])return en(this,this[mt].get(t)),!1;const c=this[mt].get(t).value;return this[Jt]&&(this[tl]||this[Jt](t,c.value)),c.now=s,c.maxAge=n,c.value=r,this[Xt]+=a-c.length,c.length=a,this.get(t),_n(this),!0}const i=new hE(t,r,a,s,n);return i.length>this[Tr]?(this[Jt]&&this[Jt](t,r),!1):(this[Xt]+=i.length,this[Le].unshift(i),this[mt].set(t,this[Le].head),_n(this),!0)}has(t){if(!this[mt].has(t))return!1;const r=this[mt].get(t).value;return!Vs(this,r)}get(t){return Ea(this,t,!0)}peek(t){return Ea(this,t,!1)}pop(){const t=this[Le].tail;return t?(en(this,t),t.value):null}del(t){en(this,this[mt].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const s=t[n],a=s.e||0;if(a===0)this.set(s.k,s.v);else{const i=a-r;i>0&&this.set(s.k,s.v,i)}}}prune(){this[mt].forEach((t,r)=>Ea(this,r,!1))}}const Ea=(e,t,r)=>{const n=e[mt].get(t);if(n){const s=n.value;if(Vs(e,s)){if(en(e,n),!e[Mn])return}else r&&(e[wf]&&(n.value.now=Date.now()),e[Le].unshiftNode(n));return s.value}},Vs=(e,t)=>{if(!t||!t.maxAge&&!e[Ir])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Ir]&&r>e[Ir]},_n=e=>{if(e[Xt]>e[Tr])for(let t=e[Le].tail;e[Xt]>e[Tr]&&t!==null;){const r=t.prev;en(e,t),t=r}},en=(e,t)=>{if(t){const r=t.value;e[Jt]&&e[Jt](r.key,r.value),e[Xt]-=r.length,e[mt].delete(r.key),e[Le].removeNode(t)}};class hE{constructor(t,r,n,s,a){this.key=t,this.value=r,this.length=n,this.now=s,this.maxAge=a||0}}const rl=(e,t,r,n)=>{let s=r.value;Vs(e,s)&&(en(e,r),e[Mn]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};var pE=dE,wa,nl;function Et(){if(nl)return wa;nl=1;class e{constructor(q,B){if(B=n(B),q instanceof e)return q.loose===!!B.loose&&q.includePrerelease===!!B.includePrerelease?q:new e(q.raw,B);if(q instanceof s)return this.raw=q.value,this.set=[[q]],this.format(),this;if(this.options=B,this.loose=!!B.loose,this.includePrerelease=!!B.includePrerelease,this.raw=q.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(X=>this.parseRange(X.trim())).filter(X=>X.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const X=this.set[0];if(this.set=this.set.filter(H=>!v(H[0])),this.set.length===0)this.set=[X];else if(this.set.length>1){for(const H of this.set)if(H.length===1&&P(H[0])){this.set=[H];break}}}this.format()}format(){return this.range=this.set.map(q=>q.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(q){const X=((this.options.includePrerelease&&T)|(this.options.loose&&E))+":"+q,H=r.get(X);if(H)return H;const R=this.options.loose,j=R?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];q=q.replace(j,Q(this.options.includePrerelease)),a("hyphen replace",q),q=q.replace(u[c.COMPARATORTRIM],l),a("comparator trim",q),q=q.replace(u[c.TILDETRIM],f),a("tilde trim",q),q=q.replace(u[c.CARETTRIM],p),a("caret trim",q);let $=q.split(" ").map(o=>m(o,this.options)).join(" ").split(/\s+/).map(o=>G(o,this.options));R&&($=$.filter(o=>(a("loose invalid filter",o,this.options),!!o.match(u[c.COMPARATORLOOSE])))),a("range list",$);const d=new Map,_=$.map(o=>new s(o,this.options));for(const o of _){if(v(o))return[o];d.set(o.value,o)}d.size>1&&d.has("")&&d.delete("");const y=[...d.values()];return r.set(X,y),y}intersects(q,B){if(!(q instanceof e))throw new TypeError("a Range is required");return this.set.some(X=>g(X,B)&&q.set.some(H=>g(H,B)&&X.every(R=>H.every(j=>R.intersects(j,B)))))}test(q){if(!q)return!1;if(typeof q=="string")try{q=new i(q,this.options)}catch{return!1}for(let B=0;B<this.set.length;B++)if(W(this.set[B],q,this.options))return!0;return!1}}wa=e;const t=pE,r=new t({max:1e3}),n=Di,s=ra(),a=ea,i=Qe,{safeRe:u,t:c,comparatorTrimReplace:l,tildeTrimReplace:f,caretTrimReplace:p}=Qn,{FLAG_INCLUDE_PRERELEASE:T,FLAG_LOOSE:E}=xs,v=K=>K.value==="<0.0.0-0",P=K=>K.value==="",g=(K,q)=>{let B=!0;const X=K.slice();let H=X.pop();for(;B&&X.length;)B=X.every(R=>H.intersects(R,q)),H=X.pop();return B},m=(K,q)=>(a("comp",K,q),K=L(K,q),a("caret",K),K=w(K,q),a("tildes",K),K=O(K,q),a("xrange",K),K=V(K,q),a("stars",K),K),b=K=>!K||K.toLowerCase()==="x"||K==="*",w=(K,q)=>K.trim().split(/\s+/).map(B=>A(B,q)).join(" "),A=(K,q)=>{const B=q.loose?u[c.TILDELOOSE]:u[c.TILDE];return K.replace(B,(X,H,R,j,$)=>{a("tilde",K,X,H,R,j,$);let d;return b(H)?d="":b(R)?d=`>=${H}.0.0 <${+H+1}.0.0-0`:b(j)?d=`>=${H}.${R}.0 <${H}.${+R+1}.0-0`:$?(a("replaceTilde pr",$),d=`>=${H}.${R}.${j}-${$} <${H}.${+R+1}.0-0`):d=`>=${H}.${R}.${j} <${H}.${+R+1}.0-0`,a("tilde return",d),d})},L=(K,q)=>K.trim().split(/\s+/).map(B=>S(B,q)).join(" "),S=(K,q)=>{a("caret",K,q);const B=q.loose?u[c.CARETLOOSE]:u[c.CARET],X=q.includePrerelease?"-0":"";return K.replace(B,(H,R,j,$,d)=>{a("caret",K,H,R,j,$,d);let _;return b(R)?_="":b(j)?_=`>=${R}.0.0${X} <${+R+1}.0.0-0`:b($)?R==="0"?_=`>=${R}.${j}.0${X} <${R}.${+j+1}.0-0`:_=`>=${R}.${j}.0${X} <${+R+1}.0.0-0`:d?(a("replaceCaret pr",d),R==="0"?j==="0"?_=`>=${R}.${j}.${$}-${d} <${R}.${j}.${+$+1}-0`:_=`>=${R}.${j}.${$}-${d} <${R}.${+j+1}.0-0`:_=`>=${R}.${j}.${$}-${d} <${+R+1}.0.0-0`):(a("no pr"),R==="0"?j==="0"?_=`>=${R}.${j}.${$}${X} <${R}.${j}.${+$+1}-0`:_=`>=${R}.${j}.${$}${X} <${R}.${+j+1}.0-0`:_=`>=${R}.${j}.${$} <${+R+1}.0.0-0`),a("caret return",_),_})},O=(K,q)=>(a("replaceXRanges",K,q),K.split(/\s+/).map(B=>k(B,q)).join(" ")),k=(K,q)=>{K=K.trim();const B=q.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return K.replace(B,(X,H,R,j,$,d)=>{a("xRange",K,X,H,R,j,$,d);const _=b(R),y=_||b(j),o=y||b($),h=o;return H==="="&&h&&(H=""),d=q.includePrerelease?"-0":"",_?H===">"||H==="<"?X="<0.0.0-0":X="*":H&&h?(y&&(j=0),$=0,H===">"?(H=">=",y?(R=+R+1,j=0,$=0):(j=+j+1,$=0)):H==="<="&&(H="<",y?R=+R+1:j=+j+1),H==="<"&&(d="-0"),X=`${H+R}.${j}.${$}${d}`):y?X=`>=${R}.0.0${d} <${+R+1}.0.0-0`:o&&(X=`>=${R}.${j}.0${d} <${R}.${+j+1}.0-0`),a("xRange return",X),X})},V=(K,q)=>(a("replaceStars",K,q),K.trim().replace(u[c.STAR],"")),G=(K,q)=>(a("replaceGTE0",K,q),K.trim().replace(u[q.includePrerelease?c.GTE0PRE:c.GTE0],"")),Q=K=>(q,B,X,H,R,j,$,d,_,y,o,h,I)=>(b(X)?B="":b(H)?B=`>=${X}.0.0${K?"-0":""}`:b(R)?B=`>=${X}.${H}.0${K?"-0":""}`:j?B=`>=${B}`:B=`>=${B}${K?"-0":""}`,b(_)?d="":b(y)?d=`<${+_+1}.0.0-0`:b(o)?d=`<${_}.${+y+1}.0-0`:h?d=`<=${_}.${y}.${o}-${h}`:K?d=`<${_}.${y}.${+o+1}-0`:d=`<=${d}`,`${B} ${d}`.trim()),W=(K,q,B)=>{for(let X=0;X<K.length;X++)if(!K[X].test(q))return!1;if(q.prerelease.length&&!B.includePrerelease){for(let X=0;X<K.length;X++)if(a(K[X].semver),K[X].semver!==s.ANY&&K[X].semver.prerelease.length>0){const H=K[X].semver;if(H.major===q.major&&H.minor===q.minor&&H.patch===q.patch)return!0}return!1}return!0};return wa}var Sa,sl;function ra(){if(sl)return Sa;sl=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(f,p){if(p=r(p),f instanceof t){if(f.loose===!!p.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),i("comparator",f,p),this.options=p,this.loose=!!p.loose,this.parse(f),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(f){const p=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],T=f.match(p);if(!T)throw new TypeError(`Invalid comparator: ${f}`);this.operator=T[1]!==void 0?T[1]:"",this.operator==="="&&(this.operator=""),T[2]?this.semver=new u(T[2],this.options.loose):this.semver=e}toString(){return this.value}test(f){if(i("Comparator.test",f,this.options.loose),this.semver===e||f===e)return!0;if(typeof f=="string")try{f=new u(f,this.options)}catch{return!1}return a(f,this.operator,this.semver,this.options)}intersects(f,p){if(!(f instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(f.value,p).test(this.value):f.operator===""?f.value===""?!0:new c(this.value,p).test(f.semver):(p=r(p),p.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||a(this.semver,"<",f.semver,p)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||a(this.semver,">",f.semver,p)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}Sa=t;const r=Di,{safeRe:n,t:s}=Qn,a=Ef,i=ea,u=Qe,c=Et();return Sa}const mE=Et(),yE=(e,t,r)=>{try{t=new mE(t,r)}catch{return!1}return t.test(e)};var na=yE;const $E=Et(),gE=(e,t)=>new $E(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var vE=gE;const _E=Qe,EE=Et(),wE=(e,t,r)=>{let n=null,s=null,a=null;try{a=new EE(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new _E(n,r))}),n};var SE=wE;const bE=Qe,PE=Et(),OE=(e,t,r)=>{let n=null,s=null,a=null;try{a=new PE(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new bE(n,r))}),n};var RE=OE;const ba=Qe,NE=Et(),al=ta,TE=(e,t)=>{e=new NE(e,t);let r=new ba("0.0.0");if(e.test(r)||(r=new ba("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let a=null;s.forEach(i=>{const u=new ba(i.semver.version);switch(i.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!a||al(u,a))&&(a=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),a&&(!r||al(r,a))&&(r=a)}return r&&e.test(r)?r:null};var IE=TE;const AE=Et(),CE=(e,t)=>{try{return new AE(e,t).range||"*"}catch{return null}};var jE=CE;const DE=Qe,Sf=ra(),{ANY:kE}=Sf,LE=Et(),ME=na,ol=ta,il=Li,FE=Fi,VE=Mi,UE=(e,t,r,n)=>{e=new DE(e,n),t=new LE(t,n);let s,a,i,u,c;switch(r){case">":s=ol,a=FE,i=il,u=">",c=">=";break;case"<":s=il,a=VE,i=ol,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ME(e,t,n))return!1;for(let l=0;l<t.set.length;++l){const f=t.set[l];let p=null,T=null;if(f.forEach(E=>{E.semver===kE&&(E=new Sf(">=0.0.0")),p=p||E,T=T||E,s(E.semver,p.semver,n)?p=E:i(E.semver,T.semver,n)&&(T=E)}),p.operator===u||p.operator===c||(!T.operator||T.operator===u)&&a(e,T.semver))return!1;if(T.operator===c&&i(e,T.semver))return!1}return!0};var Vi=UE;const zE=Vi,qE=(e,t,r)=>zE(e,t,">",r);var GE=qE;const KE=Vi,WE=(e,t,r)=>KE(e,t,"<",r);var HE=WE;const cl=Et(),BE=(e,t,r)=>(e=new cl(e,r),t=new cl(t,r),e.intersects(t,r));var JE=BE;const XE=na,YE=_t;var QE=(e,t,r)=>{const n=[];let s=null,a=null;const i=e.sort((f,p)=>YE(f,p,r));for(const f of i)XE(f,t,r)?(a=f,s||(s=f)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const u=[];for(const[f,p]of n)f===p?u.push(f):!p&&f===i[0]?u.push("*"):p?f===i[0]?u.push(`<=${p}`):u.push(`${f} - ${p}`):u.push(`>=${f}`);const c=u.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t};const ll=Et(),Ui=ra(),{ANY:Pa}=Ui,En=na,zi=_t,ZE=(e,t,r={})=>{if(e===t)return!0;e=new ll(e,r),t=new ll(t,r);let n=!1;e:for(const s of e.set){for(const a of t.set){const i=ew(s,a,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},xE=[new Ui(">=0.0.0-0")],ul=[new Ui(">=0.0.0")],ew=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Pa){if(t.length===1&&t[0].semver===Pa)return!0;r.includePrerelease?e=xE:e=ul}if(t.length===1&&t[0].semver===Pa){if(r.includePrerelease)return!0;t=ul}const n=new Set;let s,a;for(const E of e)E.operator===">"||E.operator===">="?s=fl(s,E,r):E.operator==="<"||E.operator==="<="?a=dl(a,E,r):n.add(E.semver);if(n.size>1)return null;let i;if(s&&a){if(i=zi(s.semver,a.semver,r),i>0)return null;if(i===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const E of n){if(s&&!En(E,String(s),r)||a&&!En(E,String(a),r))return null;for(const v of t)if(!En(E,String(v),r))return!1;return!0}let u,c,l,f,p=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,T=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;p&&p.prerelease.length===1&&a.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(const E of t){if(f=f||E.operator===">"||E.operator===">=",l=l||E.operator==="<"||E.operator==="<=",s){if(T&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===T.major&&E.semver.minor===T.minor&&E.semver.patch===T.patch&&(T=!1),E.operator===">"||E.operator===">="){if(u=fl(s,E,r),u===E&&u!==s)return!1}else if(s.operator===">="&&!En(s.semver,String(E),r))return!1}if(a){if(p&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===p.major&&E.semver.minor===p.minor&&E.semver.patch===p.patch&&(p=!1),E.operator==="<"||E.operator==="<="){if(c=dl(a,E,r),c===E&&c!==a)return!1}else if(a.operator==="<="&&!En(a.semver,String(E),r))return!1}if(!E.operator&&(a||s)&&i!==0)return!1}return!(s&&l&&!a&&i!==0||a&&f&&!s&&i!==0||T||p)},fl=(e,t,r)=>{if(!e)return t;const n=zi(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},dl=(e,t,r)=>{if(!e)return t;const n=zi(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var tw=ZE;const Oa=Qn,hl=xs,rw=Qe,pl=gf,nw=dn,sw=n0,aw=o0,ow=c0,iw=u0,cw=h0,lw=y0,uw=v0,fw=w0,dw=_t,hw=O0,pw=T0,mw=ki,yw=j0,$w=L0,gw=ta,vw=Li,_w=vf,Ew=_f,ww=Mi,Sw=Fi,bw=Ef,Pw=aE,Ow=ra(),Rw=Et(),Nw=na,Tw=vE,Iw=SE,Aw=RE,Cw=IE,jw=jE,Dw=Vi,kw=GE,Lw=HE,Mw=JE,Fw=QE,Vw=tw;var Uw={parse:nw,valid:sw,clean:aw,inc:ow,diff:iw,major:cw,minor:lw,patch:uw,prerelease:fw,compare:dw,rcompare:hw,compareLoose:pw,compareBuild:mw,sort:yw,rsort:$w,gt:gw,lt:vw,eq:_w,neq:Ew,gte:ww,lte:Sw,cmp:bw,coerce:Pw,Comparator:Ow,Range:Rw,satisfies:Nw,toComparators:Tw,maxSatisfying:Iw,minSatisfying:Aw,minVersion:Cw,validRange:jw,outside:Dw,gtr:kw,ltr:Lw,intersects:Mw,simplifyRange:Fw,subset:Vw,SemVer:rw,re:Oa.re,src:Oa.src,tokens:Oa.t,SEMVER_SPEC_VERSION:hl.SEMVER_SPEC_VERSION,RELEASE_TYPES:hl.RELEASE_TYPES,compareIdentifiers:pl.compareIdentifiers,rcompareIdentifiers:pl.rcompareIdentifiers},sa={exports:{}},qi={exports:{}};const bf=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};qi.exports=bf;qi.exports.default=bf;var zw=qi.exports;const qw=zw,Us=new WeakMap,Pf=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const s=e.displayName||e.name||"<anonymous>",a=function(...i){if(Us.set(a,++n),n===1)r=e.apply(this,i),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return qw(a,e),Us.set(a,n),a};sa.exports=Pf;sa.exports.default=Pf;sa.exports.callCount=e=>{if(!Us.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Us.get(e)};var Gw=sa.exports;(function(e,t){var r=Yt&&Yt.__classPrivateFieldSet||function(H,R,j,$,d){if($==="m")throw new TypeError("Private method is not writable");if($==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?H!==R||!d:!R.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return $==="a"?d.call(H,j):d?d.value=j:R.set(H,j),j},n=Yt&&Yt.__classPrivateFieldGet||function(H,R,j,$){if(j==="a"&&!$)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?H!==R||!$:!R.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?$:j==="a"?$.call(H):$?$.value:R.get(H)},s,a,i,u,c,l;Object.defineProperty(t,"__esModule",{value:!0});const f=Xa,p=pr,T=it,E=Jf,v=Xf,P=zs,g=fd,m=wd,b=Od,w=kt,A=Vy,L=I_,S=z_,O=Uw,k=Gw,V="aes-256-cbc",G=()=>Object.create(null),Q=H=>H!=null;let W="";try{delete require.cache[__filename],W=T.dirname((a=(s=e.parent)===null||s===void 0?void 0:s.filename)!==null&&a!==void 0?a:".")}catch{}const K=(H,R)=>{const j=new Set(["undefined","symbol","function"]),$=typeof R;if(j.has($))throw new TypeError(`Setting a value of type \`${$}\` for key \`${H}\` is not allowed as it's not supported by JSON`)},q="__internal__",B=`${q}.migrations.version`;class X{constructor(R={}){var j;i.set(this,void 0),u.set(this,void 0),c.set(this,void 0),l.set(this,{}),this._deserialize=h=>JSON.parse(h),this._serialize=h=>JSON.stringify(h,void 0,"	");const $={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...R},d=k(()=>{const h=m.sync({cwd:W}),I=h&&JSON.parse(p.readFileSync(h,"utf8"));return I??{}});if(!$.cwd){if($.projectName||($.projectName=d().name),!$.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");$.cwd=b($.projectName,{suffix:$.projectSuffix}).config}if(r(this,c,$,"f"),$.schema){if(typeof $.schema!="object")throw new TypeError("The `schema` option must be an object.");const h=new A.default({allErrors:!0,useDefaults:!0});(0,L.default)(h);const I={type:"object",properties:$.schema};r(this,i,h.compile(I),"f");for(const[U,z]of Object.entries($.schema))z!=null&&z.default&&(n(this,l,"f")[U]=z.default)}$.defaults&&r(this,l,{...n(this,l,"f"),...$.defaults},"f"),$.serialize&&(this._serialize=$.serialize),$.deserialize&&(this._deserialize=$.deserialize),this.events=new P.EventEmitter,r(this,u,$.encryptionKey,"f");const _=$.fileExtension?`.${$.fileExtension}`:"";this.path=T.resolve($.cwd,`${(j=$.configName)!==null&&j!==void 0?j:"config"}${_}`);const y=this.store,o=Object.assign(G(),$.defaults,y);this._validate(o);try{v.deepEqual(y,o)}catch{this.store=o}if($.watch&&this._watch(),$.migrations){if($.projectVersion||($.projectVersion=d().version),!$.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate($.migrations,$.projectVersion,$.beforeEachMigration)}}get(R,j){if(n(this,c,"f").accessPropertiesByDotNotation)return this._get(R,j);const{store:$}=this;return R in $?$[R]:j}set(R,j){if(typeof R!="string"&&typeof R!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof R}`);if(typeof R!="object"&&j===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(R))throw new TypeError(`Please don't use the ${q} key, as it's used to manage this module internal operations.`);const{store:$}=this,d=(_,y)=>{K(_,y),n(this,c,"f").accessPropertiesByDotNotation?g.set($,_,y):$[_]=y};if(typeof R=="object"){const _=R;for(const[y,o]of Object.entries(_))d(y,o)}else d(R,j);this.store=$}has(R){return n(this,c,"f").accessPropertiesByDotNotation?g.has(this.store,R):R in this.store}reset(...R){for(const j of R)Q(n(this,l,"f")[j])&&this.set(j,n(this,l,"f")[j])}delete(R){const{store:j}=this;n(this,c,"f").accessPropertiesByDotNotation?g.delete(j,R):delete j[R],this.store=j}clear(){this.store=G();for(const R of Object.keys(n(this,l,"f")))this.reset(R)}onDidChange(R,j){if(typeof R!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof R}`);if(typeof j!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof j}`);return this._handleChange(()=>this.get(R),j)}onDidAnyChange(R){if(typeof R!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof R}`);return this._handleChange(()=>this.store,R)}get size(){return Object.keys(this.store).length}get store(){try{const R=p.readFileSync(this.path,n(this,u,"f")?null:"utf8"),j=this._encryptData(R),$=this._deserialize(j);return this._validate($),Object.assign(G(),$)}catch(R){if((R==null?void 0:R.code)==="ENOENT")return this._ensureDirectory(),G();if(n(this,c,"f").clearInvalidConfig&&R.name==="SyntaxError")return G();throw R}}set store(R){this._ensureDirectory(),this._validate(R),this._write(R),this.events.emit("change")}*[(i=new WeakMap,u=new WeakMap,c=new WeakMap,l=new WeakMap,Symbol.iterator)](){for(const[R,j]of Object.entries(this.store))yield[R,j]}_encryptData(R){if(!n(this,u,"f"))return R.toString();try{if(n(this,u,"f"))try{if(R.slice(16,17).toString()===":"){const j=R.slice(0,16),$=E.pbkdf2Sync(n(this,u,"f"),j.toString(),1e4,32,"sha512"),d=E.createDecipheriv(V,$,j);R=Buffer.concat([d.update(Buffer.from(R.slice(17))),d.final()]).toString("utf8")}else{const j=E.createDecipher(V,n(this,u,"f"));R=Buffer.concat([j.update(Buffer.from(R)),j.final()]).toString("utf8")}}catch{}}catch{}return R.toString()}_handleChange(R,j){let $=R();const d=()=>{const _=$,y=R();(0,f.isDeepStrictEqual)(y,_)||($=y,j.call(this,y,_))};return this.events.on("change",d),()=>this.events.removeListener("change",d)}_validate(R){if(!n(this,i,"f")||n(this,i,"f").call(this,R)||!n(this,i,"f").errors)return;const $=n(this,i,"f").errors.map(({instancePath:d,message:_=""})=>`\`${d.slice(1)}\` ${_}`);throw new Error("Config schema violation: "+$.join("; "))}_ensureDirectory(){p.mkdirSync(T.dirname(this.path),{recursive:!0})}_write(R){let j=this._serialize(R);if(n(this,u,"f")){const $=E.randomBytes(16),d=E.pbkdf2Sync(n(this,u,"f"),$.toString(),1e4,32,"sha512"),_=E.createCipheriv(V,d,$);j=Buffer.concat([$,Buffer.from(":"),_.update(Buffer.from(j)),_.final()])}if(process.env.SNAP)p.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode});else try{w.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode})}catch($){if(($==null?void 0:$.code)==="EXDEV"){p.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode});return}throw $}}_watch(){this._ensureDirectory(),p.existsSync(this.path)||this._write(G()),process.platform==="win32"?p.watch(this.path,{persistent:!1},S(()=>{this.events.emit("change")},{wait:100})):p.watchFile(this.path,{persistent:!1},S(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(R,j,$){let d=this._get(B,"0.0.0");const _=Object.keys(R).filter(o=>this._shouldPerformMigration(o,d,j));let y={...this.store};for(const o of _)try{$&&$(this,{fromVersion:d,toVersion:o,finalVersion:j,versions:_});const h=R[o];h(this),this._set(B,o),d=o,y={...this.store}}catch(h){throw this.store=y,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${h}`)}(this._isVersionInRangeFormat(d)||!O.eq(d,j))&&this._set(B,j)}_containsReservedKey(R){return typeof R=="object"&&Object.keys(R)[0]===q?!0:typeof R!="string"?!1:n(this,c,"f").accessPropertiesByDotNotation?!!R.startsWith(`${q}.`):!1}_isVersionInRangeFormat(R){return O.clean(R)===null}_shouldPerformMigration(R,j,$){return this._isVersionInRangeFormat(R)?j!=="0.0.0"&&O.satisfies(j,R)?!1:O.satisfies($,R):!(O.lte(R,j)||O.gt(R,$))}_get(R,j){return g.get(this.store,R,j)}_set(R,j){const{store:$}=this;g.set($,R,j),this.store=$}}t.default=X,e.exports=X,e.exports.default=X})(Aa,Aa.exports);var Kw=Aa.exports;const ml=it,{app:Rs,ipcMain:Ja,ipcRenderer:yl,shell:Ww}=je,Hw=Kw;let $l=!1;const gl=()=>{if(!Ja||!Rs)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Rs.getPath("userData"),appVersion:Rs.getVersion()};return $l||(Ja.on("electron-store-get-data",t=>{t.returnValue=e}),$l=!0),e};class Bw extends Hw{constructor(t){let r,n;if(yl){const s=yl.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else Ja&&Rs&&({defaultCwd:r,appVersion:n}=gl());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=ml.isAbsolute(t.cwd)?t.cwd:ml.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){gl()}openInEditor(){Ww.openPath(this.path)}}var Jw=Bw;const Xw=Il(Jw),Of=pr,Pn=it;var Yw={findAndReadPackageJson:Qw,tryReadJsonAt:Yr};function Qw(){return Yr(eS())||Yr(xw())||Yr(process.resourcesPath,"app.asar")||Yr(process.resourcesPath,"app")||Yr(process.cwd())||{name:void 0,version:void 0}}function Yr(...e){if(e[0])try{const t=Pn.join(...e),r=Zw("package.json",t);if(!r)return;const n=JSON.parse(Of.readFileSync(r,"utf8")),s=(n==null?void 0:n.productName)||(n==null?void 0:n.name);return!s||s.toLowerCase()==="electron"?void 0:s?{name:s,version:n==null?void 0:n.version}:void 0}catch{return}}function Zw(e,t){let r=t;for(;;){const n=Pn.parse(r),s=n.root,a=n.dir;if(Of.existsSync(Pn.join(r,e)))return Pn.resolve(Pn.join(r,e));if(r===s)return null;r=a}}function xw(){const e=process.argv.filter(r=>r.indexOf("--user-data-dir=")===0);return e.length===0||typeof e[0]!="string"?null:e[0].replace("--user-data-dir=","")}function eS(){var e;try{return(e=require.main)==null?void 0:e.filename}catch{return}}const tS=Qf,Er=Un,Hr=it,rS=Yw;let nS=class{constructor(){ue(this,"appName");ue(this,"appPackageJson");ue(this,"platform",process.platform)}getAppLogPath(t=this.getAppName()){return this.platform==="darwin"?Hr.join(this.getSystemPathHome(),"Library/Logs",t):Hr.join(this.getAppUserDataPath(t),"logs")}getAppName(){var t;return this.appName||((t=this.getAppPackageJson())==null?void 0:t.name)}getAppPackageJson(){return typeof this.appPackageJson!="object"&&(this.appPackageJson=rS.findAndReadPackageJson()),this.appPackageJson}getAppUserDataPath(t=this.getAppName()){return t?Hr.join(this.getSystemPathAppData(),t):void 0}getAppVersion(){var t;return(t=this.getAppPackageJson())==null?void 0:t.version}getElectronLogPath(){return this.getAppLogPath()}getMacOsVersion(){const t=Number(Er.release().split(".")[0]);return t<=19?`10.${t-4}`:t-9}getOsVersion(){let t=Er.type().replace("_"," "),r=Er.release();return t==="Darwin"&&(t="macOS",r=this.getMacOsVersion()),`${t} ${r}`}getPathVariables(){const t=this.getAppName(),r=this.getAppVersion(),n=this;return{appData:this.getSystemPathAppData(),appName:t,appVersion:r,get electronDefaultDir(){return n.getElectronLogPath()},home:this.getSystemPathHome(),libraryDefaultDir:this.getAppLogPath(t),libraryTemplate:this.getAppLogPath("{appName}"),temp:this.getSystemPathTemp(),userData:this.getAppUserDataPath(t)}}getSystemPathAppData(){const t=this.getSystemPathHome();switch(this.platform){case"darwin":return Hr.join(t,"Library/Application Support");case"win32":return process.env.APPDATA||Hr.join(t,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||Hr.join(t,".config")}}getSystemPathHome(){var t;return((t=Er.homedir)==null?void 0:t.call(Er))||process.env.HOME}getSystemPathTemp(){return Er.tmpdir()}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:void 0,os:this.getOsVersion()}}isDev(){return process.env.NODE_ENV==="development"||process.env.ELECTRON_IS_DEV==="1"}isElectron(){return!!process.versions.electron}onAppEvent(t,r){}onAppReady(t){t()}onEveryWebContentsEvent(t,r){}onIpc(t,r){}onIpcInvoke(t,r){}openUrl(t,r=console.error){const s={darwin:"open",win32:"start",linux:"xdg-open"}[process.platform]||"xdg-open";tS.exec(`${s} ${t}`,{},a=>{a&&r(a)})}setPlatform(t){this.platform=t}setPreloadFileForSessions({filePath:t,includeFutureSession:r=!0,getSessions:n=()=>[]}){}sendIpc(t,r){}showErrorBox(t,r){}};var sS=nS;const aS=it,oS=sS;let iS=class extends oS{constructor({electron:r}={}){super();ue(this,"electron");this.electron=r}getAppName(){var n,s;let r;try{r=((n=this.electron.app)==null?void 0:n.name)||((s=this.electron.app)==null?void 0:s.getName())}catch{}return r||super.getAppName()}getAppUserDataPath(r){return this.getPath("userData")||super.getAppUserDataPath(r)}getAppVersion(){var n;let r;try{r=(n=this.electron.app)==null?void 0:n.getVersion()}catch{}return r||super.getAppVersion()}getElectronLogPath(){return this.getPath("logs")||super.getElectronLogPath()}getPath(r){var n;try{return(n=this.electron.app)==null?void 0:n.getPath(r)}catch{return}}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:`Electron ${process.versions.electron}`,os:this.getOsVersion()}}getSystemPathAppData(){return this.getPath("appData")||super.getSystemPathAppData()}isDev(){var r;return((r=this.electron.app)==null?void 0:r.isPackaged)!==void 0?!this.electron.app.isPackaged:typeof process.execPath=="string"?aS.basename(process.execPath).toLowerCase().startsWith("electron"):super.isDev()}onAppEvent(r,n){var s;return(s=this.electron.app)==null||s.on(r,n),()=>{var a;(a=this.electron.app)==null||a.off(r,n)}}onAppReady(r){var n,s,a;(n=this.electron.app)!=null&&n.isReady()?r():(s=this.electron.app)!=null&&s.once?(a=this.electron.app)==null||a.once("ready",r):r()}onEveryWebContentsEvent(r,n){var a,i,u;return(i=(a=this.electron.webContents)==null?void 0:a.getAllWebContents())==null||i.forEach(c=>{c.on(r,n)}),(u=this.electron.app)==null||u.on("web-contents-created",s),()=>{var c,l;(c=this.electron.webContents)==null||c.getAllWebContents().forEach(f=>{f.off(r,n)}),(l=this.electron.app)==null||l.off("web-contents-created",s)};function s(c,l){l.on(r,n)}}onIpc(r,n){var s;(s=this.electron.ipcMain)==null||s.on(r,n)}onIpcInvoke(r,n){var s,a;(a=(s=this.electron.ipcMain)==null?void 0:s.handle)==null||a.call(s,r,n)}openUrl(r,n=console.error){var s;(s=this.electron.shell)==null||s.openExternal(r).catch(n)}setPreloadFileForSessions({filePath:r,includeFutureSession:n=!0,getSessions:s=()=>{var a;return[(a=this.electron.session)==null?void 0:a.defaultSession]}}){for(const i of s().filter(Boolean))a(i);n&&this.onAppEvent("session-created",i=>{a(i)});function a(i){i.setPreloads([...i.getPreloads(),r])}}sendIpc(r,n){var s,a;(a=(s=this.electron.BrowserWindow)==null?void 0:s.getAllWindows())==null||a.forEach(i=>{var u;((u=i.webContents)==null?void 0:u.isDestroyed())===!1&&i.webContents.send(r,n)})}showErrorBox(r,n){var s;(s=this.electron.dialog)==null||s.showErrorBox(r,n)}};var cS=iS,Rf={exports:{}};(function(e){let t={};try{t=require("electron")}catch{}t.ipcRenderer&&r(t),e.exports=r;function r({contextBridge:n,ipcRenderer:s}){if(!s)return;s.on("__ELECTRON_LOG_IPC__",(i,u)=>{window.postMessage({cmd:"message",...u})}),s.invoke("__ELECTRON_LOG__",{cmd:"getOptions"}).catch(i=>console.error(new Error(`electron-log isn't initialized in the main process. Please call log.initialize() before. ${i.message}`)));const a={sendToMain(i){try{s.send("__ELECTRON_LOG__",i)}catch(u){console.error("electronLog.sendToMain ",u,"data:",i),s.send("__ELECTRON_LOG__",{cmd:"errorHandler",error:{message:u==null?void 0:u.message,stack:u==null?void 0:u.stack},errorName:"sendToMain"})}},log(...i){a.sendToMain({data:i,level:"info"})}};for(const i of["error","warn","info","verbose","debug","silly"])a[i]=(...u)=>a.sendToMain({data:u,level:i});if(n&&process.contextIsolated)try{n.exposeInMainWorld("__electronLog",a)}catch{}typeof window=="object"?window.__electronLog=a:__electronLog=a}})(Rf);var lS=Rf.exports;const vl=pr,uS=Un,_l=it,fS=lS;var dS={initialize({externalApi:e,getSessions:t,includeFutureSession:r,logger:n,preload:s=!0,spyRendererConsole:a=!1}){e.onAppReady(()=>{try{s&&hS({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:s}),a&&pS({externalApi:e,logger:n})}catch(i){n.warn(i)}})}};function hS({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:n}){let s=typeof n=="string"?n:void 0;try{s=_l.resolve(__dirname,"../renderer/electron-log-preload.js")}catch{}if(!s||!vl.existsSync(s)){s=_l.join(e.getAppUserDataPath()||uS.tmpdir(),"electron-log-preload.js");const a=`
      try {
        (${fS.toString()})(require('electron'));
      } catch(e) {
        console.error(e);
      }
    `;vl.writeFileSync(s,a,"utf8")}e.setPreloadFileForSessions({filePath:s,includeFutureSession:r,getSessions:t})}function pS({externalApi:e,logger:t}){const r=["verbose","info","warning","error"];e.onEveryWebContentsEvent("console-message",(n,s,a)=>{t.processMessage({data:[a],level:r[s],variables:{processType:"renderer"}})})}var mS=yS;function yS(e){return Object.defineProperties(t,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof t.labelPadding){case"boolean":return t.labelPadding?t.maxLabelLength:0;case"number":return t.labelPadding;default:return 0}}}});function t(r){t.maxLabelLength=Math.max(t.maxLabelLength,r.length);const n={};for(const s of[...e.levels,"log"])n[s]=(...a)=>e.logData(a,{level:s,scope:r});return n}}const $S=mS;var Cr;let gS=(Cr=class{constructor({allowUnknownLevel:t=!1,dependencies:r={},errorHandler:n,eventLogger:s,initializeFn:a,isDev:i=!1,levels:u=["error","warn","info","verbose","debug","silly"],logId:c,transportFactories:l={},variables:f}={}){ue(this,"dependencies",{});ue(this,"errorHandler",null);ue(this,"eventLogger",null);ue(this,"functions",{});ue(this,"hooks",[]);ue(this,"isDev",!1);ue(this,"levels",null);ue(this,"logId",null);ue(this,"scope",null);ue(this,"transports",{});ue(this,"variables",{});this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=t,this.dependencies=r,this.initializeFn=a,this.isDev=i,this.levels=u,this.logId=c,this.transportFactories=l,this.variables=f||{},this.scope=$S(this),this.addLevel("log",!1);for(const p of this.levels)this.addLevel(p,!1);this.errorHandler=n,n==null||n.setOptions({...r,logFn:this.error}),this.eventLogger=s,s==null||s.setOptions({...r,logger:this});for(const[p,T]of Object.entries(l))this.transports[p]=T(this,r);Cr.instances[c]=this}static getInstance({logId:t}){return this.instances[t]||this.instances.default}addLevel(t,r=this.levels.length){r!==!1&&this.levels.splice(r,0,t),this[t]=(...n)=>this.logData(n,{level:t}),this.functions[t]=this[t]}catchErrors(t){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(t)}create(t){return typeof t=="string"&&(t={logId:t}),new Cr({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...t})}compareLevels(t,r,n=this.levels){const s=n.indexOf(t),a=n.indexOf(r);return a===-1||s===-1?!0:a<=s}initialize(t={}){this.initializeFn({logger:this,...this.dependencies,...t})}logData(t,r={}){this.processMessage({data:t,...r})}processMessage(t,{transports:r=this.transports}={}){if(t.cmd==="errorHandler"){this.errorHandler.handle(t.error,{errorName:t.errorName,processType:"renderer",showDialog:!!t.showDialog});return}let n=t.level;this.allowUnknownLevel||(n=this.levels.includes(t.level)?t.level:"info");const s={date:new Date,...t,level:n,variables:{...this.variables,...t.variables}};for(const[a,i]of this.transportEntries(r))if(!(typeof i!="function"||i.level===!1)&&this.compareLevels(i.level,t.level))try{const u=this.hooks.reduce((c,l)=>c&&l(c,i,a),s);u&&i({...u,data:[...u.data]})}catch(u){this.processInternalErrorFn(u)}}processInternalErrorFn(t){}transportEntries(t=this.transports){return(Array.isArray(t)?t:Object.entries(t)).map(n=>{switch(typeof n){case"string":return this.transports[n]?[n,this.transports[n]]:null;case"function":return[n.name,n];default:return Array.isArray(n)?n:null}}).filter(Boolean)}},ue(Cr,"instances",{}),Cr);var vS=gS;let _S=class{constructor({externalApi:t,logFn:r=void 0,onError:n=void 0,showDialog:s=void 0}={}){ue(this,"externalApi");ue(this,"isActive",!1);ue(this,"logFn");ue(this,"onError");ue(this,"showDialog",!0);this.createIssue=this.createIssue.bind(this),this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.setOptions({externalApi:t,logFn:r,onError:n,showDialog:s}),this.startCatching=this.startCatching.bind(this),this.stopCatching=this.stopCatching.bind(this)}handle(t,{logFn:r=this.logFn,onError:n=this.onError,processType:s="browser",showDialog:a=this.showDialog,errorName:i=""}={}){var u;t=ES(t);try{if(typeof n=="function"){const c=((u=this.externalApi)==null?void 0:u.getVersions())||{},l=this.createIssue;if(n({createIssue:l,error:t,errorName:i,processType:s,versions:c})===!1)return}i?r(i,t):r(t),a&&!i.includes("rejection")&&this.externalApi&&this.externalApi.showErrorBox(`A JavaScript error occurred in the ${s} process`,t.stack)}catch{console.error(t)}}setOptions({externalApi:t,logFn:r,onError:n,showDialog:s}){typeof t=="object"&&(this.externalApi=t),typeof r=="function"&&(this.logFn=r),typeof n=="function"&&(this.onError=n),typeof s=="boolean"&&(this.showDialog=s)}startCatching({onError:t,showDialog:r}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:t,showDialog:r}),process.on("uncaughtException",this.handleError),process.on("unhandledRejection",this.handleRejection))}stopCatching(){this.isActive=!1,process.removeListener("uncaughtException",this.handleError),process.removeListener("unhandledRejection",this.handleRejection)}createIssue(t,r){var n;(n=this.externalApi)==null||n.openUrl(`${t}?${new URLSearchParams(r).toString()}`)}handleError(t){this.handle(t,{errorName:"Unhandled"})}handleRejection(t){const r=t instanceof Error?t:new Error(JSON.stringify(t));this.handle(r,{errorName:"Unhandled rejection"})}};function ES(e){if(e instanceof Error)return e;if(e&&typeof e=="object"){if(e.message)return Object.assign(new Error(e.message),e);try{return new Error(JSON.stringify(e))}catch(t){return new Error(`Couldn't normalize error ${String(e)}: ${t}`)}}return new Error(`Can't normalize error ${String(e)}`)}var wS=_S;let SS=class{constructor(t={}){ue(this,"disposers",[]);ue(this,"format","{eventSource}#{eventName}:");ue(this,"formatters",{app:{"certificate-error":({args:t})=>this.arrayToObject(t.slice(1,4),["url","error","certificate"]),"child-process-gone":({args:t})=>t.length===1?t[0]:t,"render-process-gone":({args:[t,r]})=>r&&typeof r=="object"?{...r,...this.getWebContentsDetails(t)}:[]},webContents:{"console-message":({args:[t,r,n,s]})=>{if(!(t<3))return{message:r,source:`${s}:${n}`}},"did-fail-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"did-fail-provisional-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"plugin-crashed":({args:t})=>this.arrayToObject(t,["name","version"]),"preload-error":({args:t})=>this.arrayToObject(t,["preloadPath","error"])}});ue(this,"events",{app:{"certificate-error":!0,"child-process-gone":!0,"render-process-gone":!0},webContents:{"did-fail-load":!0,"did-fail-provisional-load":!0,"plugin-crashed":!0,"preload-error":!0,unresponsive:!0}});ue(this,"externalApi");ue(this,"level","error");ue(this,"scope","");this.setOptions(t)}setOptions({events:t,externalApi:r,level:n,logger:s,format:a,formatters:i,scope:u}){typeof t=="object"&&(this.events=t),typeof r=="object"&&(this.externalApi=r),typeof n=="string"&&(this.level=n),typeof s=="object"&&(this.logger=s),(typeof a=="string"||typeof a=="function")&&(this.format=a),typeof i=="object"&&(this.formatters=i),typeof u=="string"&&(this.scope=u)}startLogging(t={}){this.setOptions(t),this.disposeListeners();for(const r of this.getEventNames(this.events.app))this.disposers.push(this.externalApi.onAppEvent(r,(...n)=>{this.handleEvent({eventSource:"app",eventName:r,handlerArgs:n})}));for(const r of this.getEventNames(this.events.webContents))this.disposers.push(this.externalApi.onEveryWebContentsEvent(r,(...n)=>{this.handleEvent({eventSource:"webContents",eventName:r,handlerArgs:n})}))}stopLogging(){this.disposeListeners()}arrayToObject(t,r){const n={};return r.forEach((s,a)=>{n[s]=t[a]}),t.length>r.length&&(n.unknownArgs=t.slice(r.length)),n}disposeListeners(){this.disposers.forEach(t=>t()),this.disposers=[]}formatEventLog({eventName:t,eventSource:r,handlerArgs:n}){var f;const[s,...a]=n;if(typeof this.format=="function")return this.format({args:a,event:s,eventName:t,eventSource:r});const i=(f=this.formatters[r])==null?void 0:f[t];let u=a;if(typeof i=="function"&&(u=i({args:a,event:s,eventName:t,eventSource:r})),!u)return;const c={};return Array.isArray(u)?c.args=u:typeof u=="object"&&Object.assign(c,u),r==="webContents"&&Object.assign(c,this.getWebContentsDetails(s==null?void 0:s.sender)),[this.format.replace("{eventSource}",r==="app"?"App":"WebContents").replace("{eventName}",t),c]}getEventNames(t){return!t||typeof t!="object"?[]:Object.entries(t).filter(([r,n])=>n).map(([r])=>r)}getWebContentsDetails(t){if(!(t!=null&&t.loadURL))return{};try{return{webContents:{id:t.id,url:t.getURL()}}}catch{return{}}}handleEvent({eventName:t,eventSource:r,handlerArgs:n}){var a;const s=this.formatEventLog({eventName:t,eventSource:r,handlerArgs:n});if(s){const i=this.scope?this.logger.scope(this.scope):this.logger;(a=i==null?void 0:i[this.level])==null||a.call(i,...s)}}};var bS=SS,Zn={transform:PS};function PS({logger:e,message:t,transport:r,initialData:n=(t==null?void 0:t.data)||[],transforms:s=r==null?void 0:r.transforms}){return s.reduce((a,i)=>typeof i=="function"?i({data:a,logger:e,message:t,transport:r}):a,n)}const{transform:OS}=Zn;var Nf={concatFirstStringElements:RS,formatScope:El,formatText:Sl,formatVariables:wl,timeZoneFromOffset:Tf,format({message:e,logger:t,transport:r,data:n=e==null?void 0:e.data}){switch(typeof r.format){case"string":return OS({message:e,logger:t,transforms:[wl,El,Sl],transport:r,initialData:[r.format,...n]});case"function":return r.format({data:n,level:(e==null?void 0:e.level)||"info",logger:t,message:e,transport:r});default:return n}}};function RS({data:e}){return typeof e[0]!="string"||typeof e[1]!="string"||e[0].match(/%[1cdfiOos]/)?e:[`${e[0]} ${e[1]}`,...e.slice(2)]}function Tf(e){const t=Math.abs(e),r=e>=0?"-":"+",n=Math.floor(t/60).toString().padStart(2,"0"),s=(t%60).toString().padStart(2,"0");return`${r}${n}:${s}`}function El({data:e,logger:t,message:r}){const{defaultLabel:n,labelLength:s}=(t==null?void 0:t.scope)||{},a=e[0];let i=r.scope;i||(i=n);let u;return i===""?u=s>0?"".padEnd(s+3):"":typeof i=="string"?u=` (${i})`.padEnd(s+3):u="",e[0]=a.replace("{scope}",u),e}function wl({data:e,message:t}){let r=e[0];if(typeof r!="string")return e;r=r.replace("{level}]",`${t.level}]`.padEnd(6," "));const n=t.date||new Date;return e[0]=r.replace(/\{(\w+)}/g,(s,a)=>{var i;switch(a){case"level":return t.level||"info";case"logId":return t.logId;case"y":return n.getFullYear().toString(10);case"m":return(n.getMonth()+1).toString(10).padStart(2,"0");case"d":return n.getDate().toString(10).padStart(2,"0");case"h":return n.getHours().toString(10).padStart(2,"0");case"i":return n.getMinutes().toString(10).padStart(2,"0");case"s":return n.getSeconds().toString(10).padStart(2,"0");case"ms":return n.getMilliseconds().toString(10).padStart(3,"0");case"z":return Tf(n.getTimezoneOffset());case"iso":return n.toISOString();default:return((i=t.variables)==null?void 0:i[a])||s}}).trim(),e}function Sl({data:e}){const t=e[0];if(typeof t!="string")return e;if(t.lastIndexOf("{text}")===t.length-6)return e[0]=t.replace(/\s?{text}/,""),e[0]===""&&e.shift(),e;const n=t.split("{text}");let s=[];return n[0]!==""&&s.push(n[0]),s=s.concat(e.slice(1)),n[1]!==""&&s.push(n[1]),s}var If={exports:{}};(function(e){const t=Xa;e.exports={serialize:n,maxDepth({data:s,transport:a,depth:i=(a==null?void 0:a.depth)??6}){if(!s)return s;if(i<1)return Array.isArray(s)?"[array]":typeof s=="object"&&s?"[object]":s;if(Array.isArray(s))return s.map(c=>e.exports.maxDepth({data:c,depth:i-1}));if(typeof s!="object"||s&&typeof s.toISOString=="function")return s;if(s===null)return null;if(s instanceof Error)return s;const u={};for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&(u[c]=e.exports.maxDepth({data:s[c],depth:i-1}));return u},toJSON({data:s}){return JSON.parse(JSON.stringify(s,r()))},toString({data:s,transport:a}){const i=(a==null?void 0:a.inspectOptions)||{},u=s.map(c=>{if(c!==void 0)try{const l=JSON.stringify(c,r(),"  ");return l===void 0?void 0:JSON.parse(l)}catch{return c}});return t.formatWithOptions(i,...u)}};function r(s={}){const a=new WeakSet;return function(i,u){if(typeof u=="object"&&u!==null){if(a.has(u))return;a.add(u)}return n(i,u,s)}}function n(s,a,i={}){const u=(i==null?void 0:i.serializeMapAndSet)!==!1;return a instanceof Error?a.stack:a&&(typeof a=="function"?`[function] ${a.toString()}`:a instanceof Date?a.toISOString():u&&a instanceof Map&&Object.fromEntries?Object.fromEntries(a):u&&a instanceof Set&&Array.from?Array.from(a):a)}})(If);var aa=If.exports,Gi={transformStyles:Ra,applyAnsiStyles({data:e}){return Ra(e,NS,TS)},removeStyles({data:e}){return Ra(e,()=>"")}};const Af={unset:"\x1B[0m",black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"};function NS(e){const t=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return Af[t]||""}function TS(e){return e+Af.unset}function Ra(e,t,r){const n={};return e.reduce((s,a,i,u)=>{if(n[i])return s;if(typeof a=="string"){let c=i,l=!1;a=a.replace(/%[1cdfiOos]/g,f=>{if(c+=1,f!=="%c")return f;const p=u[c];return typeof p=="string"?(n[c]=!0,l=!0,t(p,a)):f}),l&&r&&(a=r(a))}return s.push(a),s},[])}const{concatFirstStringElements:IS,format:AS}=Nf,{maxDepth:CS,toJSON:jS}=aa,{applyAnsiStyles:DS,removeStyles:kS}=Gi,{transform:LS}=Zn,bl={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};var MS=Cf;const FS=process.platform==="win32"?">":"",Ki=`%c{h}:{i}:{s}.{ms}{scope}%c ${FS} {text}`;Object.assign(Cf,{DEFAULT_FORMAT:Ki});function Cf(e){return Object.assign(t,{format:Ki,level:"silly",transforms:[VS,AS,zS,IS,CS,jS],useStyles:process.env.FORCE_STYLES,writeFn({message:r}){(bl[r.level]||bl.info)(...r.data)}});function t(r){const n=LS({logger:e,message:r,transport:t});t.writeFn({message:{...r,data:n}})}}function VS({data:e,message:t,transport:r}){return r.format!==Ki?e:[`color:${qS(t.level)}`,"color:unset",...e]}function US(e,t){if(typeof e=="boolean")return e;const n=t==="error"||t==="warn"?process.stderr:process.stdout;return n&&n.isTTY}function zS(e){const{message:t,transport:r}=e;return(US(r.useStyles,t.level)?DS:kS)(e)}function qS(e){const t={error:"red",warn:"yellow",info:"cyan",default:"unset"};return t[e]||t.default}const GS=zs,fr=pr,Pl=Un;let KS=class extends GS{constructor({path:r,writeOptions:n={encoding:"utf8",flag:"a",mode:438},writeAsync:s=!1}){super();ue(this,"asyncWriteQueue",[]);ue(this,"bytesWritten",0);ue(this,"hasActiveAsyncWriting",!1);ue(this,"path",null);ue(this,"initialSize");ue(this,"writeOptions",null);ue(this,"writeAsync",!1);this.path=r,this.writeOptions=n,this.writeAsync=s}get size(){return this.getSize()}clear(){try{return fr.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(r){return r.code==="ENOENT"?!0:(this.emit("error",r,this),!1)}}crop(r){try{const n=WS(this.path,r||4096);this.clear(),this.writeLine(`[log cropped]${Pl.EOL}${n}`)}catch(n){this.emit("error",new Error(`Couldn't crop file ${this.path}. ${n.message}`),this)}}getSize(){if(this.initialSize===void 0)try{const r=fr.statSync(this.path);this.initialSize=r.size}catch{this.initialSize=0}return this.initialSize+this.bytesWritten}increaseBytesWrittenCounter(r){this.bytesWritten+=Buffer.byteLength(r,this.writeOptions.encoding)}isNull(){return!1}nextAsyncWrite(){const r=this;if(this.hasActiveAsyncWriting||this.asyncWriteQueue.length===0)return;const n=this.asyncWriteQueue.join("");this.asyncWriteQueue=[],this.hasActiveAsyncWriting=!0,fr.writeFile(this.path,n,this.writeOptions,s=>{r.hasActiveAsyncWriting=!1,s?r.emit("error",new Error(`Couldn't write to ${r.path}. ${s.message}`),this):r.increaseBytesWrittenCounter(n),r.nextAsyncWrite()})}reset(){this.initialSize=void 0,this.bytesWritten=0}toString(){return this.path}writeLine(r){if(r+=Pl.EOL,this.writeAsync){this.asyncWriteQueue.push(r),this.nextAsyncWrite();return}try{fr.writeFileSync(this.path,r,this.writeOptions),this.increaseBytesWrittenCounter(r)}catch(n){this.emit("error",new Error(`Couldn't write to ${this.path}. ${n.message}`),this)}}};var jf=KS;function WS(e,t){const r=Buffer.alloc(t),n=fr.statSync(e),s=Math.min(n.size,t),a=Math.max(0,n.size-t),i=fr.openSync(e,"r"),u=fr.readSync(i,r,0,s,a);return fr.closeSync(i),r.toString("utf8",0,u)}const HS=jf;let BS=class extends HS{clear(){}crop(){}getSize(){return 0}isNull(){return!0}writeLine(){}};var JS=BS;const XS=zs,Ol=pr,Rl=it,YS=jf,QS=JS;let ZS=class extends XS{constructor(){super();ue(this,"store",{});this.emitError=this.emitError.bind(this)}provide({filePath:r,writeOptions:n,writeAsync:s=!1}){let a;try{if(r=Rl.resolve(r),this.store[r])return this.store[r];a=this.createFile({filePath:r,writeOptions:n,writeAsync:s})}catch(i){a=new QS({path:r}),this.emitError(i,a)}return a.on("error",this.emitError),this.store[r]=a,a}createFile({filePath:r,writeOptions:n,writeAsync:s}){return this.testFileWriting(r),new YS({path:r,writeOptions:n,writeAsync:s})}emitError(r,n){this.emit("error",r,n)}testFileWriting(r){Ol.mkdirSync(Rl.dirname(r),{recursive:!0}),Ol.writeFileSync(r,"",{flag:"a"})}};var xS=ZS;const Na=pr,eb=Un,wn=it,tb=xS,{transform:rb}=Zn,{removeStyles:nb}=Gi,{format:sb}=Nf,{toString:ab}=aa;var ob=cb;const ib=new tb;function cb(e,{registry:t=ib,externalApi:r}={}){let n;return t.listenerCount("error")<1&&t.on("error",(l,f)=>{i(`Can't write to ${f}`,l)}),Object.assign(s,{fileName:lb(e.variables.processType),format:"[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",getFile:u,inspectOptions:{depth:5},level:"silly",maxSize:1024**2,readAllLogs:c,sync:!0,transforms:[nb,sb,ab],writeOptions:{flag:"a",mode:438,encoding:"utf8"},archiveLogFn(l){const f=l.toString(),p=wn.parse(f);try{Na.renameSync(f,wn.join(p.dir,`${p.name}.old${p.ext}`))}catch(T){i("Could not rotate log",T);const E=Math.round(s.maxSize/4);l.crop(Math.min(E,256*1024))}},resolvePathFn(l){return wn.join(l.libraryDefaultDir,l.fileName)}});function s(l){const f=u(l);s.maxSize>0&&f.size>s.maxSize&&(s.archiveLogFn(f),f.reset());const T=rb({logger:e,message:l,transport:s});f.writeLine(T)}function a(){n||(n=Object.create(Object.prototype,{...Object.getOwnPropertyDescriptors(r.getPathVariables()),fileName:{get(){return s.fileName},enumerable:!0}}),typeof s.archiveLog=="function"&&(s.archiveLogFn=s.archiveLog,i("archiveLog is deprecated. Use archiveLogFn instead")),typeof s.resolvePath=="function"&&(s.resolvePathFn=s.resolvePath,i("resolvePath is deprecated. Use resolvePathFn instead")))}function i(l,f=null,p="error"){const T=[`electron-log.transports.file: ${l}`];f&&T.push(f),e.transports.console({data:T,date:new Date,level:p})}function u(l){a();const f=s.resolvePathFn(n,l);return t.provide({filePath:f,writeAsync:!s.sync,writeOptions:s.writeOptions})}function c({fileFilter:l=f=>f.endsWith(".log")}={}){const f=wn.dirname(s.resolvePathFn(n));return Na.readdirSync(f).map(p=>wn.join(f,p)).filter(l).map(p=>{try{return{path:p,lines:Na.readFileSync(p,"utf8").split(eb.EOL)}}catch{return null}}).filter(Boolean)}}function lb(e=process.type){switch(e){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}const{maxDepth:ub,toJSON:fb}=aa,{transform:db}=Zn;var hb=pb;function pb(e,{externalApi:t}){return Object.assign(r,{depth:3,eventId:"__ELECTRON_LOG_IPC__",level:e.isDev?"silly":!1,transforms:[fb,ub]}),t!=null&&t.isElectron()?r:void 0;function r(n){t==null||t.sendIpc(r.eventId,{...n,data:db({logger:e,message:n,transport:r})})}}const mb=Zf,yb=xf,{transform:$b}=Zn,{removeStyles:gb}=Gi,{toJSON:vb,maxDepth:_b}=aa;var Eb=wb;function wb(e){return Object.assign(t,{client:{name:"electron-application"},depth:6,level:!1,requestOptions:{},transforms:[gb,vb,_b],makeBodyFn({message:r}){return JSON.stringify({client:t.client,data:r.data,date:r.date.getTime(),level:r.level,scope:r.scope,variables:r.variables})},processErrorFn({error:r}){e.processMessage({data:[`electron-log: can't POST ${t.url}`,r],level:"warn"},{transports:["console","file"]})},sendRequestFn({serverUrl:r,requestOptions:n,body:s}){const i=(r.startsWith("https:")?yb:mb).request(r,{method:"POST",...n,headers:{"Content-Type":"application/json","Content-Length":s.length,...n.headers}});return i.write(s),i.end(),i}});function t(r){if(!t.url)return;const n=t.makeBodyFn({logger:e,message:{...r,data:$b({logger:e,message:r,transport:t})},transport:t}),s=t.sendRequestFn({serverUrl:t.url,requestOptions:t.requestOptions,body:Buffer.from(n,"utf8")});s.on("error",a=>t.processErrorFn({error:a,logger:e,message:r,request:s,transport:t}))}}const Nl=vS,Sb=wS,bb=bS,Pb=MS,Ob=ob,Rb=hb,Nb=Eb;var Tb=Ib;function Ib({dependencies:e,initializeFn:t}){var n;const r=new Nl({dependencies:e,errorHandler:new Sb,eventLogger:new bb,initializeFn:t,isDev:(n=e.externalApi)==null?void 0:n.isDev(),logId:"default",transportFactories:{console:Pb,file:Ob,ipc:Rb,remote:Nb},variables:{processType:"main"}});return r.default=r,r.Logger=Nl,r.processInternalErrorFn=s=>{r.transports.console.writeFn({message:{data:["Unhandled electron-log error",s],level:"error"}})},r}const Ab=je,Cb=cS,{initialize:jb}=dS,Db=Tb,Wi=new Cb({electron:Ab}),oa=Db({dependencies:{externalApi:Wi},initializeFn:jb});var kb=oa;Wi.onIpc("__ELECTRON_LOG__",(e,t)=>{t.scope&&oa.Logger.getInstance(t).scope(t.scope);const r=new Date(t.date);Df({...t,date:r.getTime()?r:new Date})});Wi.onIpcInvoke("__ELECTRON_LOG__",(e,{cmd:t="",logId:r})=>{switch(t){case"getOptions":return{levels:oa.Logger.getInstance({logId:r}).levels,logId:r};default:return Df({data:[`Unknown cmd '${t}'`],level:"error"}),{}}});function Df(e){var t;(t=oa.Logger.getInstance(e))==null||t.processMessage(e)}const Lb=kb;var Mb=Lb;const gs=Il(Mb);process.env.DIST=wr.join(__dirname,"../dist");process.env.PUBLIC=je.app.isPackaged?process.env.DIST:wr.join(process.env.DIST,"../public");let Oe,Ar,On;const Tl=process.env.VITE_DEV_SERVER_URL,Br=new Xw;function Fb(){Ar=new je.BrowserWindow({width:500,height:300,transparent:!0,frame:!1,alwaysOnTop:!0}),Ar.loadFile("splash.html"),Ar.on("closed",()=>{Ar=null})}function Vb(){Oe=new je.BrowserWindow({width:800,height:600,show:!1,icon:wr.join(process.env.PUBLIC,"electron-vite.svg"),webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:wr.join(__dirname,"preload.js")}}),jl.enable(Oe.webContents),Oe.webContents.on("did-finish-load",()=>{Oe==null||Oe.webContents.send("main-process-message",new Date().toLocaleString())}),je.ipcMain.handle("setup",async()=>Br.get("setup",!0)),je.ipcMain.handle("setSetup",async(e,t)=>{console.log(t),Br.set("setup",t)}),je.ipcMain.handle("saveURLS",async(e,t)=>{console.log(t),Br.set("urls",t)}),je.ipcMain.handle("getURLs",async()=>Br.get("urls",[])),je.ipcMain.handle("setWindowSize",async(e,t,r)=>{Oe==null||Oe.setSize(t,r)}),je.ipcMain.handle("startServer",async()=>{console.log("server handling...");const e=Br.get("urls"),t=je.app.isPackaged?wr.join(process.resourcesPath,"worker.mjs"):wr.join("worker.mjs");On=Yf.spawn("node",[t],{env:{...process.env,USER_URLS:JSON.stringify(e)}}),gs.info("Server has been started"),On.stdout.on("data",r=>{console.log(`Child stdout:
${r}`),gs.info(`Child stdout:
${r}`)}),On.stderr.on("data",r=>{console.error(`Child stderr:
${r}`),gs.info(`Child stderr:
${r}`)}),On.on("exit",(r,n)=>{console.log(`Child exited with code ${r} and signal ${n}`),gs.info(`Child exited with code ${r} and signal ${n}`)})}),je.ipcMain.handle("open-settings-window",async()=>{console.log("setup updated"),Br.set("setup",!0),Oe==null||Oe.webContents.send("setup-updated",!0)}),Tl?Oe.loadURL(Tl):Oe.loadFile(wr.join(process.env.DIST,"index.html")),Oe.once("ready-to-show",()=>{Ar==null||Ar.close(),Oe==null||Oe.show()}),Oe==null||Oe.on("closed",()=>{Oe=null})}je.app.on("before-quit",()=>{On.kill()});je.app.on("window-all-closed",()=>{Oe=null,process.platform!=="darwin"&&je.app.quit()});jl.initialize();je.app.whenReady().then(Fb).then(Vb);
