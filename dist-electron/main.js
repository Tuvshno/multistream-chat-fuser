"use strict";var Gv=Object.defineProperty;var Wv=(e,t,r)=>t in e?Gv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _e=(e,t,r)=>(Wv(e,typeof t!="symbol"?t+"":t,r),r);const he=require("electron"),Qi=require("events"),yr=require("node:path"),we=require("path"),Zi=require("util"),ct=require("fs"),es=require("crypto"),su=require("assert"),Tn=require("os"),Ad=require("node:child_process"),fo=require("child_process"),Cm=require("http"),Kv=require("https"),Yv=require("tty"),ho=require("stream"),ts=require("url"),Jv=require("string_decoder"),Xv=require("constants"),Nm=require("zlib");var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Im={},Pa={exports:{}},ou={};Object.defineProperty(ou,"__esModule",{value:!0});const Lc=(e,t)=>`${e.id}-${t}`;class Qv{constructor(){this.nextId=0,this.storage={},this.owners={},this.electronIds=new WeakMap}add(t,r,n){const i=this.saveToStorage(n),s=Lc(t,r);let o=this.owners[s];return o||(o=this.owners[s]=new Map,this.registerDeleteListener(t,r)),o.has(i)||(o.set(i,0),this.storage[i].count++),o.set(i,o.get(i)+1),i}get(t){const r=this.storage[t];if(r!=null)return r.object}remove(t,r,n){const i=Lc(t,r),s=this.owners[i];if(s&&s.has(n)){const o=s.get(n)-1;o<=0?(s.delete(n),this.dereference(n)):s.set(n,o)}}clear(t,r){const n=Lc(t,r),i=this.owners[n];if(i){for(const s of i.keys())this.dereference(s);delete this.owners[n]}}saveToStorage(t){let r=this.electronIds.get(t);return r||(r=++this.nextId,this.storage[r]={count:0,object:t},this.electronIds.set(t,r)),r}dereference(t){const r=this.storage[t];r!=null&&(r.count-=1,r.count===0&&(this.electronIds.delete(r.object),delete this.storage[t]))}registerDeleteListener(t,r){const n=r.split("-")[0],i=(s,o)=>{o&&o.toString()===n&&(t.removeListener("render-view-deleted",i),this.clear(t,r))};t.on("render-view-deleted",i)}}ou.default=new Qv;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.deserialize=Rr.serialize=Rr.isSerializableObject=Rr.isPromise=void 0;const Zv=he;function e_(e){return e&&e.then&&e.then instanceof Function&&e.constructor&&e.constructor.reject&&e.constructor.reject instanceof Function&&e.constructor.resolve&&e.constructor.resolve instanceof Function}Rr.isPromise=e_;const t_=[Boolean,Number,String,Date,Error,RegExp,ArrayBuffer];function au(e){return e===null||ArrayBuffer.isView(e)||t_.some(t=>e instanceof t)}Rr.isSerializableObject=au;const Dm=function(e,t){const n=Object.entries(e).map(([i,s])=>[i,t(s)]);return Object.fromEntries(n)};function r_(e){const t=[],r=e.getScaleFactors();if(r.length===1){const n=r[0],i=e.getSize(n),s=e.toBitmap({scaleFactor:n});t.push({scaleFactor:n,size:i,buffer:s})}else for(const n of r){const i=e.getSize(n),s=e.toDataURL({scaleFactor:n});t.push({scaleFactor:n,size:i,dataURL:s})}return{__ELECTRON_SERIALIZED_NativeImage__:!0,representations:t}}function n_(e){const t=Zv.nativeImage.createEmpty();if(e.representations.length===1){const{buffer:r,size:n,scaleFactor:i}=e.representations[0],{width:s,height:o}=n;t.addRepresentation({buffer:r,scaleFactor:i,width:s,height:o})}else for(const r of e.representations){const{dataURL:n,size:i,scaleFactor:s}=r,{width:o,height:a}=i;t.addRepresentation({dataURL:n,scaleFactor:s,width:o,height:a})}return t}function Ol(e){return e&&e.constructor&&e.constructor.name==="NativeImage"?r_(e):Array.isArray(e)?e.map(Ol):au(e)?e:e instanceof Object?Dm(e,Ol):e}Rr.serialize=Ol;function Tl(e){return e&&e.__ELECTRON_SERIALIZED_NativeImage__?n_(e):Array.isArray(e)?e.map(Tl):au(e)?e:e instanceof Object?Dm(e,Tl):e}Rr.deserialize=Tl;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.getElectronBinding=void 0;const i_=e=>process._linkedBinding?process._linkedBinding("electron_common_"+e):process.electronBinding?process.electronBinding(e):null;Ka.getElectronBinding=i_;Pa.exports;(function(e,t){var r=it&&it.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.isInitialized=t.enable=t.isRemoteModuleEnabled=void 0;const n=Qi,i=r(ou),s=Rr,o=he,a=Ka,{Promise:c}=it,l=a.getElectronBinding("v8_util"),u=(()=>{var I,j;const A=Number((j=(I=process.versions.electron)===null||I===void 0?void 0:I.split("."))===null||j===void 0?void 0:j[0]);return Number.isNaN(A)||A<14})(),f=["length","name","arguments","caller","prototype"],h=new Map,m=new FinalizationRegistry(I=>{const j=I.id[0]+"~"+I.id[1],A=h.get(j);if(A!==void 0&&A.deref()===void 0&&(h.delete(j),!I.webContents.isDestroyed()))try{I.webContents.sendToFrame(I.frameId,"REMOTE_RENDERER_RELEASE_CALLBACK",I.id[0],I.id[1])}catch(w){console.warn(`sendToFrame() failed: ${w}`)}});function y(I){const j=I[0]+"~"+I[1],A=h.get(j);if(A!==void 0){const w=A.deref();if(w!==void 0)return w}}function E(I,j,A,w){const R=new WeakRef(w),C=I[0]+"~"+I[1];return h.set(C,R),m.register(w,{id:I,webContents:j,frameId:A}),w}const v=new WeakMap,g=function(I){let j=Object.getOwnPropertyNames(I);return typeof I=="function"&&(j=j.filter(A=>!f.includes(A))),j.map(A=>{const w=Object.getOwnPropertyDescriptor(I,A);let R,C=!1;return w.get===void 0&&typeof I[A]=="function"?R="method":((w.set||w.writable)&&(C=!0),R="get"),{name:A,enumerable:w.enumerable,writable:C,type:R}})},p=function(I){const j=Object.getPrototypeOf(I);return j===null||j===Object.prototype?null:{members:g(j),proto:p(j)}},S=function(I,j,A,w=!1){let R;switch(typeof A){case"object":A instanceof Buffer?R="buffer":A&&A.constructor&&A.constructor.name==="NativeImage"?R="nativeimage":Array.isArray(A)?R="array":A instanceof Error?R="error":s.isSerializableObject(A)?R="value":s.isPromise(A)?R="promise":Object.prototype.hasOwnProperty.call(A,"callee")&&A.length!=null?R="array":w&&l.getHiddenValue(A,"simple")?R="value":R="object";break;case"function":R="function";break;default:R="value";break}return R==="array"?{type:R,members:A.map(C=>S(I,j,C,w))}:R==="nativeimage"?{type:R,value:s.serialize(A)}:R==="object"||R==="function"?{type:R,name:A.constructor?A.constructor.name:"",id:i.default.add(I,j,A),members:g(A),proto:p(A)}:R==="buffer"?{type:R,value:A}:R==="promise"?(A.then(function(){},function(){}),{type:R,then:S(I,j,function(C,d){A.then(C,d)})}):R==="error"?{type:R,value:A,members:Object.keys(A).map(C=>({name:C,value:S(I,j,A[C])}))}:{type:"value",value:A}},N=function(I){const j=new Error(I);throw j.code="EBADRPC",j.errno=-72,j},M=(I,j)=>{let w=`Attempting to call a function in a renderer window that has been closed or released.
Function provided here: ${v.get(j)}`;if(I instanceof n.EventEmitter){const R=I.eventNames().filter(C=>I.listeners(C).includes(j));R.length>0&&(w+=`
Remote event names: ${R.join(", ")}`,R.forEach(C=>{I.removeListener(C,j)}))}console.warn(w)},T=(I,j)=>new Proxy(Object,{get(A,w,R){return w==="name"?j:Reflect.get(A,w,R)}}),b=function(I,j,A,w){const R=function(C){switch(C.type){case"nativeimage":return s.deserialize(C.value);case"value":return C.value;case"remote-object":return i.default.get(C.id);case"array":return b(I,j,A,C.value);case"buffer":return Buffer.from(C.value.buffer,C.value.byteOffset,C.value.byteLength);case"promise":return c.resolve({then:R(C.then)});case"object":{const d=C.name!=="Object"?Object.create({constructor:T(Object,C.name)}):{};for(const{name:$,value:L}of C.members)d[$]=R(L);return d}case"function-with-return-value":{const d=R(C.value);return function(){return d}}case"function":{const d=[A,C.id],$=y(d);if($!==void 0)return $;const L=function(...P){let _=!1;if(!I.isDestroyed())try{_=I.sendToFrame(j,"REMOTE_RENDERER_CALLBACK",A,C.id,S(I,A,P))!==!1}catch(z){console.warn(`sendToFrame() failed: ${z}`)}_||M(this,L)};return v.set(L,C.location),Object.defineProperty(L,"length",{value:C.length}),E(d,I,j,L),L}default:throw new TypeError(`Unknown type: ${C.type}`)}};return w.map(R)},D=function(I){const j=I.getLastWebPreferences()||{};return j.enableRemoteModule!=null?!!j.enableRemoteModule:!1},O=new WeakMap,V=function(I){return u&&!O.has(I)&&O.set(I,D(I)),O.get(I)};t.isRemoteModuleEnabled=V;function Y(I){O.set(I,!0)}t.enable=Y;const H=function(I,j){o.ipcMain.on(I,(A,w,...R)=>{let C;if(!t.isRemoteModuleEnabled(A.sender)){A.returnValue={type:"exception",value:S(A.sender,w,new Error('@electron/remote is disabled for this WebContents. Call require("@electron/remote/main").enable(webContents) to enable it.'))};return}try{C=j(A,w,...R)}catch(d){C={type:"exception",value:S(A.sender,w,d)}}C!==void 0&&(A.returnValue=C)})},W=function(I,j,...A){const w={sender:I,returnValue:void 0,defaultPrevented:!1};return o.app.emit(j,w,I,...A),I.emit(j,w,...A),w},G=function(I,j,A){A&&console.warn(`WebContents (${I.id}): ${j}`,A)};let Q=!1;function Z(){return Q}t.isInitialized=Z;function K(){if(Q)throw new Error("@electron/remote has already been initialized");Q=!0,H("REMOTE_BROWSER_WRONG_CONTEXT_ERROR",function(I,j,A,w){const C=y([A,w]);C!==void 0&&M(I.sender,C)}),H("REMOTE_BROWSER_REQUIRE",function(I,j,A,w){G(I.sender,`remote.require('${A}')`,w);const R=W(I.sender,"remote-require",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.require('${A}')`);if(process.mainModule)R.returnValue=process.mainModule.require(A);else{let C=e;for(;C.parent;)C=C.parent;R.returnValue=C.require(A)}}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_BUILTIN",function(I,j,A,w){G(I.sender,`remote.getBuiltin('${A}')`,w);const R=W(I.sender,"remote-get-builtin",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.getBuiltin('${A}')`);R.returnValue=he[A]}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_GLOBAL",function(I,j,A,w){G(I.sender,`remote.getGlobal('${A}')`,w);const R=W(I.sender,"remote-get-global",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.getGlobal('${A}')`);R.returnValue=it[A]}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_CURRENT_WINDOW",function(I,j,A){G(I.sender,"remote.getCurrentWindow()",A);const w=W(I.sender,"remote-get-current-window");if(w.returnValue===void 0){if(w.defaultPrevented)throw new Error("Blocked remote.getCurrentWindow()");w.returnValue=I.sender.getOwnerBrowserWindow()}return S(I.sender,j,w.returnValue)}),H("REMOTE_BROWSER_GET_CURRENT_WEB_CONTENTS",function(I,j,A){G(I.sender,"remote.getCurrentWebContents()",A);const w=W(I.sender,"remote-get-current-web-contents");if(w.returnValue===void 0){if(w.defaultPrevented)throw new Error("Blocked remote.getCurrentWebContents()");w.returnValue=I.sender}return S(I.sender,j,w.returnValue)}),H("REMOTE_BROWSER_CONSTRUCTOR",function(I,j,A,w){w=b(I.sender,I.frameId,j,w);const R=i.default.get(A);return R==null&&N(`Cannot call constructor on missing remote object ${A}`),S(I.sender,j,new R(...w))}),H("REMOTE_BROWSER_FUNCTION_CALL",function(I,j,A,w){w=b(I.sender,I.frameId,j,w);const R=i.default.get(A);R==null&&N(`Cannot call function on missing remote object ${A}`);try{return S(I.sender,j,R(...w),!0)}catch(C){const d=new Error(`Could not call remote function '${R.name||"anonymous"}'. Check that the function signature is correct. Underlying error: ${C}
`+(C instanceof Error?`Underlying stack: ${C.stack}
`:""));throw d.cause=C,d}}),H("REMOTE_BROWSER_MEMBER_CONSTRUCTOR",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);return C==null&&N(`Cannot call constructor '${w}' on missing remote object ${A}`),S(I.sender,j,new C[w](...R))}),H("REMOTE_BROWSER_MEMBER_CALL",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);C==null&&N(`Cannot call method '${w}' on missing remote object ${A}`);try{return S(I.sender,j,C[w](...R),!0)}catch(d){const $=new Error(`Could not call remote method '${w}'. Check that the method signature is correct. Underlying error: ${d}`+(d instanceof Error?`Underlying stack: ${d.stack}
`:""));throw $.cause=d,$}}),H("REMOTE_BROWSER_MEMBER_SET",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);return C==null&&N(`Cannot set property '${w}' on missing remote object ${A}`),C[w]=R[0],null}),H("REMOTE_BROWSER_MEMBER_GET",function(I,j,A,w){const R=i.default.get(A);return R==null&&N(`Cannot get property '${w}' on missing remote object ${A}`),S(I.sender,j,R[w])}),H("REMOTE_BROWSER_DEREFERENCE",function(I,j,A){i.default.remove(I.sender,j,A)}),H("REMOTE_BROWSER_CONTEXT_RELEASE",(I,j)=>(i.default.clear(I.sender,j),null))}t.initialize=K})(Pa,Pa.exports);var s_=Pa.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.isInitialized=e.initialize=void 0;var t=s_;Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}}),Object.defineProperty(e,"isInitialized",{enumerable:!0,get:function(){return t.isInitialized}}),Object.defineProperty(e,"enable",{enumerable:!0,get:function(){return t.enable}})})(Im);var Fm=Im,Al={exports:{}},o_=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const Dn=o_,a_=new Set(["__proto__","prototype","constructor"]),c_=e=>!e.some(t=>a_.has(t));function Bo(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let i=t[n];for(;i[i.length-1]==="\\"&&t[n+1]!==void 0;)i=i.slice(0,-1)+".",i+=t[++n];r.push(i)}return c_(r)?r:[]}var l_={get(e,t,r){if(!Dn(e)||typeof t!="string")return r===void 0?e:r;const n=Bo(t);if(n.length!==0){for(let i=0;i<n.length;i++)if(e=e[n[i]],e==null){if(i!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!Dn(e)||typeof t!="string")return e;const n=e,i=Bo(t);for(let s=0;s<i.length;s++){const o=i[s];Dn(e[o])||(e[o]={}),s===i.length-1&&(e[o]=r),e=e[o]}return n},delete(e,t){if(!Dn(e)||typeof t!="string")return!1;const r=Bo(t);for(let n=0;n<r.length;n++){const i=r[n];if(n===r.length-1)return delete e[i],!0;if(e=e[i],!Dn(e))return!1}},has(e,t){if(!Dn(e)||typeof t!="string")return!1;const r=Bo(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(Dn(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},cu={exports:{}},lu={exports:{}},uu={exports:{}},fu={exports:{}};const km=ct;fu.exports=e=>new Promise(t=>{km.access(e,r=>{t(!r)})});fu.exports.sync=e=>{try{return km.accessSync(e),!0}catch{return!1}};var u_=fu.exports,du={exports:{}},hu={exports:{}};const Lm=(e,...t)=>new Promise(r=>{r(e(...t))});hu.exports=Lm;hu.exports.default=Lm;var f_=hu.exports;const d_=f_,jm=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},i=(a,c,...l)=>{r++;const u=d_(a,...l);c(u),u.then(n,n)},s=(a,c,...l)=>{r<e?i(a,c,...l):t.push(i.bind(null,a,c,...l))},o=(a,...c)=>new Promise(l=>s(a,l,...c));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};du.exports=jm;du.exports.default=jm;var h_=du.exports;const Cd=h_;class Mm extends Error{constructor(t){super(),this.value=t}}const p_=(e,t)=>Promise.resolve(e).then(t),m_=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Mm(t[0])));var g_=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=Cd(r.concurrency),i=[...e].map(o=>[o,n(p_,o,t)]),s=Cd(r.preserveOrder?1:1/0);return Promise.all(i.map(o=>s(m_,o))).then(()=>{}).catch(o=>o instanceof Mm?o.value:Promise.reject(o))};const Um=we,xm=u_,y_=g_;uu.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),y_(e,r=>xm(Um.resolve(t.cwd,r)),t));uu.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(xm.sync(Um.resolve(t.cwd,r)))return r};var v_=uu.exports;const pn=we,qm=v_;lu.exports=(e,t={})=>{const r=pn.resolve(t.cwd||""),{root:n}=pn.parse(r),i=[].concat(e);return new Promise(s=>{(function o(a){qm(i,{cwd:a}).then(c=>{c?s(pn.join(a,c)):a===n?s(null):o(pn.dirname(a))})})(r)})};lu.exports.sync=(e,t={})=>{let r=pn.resolve(t.cwd||"");const{root:n}=pn.parse(r),i=[].concat(e);for(;;){const s=qm.sync(i,{cwd:r});if(s)return pn.join(r,s);if(r===n)return null;r=pn.dirname(r)}};var __=lu.exports;const Vm=__;cu.exports=async({cwd:e}={})=>Vm("package.json",{cwd:e});cu.exports.sync=({cwd:e}={})=>Vm.sync("package.json",{cwd:e});var $_=cu.exports,pu={exports:{}};const We=we,Bm=Tn,dn=Bm.homedir(),mu=Bm.tmpdir(),{env:Ni}=process,E_=e=>{const t=We.join(dn,"Library");return{data:We.join(t,"Application Support",e),config:We.join(t,"Preferences",e),cache:We.join(t,"Caches",e),log:We.join(t,"Logs",e),temp:We.join(mu,e)}},w_=e=>{const t=Ni.APPDATA||We.join(dn,"AppData","Roaming"),r=Ni.LOCALAPPDATA||We.join(dn,"AppData","Local");return{data:We.join(r,e,"Data"),config:We.join(t,e,"Config"),cache:We.join(r,e,"Cache"),log:We.join(r,e,"Log"),temp:We.join(mu,e)}},S_=e=>{const t=We.basename(dn);return{data:We.join(Ni.XDG_DATA_HOME||We.join(dn,".local","share"),e),config:We.join(Ni.XDG_CONFIG_HOME||We.join(dn,".config"),e),cache:We.join(Ni.XDG_CACHE_HOME||We.join(dn,".cache"),e),log:We.join(Ni.XDG_STATE_HOME||We.join(dn,".local","state"),e),temp:We.join(mu,t,e)}},zm=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?E_(e):process.platform==="win32"?w_(e):S_(e)};pu.exports=zm;pu.exports.default=zm;var b_=pu.exports,Ir={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.NOOP=Ce.LIMIT_FILES_DESCRIPTORS=Ce.LIMIT_BASENAME_LENGTH=Ce.IS_USER_ROOT=Ce.IS_POSIX=Ce.DEFAULT_TIMEOUT_SYNC=Ce.DEFAULT_TIMEOUT_ASYNC=Ce.DEFAULT_WRITE_OPTIONS=Ce.DEFAULT_READ_OPTIONS=Ce.DEFAULT_FOLDER_MODE=Ce.DEFAULT_FILE_MODE=Ce.DEFAULT_ENCODING=void 0;const P_="utf8";Ce.DEFAULT_ENCODING=P_;const O_=438;Ce.DEFAULT_FILE_MODE=O_;const T_=511;Ce.DEFAULT_FOLDER_MODE=T_;const A_={};Ce.DEFAULT_READ_OPTIONS=A_;const C_={};Ce.DEFAULT_WRITE_OPTIONS=C_;const N_=5e3;Ce.DEFAULT_TIMEOUT_ASYNC=N_;const R_=100;Ce.DEFAULT_TIMEOUT_SYNC=R_;const I_=!!process.getuid;Ce.IS_POSIX=I_;const D_=process.getuid?!process.getuid():!1;Ce.IS_USER_ROOT=D_;const F_=128;Ce.LIMIT_BASENAME_LENGTH=F_;const k_=1e4;Ce.LIMIT_FILES_DESCRIPTORS=k_;const L_=()=>{};Ce.NOOP=L_;var Ya={},Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.attemptifySync=Ui.attemptifyAsync=void 0;const Hm=Ce,j_=(e,t=Hm.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Ui.attemptifyAsync=j_;const M_=(e,t=Hm.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Ui.attemptifySync=M_;var gu={};Object.defineProperty(gu,"__esModule",{value:!0});const U_=Ce,Gm={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!U_.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Gm.isChangeErrorOk(e))throw e}};gu.default=Gm;var xi={},yu={};Object.defineProperty(yu,"__esModule",{value:!0});const x_=Ce,je={interval:25,intervalId:void 0,limit:x_.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{je.intervalId||(je.intervalId=setInterval(je.tick,je.interval))},reset:()=>{je.intervalId&&(clearInterval(je.intervalId),delete je.intervalId)},add:e=>{je.queueWaiting.add(e),je.queueActive.size<je.limit/2?je.tick():je.init()},remove:e=>{je.queueWaiting.delete(e),je.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>je.remove(r),r=()=>e(t);je.add(r)}),tick:()=>{if(!(je.queueActive.size>=je.limit)){if(!je.queueWaiting.size)return je.reset();for(const e of je.queueWaiting){if(je.queueActive.size>=je.limit)break;je.queueWaiting.delete(e),je.queueActive.add(e),e()}}}};yu.default=je;Object.defineProperty(xi,"__esModule",{value:!0});xi.retryifySync=xi.retryifyAsync=void 0;const q_=yu,V_=(e,t)=>function(r){return function n(){return q_.default.schedule().then(i=>e.apply(void 0,arguments).then(s=>(i(),s),s=>{if(i(),Date.now()>=r)throw s;if(t(s)){const o=Math.round(100+400*Math.random());return new Promise(c=>setTimeout(c,o)).then(()=>n.apply(void 0,arguments))}throw s}))}};xi.retryifyAsync=V_;const B_=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(i){if(Date.now()>r)throw i;if(t(i))return n.apply(void 0,arguments);throw i}}};xi.retryifySync=B_;Object.defineProperty(Ya,"__esModule",{value:!0});const Re=ct,Rt=Zi,It=Ui,ft=gu,Bt=xi,z_={chmodAttempt:It.attemptifyAsync(Rt.promisify(Re.chmod),ft.default.onChangeError),chownAttempt:It.attemptifyAsync(Rt.promisify(Re.chown),ft.default.onChangeError),closeAttempt:It.attemptifyAsync(Rt.promisify(Re.close)),fsyncAttempt:It.attemptifyAsync(Rt.promisify(Re.fsync)),mkdirAttempt:It.attemptifyAsync(Rt.promisify(Re.mkdir)),realpathAttempt:It.attemptifyAsync(Rt.promisify(Re.realpath)),statAttempt:It.attemptifyAsync(Rt.promisify(Re.stat)),unlinkAttempt:It.attemptifyAsync(Rt.promisify(Re.unlink)),closeRetry:Bt.retryifyAsync(Rt.promisify(Re.close),ft.default.isRetriableError),fsyncRetry:Bt.retryifyAsync(Rt.promisify(Re.fsync),ft.default.isRetriableError),openRetry:Bt.retryifyAsync(Rt.promisify(Re.open),ft.default.isRetriableError),readFileRetry:Bt.retryifyAsync(Rt.promisify(Re.readFile),ft.default.isRetriableError),renameRetry:Bt.retryifyAsync(Rt.promisify(Re.rename),ft.default.isRetriableError),statRetry:Bt.retryifyAsync(Rt.promisify(Re.stat),ft.default.isRetriableError),writeRetry:Bt.retryifyAsync(Rt.promisify(Re.write),ft.default.isRetriableError),chmodSyncAttempt:It.attemptifySync(Re.chmodSync,ft.default.onChangeError),chownSyncAttempt:It.attemptifySync(Re.chownSync,ft.default.onChangeError),closeSyncAttempt:It.attemptifySync(Re.closeSync),mkdirSyncAttempt:It.attemptifySync(Re.mkdirSync),realpathSyncAttempt:It.attemptifySync(Re.realpathSync),statSyncAttempt:It.attemptifySync(Re.statSync),unlinkSyncAttempt:It.attemptifySync(Re.unlinkSync),closeSyncRetry:Bt.retryifySync(Re.closeSync,ft.default.isRetriableError),fsyncSyncRetry:Bt.retryifySync(Re.fsyncSync,ft.default.isRetriableError),openSyncRetry:Bt.retryifySync(Re.openSync,ft.default.isRetriableError),readFileSyncRetry:Bt.retryifySync(Re.readFileSync,ft.default.isRetriableError),renameSyncRetry:Bt.retryifySync(Re.renameSync,ft.default.isRetriableError),statSyncRetry:Bt.retryifySync(Re.statSync,ft.default.isRetriableError),writeSyncRetry:Bt.retryifySync(Re.writeSync,ft.default.isRetriableError)};Ya.default=z_;var vu={};Object.defineProperty(vu,"__esModule",{value:!0});const H_={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};vu.default=H_;var _u={};Object.defineProperty(_u,"__esModule",{value:!0});const zo={},Cl={next:e=>{const t=zo[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Cl.next(e)):delete zo[e]},schedule:e=>new Promise(t=>{let r=zo[e];r||(r=zo[e]=[]),r.push(t),!(r.length>1)&&t(()=>Cl.next(e))})};_u.default=Cl;var $u={};Object.defineProperty($u,"__esModule",{value:!0});const G_=we,Nd=Ce,Rd=Ya,Qt={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",i=`.${n}${r}${t}`;return`${e}${i}`},get:(e,t,r=!0)=>{const n=Qt.truncate(t(e));return n in Qt.store?Qt.get(e,t,r):(Qt.store[n]=r,[n,()=>delete Qt.store[n]])},purge:e=>{Qt.store[e]&&(delete Qt.store[e],Rd.default.unlinkAttempt(e))},purgeSync:e=>{Qt.store[e]&&(delete Qt.store[e],Rd.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in Qt.store)Qt.purgeSync(e)},truncate:e=>{const t=G_.basename(e);if(t.length<=Nd.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Nd.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",Qt.purgeSyncAll);$u.default=Qt;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.writeFileSync=Ir.writeFile=Ir.readFileSync=Ir.readFile=void 0;const Wm=we,yt=Ce,Ae=Ya,Zt=vu,W_=_u,mn=$u;function Km(e,t=yt.DEFAULT_READ_OPTIONS){var r;if(Zt.default.isString(t))return Km(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:yt.DEFAULT_TIMEOUT_ASYNC);return Ae.default.readFileRetry(n)(e,t)}Ir.readFile=Km;function Ym(e,t=yt.DEFAULT_READ_OPTIONS){var r;if(Zt.default.isString(t))return Ym(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:yt.DEFAULT_TIMEOUT_SYNC);return Ae.default.readFileSyncRetry(n)(e,t)}Ir.readFileSync=Ym;const Jm=(e,t,r,n)=>{if(Zt.default.isFunction(r))return Jm(e,t,yt.DEFAULT_WRITE_OPTIONS,r);const i=Xm(e,t,r);return n&&i.then(n,n),i};Ir.writeFile=Jm;const Xm=async(e,t,r=yt.DEFAULT_WRITE_OPTIONS)=>{var n;if(Zt.default.isString(r))return Xm(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:yt.DEFAULT_TIMEOUT_ASYNC);let s=null,o=null,a=null,c=null,l=null;try{r.schedule&&(s=await r.schedule(e)),o=await W_.default.schedule(e),e=await Ae.default.realpathAttempt(e)||e,[c,a]=mn.default.get(e,r.tmpCreate||mn.default.create,r.tmpPurge!==!1);const u=yt.IS_POSIX&&Zt.default.isUndefined(r.chown),f=Zt.default.isUndefined(r.mode);if(u||f){const m=await Ae.default.statAttempt(e);m&&(r={...r},u&&(r.chown={uid:m.uid,gid:m.gid}),f&&(r.mode=m.mode))}const h=Wm.dirname(e);await Ae.default.mkdirAttempt(h,{mode:yt.DEFAULT_FOLDER_MODE,recursive:!0}),l=await Ae.default.openRetry(i)(c,"w",r.mode||yt.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(c),Zt.default.isString(t)?await Ae.default.writeRetry(i)(l,t,0,r.encoding||yt.DEFAULT_ENCODING):Zt.default.isUndefined(t)||await Ae.default.writeRetry(i)(l,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await Ae.default.fsyncRetry(i)(l):Ae.default.fsyncAttempt(l)),await Ae.default.closeRetry(i)(l),l=null,r.chown&&await Ae.default.chownAttempt(c,r.chown.uid,r.chown.gid),r.mode&&await Ae.default.chmodAttempt(c,r.mode);try{await Ae.default.renameRetry(i)(c,e)}catch(m){if(m.code!=="ENAMETOOLONG")throw m;await Ae.default.renameRetry(i)(c,mn.default.truncate(e))}a(),c=null}finally{l&&await Ae.default.closeAttempt(l),c&&mn.default.purge(c),s&&s(),o&&o()}},Qm=(e,t,r=yt.DEFAULT_WRITE_OPTIONS)=>{var n;if(Zt.default.isString(r))return Qm(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:yt.DEFAULT_TIMEOUT_SYNC);let s=null,o=null,a=null;try{e=Ae.default.realpathSyncAttempt(e)||e,[o,s]=mn.default.get(e,r.tmpCreate||mn.default.create,r.tmpPurge!==!1);const c=yt.IS_POSIX&&Zt.default.isUndefined(r.chown),l=Zt.default.isUndefined(r.mode);if(c||l){const f=Ae.default.statSyncAttempt(e);f&&(r={...r},c&&(r.chown={uid:f.uid,gid:f.gid}),l&&(r.mode=f.mode))}const u=Wm.dirname(e);Ae.default.mkdirSyncAttempt(u,{mode:yt.DEFAULT_FOLDER_MODE,recursive:!0}),a=Ae.default.openSyncRetry(i)(o,"w",r.mode||yt.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),Zt.default.isString(t)?Ae.default.writeSyncRetry(i)(a,t,0,r.encoding||yt.DEFAULT_ENCODING):Zt.default.isUndefined(t)||Ae.default.writeSyncRetry(i)(a,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Ae.default.fsyncSyncRetry(i)(a):Ae.default.fsyncAttempt(a)),Ae.default.closeSyncRetry(i)(a),a=null,r.chown&&Ae.default.chownSyncAttempt(o,r.chown.uid,r.chown.gid),r.mode&&Ae.default.chmodSyncAttempt(o,r.mode);try{Ae.default.renameSyncRetry(i)(o,e)}catch(f){if(f.code!=="ENAMETOOLONG")throw f;Ae.default.renameSyncRetry(i)(o,mn.default.truncate(e))}s(),o=null}finally{a&&Ae.default.closeSyncAttempt(a),o&&mn.default.purge(o)}};Ir.writeFileSync=Qm;var Nl={exports:{}},Zm={},wr={},qi={},po={},ve={},eo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,N)=>`${S}${N}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,N)=>(N instanceof r&&(S[N.str]=(S[N.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(g,...p){const S=[g[0]];let N=0;for(;N<p.length;)a(S,p[N]),S.push(g[++N]);return new n(S)}e._=i;const s=new n("+");function o(g,...p){const S=[m(g[0])];let N=0;for(;N<p.length;)S.push(s),a(S,p[N]),S.push(s,m(g[++N]));return c(S),new n(S)}e.str=o;function a(g,p){p instanceof n?g.push(...p._items):p instanceof r?g.push(p):g.push(f(p))}e.addCodeArg=a;function c(g){let p=1;for(;p<g.length-1;){if(g[p]===s){const S=l(g[p-1],g[p+1]);if(S!==void 0){g.splice(p-1,3,S);continue}g[p++]="+"}p++}}function l(g,p){if(p==='""')return g;if(g==='""')return p;if(typeof g=="string")return p instanceof r||g[g.length-1]!=='"'?void 0:typeof p!="string"?`${g.slice(0,-1)}${p}"`:p[0]==='"'?g.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(g instanceof r))return`"${g}${p.slice(1)}`}function u(g,p){return p.emptyStr()?g:g.emptyStr()?p:o`${g}${p}`}e.strConcat=u;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:m(Array.isArray(g)?g.join(","):g)}function h(g){return new n(m(g))}e.stringify=h;function m(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function y(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new n(`.${g}`):i`[${g}]`}e.getProperty=y;function E(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=E;function v(g){return new n(g.toString())}e.regexpCode=v})(eo);var Rl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=eo;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(l),{prefix:m}=h,y=(f=u.key)!==null&&f!==void 0?f:u.ref;let E=this._values[m];if(E){const p=E.get(y);if(p)return p}else E=this._values[m]=new Map;E.set(y,h);const v=this._scope[m]||(this._scope[m]=[]),g=v.length;return v[g]=u.ref,h.setValue(u,{property:m,itemIndex:g}),h}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,f)}_reduceValues(l,u,f={},h){let m=t.nil;for(const y in l){const E=l[y];if(!E)continue;const v=f[y]=f[y]||new Map;E.forEach(g=>{if(v.has(g))return;v.set(g,n.Started);let p=u(g);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${S} ${g} = ${p};${this.opts._n}`}else if(p=h==null?void 0:h(g))m=(0,t._)`${m}${p}${this.opts._n}`;else throw new r(g);v.set(g,n.Completed)})}return m}}e.ValueScope=a})(Rl);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=eo,r=Rl;var n=eo;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Rl;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(d,$){return this}}class o extends s{constructor(d,$,L){super(),this.varKind=d,this.name=$,this.rhs=L}render({es5:d,_n:$}){const L=d?r.varKinds.var:this.varKind,P=this.rhs===void 0?"":` = ${this.rhs}`;return`${L} ${this.name}${P};`+$}optimizeNames(d,$){if(d[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,d,$)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(d,$,L){super(),this.lhs=d,this.rhs=$,this.sideEffects=L}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,$){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=G(this.rhs,d,$),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(d,this.rhs)}}class c extends a{constructor(d,$,L,P){super(d,L,P),this.op=$}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class l extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class u extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class f extends s{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends s{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,$){return this.code=G(this.code,d,$),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce(($,L)=>$+L.render(d),"")}optimizeNodes(){const{nodes:d}=this;let $=d.length;for(;$--;){const L=d[$].optimizeNodes();Array.isArray(L)?d.splice($,1,...L):L?d[$]=L:d.splice($,1)}return d.length>0?this:void 0}optimizeNames(d,$){const{nodes:L}=this;let P=L.length;for(;P--;){const _=L[P];_.optimizeNames(d,$)||(Q(d,_.names),L.splice(P,1))}return L.length>0?this:void 0}get names(){return this.nodes.reduce((d,$)=>H(d,$.names),{})}}class y extends m{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class E extends m{}class v extends y{}v.kind="else";class g extends y{constructor(d,$){super($),this.condition=d}render(d){let $=`if(${this.condition})`+super.render(d);return this.else&&($+="else "+this.else.render(d)),$}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let $=this.else;if($){const L=$.optimizeNodes();$=this.else=Array.isArray(L)?new v(L):L}if($)return d===!1?$ instanceof g?$:$.nodes:this.nodes.length?this:new g(Z(d),$ instanceof g?[$]:$.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,$){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(d,$),!!(super.optimizeNames(d,$)||this.else))return this.condition=G(this.condition,d,$),this}get names(){const d=super.names;return W(d,this.condition),this.else&&H(d,this.else.names),d}}g.kind="if";class p extends y{}p.kind="for";class S extends p{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iteration=G(this.iteration,d,$),this}get names(){return H(super.names,this.iteration.names)}}class N extends p{constructor(d,$,L,P){super(),this.varKind=d,this.name=$,this.from=L,this.to=P}render(d){const $=d.es5?r.varKinds.var:this.varKind,{name:L,from:P,to:_}=this;return`for(${$} ${L}=${P}; ${L}<${_}; ${L}++)`+super.render(d)}get names(){const d=W(super.names,this.from);return W(d,this.to)}}class M extends p{constructor(d,$,L,P){super(),this.loop=d,this.varKind=$,this.name=L,this.iterable=P}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iterable=G(this.iterable,d,$),this}get names(){return H(super.names,this.iterable.names)}}class T extends y{constructor(d,$,L){super(),this.name=d,this.args=$,this.async=L}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}T.kind="func";class b extends m{render(d){return"return "+super.render(d)}}b.kind="return";class D extends y{render(d){let $="try"+super.render(d);return this.catch&&($+=this.catch.render(d)),this.finally&&($+=this.finally.render(d)),$}optimizeNodes(){var d,$;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(d,$){var L,P;return super.optimizeNames(d,$),(L=this.catch)===null||L===void 0||L.optimizeNames(d,$),(P=this.finally)===null||P===void 0||P.optimizeNames(d,$),this}get names(){const d=super.names;return this.catch&&H(d,this.catch.names),this.finally&&H(d,this.finally.names),d}}class O extends y{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}O.kind="catch";class V extends y{render(d){return"finally"+super.render(d)}}V.kind="finally";class Y{constructor(d,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,$){const L=this._extScope.value(d,$);return(this._values[L.prefix]||(this._values[L.prefix]=new Set)).add(L),L}getScopeValue(d,$){return this._extScope.getValue(d,$)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,$,L,P){const _=this._scope.toName($);return L!==void 0&&P&&(this._constants[_.str]=L),this._leafNode(new o(d,_,L)),_}const(d,$,L){return this._def(r.varKinds.const,d,$,L)}let(d,$,L){return this._def(r.varKinds.let,d,$,L)}var(d,$,L){return this._def(r.varKinds.var,d,$,L)}assign(d,$,L){return this._leafNode(new a(d,$,L))}add(d,$){return this._leafNode(new c(d,e.operators.ADD,$))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const $=["{"];for(const[L,P]of d)$.length>1&&$.push(","),$.push(L),(L!==P||this.opts.es5)&&($.push(":"),(0,t.addCodeArg)($,P));return $.push("}"),new t._Code($)}if(d,$,L){if(this._blockNode(new g(d)),$&&L)this.code($).else().code(L).endIf();else if($)this.code($).endIf();else if(L)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new g(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(d,$){return this._blockNode(d),$&&this.code($).endFor(),this}for(d,$){return this._for(new S(d),$)}forRange(d,$,L,P,_=this.opts.es5?r.varKinds.var:r.varKinds.let){const z=this._scope.toName(d);return this._for(new N(_,z,$,L),()=>P(z))}forOf(d,$,L,P=r.varKinds.const){const _=this._scope.toName(d);if(this.opts.es5){const z=$ instanceof t.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,t._)`${z}.length`,U=>{this.var(_,(0,t._)`${z}[${U}]`),L(_)})}return this._for(new M("of",P,_,$),()=>L(_))}forIn(d,$,L,P=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${$})`,L);const _=this._scope.toName(d);return this._for(new M("in",P,_,$),()=>L(_))}endFor(){return this._endBlockNode(p)}label(d){return this._leafNode(new l(d))}break(d){return this._leafNode(new u(d))}return(d){const $=new b;if(this._blockNode($),this.code(d),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,$,L){if(!$&&!L)throw new Error('CodeGen: "try" without "catch" and "finally"');const P=new D;if(this._blockNode(P),this.code(d),$){const _=this.name("e");this._currNode=P.catch=new O(_),$(_)}return L&&(this._currNode=P.finally=new V,this.code(L)),this._endBlockNode(O,V)}throw(d){return this._leafNode(new f(d))}block(d,$){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock($),this}endBlock(d){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const L=this._nodes.length-$;if(L<0||d!==void 0&&L!==d)throw new Error(`CodeGen: wrong number of nodes: ${L} vs ${d} expected`);return this._nodes.length=$,this}func(d,$=t.nil,L,P){return this._blockNode(new T(d,$,L)),P&&this.code(P).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,$){const L=this._currNode;if(L instanceof d||$&&L instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${d.kind}/${$.kind}`:d.kind}"`)}_elseNode(d){const $=this._currNode;if(!($ instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const $=this._nodes;$[$.length-1]=d}}e.CodeGen=Y;function H(C,d){for(const $ in d)C[$]=(C[$]||0)+(d[$]||0);return C}function W(C,d){return d instanceof t._CodeOrName?H(C,d.names):C}function G(C,d,$){if(C instanceof t.Name)return L(C);if(!P(C))return C;return new t._Code(C._items.reduce((_,z)=>(z instanceof t.Name&&(z=L(z)),z instanceof t._Code?_.push(...z._items):_.push(z),_),[]));function L(_){const z=$[_.str];return z===void 0||d[_.str]!==1?_:(delete d[_.str],z)}function P(_){return _ instanceof t._Code&&_._items.some(z=>z instanceof t.Name&&d[z.str]===1&&$[z.str]!==void 0)}}function Q(C,d){for(const $ in d)C[$]=(C[$]||0)-(d[$]||0)}function Z(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${R(C)}`}e.not=Z;const K=w(e.operators.AND);function I(...C){return C.reduce(K)}e.and=I;const j=w(e.operators.OR);function A(...C){return C.reduce(j)}e.or=A;function w(C){return(d,$)=>d===t.nil?$:$===t.nil?d:(0,t._)`${R(d)} ${C} ${R($)}`}function R(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(ve);var be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=ve,r=eo;function n(T){const b={};for(const D of T)b[D]=!0;return b}e.toHash=n;function i(T,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(T,b),!o(b,T.self.RULES.all))}e.alwaysValidSchema=i;function s(T,b=T.schema){const{opts:D,self:O}=T;if(!D.strictSchema||typeof b=="boolean")return;const V=O.RULES.keywords;for(const Y in b)V[Y]||M(T,`unknown keyword: "${Y}"`)}e.checkUnknownRules=s;function o(T,b){if(typeof T=="boolean")return!T;for(const D in T)if(b[D])return!0;return!1}e.schemaHasRules=o;function a(T,b){if(typeof T=="boolean")return!T;for(const D in T)if(D!=="$ref"&&b.all[D])return!0;return!1}e.schemaHasRulesButRef=a;function c({topSchemaRef:T,schemaPath:b},D,O,V){if(!V){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${T}${b}${(0,t.getProperty)(O)}`}e.schemaRefOrVal=c;function l(T){return h(decodeURIComponent(T))}e.unescapeFragment=l;function u(T){return encodeURIComponent(f(T))}e.escapeFragment=u;function f(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(T,b){if(Array.isArray(T))for(const D of T)b(D);else b(T)}e.eachItem=m;function y({mergeNames:T,mergeToName:b,mergeValues:D,resultToName:O}){return(V,Y,H,W)=>{const G=H===void 0?Y:H instanceof t.Name?(Y instanceof t.Name?T(V,Y,H):b(V,Y,H),H):Y instanceof t.Name?(b(V,H,Y),Y):D(Y,H);return W===t.Name&&!(G instanceof t.Name)?O(V,G):G}}e.mergeEvaluated={props:y({mergeNames:(T,b,D)=>T.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>{T.if((0,t._)`${b} === true`,()=>T.assign(D,!0),()=>T.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${b})`))}),mergeToName:(T,b,D)=>T.if((0,t._)`${D} !== true`,()=>{b===!0?T.assign(D,!0):(T.assign(D,(0,t._)`${D} || {}`),v(T,D,b))}),mergeValues:(T,b)=>T===!0?!0:{...T,...b},resultToName:E}),items:y({mergeNames:(T,b,D)=>T.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>T.assign(D,(0,t._)`${b} === true ? true : ${D} > ${b} ? ${D} : ${b}`)),mergeToName:(T,b,D)=>T.if((0,t._)`${D} !== true`,()=>T.assign(D,b===!0?!0:(0,t._)`${D} > ${b} ? ${D} : ${b}`)),mergeValues:(T,b)=>T===!0?!0:Math.max(T,b),resultToName:(T,b)=>T.var("items",b)})};function E(T,b){if(b===!0)return T.var("props",!0);const D=T.var("props",(0,t._)`{}`);return b!==void 0&&v(T,D,b),D}e.evaluatedPropsToName=E;function v(T,b,D){Object.keys(D).forEach(O=>T.assign((0,t._)`${b}${(0,t.getProperty)(O)}`,!0))}e.setEvaluated=v;const g={};function p(T,b){return T.scopeValue("func",{ref:b,code:g[b.code]||(g[b.code]=new r._Code(b.code))})}e.useFunc=p;var S;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(S=e.Type||(e.Type={}));function N(T,b,D){if(T instanceof t.Name){const O=b===S.Num;return D?O?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:O?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(T).toString():"/"+f(T)}e.getErrorPath=N;function M(T,b,D=T.opts.strictSchema){if(D){if(b=`strict mode: ${b}`,D===!0)throw new Error(b);T.self.logger.warn(b)}}e.checkStrictMode=M})(be);var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const St=ve,K_={data:new St.Name("data"),valCxt:new St.Name("valCxt"),instancePath:new St.Name("instancePath"),parentData:new St.Name("parentData"),parentDataProperty:new St.Name("parentDataProperty"),rootData:new St.Name("rootData"),dynamicAnchors:new St.Name("dynamicAnchors"),vErrors:new St.Name("vErrors"),errors:new St.Name("errors"),this:new St.Name("this"),self:new St.Name("self"),scope:new St.Name("scope"),json:new St.Name("json"),jsonPos:new St.Name("jsonPos"),jsonLen:new St.Name("jsonLen"),jsonPart:new St.Name("jsonPart")};Lr.default=K_;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ve,r=be,n=Lr;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:g})=>g?(0,t.str)`"${v}" keyword must be ${g} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,g=e.keywordError,p,S){const{it:N}=v,{gen:M,compositeRule:T,allErrors:b}=N,D=f(v,g,p);S??(T||b)?c(M,D):l(N,(0,t._)`[${D}]`)}e.reportError=i;function s(v,g=e.keywordError,p){const{it:S}=v,{gen:N,compositeRule:M,allErrors:T}=S,b=f(v,g,p);c(N,b),M||T||l(S,n.default.vErrors)}e.reportExtraError=s;function o(v,g){v.assign(n.default.errors,g),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(g,()=>v.assign((0,t._)`${n.default.vErrors}.length`,g),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:g,schemaValue:p,data:S,errsCount:N,it:M}){if(N===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",N,n.default.errors,b=>{v.const(T,(0,t._)`${n.default.vErrors}[${b}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${g}`),M.opts.verbose&&(v.assign((0,t._)`${T}.schema`,p),v.assign((0,t._)`${T}.data`,S))})}e.extendErrors=a;function c(v,g){const p=v.const("err",g);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${p}]`),(0,t._)`${n.default.vErrors}.push(${p})`),v.code((0,t._)`${n.default.errors}++`)}function l(v,g){const{gen:p,validateName:S,schemaEnv:N}=v;N.$async?p.throw((0,t._)`new ${v.ValidationError}(${g})`):(p.assign((0,t._)`${S}.errors`,g),p.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(v,g,p){const{createErrors:S}=v.it;return S===!1?(0,t._)`{}`:h(v,g,p)}function h(v,g,p={}){const{gen:S,it:N}=v,M=[m(N,p),y(v,p)];return E(v,g,M),S.object(...M)}function m({errorPath:v},{instancePath:g}){const p=g?(0,t.str)`${v}${(0,r.getErrorPath)(g,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,p)]}function y({keyword:v,it:{errSchemaPath:g}},{schemaPath:p,parentSchema:S}){let N=S?g:(0,t.str)`${g}/${v}`;return p&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(p,r.Type.Str)}`),[u.schemaPath,N]}function E(v,{params:g,message:p},S){const{keyword:N,data:M,schemaValue:T,it:b}=v,{opts:D,propertyName:O,topSchemaRef:V,schemaPath:Y}=b;S.push([u.keyword,N],[u.params,typeof g=="function"?g(v):g||(0,t._)`{}`]),D.messages&&S.push([u.message,typeof p=="function"?p(v):p]),D.verbose&&S.push([u.schema,T],[u.parentSchema,(0,t._)`${V}${Y}`],[n.default.data,M]),O&&S.push([u.propertyName,O])}})(po);Object.defineProperty(qi,"__esModule",{value:!0});qi.boolOrEmptySchema=qi.topBoolOrEmptySchema=void 0;const Y_=po,J_=ve,X_=Lr,Q_={message:"boolean schema is false"};function Z_(e){const{gen:t,schema:r,validateName:n}=e;r===!1?eg(e,!1):typeof r=="object"&&r.$async===!0?t.return(X_.default.data):(t.assign((0,J_._)`${n}.errors`,null),t.return(!0))}qi.topBoolOrEmptySchema=Z_;function e$(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),eg(e)):r.var(t,!0)}qi.boolOrEmptySchema=e$;function eg(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Y_.reportError)(i,Q_,void 0,t)}var mo={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.getRules=ti.isJSONType=void 0;const t$=["string","number","integer","boolean","null","object","array"],r$=new Set(t$);function n$(e){return typeof e=="string"&&r$.has(e)}ti.isJSONType=n$;function i$(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ti.getRules=i$;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.shouldUseRule=Yr.shouldUseGroup=Yr.schemaHasRulesForType=void 0;function s$({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&tg(e,n)}Yr.schemaHasRulesForType=s$;function tg(e,t){return t.rules.some(r=>rg(e,r))}Yr.shouldUseGroup=tg;function rg(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Yr.shouldUseRule=rg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ti,r=Yr,n=po,i=ve,s=be;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const N=c(S.type);if(N.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!N.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&N.push("null")}return N}e.getSchemaTypes=a;function c(S){const N=Array.isArray(S)?S:S?[S]:[];if(N.every(t.isJSONType))return N;throw new Error("type must be JSONType or JSONType[]: "+N.join(","))}e.getJSONTypes=c;function l(S,N){const{gen:M,data:T,opts:b}=S,D=f(N,b.coerceTypes),O=N.length>0&&!(D.length===0&&N.length===1&&(0,r.schemaHasRulesForType)(S,N[0]));if(O){const V=E(N,T,b.strictNumbers,o.Wrong);M.if(V,()=>{D.length?h(S,N,D):g(S)})}return O}e.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function f(S,N){return N?S.filter(M=>u.has(M)||N==="array"&&M==="array"):[]}function h(S,N,M){const{gen:T,data:b,opts:D}=S,O=T.let("dataType",(0,i._)`typeof ${b}`),V=T.let("coerced",(0,i._)`undefined`);D.coerceTypes==="array"&&T.if((0,i._)`${O} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>T.assign(b,(0,i._)`${b}[0]`).assign(O,(0,i._)`typeof ${b}`).if(E(N,b,D.strictNumbers),()=>T.assign(V,b))),T.if((0,i._)`${V} !== undefined`);for(const H of M)(u.has(H)||H==="array"&&D.coerceTypes==="array")&&Y(H);T.else(),g(S),T.endIf(),T.if((0,i._)`${V} !== undefined`,()=>{T.assign(b,V),m(S,V)});function Y(H){switch(H){case"string":T.elseIf((0,i._)`${O} == "number" || ${O} == "boolean"`).assign(V,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(V,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${O} == "boolean" || ${b} === null
              || (${O} == "string" && ${b} && ${b} == +${b})`).assign(V,(0,i._)`+${b}`);return;case"integer":T.elseIf((0,i._)`${O} === "boolean" || ${b} === null
              || (${O} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(V,(0,i._)`+${b}`);return;case"boolean":T.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(V,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(V,!0);return;case"null":T.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),T.assign(V,null);return;case"array":T.elseIf((0,i._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${b} === null`).assign(V,(0,i._)`[${b}]`)}}}function m({gen:S,parentData:N,parentDataProperty:M},T){S.if((0,i._)`${N} !== undefined`,()=>S.assign((0,i._)`${N}[${M}]`,T))}function y(S,N,M,T=o.Correct){const b=T===o.Correct?i.operators.EQ:i.operators.NEQ;let D;switch(S){case"null":return(0,i._)`${N} ${b} null`;case"array":D=(0,i._)`Array.isArray(${N})`;break;case"object":D=(0,i._)`${N} && typeof ${N} == "object" && !Array.isArray(${N})`;break;case"integer":D=O((0,i._)`!(${N} % 1) && !isNaN(${N})`);break;case"number":D=O();break;default:return(0,i._)`typeof ${N} ${b} ${S}`}return T===o.Correct?D:(0,i.not)(D);function O(V=i.nil){return(0,i.and)((0,i._)`typeof ${N} == "number"`,V,M?(0,i._)`isFinite(${N})`:i.nil)}}e.checkDataType=y;function E(S,N,M,T){if(S.length===1)return y(S[0],N,M,T);let b;const D=(0,s.toHash)(S);if(D.array&&D.object){const O=(0,i._)`typeof ${N} != "object"`;b=D.null?O:(0,i._)`!${N} || ${O}`,delete D.null,delete D.array,delete D.object}else b=i.nil;D.number&&delete D.integer;for(const O in D)b=(0,i.and)(b,y(O,N,M,T));return b}e.checkDataTypes=E;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:N})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${N}}`};function g(S){const N=p(S);(0,n.reportError)(N,v)}e.reportTypeError=g;function p(S){const{gen:N,data:M,schema:T}=S,b=(0,s.schemaRefOrVal)(S,T,"type");return{gen:N,keyword:"type",data:M,schema:T.type,schemaCode:b,schemaValue:b,parentSchema:T,params:{},it:S}}})(mo);var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.assignDefaults=void 0;const mi=ve,o$=be;function a$(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Id(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Id(e,s,i.default))}Ja.assignDefaults=a$;function Id(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const a=(0,mi._)`${s}${(0,mi.getProperty)(t)}`;if(i){(0,o$.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,mi._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,mi._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,mi._)`${a} = ${(0,mi.stringify)(r)}`)}var Dr={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.validateUnion=ge.validateArray=ge.usePattern=ge.callValidateCode=ge.schemaProperties=ge.allSchemaProperties=ge.noPropertyInData=ge.propertyInData=ge.isOwnProperty=ge.hasPropFunc=ge.reportMissingProp=ge.checkMissingProp=ge.checkReportMissingProp=void 0;const Ue=ve,Eu=be,on=Lr,c$=be;function l$(e,t){const{gen:r,data:n,it:i}=e;r.if(Su(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ue._)`${t}`},!0),e.error()})}ge.checkReportMissingProp=l$;function u$({gen:e,data:t,it:{opts:r}},n,i){return(0,Ue.or)(...n.map(s=>(0,Ue.and)(Su(e,t,s,r.ownProperties),(0,Ue._)`${i} = ${s}`)))}ge.checkMissingProp=u$;function f$(e,t){e.setParams({missingProperty:t},!0),e.error()}ge.reportMissingProp=f$;function ng(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ue._)`Object.prototype.hasOwnProperty`})}ge.hasPropFunc=ng;function wu(e,t,r){return(0,Ue._)`${ng(e)}.call(${t}, ${r})`}ge.isOwnProperty=wu;function d$(e,t,r,n){const i=(0,Ue._)`${t}${(0,Ue.getProperty)(r)} !== undefined`;return n?(0,Ue._)`${i} && ${wu(e,t,r)}`:i}ge.propertyInData=d$;function Su(e,t,r,n){const i=(0,Ue._)`${t}${(0,Ue.getProperty)(r)} === undefined`;return n?(0,Ue.or)(i,(0,Ue.not)(wu(e,t,r))):i}ge.noPropertyInData=Su;function ig(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ge.allSchemaProperties=ig;function h$(e,t){return ig(t).filter(r=>!(0,Eu.alwaysValidSchema)(e,t[r]))}ge.schemaProperties=h$;function p$({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,c,l){const u=l?(0,Ue._)`${e}, ${t}, ${n}${i}`:t,f=[[on.default.instancePath,(0,Ue.strConcat)(on.default.instancePath,s)],[on.default.parentData,o.parentData],[on.default.parentDataProperty,o.parentDataProperty],[on.default.rootData,on.default.rootData]];o.opts.dynamicRef&&f.push([on.default.dynamicAnchors,on.default.dynamicAnchors]);const h=(0,Ue._)`${u}, ${r.object(...f)}`;return c!==Ue.nil?(0,Ue._)`${a}.call(${c}, ${h})`:(0,Ue._)`${a}(${h})`}ge.callValidateCode=p$;const m$=(0,Ue._)`new RegExp`;function g$({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ue._)`${i.code==="new RegExp"?m$:(0,c$.useFunc)(e,i)}(${r}, ${n})`})}ge.usePattern=g$;function y$(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const c=t.const("len",(0,Ue._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:Eu.Type.Num},s),t.if((0,Ue.not)(s),a)})}}ge.validateArray=y$;function v$(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Eu.alwaysValidSchema)(i,c))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,l)=>{const u=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Ue._)`${o} || ${a}`),e.mergeValidEvaluated(u,a)||t.if((0,Ue.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ge.validateUnion=v$;Object.defineProperty(Dr,"__esModule",{value:!0});Dr.validateKeywordUsage=Dr.validSchemaType=Dr.funcKeywordCode=Dr.macroKeywordCode=void 0;const Dt=ve,qn=Lr,_$=ge,$$=po;function E$(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),c=sg(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=r.name("valid");e.subschema({schema:a,schemaPath:Dt.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Dr.macroKeywordCode=E$;function w$(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:c}=e;b$(c,t);const l=!a&&t.compile?t.compile.call(c.self,s,o,c):t.validate,u=sg(n,i,l),f=n.let("valid");e.block$data(f,h),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function h(){if(t.errors===!1)E(),t.modifying&&Dd(e),v(()=>e.error());else{const g=t.async?m():y();t.modifying&&Dd(e),v(()=>S$(e,g))}}function m(){const g=n.let("ruleErrs",null);return n.try(()=>E((0,Dt._)`await `),p=>n.assign(f,!1).if((0,Dt._)`${p} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,Dt._)`${p}.errors`),()=>n.throw(p))),g}function y(){const g=(0,Dt._)`${u}.errors`;return n.assign(g,null),E(Dt.nil),g}function E(g=t.async?(0,Dt._)`await `:Dt.nil){const p=c.opts.passContext?qn.default.this:qn.default.self,S=!("compile"in t&&!a||t.schema===!1);n.assign(f,(0,Dt._)`${g}${(0,_$.callValidateCode)(e,u,p,S)}`,t.modifying)}function v(g){var p;n.if((0,Dt.not)((p=t.valid)!==null&&p!==void 0?p:f),g)}}Dr.funcKeywordCode=w$;function Dd(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Dt._)`${n.parentData}[${n.parentDataProperty}]`))}function S$(e,t){const{gen:r}=e;r.if((0,Dt._)`Array.isArray(${t})`,()=>{r.assign(qn.default.vErrors,(0,Dt._)`${qn.default.vErrors} === null ? ${t} : ${qn.default.vErrors}.concat(${t})`).assign(qn.default.errors,(0,Dt._)`${qn.default.vErrors}.length`),(0,$$.extendErrors)(e)},()=>e.error())}function b$({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function sg(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Dt.stringify)(r)})}function P$(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Dr.validSchemaType=P$;function O$({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const c=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Dr.validateKeywordUsage=O$;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.extendSubschemaMode=En.extendSubschemaData=En.getSubschema=void 0;const Cr=ve,og=be;function T$(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Cr._)`${e.schemaPath}${(0,Cr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Cr._)`${e.schemaPath}${(0,Cr.getProperty)(t)}${(0,Cr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,og.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}En.getSubschema=T$;function A$(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:l,dataPathArr:u,opts:f}=t,h=a.let("data",(0,Cr._)`${t.data}${(0,Cr.getProperty)(r)}`,!0);c(h),e.errorPath=(0,Cr.str)`${l}${(0,og.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Cr._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Cr.Name?i:a.let("data",i,!0);c(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}En.extendSubschemaData=A$;function C$(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}En.extendSubschemaMode=C$;var vt={},Xa=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},ag={exports:{}},gn=ag.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};ha(t,n,i,e,"",e)};gn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};gn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};gn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};gn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ha(e,t,r,n,i,s,o,a,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,c,l);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in gn.arrayKeywords)for(var h=0;h<f.length;h++)ha(e,t,r,f[h],i+"/"+u+"/"+h,s,i,u,n,h)}else if(u in gn.propsKeywords){if(f&&typeof f=="object")for(var m in f)ha(e,t,r,f[m],i+"/"+u+"/"+N$(m),s,i,u,n,m)}else(u in gn.keywords||e.allKeys&&!(u in gn.skipKeywords))&&ha(e,t,r,f,i+"/"+u,s,i,u,n)}r(n,i,s,o,a,c,l)}}function N$(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var R$=ag.exports;Object.defineProperty(vt,"__esModule",{value:!0});vt.getSchemaRefs=vt.resolveUrl=vt.normalizeId=vt._getFullPath=vt.getFullPath=vt.inlineRef=void 0;const I$=be,D$=Xa,F$=R$,k$=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function L$(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Il(e):t?cg(e)<=t:!1}vt.inlineRef=L$;const j$=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Il(e){for(const t in e){if(j$.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Il)||typeof r=="object"&&Il(r))return!0}return!1}function cg(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!k$.has(r)&&(typeof e[r]=="object"&&(0,I$.eachItem)(e[r],n=>t+=cg(n)),t===1/0))return 1/0}return t}function lg(e,t="",r){r!==!1&&(t=ki(t));const n=e.parse(t);return ug(e,n)}vt.getFullPath=lg;function ug(e,t){return e.serialize(t).split("#")[0]+"#"}vt._getFullPath=ug;const M$=/#\/?$/;function ki(e){return e?e.replace(M$,""):""}vt.normalizeId=ki;function U$(e,t,r){return r=ki(r),e.resolve(t,r)}vt.resolveUrl=U$;const x$=/^[a-z_][-a-z0-9._]*$/i;function q$(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=ki(e[r]||t),s={"":i},o=lg(n,i,!1),a={},c=new Set;return F$(e,{allKeys:!0},(f,h,m,y)=>{if(y===void 0)return;const E=o+h;let v=s[y];typeof f[r]=="string"&&(v=g.call(this,f[r])),p.call(this,f.$anchor),p.call(this,f.$dynamicAnchor),s[h]=v;function g(S){const N=this.opts.uriResolver.resolve;if(S=ki(v?N(v,S):S),c.has(S))throw u(S);c.add(S);let M=this.refs[S];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?l(f,M.schema,S):S!==ki(E)&&(S[0]==="#"?(l(f,a[S],S),a[S]=f):this.refs[S]=E),S}function p(S){if(typeof S=="string"){if(!x$.test(S))throw new Error(`invalid anchor "${S}"`);g.call(this,`#${S}`)}}}),a;function l(f,h,m){if(h!==void 0&&!D$(f,h))throw u(m)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}vt.getSchemaRefs=q$;Object.defineProperty(wr,"__esModule",{value:!0});wr.getData=wr.KeywordCxt=wr.validateFunctionCode=void 0;const fg=qi,Fd=mo,bu=Yr,Oa=mo,V$=Ja,Us=Dr,jc=En,ie=ve,le=Lr,B$=vt,Jr=be,vs=po;function z$(e){if(pg(e)&&(mg(e),hg(e))){W$(e);return}dg(e,()=>(0,fg.topBoolOrEmptySchema)(e))}wr.validateFunctionCode=z$;function dg({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,ie._)`${le.default.data}, ${le.default.valCxt}`,n.$async,()=>{e.code((0,ie._)`"use strict"; ${kd(r,i)}`),G$(e,i),e.code(s)}):e.func(t,(0,ie._)`${le.default.data}, ${H$(i)}`,n.$async,()=>e.code(kd(r,i)).code(s))}function H$(e){return(0,ie._)`{${le.default.instancePath}="", ${le.default.parentData}, ${le.default.parentDataProperty}, ${le.default.rootData}=${le.default.data}${e.dynamicRef?(0,ie._)`, ${le.default.dynamicAnchors}={}`:ie.nil}}={}`}function G$(e,t){e.if(le.default.valCxt,()=>{e.var(le.default.instancePath,(0,ie._)`${le.default.valCxt}.${le.default.instancePath}`),e.var(le.default.parentData,(0,ie._)`${le.default.valCxt}.${le.default.parentData}`),e.var(le.default.parentDataProperty,(0,ie._)`${le.default.valCxt}.${le.default.parentDataProperty}`),e.var(le.default.rootData,(0,ie._)`${le.default.valCxt}.${le.default.rootData}`),t.dynamicRef&&e.var(le.default.dynamicAnchors,(0,ie._)`${le.default.valCxt}.${le.default.dynamicAnchors}`)},()=>{e.var(le.default.instancePath,(0,ie._)`""`),e.var(le.default.parentData,(0,ie._)`undefined`),e.var(le.default.parentDataProperty,(0,ie._)`undefined`),e.var(le.default.rootData,le.default.data),t.dynamicRef&&e.var(le.default.dynamicAnchors,(0,ie._)`{}`)})}function W$(e){const{schema:t,opts:r,gen:n}=e;dg(e,()=>{r.$comment&&t.$comment&&yg(e),Q$(e),n.let(le.default.vErrors,null),n.let(le.default.errors,0),r.unevaluated&&K$(e),gg(e),tE(e)})}function K$(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,ie._)`${r}.evaluated`),t.if((0,ie._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,ie._)`${e.evaluated}.props`,(0,ie._)`undefined`)),t.if((0,ie._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,ie._)`${e.evaluated}.items`,(0,ie._)`undefined`))}function kd(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,ie._)`/*# sourceURL=${r} */`:ie.nil}function Y$(e,t){if(pg(e)&&(mg(e),hg(e))){J$(e,t);return}(0,fg.boolOrEmptySchema)(e,t)}function hg({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function pg(e){return typeof e.schema!="boolean"}function J$(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&yg(e),Z$(e),eE(e);const s=n.const("_errs",le.default.errors);gg(e,s),n.var(t,(0,ie._)`${s} === ${le.default.errors}`)}function mg(e){(0,Jr.checkUnknownRules)(e),X$(e)}function gg(e,t){if(e.opts.jtd)return Ld(e,[],!1,t);const r=(0,Fd.getSchemaTypes)(e.schema),n=(0,Fd.coerceAndCheckDataType)(e,r);Ld(e,r,!n,t)}function X$(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Jr.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Q$(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Jr.checkStrictMode)(e,"default is ignored in the schema root")}function Z$(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,B$.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function eE(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function yg({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,ie._)`${le.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,ie.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,ie._)`${le.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function tE(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,ie._)`${le.default.errors} === 0`,()=>t.return(le.default.data),()=>t.throw((0,ie._)`new ${i}(${le.default.vErrors})`)):(t.assign((0,ie._)`${n}.errors`,le.default.vErrors),s.unevaluated&&rE(e),t.return((0,ie._)`${le.default.errors} === 0`))}function rE({gen:e,evaluated:t,props:r,items:n}){r instanceof ie.Name&&e.assign((0,ie._)`${t}.props`,r),n instanceof ie.Name&&e.assign((0,ie._)`${t}.items`,n)}function Ld(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:a,opts:c,self:l}=e,{RULES:u}=l;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,Jr.schemaHasRulesButRef)(s,u))){i.block(()=>$g(e,"$ref",u.all.$ref.definition));return}c.jtd||nE(e,t),i.block(()=>{for(const h of u.rules)f(h);f(u.post)});function f(h){(0,bu.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Oa.checkDataType)(h.type,o,c.strictNumbers)),jd(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Oa.reportTypeError)(e)),i.endIf()):jd(e,h),a||i.if((0,ie._)`${le.default.errors} === ${n||0}`))}}function jd(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,V$.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,bu.shouldUseRule)(n,s)&&$g(e,s.keyword,s.definition,t.type)})}function nE(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(iE(e,t),e.opts.allowUnionTypes||sE(e,t),oE(e,e.dataTypes))}function iE(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{vg(e.dataTypes,r)||Pu(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),cE(e,t)}}function sE(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Pu(e,"use allowUnionTypes to allow union type keyword")}function oE(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,bu.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>aE(t,o))&&Pu(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function aE(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function vg(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function cE(e,t){const r=[];for(const n of e.dataTypes)vg(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Pu(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Jr.checkStrictMode)(e,t,e.opts.strictTypes)}let _g=class{constructor(t,r,n){if((0,Us.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Jr.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Eg(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Us.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",le.default.errors))}result(t,r,n){this.failResult((0,ie.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,ie.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,ie._)`${r} !== undefined && (${(0,ie.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?vs.reportExtraError:vs.reportError)(this,this.def.error,r)}$dataError(){(0,vs.reportError)(this,this.def.$dataError||vs.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,vs.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=ie.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=ie.nil,r=ie.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,ie.or)((0,ie._)`${i} === undefined`,r)),t!==ie.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==ie.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,ie.or)(o(),a());function o(){if(n.length){if(!(r instanceof ie.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,ie._)`${(0,Oa.checkDataTypes)(c,r,s.opts.strictNumbers,Oa.DataType.Wrong)}`}return ie.nil}function a(){if(i.validateSchema){const c=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,ie._)`!${c}(${r})`}return ie.nil}}subschema(t,r){const n=(0,jc.getSubschema)(this.it,t);(0,jc.extendSubschemaData)(n,this.it,t),(0,jc.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Y$(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Jr.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Jr.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,ie.Name)),!0}};wr.KeywordCxt=_g;function $g(e,t,r,n){const i=new _g(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Us.funcKeywordCode)(i,r):"macro"in r?(0,Us.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Us.funcKeywordCode)(i,r)}const lE=/^\/(?:[^~]|~0|~1)*$/,uE=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Eg(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return le.default.rootData;if(e[0]==="/"){if(!lE.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=le.default.rootData}else{const l=uE.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+l[1];if(i=l[2],i==="#"){if(u>=t)throw new Error(c("property/index",u));return n[t-u]}if(u>t)throw new Error(c("data",u));if(s=r[t-u],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,ie._)`${s}${(0,ie.getProperty)((0,Jr.unescapeJsonPointer)(l))}`,o=(0,ie._)`${o} && ${s}`);return o;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${t}`}}wr.getData=Eg;var go={};Object.defineProperty(go,"__esModule",{value:!0});let fE=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};go.default=fE;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});const Mc=vt;let dE=class extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Mc.resolveUrl)(t,r,n),this.missingSchema=(0,Mc.normalizeId)((0,Mc.getFullPath)(t,this.missingRef))}};yo.default=dE;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.resolveSchema=Gt.getCompilingSchema=Gt.resolveRef=Gt.compileSchema=Gt.SchemaEnv=void 0;const hr=ve,hE=go,Fn=Lr,$r=vt,Md=be,pE=wr;let Qa=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,$r.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Gt.SchemaEnv=Qa;function Ou(e){const t=wg.call(this,e);if(t)return t;const r=(0,$r.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new hr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:hE.default,code:(0,hr._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const l={gen:o,allErrors:this.opts.allErrors,data:Fn.default.data,parentData:Fn.default.parentData,parentDataProperty:Fn.default.parentDataProperty,dataNames:[Fn.default.data],dataPathArr:[hr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,hr.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:hr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,hr._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,pE.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();u=`${o.scopeRefs(Fn.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const m=new Function(`${Fn.default.self}`,`${Fn.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:E}=l;m.evaluated={props:y instanceof hr.Name?void 0:y,items:E instanceof hr.Name?void 0:E,dynamicProps:y instanceof hr.Name,dynamicItems:E instanceof hr.Name},m.source&&(m.source.evaluated=(0,hr.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}Gt.compileSchema=Ou;function mE(e,t,r){var n;r=(0,$r.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=vE.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new Qa({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=gE.call(this,s)}Gt.resolveRef=mE;function gE(e){return(0,$r.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ou.call(this,e)}function wg(e){for(const t of this._compilations)if(yE(t,e))return t}Gt.getCompilingSchema=wg;function yE(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function vE(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Za.call(this,e,t)}function Za(e,t){const r=this.opts.uriResolver.parse(t),n=(0,$r._getFullPath)(this.opts.uriResolver,r);let i=(0,$r.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Uc.call(this,r,e);const s=(0,$r.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=Za.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:Uc.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Ou.call(this,o),s===(0,$r.normalizeId)(t)){const{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(i=(0,$r.resolveUrl)(this.opts.uriResolver,i,l)),new Qa({schema:a,schemaId:c,root:e,baseId:i})}return Uc.call(this,r,o)}}Gt.resolveSchema=Za;const _E=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Uc(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Md.unescapeFragment)(a)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!_E.has(a)&&l&&(t=(0,$r.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Md.schemaHasRulesButRef)(r,this.RULES)){const a=(0,$r.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Za.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new Qa({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const $E="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",EE="Meta-schema for $data reference (JSON AnySchema extension proposal)",wE="object",SE=["$data"],bE={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},PE=!1,OE={$id:$E,description:EE,type:wE,required:SE,properties:bE,additionalProperties:PE};var Tu={},Dl={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(it,function(r){function n(){for(var x=arguments.length,F=Array(x),q=0;q<x;q++)F[q]=arguments[q];if(F.length>1){F[0]=F[0].slice(0,-1);for(var X=F.length-1,J=1;J<X;++J)F[J]=F[J].slice(1,-1);return F[X]=F[X].slice(1),F.join("")}else return F[0]}function i(x){return"(?:"+x+")"}function s(x){return x===void 0?"undefined":x===null?"null":Object.prototype.toString.call(x).split(" ").pop().split("]").shift().toLowerCase()}function o(x){return x.toUpperCase()}function a(x){return x!=null?x instanceof Array?x:typeof x.length!="number"||x.split||x.setInterval||x.call?[x]:Array.prototype.slice.call(x):[]}function c(x,F){var q=x;if(F)for(var X in F)q[X]=F[X];return q}function l(x){var F="[A-Za-z]",q="[0-9]",X=n(q,"[A-Fa-f]"),J=i(i("%[EFef]"+X+"%"+X+X+"%"+X+X)+"|"+i("%[89A-Fa-f]"+X+"%"+X+X)+"|"+i("%"+X+X)),ne="[\\:\\/\\?\\#\\[\\]\\@]",oe="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",$e=n(ne,oe),Ee=x?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ve=x?"[\\uE000-\\uF8FF]":"[]",me=n(F,q,"[\\-\\.\\_\\~]",Ee);i(F+n(F,q,"[\\+\\-\\.]")+"*"),i(i(J+"|"+n(me,oe,"[\\:]"))+"*");var Ie=i(i("25[0-5]")+"|"+i("2[0-4]"+q)+"|"+i("1"+q+q)+"|"+i("0?[1-9]"+q)+"|0?0?"+q),Be=i(Ie+"\\."+Ie+"\\."+Ie+"\\."+Ie),ce=i(X+"{1,4}"),Oe=i(i(ce+"\\:"+ce)+"|"+Be),Je=i(i(ce+"\\:")+"{6}"+Oe),Le=i("\\:\\:"+i(ce+"\\:")+"{5}"+Oe),Tr=i(i(ce)+"?\\:\\:"+i(ce+"\\:")+"{4}"+Oe),rr=i(i(i(ce+"\\:")+"{0,1}"+ce)+"?\\:\\:"+i(ce+"\\:")+"{3}"+Oe),nr=i(i(i(ce+"\\:")+"{0,2}"+ce)+"?\\:\\:"+i(ce+"\\:")+"{2}"+Oe),ur=i(i(i(ce+"\\:")+"{0,3}"+ce)+"?\\:\\:"+ce+"\\:"+Oe),qr=i(i(i(ce+"\\:")+"{0,4}"+ce)+"?\\:\\:"+Oe),Vt=i(i(i(ce+"\\:")+"{0,5}"+ce)+"?\\:\\:"+ce),at=i(i(i(ce+"\\:")+"{0,6}"+ce)+"?\\:\\:"),Vr=i([Je,Le,Tr,rr,nr,ur,qr,Vt,at].join("|")),fr=i(i(me+"|"+J)+"+");i("[vV]"+X+"+\\."+n(me,oe,"[\\:]")+"+"),i(i(J+"|"+n(me,oe))+"*");var Nn=i(J+"|"+n(me,oe,"[\\:\\@]"));return i(i(J+"|"+n(me,oe,"[\\@]"))+"+"),i(i(Nn+"|"+n("[\\/\\?]",Ve))+"*"),{NOT_SCHEME:new RegExp(n("[^]",F,q,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",me,oe),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",me,oe),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",me,oe),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",me,oe),"g"),NOT_QUERY:new RegExp(n("[^\\%]",me,oe,"[\\:\\@\\/\\?]",Ve),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",me,oe,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",me,oe),"g"),UNRESERVED:new RegExp(me,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",me,$e),"g"),PCT_ENCODED:new RegExp(J,"g"),IPV4ADDRESS:new RegExp("^("+Be+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Vr+")"+i(i("\\%25|\\%(?!"+X+"{2})")+"("+fr+")")+"?\\]?$")}}var u=l(!1),f=l(!0),h=function(){function x(F,q){var X=[],J=!0,ne=!1,oe=void 0;try{for(var $e=F[Symbol.iterator](),Ee;!(J=(Ee=$e.next()).done)&&(X.push(Ee.value),!(q&&X.length===q));J=!0);}catch(Ve){ne=!0,oe=Ve}finally{try{!J&&$e.return&&$e.return()}finally{if(ne)throw oe}}return X}return function(F,q){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return x(F,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(x){if(Array.isArray(x)){for(var F=0,q=Array(x.length);F<x.length;F++)q[F]=x[F];return q}else return Array.from(x)},y=2147483647,E=36,v=1,g=26,p=38,S=700,N=72,M=128,T="-",b=/^xn--/,D=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Y=E-v,H=Math.floor,W=String.fromCharCode;function G(x){throw new RangeError(V[x])}function Q(x,F){for(var q=[],X=x.length;X--;)q[X]=F(x[X]);return q}function Z(x,F){var q=x.split("@"),X="";q.length>1&&(X=q[0]+"@",x=q[1]),x=x.replace(O,".");var J=x.split("."),ne=Q(J,F).join(".");return X+ne}function K(x){for(var F=[],q=0,X=x.length;q<X;){var J=x.charCodeAt(q++);if(J>=55296&&J<=56319&&q<X){var ne=x.charCodeAt(q++);(ne&64512)==56320?F.push(((J&1023)<<10)+(ne&1023)+65536):(F.push(J),q--)}else F.push(J)}return F}var I=function(F){return String.fromCodePoint.apply(String,m(F))},j=function(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:E},A=function(F,q){return F+22+75*(F<26)-((q!=0)<<5)},w=function(F,q,X){var J=0;for(F=X?H(F/S):F>>1,F+=H(F/q);F>Y*g>>1;J+=E)F=H(F/Y);return H(J+(Y+1)*F/(F+p))},R=function(F){var q=[],X=F.length,J=0,ne=M,oe=N,$e=F.lastIndexOf(T);$e<0&&($e=0);for(var Ee=0;Ee<$e;++Ee)F.charCodeAt(Ee)>=128&&G("not-basic"),q.push(F.charCodeAt(Ee));for(var Ve=$e>0?$e+1:0;Ve<X;){for(var me=J,Ie=1,Be=E;;Be+=E){Ve>=X&&G("invalid-input");var ce=j(F.charCodeAt(Ve++));(ce>=E||ce>H((y-J)/Ie))&&G("overflow"),J+=ce*Ie;var Oe=Be<=oe?v:Be>=oe+g?g:Be-oe;if(ce<Oe)break;var Je=E-Oe;Ie>H(y/Je)&&G("overflow"),Ie*=Je}var Le=q.length+1;oe=w(J-me,Le,me==0),H(J/Le)>y-ne&&G("overflow"),ne+=H(J/Le),J%=Le,q.splice(J++,0,ne)}return String.fromCodePoint.apply(String,q)},C=function(F){var q=[];F=K(F);var X=F.length,J=M,ne=0,oe=N,$e=!0,Ee=!1,Ve=void 0;try{for(var me=F[Symbol.iterator](),Ie;!($e=(Ie=me.next()).done);$e=!0){var Be=Ie.value;Be<128&&q.push(W(Be))}}catch(rn){Ee=!0,Ve=rn}finally{try{!$e&&me.return&&me.return()}finally{if(Ee)throw Ve}}var ce=q.length,Oe=ce;for(ce&&q.push(T);Oe<X;){var Je=y,Le=!0,Tr=!1,rr=void 0;try{for(var nr=F[Symbol.iterator](),ur;!(Le=(ur=nr.next()).done);Le=!0){var qr=ur.value;qr>=J&&qr<Je&&(Je=qr)}}catch(rn){Tr=!0,rr=rn}finally{try{!Le&&nr.return&&nr.return()}finally{if(Tr)throw rr}}var Vt=Oe+1;Je-J>H((y-ne)/Vt)&&G("overflow"),ne+=(Je-J)*Vt,J=Je;var at=!0,Vr=!1,fr=void 0;try{for(var Nn=F[Symbol.iterator](),jo;!(at=(jo=Nn.next()).done);at=!0){var Mo=jo.value;if(Mo<J&&++ne>y&&G("overflow"),Mo==J){for(var di=ne,Br=E;;Br+=E){var hi=Br<=oe?v:Br>=oe+g?g:Br-oe;if(di<hi)break;var tn=di-hi,gs=E-hi;q.push(W(A(hi+tn%gs,0))),di=H(tn/gs)}q.push(W(A(di,0))),oe=w(ne,Vt,Oe==ce),ne=0,++Oe}}}catch(rn){Vr=!0,fr=rn}finally{try{!at&&Nn.return&&Nn.return()}finally{if(Vr)throw fr}}++ne,++J}return q.join("")},d=function(F){return Z(F,function(q){return b.test(q)?R(q.slice(4).toLowerCase()):q})},$=function(F){return Z(F,function(q){return D.test(q)?"xn--"+C(q):q})},L={version:"2.1.0",ucs2:{decode:K,encode:I},decode:R,encode:C,toASCII:$,toUnicode:d},P={};function _(x){var F=x.charCodeAt(0),q=void 0;return F<16?q="%0"+F.toString(16).toUpperCase():F<128?q="%"+F.toString(16).toUpperCase():F<2048?q="%"+(F>>6|192).toString(16).toUpperCase()+"%"+(F&63|128).toString(16).toUpperCase():q="%"+(F>>12|224).toString(16).toUpperCase()+"%"+(F>>6&63|128).toString(16).toUpperCase()+"%"+(F&63|128).toString(16).toUpperCase(),q}function z(x){for(var F="",q=0,X=x.length;q<X;){var J=parseInt(x.substr(q+1,2),16);if(J<128)F+=String.fromCharCode(J),q+=3;else if(J>=194&&J<224){if(X-q>=6){var ne=parseInt(x.substr(q+4,2),16);F+=String.fromCharCode((J&31)<<6|ne&63)}else F+=x.substr(q,6);q+=6}else if(J>=224){if(X-q>=9){var oe=parseInt(x.substr(q+4,2),16),$e=parseInt(x.substr(q+7,2),16);F+=String.fromCharCode((J&15)<<12|(oe&63)<<6|$e&63)}else F+=x.substr(q,9);q+=9}else F+=x.substr(q,3),q+=3}return F}function U(x,F){function q(X){var J=z(X);return J.match(F.UNRESERVED)?J:X}return x.scheme&&(x.scheme=String(x.scheme).replace(F.PCT_ENCODED,q).toLowerCase().replace(F.NOT_SCHEME,"")),x.userinfo!==void 0&&(x.userinfo=String(x.userinfo).replace(F.PCT_ENCODED,q).replace(F.NOT_USERINFO,_).replace(F.PCT_ENCODED,o)),x.host!==void 0&&(x.host=String(x.host).replace(F.PCT_ENCODED,q).toLowerCase().replace(F.NOT_HOST,_).replace(F.PCT_ENCODED,o)),x.path!==void 0&&(x.path=String(x.path).replace(F.PCT_ENCODED,q).replace(x.scheme?F.NOT_PATH:F.NOT_PATH_NOSCHEME,_).replace(F.PCT_ENCODED,o)),x.query!==void 0&&(x.query=String(x.query).replace(F.PCT_ENCODED,q).replace(F.NOT_QUERY,_).replace(F.PCT_ENCODED,o)),x.fragment!==void 0&&(x.fragment=String(x.fragment).replace(F.PCT_ENCODED,q).replace(F.NOT_FRAGMENT,_).replace(F.PCT_ENCODED,o)),x}function te(x){return x.replace(/^0*(.*)/,"$1")||"0"}function fe(x,F){var q=x.match(F.IPV4ADDRESS)||[],X=h(q,2),J=X[1];return J?J.split(".").map(te).join("."):x}function Se(x,F){var q=x.match(F.IPV6ADDRESS)||[],X=h(q,3),J=X[1],ne=X[2];if(J){for(var oe=J.toLowerCase().split("::").reverse(),$e=h(oe,2),Ee=$e[0],Ve=$e[1],me=Ve?Ve.split(":").map(te):[],Ie=Ee.split(":").map(te),Be=F.IPV4ADDRESS.test(Ie[Ie.length-1]),ce=Be?7:8,Oe=Ie.length-ce,Je=Array(ce),Le=0;Le<ce;++Le)Je[Le]=me[Le]||Ie[Oe+Le]||"";Be&&(Je[ce-1]=fe(Je[ce-1],F));var Tr=Je.reduce(function(Vt,at,Vr){if(!at||at==="0"){var fr=Vt[Vt.length-1];fr&&fr.index+fr.length===Vr?fr.length++:Vt.push({index:Vr,length:1})}return Vt},[]),rr=Tr.sort(function(Vt,at){return at.length-Vt.length})[0],nr=void 0;if(rr&&rr.length>1){var ur=Je.slice(0,rr.index),qr=Je.slice(rr.index+rr.length);nr=ur.join(":")+"::"+qr.join(":")}else nr=Je.join(":");return ne&&(nr+="%"+ne),nr}else return x}var De=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,qe="".match(/(){0}/)[1]===void 0;function ke(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q={},X=F.iri!==!1?f:u;F.reference==="suffix"&&(x=(F.scheme?F.scheme+":":"")+"//"+x);var J=x.match(De);if(J){qe?(q.scheme=J[1],q.userinfo=J[3],q.host=J[4],q.port=parseInt(J[5],10),q.path=J[6]||"",q.query=J[7],q.fragment=J[8],isNaN(q.port)&&(q.port=J[5])):(q.scheme=J[1]||void 0,q.userinfo=x.indexOf("@")!==-1?J[3]:void 0,q.host=x.indexOf("//")!==-1?J[4]:void 0,q.port=parseInt(J[5],10),q.path=J[6]||"",q.query=x.indexOf("?")!==-1?J[7]:void 0,q.fragment=x.indexOf("#")!==-1?J[8]:void 0,isNaN(q.port)&&(q.port=x.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?J[4]:void 0)),q.host&&(q.host=Se(fe(q.host,X),X)),q.scheme===void 0&&q.userinfo===void 0&&q.host===void 0&&q.port===void 0&&!q.path&&q.query===void 0?q.reference="same-document":q.scheme===void 0?q.reference="relative":q.fragment===void 0?q.reference="absolute":q.reference="uri",F.reference&&F.reference!=="suffix"&&F.reference!==q.reference&&(q.error=q.error||"URI is not a "+F.reference+" reference.");var ne=P[(F.scheme||q.scheme||"").toLowerCase()];if(!F.unicodeSupport&&(!ne||!ne.unicodeSupport)){if(q.host&&(F.domainHost||ne&&ne.domainHost))try{q.host=L.toASCII(q.host.replace(X.PCT_ENCODED,z).toLowerCase())}catch(oe){q.error=q.error||"Host's domain name can not be converted to ASCII via punycode: "+oe}U(q,u)}else U(q,X);ne&&ne.parse&&ne.parse(q,F)}else q.error=q.error||"URI can not be parsed.";return q}function Ne(x,F){var q=F.iri!==!1?f:u,X=[];return x.userinfo!==void 0&&(X.push(x.userinfo),X.push("@")),x.host!==void 0&&X.push(Se(fe(String(x.host),q),q).replace(q.IPV6ADDRESS,function(J,ne,oe){return"["+ne+(oe?"%25"+oe:"")+"]"})),(typeof x.port=="number"||typeof x.port=="string")&&(X.push(":"),X.push(String(x.port))),X.length?X.join(""):void 0}var Ye=/^\.\.?\//,xt=/^\/\.(\/|$)/,At=/^\/\.\.(\/|$)/,Ct=/^\/?(?:.|\n)*?(?=\/|$)/;function ot(x){for(var F=[];x.length;)if(x.match(Ye))x=x.replace(Ye,"");else if(x.match(xt))x=x.replace(xt,"/");else if(x.match(At))x=x.replace(At,"/"),F.pop();else if(x==="."||x==="..")x="";else{var q=x.match(Ct);if(q){var X=q[0];x=x.slice(X.length),F.push(X)}else throw new Error("Unexpected dot segment condition")}return F.join("")}function tt(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=F.iri?f:u,X=[],J=P[(F.scheme||x.scheme||"").toLowerCase()];if(J&&J.serialize&&J.serialize(x,F),x.host&&!q.IPV6ADDRESS.test(x.host)){if(F.domainHost||J&&J.domainHost)try{x.host=F.iri?L.toUnicode(x.host):L.toASCII(x.host.replace(q.PCT_ENCODED,z).toLowerCase())}catch($e){x.error=x.error||"Host's domain name can not be converted to "+(F.iri?"Unicode":"ASCII")+" via punycode: "+$e}}U(x,q),F.reference!=="suffix"&&x.scheme&&(X.push(x.scheme),X.push(":"));var ne=Ne(x,F);if(ne!==void 0&&(F.reference!=="suffix"&&X.push("//"),X.push(ne),x.path&&x.path.charAt(0)!=="/"&&X.push("/")),x.path!==void 0){var oe=x.path;!F.absolutePath&&(!J||!J.absolutePath)&&(oe=ot(oe)),ne===void 0&&(oe=oe.replace(/^\/\//,"/%2F")),X.push(oe)}return x.query!==void 0&&(X.push("?"),X.push(x.query)),x.fragment!==void 0&&(X.push("#"),X.push(x.fragment)),X.join("")}function er(x,F){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=arguments[3],J={};return X||(x=ke(tt(x,q),q),F=ke(tt(F,q),q)),q=q||{},!q.tolerant&&F.scheme?(J.scheme=F.scheme,J.userinfo=F.userinfo,J.host=F.host,J.port=F.port,J.path=ot(F.path||""),J.query=F.query):(F.userinfo!==void 0||F.host!==void 0||F.port!==void 0?(J.userinfo=F.userinfo,J.host=F.host,J.port=F.port,J.path=ot(F.path||""),J.query=F.query):(F.path?(F.path.charAt(0)==="/"?J.path=ot(F.path):((x.userinfo!==void 0||x.host!==void 0||x.port!==void 0)&&!x.path?J.path="/"+F.path:x.path?J.path=x.path.slice(0,x.path.lastIndexOf("/")+1)+F.path:J.path=F.path,J.path=ot(J.path)),J.query=F.query):(J.path=x.path,F.query!==void 0?J.query=F.query:J.query=x.query),J.userinfo=x.userinfo,J.host=x.host,J.port=x.port),J.scheme=x.scheme),J.fragment=F.fragment,J}function cr(x,F,q){var X=c({scheme:"null"},q);return tt(er(ke(x,X),ke(F,X),X,!0),X)}function Nt(x,F){return typeof x=="string"?x=tt(ke(x,F),F):s(x)==="object"&&(x=ke(tt(x,F),F)),x}function qt(x,F,q){return typeof x=="string"?x=tt(ke(x,q),q):s(x)==="object"&&(x=tt(x,q)),typeof F=="string"?F=tt(ke(F,q),q):s(F)==="object"&&(F=tt(F,q)),x===F}function lr(x,F){return x&&x.toString().replace(!F||!F.iri?u.ESCAPE:f.ESCAPE,_)}function lt(x,F){return x&&x.toString().replace(!F||!F.iri?u.PCT_ENCODED:f.PCT_ENCODED,z)}var rt={scheme:"http",domainHost:!0,parse:function(F,q){return F.host||(F.error=F.error||"HTTP URIs must have a host."),F},serialize:function(F,q){var X=String(F.scheme).toLowerCase()==="https";return(F.port===(X?443:80)||F.port==="")&&(F.port=void 0),F.path||(F.path="/"),F}},ls={scheme:"https",domainHost:rt.domainHost,parse:rt.parse,serialize:rt.serialize};function us(x){return typeof x.secure=="boolean"?x.secure:String(x.scheme).toLowerCase()==="wss"}var Cn={scheme:"ws",domainHost:!0,parse:function(F,q){var X=F;return X.secure=us(X),X.resourceName=(X.path||"/")+(X.query?"?"+X.query:""),X.path=void 0,X.query=void 0,X},serialize:function(F,q){if((F.port===(us(F)?443:80)||F.port==="")&&(F.port=void 0),typeof F.secure=="boolean"&&(F.scheme=F.secure?"wss":"ws",F.secure=void 0),F.resourceName){var X=F.resourceName.split("?"),J=h(X,2),ne=J[0],oe=J[1];F.path=ne&&ne!=="/"?ne:void 0,F.query=oe,F.resourceName=void 0}return F.fragment=void 0,F}},fs={scheme:"wss",domainHost:Cn.domainHost,parse:Cn.parse,serialize:Cn.serialize},ui={},ds="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Jt="[0-9A-Fa-f]",Nc=i(i("%[EFef]"+Jt+"%"+Jt+Jt+"%"+Jt+Jt)+"|"+i("%[89A-Fa-f]"+Jt+"%"+Jt+Jt)+"|"+i("%"+Jt+Jt)),Ur="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Do="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Rc=n(Do,'[\\"\\\\]'),Ic="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",hs=new RegExp(ds,"g"),tr=new RegExp(Nc,"g"),ps=new RegExp(n("[^]",Ur,"[\\.]",'[\\"]',Rc),"g"),fi=new RegExp(n("[^]",ds,Ic),"g"),ms=fi;function xr(x){var F=z(x);return F.match(hs)?F:x}var Fo={scheme:"mailto",parse:function(F,q){var X=F,J=X.to=X.path?X.path.split(","):[];if(X.path=void 0,X.query){for(var ne=!1,oe={},$e=X.query.split("&"),Ee=0,Ve=$e.length;Ee<Ve;++Ee){var me=$e[Ee].split("=");switch(me[0]){case"to":for(var Ie=me[1].split(","),Be=0,ce=Ie.length;Be<ce;++Be)J.push(Ie[Be]);break;case"subject":X.subject=lt(me[1],q);break;case"body":X.body=lt(me[1],q);break;default:ne=!0,oe[lt(me[0],q)]=lt(me[1],q);break}}ne&&(X.headers=oe)}X.query=void 0;for(var Oe=0,Je=J.length;Oe<Je;++Oe){var Le=J[Oe].split("@");if(Le[0]=lt(Le[0]),q.unicodeSupport)Le[1]=lt(Le[1],q).toLowerCase();else try{Le[1]=L.toASCII(lt(Le[1],q).toLowerCase())}catch(Tr){X.error=X.error||"Email address's domain name can not be converted to ASCII via punycode: "+Tr}J[Oe]=Le.join("@")}return X},serialize:function(F,q){var X=F,J=a(F.to);if(J){for(var ne=0,oe=J.length;ne<oe;++ne){var $e=String(J[ne]),Ee=$e.lastIndexOf("@"),Ve=$e.slice(0,Ee).replace(tr,xr).replace(tr,o).replace(ps,_),me=$e.slice(Ee+1);try{me=q.iri?L.toUnicode(me):L.toASCII(lt(me,q).toLowerCase())}catch(Oe){X.error=X.error||"Email address's domain name can not be converted to "+(q.iri?"Unicode":"ASCII")+" via punycode: "+Oe}J[ne]=Ve+"@"+me}X.path=J.join(",")}var Ie=F.headers=F.headers||{};F.subject&&(Ie.subject=F.subject),F.body&&(Ie.body=F.body);var Be=[];for(var ce in Ie)Ie[ce]!==ui[ce]&&Be.push(ce.replace(tr,xr).replace(tr,o).replace(fi,_)+"="+Ie[ce].replace(tr,xr).replace(tr,o).replace(ms,_));return Be.length&&(X.query=Be.join("&")),X}},Dc=/^([^\:]+)\:(.*)/,ko={scheme:"urn",parse:function(F,q){var X=F.path&&F.path.match(Dc),J=F;if(X){var ne=q.scheme||J.scheme||"urn",oe=X[1].toLowerCase(),$e=X[2],Ee=ne+":"+(q.nid||oe),Ve=P[Ee];J.nid=oe,J.nss=$e,J.path=void 0,Ve&&(J=Ve.parse(J,q))}else J.error=J.error||"URN can not be parsed.";return J},serialize:function(F,q){var X=q.scheme||F.scheme||"urn",J=F.nid,ne=X+":"+(q.nid||J),oe=P[ne];oe&&(F=oe.serialize(F,q));var $e=F,Ee=F.nss;return $e.path=(J||q.nid)+":"+Ee,$e}},Fc=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Lo={scheme:"urn:uuid",parse:function(F,q){var X=F;return X.uuid=X.nss,X.nss=void 0,!q.tolerant&&(!X.uuid||!X.uuid.match(Fc))&&(X.error=X.error||"UUID is not valid."),X},serialize:function(F,q){var X=F;return X.nss=(F.uuid||"").toLowerCase(),X}};P[rt.scheme]=rt,P[ls.scheme]=ls,P[Cn.scheme]=Cn,P[fs.scheme]=fs,P[Fo.scheme]=Fo,P[ko.scheme]=ko,P[Lo.scheme]=Lo,r.SCHEMES=P,r.pctEncChar=_,r.pctDecChars=z,r.parse=ke,r.removeDotSegments=ot,r.serialize=tt,r.resolveComponents=er,r.resolve=cr,r.normalize=Nt,r.equal=qt,r.escapeComponent=lr,r.unescapeComponent=lt,Object.defineProperty(r,"__esModule",{value:!0})})})(Dl,Dl.exports);var Sg=Dl.exports;Object.defineProperty(Tu,"__esModule",{value:!0});const bg=Sg;bg.code='require("ajv/dist/runtime/uri").default';Tu.default=bg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=wr;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ve;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=go,i=yo,s=ti,o=Gt,a=ve,c=vt,l=mo,u=be,f=OE,h=Tu,m=(A,w)=>new RegExp(A,w);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function S(A){var w,R,C,d,$,L,P,_,z,U,te,fe,Se,De,qe,ke,Ne,Ye,xt,At,Ct,ot,tt,er,cr;const Nt=A.strict,qt=(w=A.code)===null||w===void 0?void 0:w.optimize,lr=qt===!0||qt===void 0?1:qt||0,lt=(C=(R=A.code)===null||R===void 0?void 0:R.regExp)!==null&&C!==void 0?C:m,rt=(d=A.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(L=($=A.strictSchema)!==null&&$!==void 0?$:Nt)!==null&&L!==void 0?L:!0,strictNumbers:(_=(P=A.strictNumbers)!==null&&P!==void 0?P:Nt)!==null&&_!==void 0?_:!0,strictTypes:(U=(z=A.strictTypes)!==null&&z!==void 0?z:Nt)!==null&&U!==void 0?U:"log",strictTuples:(fe=(te=A.strictTuples)!==null&&te!==void 0?te:Nt)!==null&&fe!==void 0?fe:"log",strictRequired:(De=(Se=A.strictRequired)!==null&&Se!==void 0?Se:Nt)!==null&&De!==void 0?De:!1,code:A.code?{...A.code,optimize:lr,regExp:lt}:{optimize:lr,regExp:lt},loopRequired:(qe=A.loopRequired)!==null&&qe!==void 0?qe:p,loopEnum:(ke=A.loopEnum)!==null&&ke!==void 0?ke:p,meta:(Ne=A.meta)!==null&&Ne!==void 0?Ne:!0,messages:(Ye=A.messages)!==null&&Ye!==void 0?Ye:!0,inlineRefs:(xt=A.inlineRefs)!==null&&xt!==void 0?xt:!0,schemaId:(At=A.schemaId)!==null&&At!==void 0?At:"$id",addUsedSchema:(Ct=A.addUsedSchema)!==null&&Ct!==void 0?Ct:!0,validateSchema:(ot=A.validateSchema)!==null&&ot!==void 0?ot:!0,validateFormats:(tt=A.validateFormats)!==null&&tt!==void 0?tt:!0,unicodeRegExp:(er=A.unicodeRegExp)!==null&&er!==void 0?er:!0,int32range:(cr=A.int32range)!==null&&cr!==void 0?cr:!0,uriResolver:rt}}class N{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...S(w)};const{es5:R,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:R,lines:C}),this.logger=H(w.logger);const d=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,w,"NOT SUPPORTED"),M.call(this,g,w,"DEPRECATED","warn"),this._metaOpts=V.call(this),w.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&O.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),b.call(this),w.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:R,schemaId:C}=this.opts;let d=f;C==="id"&&(d={...f},d.id=d.$id,delete d.$id),R&&w&&this.addMetaSchema(d,d[C],!1)}defaultMeta(){const{meta:w,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[R]||w:void 0}validate(w,R){let C;if(typeof w=="string"){if(C=this.getSchema(w),!C)throw new Error(`no schema with key or ref "${w}"`)}else C=this.compile(w);const d=C(R);return"$async"in C||(this.errors=C.errors),d}compile(w,R){const C=this._addSchema(w,R);return C.validate||this._compileSchemaEnv(C)}compileAsync(w,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return d.call(this,w,R);async function d(U,te){await $.call(this,U.$schema);const fe=this._addSchema(U,te);return fe.validate||L.call(this,fe)}async function $(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function L(U){try{return this._compileSchemaEnv(U)}catch(te){if(!(te instanceof i.default))throw te;return P.call(this,te),await _.call(this,te.missingSchema),L.call(this,U)}}function P({missingSchema:U,missingRef:te}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${te} cannot be resolved`)}async function _(U){const te=await z.call(this,U);this.refs[U]||await $.call(this,te.$schema),this.refs[U]||this.addSchema(te,U,R)}async function z(U){const te=this._loading[U];if(te)return te;try{return await(this._loading[U]=C(U))}finally{delete this._loading[U]}}}addSchema(w,R,C,d=this.opts.validateSchema){if(Array.isArray(w)){for(const L of w)this.addSchema(L,void 0,C,d);return this}let $;if(typeof w=="object"){const{schemaId:L}=this.opts;if($=w[L],$!==void 0&&typeof $!="string")throw new Error(`schema ${L} must be string`)}return R=(0,c.normalizeId)(R||$),this._checkUnique(R),this.schemas[R]=this._addSchema(w,C,R,d,!0),this}addMetaSchema(w,R,C=this.opts.validateSchema){return this.addSchema(w,R,!0,C),this}validateSchema(w,R){if(typeof w=="boolean")return!0;let C;if(C=w.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(C,w);if(!d&&R){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return d}getSchema(w){let R;for(;typeof(R=T.call(this,w))=="string";)w=R;if(R===void 0){const{schemaId:C}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:C});if(R=o.resolveSchema.call(this,d,w),!R)return;this.refs[w]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=T.call(this,w);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const R=w;this._cache.delete(R);let C=w[this.opts.schemaId];return C&&(C=(0,c.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const R of w)this.addKeyword(R);return this}addKeyword(w,R){let C;if(typeof w=="string")C=w,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=C);else if(typeof w=="object"&&R===void 0){if(R=w,C=R.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,C,R),!R)return(0,u.eachItem)(C,$=>Q.call(this,$)),this;K.call(this,R);const d={...R,type:(0,l.getJSONTypes)(R.type),schemaType:(0,l.getJSONTypes)(R.schemaType)};return(0,u.eachItem)(C,d.type.length===0?$=>Q.call(this,$,d):$=>d.type.forEach(L=>Q.call(this,$,d,L))),this}getKeyword(w){const R=this.RULES.all[w];return typeof R=="object"?R.definition:!!R}removeKeyword(w){const{RULES:R}=this;delete R.keywords[w],delete R.all[w];for(const C of R.rules){const d=C.rules.findIndex($=>$.keyword===w);d>=0&&C.rules.splice(d,1)}return this}addFormat(w,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[w]=R,this}errorsText(w=this.errors,{separator:R=", ",dataVar:C="data"}={}){return!w||w.length===0?"No errors":w.map(d=>`${C}${d.instancePath} ${d.message}`).reduce((d,$)=>d+R+$)}$dataMetaSchema(w,R){const C=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const d of R){const $=d.split("/").slice(1);let L=w;for(const P of $)L=L[P];for(const P in C){const _=C[P];if(typeof _!="object")continue;const{$data:z}=_.definition,U=L[P];z&&U&&(L[P]=j(U))}}return w}_removeAllSchemas(w,R){for(const C in w){const d=w[C];(!R||R.test(C))&&(typeof d=="string"?delete w[C]:d&&!d.meta&&(this._cache.delete(d.schema),delete w[C]))}}_addSchema(w,R,C,d=this.opts.validateSchema,$=this.opts.addUsedSchema){let L;const{schemaId:P}=this.opts;if(typeof w=="object")L=w[P];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let _=this._cache.get(w);if(_!==void 0)return _;C=(0,c.normalizeId)(L||C);const z=c.getSchemaRefs.call(this,w,C);return _=new o.SchemaEnv({schema:w,schemaId:P,meta:R,baseId:C,localRefs:z}),this._cache.set(_.schema,_),$&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=_),d&&this.validateSchema(w,!0),_}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=R}}}e.default=N,N.ValidationError=n.default,N.MissingRefError=i.default;function M(A,w,R,C="error"){for(const d in A){const $=d;$ in w&&this.logger[C](`${R}: option ${d}. ${A[$]}`)}}function T(A){return A=(0,c.normalizeId)(A),this.schemas[A]||this.refs[A]}function b(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const w in A)this.addSchema(A[w],w)}function D(){for(const A in this.opts.formats){const w=this.opts.formats[A];w&&this.addFormat(A,w)}}function O(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in A){const R=A[w];R.keyword||(R.keyword=w),this.addKeyword(R)}}function V(){const A={...this.opts};for(const w of y)delete A[w];return A}const Y={log(){},warn(){},error(){}};function H(A){if(A===!1)return Y;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function G(A,w){const{RULES:R}=this;if((0,u.eachItem)(A,C=>{if(R.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!W.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function Q(A,w,R){var C;const d=w==null?void 0:w.post;if(R&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let L=d?$.post:$.rules.find(({type:_})=>_===R);if(L||(L={type:R,rules:[]},$.rules.push(L)),$.keywords[A]=!0,!w)return;const P={keyword:A,definition:{...w,type:(0,l.getJSONTypes)(w.type),schemaType:(0,l.getJSONTypes)(w.schemaType)}};w.before?Z.call(this,L,P,w.before):L.rules.push(P),$.all[A]=P,(C=w.implements)===null||C===void 0||C.forEach(_=>this.addKeyword(_))}function Z(A,w,R){const C=A.rules.findIndex(d=>d.keyword===R);C>=0?A.rules.splice(C,0,w):(A.rules.push(w),this.logger.warn(`rule ${R} is not defined`))}function K(A){let{metaSchema:w}=A;w!==void 0&&(A.$data&&this.opts.$data&&(w=j(w)),A.validateSchema=this.compile(w,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(A){return{anyOf:[A,I]}}})(Zm);var Au={},Cu={},Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});const TE={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Nu.default=TE;var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.callRef=ri.getValidate=void 0;const AE=yo,Ud=ge,zt=ve,gi=Lr,xd=Gt,Ho=be,CE={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:c}=n,{root:l}=s;if((r==="#"||r==="#/")&&i===l.baseId)return f();const u=xd.resolveRef.call(c,l,i,r);if(u===void 0)throw new AE.default(n.opts.uriResolver,i,r);if(u instanceof xd.SchemaEnv)return h(u);return m(u);function f(){if(s===l)return pa(e,o,s,s.$async);const y=t.scopeValue("root",{ref:l});return pa(e,(0,zt._)`${y}.validate`,l,l.$async)}function h(y){const E=Pg(e,y);pa(e,E,y,y.$async)}function m(y){const E=t.scopeValue("schema",a.code.source===!0?{ref:y,code:(0,zt.stringify)(y)}:{ref:y}),v=t.name("valid"),g=e.subschema({schema:y,dataTypes:[],schemaPath:zt.nil,topSchemaRef:E,errSchemaPath:r},v);e.mergeEvaluated(g),e.ok(v)}}};function Pg(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,zt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ri.getValidate=Pg;function pa(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:c}=s,l=c.passContext?gi.default.this:zt.nil;n?u():f();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");const y=i.let("valid");i.try(()=>{i.code((0,zt._)`await ${(0,Ud.callValidateCode)(e,t,l)}`),m(t),o||i.assign(y,!0)},E=>{i.if((0,zt._)`!(${E} instanceof ${s.ValidationError})`,()=>i.throw(E)),h(E),o||i.assign(y,!1)}),e.ok(y)}function f(){e.result((0,Ud.callValidateCode)(e,t,l),()=>m(t),()=>h(t))}function h(y){const E=(0,zt._)`${y}.errors`;i.assign(gi.default.vErrors,(0,zt._)`${gi.default.vErrors} === null ? ${E} : ${gi.default.vErrors}.concat(${E})`),i.assign(gi.default.errors,(0,zt._)`${gi.default.vErrors}.length`)}function m(y){var E;if(!s.opts.unevaluated)return;const v=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Ho.mergeEvaluated.props(i,v.props,s.props));else{const g=i.var("props",(0,zt._)`${y}.evaluated.props`);s.props=Ho.mergeEvaluated.props(i,g,s.props,zt.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Ho.mergeEvaluated.items(i,v.items,s.items));else{const g=i.var("items",(0,zt._)`${y}.evaluated.items`);s.items=Ho.mergeEvaluated.items(i,g,s.items,zt.Name)}}}ri.callRef=pa;ri.default=CE;Object.defineProperty(Cu,"__esModule",{value:!0});const NE=Nu,RE=ri,IE=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",NE.default,RE.default];Cu.default=IE;var Ru={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});const Ta=ve,an=Ta.operators,Aa={maximum:{okStr:"<=",ok:an.LTE,fail:an.GT},minimum:{okStr:">=",ok:an.GTE,fail:an.LT},exclusiveMaximum:{okStr:"<",ok:an.LT,fail:an.GTE},exclusiveMinimum:{okStr:">",ok:an.GT,fail:an.LTE}},DE={message:({keyword:e,schemaCode:t})=>(0,Ta.str)`must be ${Aa[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Ta._)`{comparison: ${Aa[e].okStr}, limit: ${t}}`},FE={keyword:Object.keys(Aa),type:"number",schemaType:"number",$data:!0,error:DE,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Ta._)`${r} ${Aa[t].fail} ${n} || isNaN(${r})`)}};Iu.default=FE;var Du={};Object.defineProperty(Du,"__esModule",{value:!0});const xs=ve,kE={message:({schemaCode:e})=>(0,xs.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,xs._)`{multipleOf: ${e}}`},LE={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:kE,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,xs._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,xs._)`${o} !== parseInt(${o})`;e.fail$data((0,xs._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Du.default=LE;var Fu={},ku={};Object.defineProperty(ku,"__esModule",{value:!0});function Og(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}ku.default=Og;Og.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Fu,"__esModule",{value:!0});const Vn=ve,jE=be,ME=ku,UE={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Vn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Vn._)`{limit: ${e}}`},xE={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:UE,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?Vn.operators.GT:Vn.operators.LT,o=i.opts.unicode===!1?(0,Vn._)`${r}.length`:(0,Vn._)`${(0,jE.useFunc)(e.gen,ME.default)}(${r})`;e.fail$data((0,Vn._)`${o} ${s} ${n}`)}};Fu.default=xE;var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});const qE=ge,Ca=ve,VE={message:({schemaCode:e})=>(0,Ca.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Ca._)`{pattern: ${e}}`},BE={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:VE,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,Ca._)`(new RegExp(${i}, ${o}))`:(0,qE.usePattern)(e,n);e.fail$data((0,Ca._)`!${a}.test(${t})`)}};Lu.default=BE;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});const qs=ve,zE={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,qs.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,qs._)`{limit: ${e}}`},HE={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:zE,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?qs.operators.GT:qs.operators.LT;e.fail$data((0,qs._)`Object.keys(${r}).length ${i} ${n}`)}};ju.default=HE;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});const _s=ge,Vs=ve,GE=be,WE={message:({params:{missingProperty:e}})=>(0,Vs.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Vs._)`{missingProperty: ${e}}`},KE={keyword:"required",type:"object",schemaType:"array",$data:!0,error:WE,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const c=r.length>=a.loopRequired;if(o.allErrors?l():u(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:y}=e.it;for(const E of r)if((m==null?void 0:m[E])===void 0&&!y.has(E)){const v=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${E}" is not defined at "${v}" (strictRequired)`;(0,GE.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(c||s)e.block$data(Vs.nil,f);else for(const m of r)(0,_s.checkReportMissingProp)(e,m)}function u(){const m=t.let("missing");if(c||s){const y=t.let("valid",!0);e.block$data(y,()=>h(m,y)),e.ok(y)}else t.if((0,_s.checkMissingProp)(e,r,m)),(0,_s.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,_s.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function h(m,y){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(y,(0,_s.propertyInData)(t,i,m,a.ownProperties)),t.if((0,Vs.not)(y),()=>{e.error(),t.break()})},Vs.nil)}}};Mu.default=KE;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});const Bs=ve,YE={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Bs.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Bs._)`{limit: ${e}}`},JE={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:YE,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Bs.operators.GT:Bs.operators.LT;e.fail$data((0,Bs._)`${r}.length ${i} ${n}`)}};Uu.default=JE;var xu={},vo={};Object.defineProperty(vo,"__esModule",{value:!0});const Tg=Xa;Tg.code='require("ajv/dist/runtime/equal").default';vo.default=Tg;Object.defineProperty(xu,"__esModule",{value:!0});const xc=mo,mt=ve,XE=be,QE=vo,ZE={message:({params:{i:e,j:t}})=>(0,mt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,mt._)`{i: ${e}, j: ${t}}`},ew={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:ZE,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;const c=t.let("valid"),l=s.items?(0,xc.getSchemaTypes)(s.items):[];e.block$data(c,u,(0,mt._)`${o} === false`),e.ok(c);function u(){const y=t.let("i",(0,mt._)`${r}.length`),E=t.let("j");e.setParams({i:y,j:E}),t.assign(c,!0),t.if((0,mt._)`${y} > 1`,()=>(f()?h:m)(y,E))}function f(){return l.length>0&&!l.some(y=>y==="object"||y==="array")}function h(y,E){const v=t.name("item"),g=(0,xc.checkDataTypes)(l,v,a.opts.strictNumbers,xc.DataType.Wrong),p=t.const("indices",(0,mt._)`{}`);t.for((0,mt._)`;${y}--;`,()=>{t.let(v,(0,mt._)`${r}[${y}]`),t.if(g,(0,mt._)`continue`),l.length>1&&t.if((0,mt._)`typeof ${v} == "string"`,(0,mt._)`${v} += "_"`),t.if((0,mt._)`typeof ${p}[${v}] == "number"`,()=>{t.assign(E,(0,mt._)`${p}[${v}]`),e.error(),t.assign(c,!1).break()}).code((0,mt._)`${p}[${v}] = ${y}`)})}function m(y,E){const v=(0,XE.useFunc)(t,QE.default),g=t.name("outer");t.label(g).for((0,mt._)`;${y}--;`,()=>t.for((0,mt._)`${E} = ${y}; ${E}--;`,()=>t.if((0,mt._)`${v}(${r}[${y}], ${r}[${E}])`,()=>{e.error(),t.assign(c,!1).break(g)})))}}};xu.default=ew;var qu={};Object.defineProperty(qu,"__esModule",{value:!0});const Fl=ve,tw=be,rw=vo,nw={message:"must be equal to constant",params:({schemaCode:e})=>(0,Fl._)`{allowedValue: ${e}}`},iw={keyword:"const",$data:!0,error:nw,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Fl._)`!${(0,tw.useFunc)(t,rw.default)}(${r}, ${i})`):e.fail((0,Fl._)`${s} !== ${r}`)}};qu.default=iw;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});const Fs=ve,sw=be,ow=vo,aw={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Fs._)`{allowedValues: ${e}}`},cw={keyword:"enum",schemaType:"array",$data:!0,error:aw,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let c;const l=()=>c??(c=(0,sw.useFunc)(t,ow.default));let u;if(a||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);u=(0,Fs.or)(...i.map((y,E)=>h(m,E)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",s,m=>t.if((0,Fs._)`${l()}(${r}, ${m})`,()=>t.assign(u,!0).break()))}function h(m,y){const E=i[y];return typeof E=="object"&&E!==null?(0,Fs._)`${l()}(${r}, ${m}[${y}])`:(0,Fs._)`${r} === ${E}`}}};Vu.default=cw;Object.defineProperty(Ru,"__esModule",{value:!0});const lw=Iu,uw=Du,fw=Fu,dw=Lu,hw=ju,pw=Mu,mw=Uu,gw=xu,yw=qu,vw=Vu,_w=[lw.default,uw.default,fw.default,dw.default,hw.default,pw.default,mw.default,gw.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},yw.default,vw.default];Ru.default=_w;var Bu={},rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.validateAdditionalItems=void 0;const Bn=ve,kl=be,$w={message:({params:{len:e}})=>(0,Bn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Bn._)`{limit: ${e}}`},Ew={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:$w,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,kl.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ag(e,n)}};function Ag(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,Bn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Bn._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,kl.alwaysValidSchema)(o,n)){const l=r.var("valid",(0,Bn._)`${a} <= ${t.length}`);r.if((0,Bn.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,a,u=>{e.subschema({keyword:s,dataProp:u,dataPropType:kl.Type.Num},l),o.allErrors||r.if((0,Bn.not)(l),()=>r.break())})}}rs.validateAdditionalItems=Ag;rs.default=Ew;var zu={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.validateTuple=void 0;const qd=ve,ma=be,ww=ge,Sw={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Cg(e,"additionalItems",t);r.items=!0,!(0,ma.alwaysValidSchema)(r,t)&&e.ok((0,ww.validateArray)(e))}};function Cg(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;u(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=ma.mergeEvaluated.items(n,r.length,a.items));const c=n.name("valid"),l=n.const("len",(0,qd._)`${s}.length`);r.forEach((f,h)=>{(0,ma.alwaysValidSchema)(a,f)||(n.if((0,qd._)`${l} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},c)),e.ok(c))});function u(f){const{opts:h,errSchemaPath:m}=a,y=r.length,E=y===f.minItems&&(y===f.maxItems||f[t]===!1);if(h.strictTuples&&!E){const v=`"${o}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,ma.checkStrictMode)(a,v,h.strictTuples)}}}ns.validateTuple=Cg;ns.default=Sw;Object.defineProperty(zu,"__esModule",{value:!0});const bw=ns,Pw={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,bw.validateTuple)(e,"items")};zu.default=Pw;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});const Vd=ve,Ow=be,Tw=ge,Aw=rs,Cw={message:({params:{len:e}})=>(0,Vd.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Vd._)`{limit: ${e}}`},Nw={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Cw,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,Ow.alwaysValidSchema)(n,t)&&(i?(0,Aw.validateAdditionalItems)(e,i):e.ok((0,Tw.validateArray)(e)))}};Hu.default=Nw;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});const or=ve,Go=be,Rw={message:({params:{min:e,max:t}})=>t===void 0?(0,or.str)`must contain at least ${e} valid item(s)`:(0,or.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,or._)`{minContains: ${e}}`:(0,or._)`{minContains: ${e}, maxContains: ${t}}`},Iw={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Rw,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,a;const{minContains:c,maxContains:l}=n;s.opts.next?(o=c===void 0?1:c,a=l):o=1;const u=t.const("len",(0,or._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Go.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Go.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Go.alwaysValidSchema)(s,r)){let E=(0,or._)`${u} >= ${o}`;a!==void 0&&(E=(0,or._)`${E} && ${u} <= ${a}`),e.pass(E);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?m(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,or._)`${i}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){const E=t.name("_valid"),v=t.let("count",0);m(E,()=>t.if(E,()=>y(v)))}function m(E,v){t.forRange("i",0,u,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:Go.Type.Num,compositeRule:!0},E),v()})}function y(E){t.code((0,or._)`${E}++`),a===void 0?t.if((0,or._)`${E} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,or._)`${E} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,or._)`${E} >= ${o}`,()=>t.assign(f,!0)))}}};Gu.default=Iw;var Ng={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ve,r=be,n=ge;e.error={message:({params:{property:c,depsCount:l,deps:u}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:u,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${u}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,u]=s(c);o(c,l),a(c,u)}};function s({schema:c}){const l={},u={};for(const f in c){if(f==="__proto__")continue;const h=Array.isArray(c[f])?l:u;h[f]=c[f]}return[l,u]}function o(c,l=c.schema){const{gen:u,data:f,it:h}=c;if(Object.keys(l).length===0)return;const m=u.let("missing");for(const y in l){const E=l[y];if(E.length===0)continue;const v=(0,n.propertyInData)(u,f,y,h.opts.ownProperties);c.setParams({property:y,depsCount:E.length,deps:E.join(", ")}),h.allErrors?u.if(v,()=>{for(const g of E)(0,n.checkReportMissingProp)(c,g)}):(u.if((0,t._)`${v} && (${(0,n.checkMissingProp)(c,E,m)})`),(0,n.reportMissingProp)(c,m),u.else())}}e.validatePropertyDeps=o;function a(c,l=c.schema){const{gen:u,data:f,keyword:h,it:m}=c,y=u.name("valid");for(const E in l)(0,r.alwaysValidSchema)(m,l[E])||(u.if((0,n.propertyInData)(u,f,E,m.opts.ownProperties),()=>{const v=c.subschema({keyword:h,schemaProp:E},y);c.mergeValidEvaluated(v,y)},()=>u.var(y,!0)),c.ok(y))}e.validateSchemaDeps=a,e.default=i})(Ng);var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});const Rg=ve,Dw=be,Fw={message:"property name must be valid",params:({params:e})=>(0,Rg._)`{propertyName: ${e.propertyName}}`},kw={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Fw,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,Dw.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,Rg.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Wu.default=kw;var ec={};Object.defineProperty(ec,"__esModule",{value:!0});const Wo=ge,mr=ve,Lw=Lr,Ko=be,jw={message:"must NOT have additional properties",params:({params:e})=>(0,mr._)`{additionalProperty: ${e.additionalProperty}}`},Mw={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:jw,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Ko.alwaysValidSchema)(o,r))return;const l=(0,Wo.allSchemaProperties)(n.properties),u=(0,Wo.allSchemaProperties)(n.patternProperties);f(),e.ok((0,mr._)`${s} === ${Lw.default.errors}`);function f(){t.forIn("key",i,v=>{!l.length&&!u.length?y(v):t.if(h(v),()=>y(v))})}function h(v){let g;if(l.length>8){const p=(0,Ko.schemaRefOrVal)(o,n.properties,"properties");g=(0,Wo.isOwnProperty)(t,p,v)}else l.length?g=(0,mr.or)(...l.map(p=>(0,mr._)`${v} === ${p}`)):g=mr.nil;return u.length&&(g=(0,mr.or)(g,...u.map(p=>(0,mr._)`${(0,Wo.usePattern)(e,p)}.test(${v})`))),(0,mr.not)(g)}function m(v){t.code((0,mr._)`delete ${i}[${v}]`)}function y(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Ko.alwaysValidSchema)(o,r)){const g=t.name("valid");c.removeAdditional==="failing"?(E(v,g,!1),t.if((0,mr.not)(g),()=>{e.reset(),m(v)})):(E(v,g),a||t.if((0,mr.not)(g),()=>t.break()))}}function E(v,g,p){const S={keyword:"additionalProperties",dataProp:v,dataPropType:Ko.Type.Str};p===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,g)}}};ec.default=Mw;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});const Uw=wr,Bd=ge,qc=be,zd=ec,xw={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&zd.default.code(new Uw.KeywordCxt(s,zd.default,"additionalProperties"));const o=(0,Bd.allSchemaProperties)(r);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=qc.mergeEvaluated.props(t,(0,qc.toHash)(o),s.props));const a=o.filter(f=>!(0,qc.alwaysValidSchema)(s,r[f]));if(a.length===0)return;const c=t.name("valid");for(const f of a)l(f)?u(f):(t.if((0,Bd.propertyInData)(t,i,f,s.opts.ownProperties)),u(f),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function l(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};Ku.default=xw;var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});const Hd=ge,Yo=ve,Gd=be,Wd=be,qw={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,Hd.allSchemaProperties)(r),c=a.filter(E=>(0,Gd.alwaysValidSchema)(s,r[E]));if(a.length===0||c.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,u=t.name("valid");s.props!==!0&&!(s.props instanceof Yo.Name)&&(s.props=(0,Wd.evaluatedPropsToName)(t,s.props));const{props:f}=s;h();function h(){for(const E of a)l&&m(E),s.allErrors?y(E):(t.var(u,!0),y(E),t.if(u))}function m(E){for(const v in l)new RegExp(E).test(v)&&(0,Gd.checkStrictMode)(s,`property ${v} matches pattern ${E} (use allowMatchingProperties)`)}function y(E){t.forIn("key",n,v=>{t.if((0,Yo._)`${(0,Hd.usePattern)(e,E)}.test(${v})`,()=>{const g=c.includes(E);g||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:v,dataPropType:Wd.Type.Str},u),s.opts.unevaluated&&f!==!0?t.assign((0,Yo._)`${f}[${v}]`,!0):!g&&!s.allErrors&&t.if((0,Yo.not)(u),()=>t.break())})})}}};Yu.default=qw;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});const Vw=be,Bw={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Vw.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Ju.default=Bw;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});const zw=ge,Hw={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:zw.validateUnion,error:{message:"must match a schema in anyOf"}};Xu.default=Hw;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});const ga=ve,Gw=be,Ww={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ga._)`{passingSchemas: ${e.passing}}`},Kw={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ww,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((u,f)=>{let h;(0,Gw.alwaysValidSchema)(i,u)?t.var(c,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,ga._)`${c} && ${o}`).assign(o,!1).assign(a,(0,ga._)`[${a}, ${f}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(a,f),h&&e.mergeEvaluated(h,ga.Name)})})}}};Qu.default=Kw;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});const Yw=be,Jw={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,Yw.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};Zu.default=Jw;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});const Na=ve,Ig=be,Xw={message:({params:e})=>(0,Na.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Na._)`{failingKeyword: ${e.ifClause}}`},Qw={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Xw,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Ig.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Kd(n,"then"),s=Kd(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),i&&s){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(a,l("then",u),l("else",u))}else i?t.if(a,l("then")):t.if((0,Na.not)(a),l("else"));e.pass(o,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(u)}function l(u,f){return()=>{const h=e.subschema({keyword:u},a);t.assign(o,a),e.mergeValidEvaluated(h,o),f?t.assign(f,(0,Na._)`${u}`):e.setParams({ifClause:u})}}}};function Kd(e,t){const r=e.schema[t];return r!==void 0&&!(0,Ig.alwaysValidSchema)(e,r)}ef.default=Qw;var tf={};Object.defineProperty(tf,"__esModule",{value:!0});const Zw=be,eS={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Zw.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};tf.default=eS;Object.defineProperty(Bu,"__esModule",{value:!0});const tS=rs,rS=zu,nS=ns,iS=Hu,sS=Gu,oS=Ng,aS=Wu,cS=ec,lS=Ku,uS=Yu,fS=Ju,dS=Xu,hS=Qu,pS=Zu,mS=ef,gS=tf;function yS(e=!1){const t=[fS.default,dS.default,hS.default,pS.default,mS.default,gS.default,aS.default,cS.default,oS.default,lS.default,uS.default];return e?t.push(rS.default,iS.default):t.push(tS.default,nS.default),t.push(sS.default),t}Bu.default=yS;var rf={},nf={};Object.defineProperty(nf,"__esModule",{value:!0});const Ze=ve,vS={message:({schemaCode:e})=>(0,Ze.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ze._)`{format: ${e}}`},_S={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:vS,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:c,errSchemaPath:l,schemaEnv:u,self:f}=a;if(!c.validateFormats)return;i?h():m();function h(){const y=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),E=r.const("fDef",(0,Ze._)`${y}[${o}]`),v=r.let("fType"),g=r.let("format");r.if((0,Ze._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(v,(0,Ze._)`${E}.type || "string"`).assign(g,(0,Ze._)`${E}.validate`),()=>r.assign(v,(0,Ze._)`"string"`).assign(g,E)),e.fail$data((0,Ze.or)(p(),S()));function p(){return c.strictSchema===!1?Ze.nil:(0,Ze._)`${o} && !${g}`}function S(){const N=u.$async?(0,Ze._)`(${E}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,Ze._)`${g}(${n})`,M=(0,Ze._)`(typeof ${g} == "function" ? ${N} : ${g}.test(${n}))`;return(0,Ze._)`${g} && ${g} !== true && ${v} === ${t} && !${M}`}}function m(){const y=f.formats[s];if(!y){p();return}if(y===!0)return;const[E,v,g]=S(y);E===t&&e.pass(N());function p(){if(c.strictSchema===!1){f.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function S(M){const T=M instanceof RegExp?(0,Ze.regexpCode)(M):c.code.formats?(0,Ze._)`${c.code.formats}${(0,Ze.getProperty)(s)}`:void 0,b=r.scopeValue("formats",{key:s,ref:M,code:T});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,Ze._)`${b}.validate`]:["string",M,b]}function N(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Ze._)`await ${g}(${n})`}return typeof v=="function"?(0,Ze._)`${g}(${n})`:(0,Ze._)`${g}.test(${n})`}}}};nf.default=_S;Object.defineProperty(rf,"__esModule",{value:!0});const $S=nf,ES=[$S.default];rf.default=ES;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.contentVocabulary=Vi.metadataVocabulary=void 0;Vi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Vi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Au,"__esModule",{value:!0});const wS=Cu,SS=Ru,bS=Bu,PS=rf,Yd=Vi,OS=[wS.default,SS.default,(0,bS.default)(),PS.default,Yd.metadataVocabulary,Yd.contentVocabulary];Au.default=OS;var sf={},Dg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Dg);Object.defineProperty(sf,"__esModule",{value:!0});const Oi=ve,Ll=Dg,Jd=Gt,TS=be,AS={message:({params:{discrError:e,tagName:t}})=>e===Ll.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Oi._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},CS={keyword:"discriminator",type:"object",schemaType:"object",error:AS,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",(0,Oi._)`${r}${(0,Oi.getProperty)(a)}`);t.if((0,Oi._)`typeof ${l} == "string"`,()=>u(),()=>e.error(!1,{discrError:Ll.DiscrError.Tag,tag:l,tagName:a})),e.ok(c);function u(){const m=h();t.if(!1);for(const y in m)t.elseIf((0,Oi._)`${l} === ${y}`),t.assign(c,f(m[y]));t.else(),e.error(!1,{discrError:Ll.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(m){const y=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:m},y);return e.mergeEvaluated(E,Oi.Name),y}function h(){var m;const y={},E=g(i);let v=!0;for(let N=0;N<o.length;N++){let M=o[N];M!=null&&M.$ref&&!(0,TS.schemaHasRulesButRef)(M,s.self.RULES)&&(M=Jd.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,M==null?void 0:M.$ref),M instanceof Jd.SchemaEnv&&(M=M.schema));const T=(m=M==null?void 0:M.properties)===null||m===void 0?void 0:m[a];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(E||g(M)),p(T,N)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return y;function g({required:N}){return Array.isArray(N)&&N.includes(a)}function p(N,M){if(N.const)S(N.const,M);else if(N.enum)for(const T of N.enum)S(T,M);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(N,M){if(typeof N!="string"||N in y)throw new Error(`discriminator: "${a}" values must be unique strings`);y[N]=M}}}};sf.default=CS;const NS="http://json-schema.org/draft-07/schema#",RS="http://json-schema.org/draft-07/schema#",IS="Core schema meta-schema",DS={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},FS=["object","boolean"],kS={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},LS={$schema:NS,$id:RS,title:IS,definitions:DS,type:FS,properties:kS,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Zm,n=Au,i=sf,s=LS,o=["/properties"],a="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(y,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=wr;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=ve;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=go;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=yo;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Nl,Nl.exports);var jS=Nl.exports,jl={exports:{}},Fg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(O,V){return{validate:O,compare:V}}e.fullFormats={date:t(s,o),time:t(c,l),"date-time":t(f,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:E,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:D,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:N},int64:{type:"number",validate:M},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(O){return O%4===0&&(O%100!==0||O%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(O){const V=n.exec(O);if(!V)return!1;const Y=+V[1],H=+V[2],W=+V[3];return H>=1&&H<=12&&W>=1&&W<=(H===2&&r(Y)?29:i[H])}function o(O,V){if(O&&V)return O>V?1:O<V?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(O,V){const Y=a.exec(O);if(!Y)return!1;const H=+Y[1],W=+Y[2],G=+Y[3],Q=Y[5];return(H<=23&&W<=59&&G<=59||H===23&&W===59&&G===60)&&(!V||Q!=="")}function l(O,V){if(!(O&&V))return;const Y=a.exec(O),H=a.exec(V);if(Y&&H)return O=Y[1]+Y[2]+Y[3]+(Y[4]||""),V=H[1]+H[2]+H[3]+(H[4]||""),O>V?1:O<V?-1:0}const u=/t|\s/i;function f(O){const V=O.split(u);return V.length===2&&s(V[0])&&c(V[1],!0)}function h(O,V){if(!(O&&V))return;const[Y,H]=O.split(u),[W,G]=V.split(u),Q=o(Y,W);if(Q!==void 0)return Q||l(H,G)}const m=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function E(O){return m.test(O)&&y.test(O)}const v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(O){return v.lastIndex=0,v.test(O)}const p=-(2**31),S=2**31-1;function N(O){return Number.isInteger(O)&&O<=S&&O>=p}function M(O){return Number.isInteger(O)}function T(){return!0}const b=/[^\\]\\Z/;function D(O){if(b.test(O))return!1;try{return new RegExp(O),!0}catch{return!1}}})(Fg);var kg={},Ml={exports:{}},Lg={},Sr={},Bi={},_o={},pe={},to={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,N)=>`${S}${N}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,N)=>(N instanceof r&&(S[N.str]=(S[N.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(g,...p){const S=[g[0]];let N=0;for(;N<p.length;)a(S,p[N]),S.push(g[++N]);return new n(S)}e._=i;const s=new n("+");function o(g,...p){const S=[m(g[0])];let N=0;for(;N<p.length;)S.push(s),a(S,p[N]),S.push(s,m(g[++N]));return c(S),new n(S)}e.str=o;function a(g,p){p instanceof n?g.push(...p._items):p instanceof r?g.push(p):g.push(f(p))}e.addCodeArg=a;function c(g){let p=1;for(;p<g.length-1;){if(g[p]===s){const S=l(g[p-1],g[p+1]);if(S!==void 0){g.splice(p-1,3,S);continue}g[p++]="+"}p++}}function l(g,p){if(p==='""')return g;if(g==='""')return p;if(typeof g=="string")return p instanceof r||g[g.length-1]!=='"'?void 0:typeof p!="string"?`${g.slice(0,-1)}${p}"`:p[0]==='"'?g.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(g instanceof r))return`"${g}${p.slice(1)}`}function u(g,p){return p.emptyStr()?g:g.emptyStr()?p:o`${g}${p}`}e.strConcat=u;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:m(Array.isArray(g)?g.join(","):g)}function h(g){return new n(m(g))}e.stringify=h;function m(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function y(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new n(`.${g}`):i`[${g}]`}e.getProperty=y;function E(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=E;function v(g){return new n(g.toString())}e.regexpCode=v})(to);var Ul={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=to;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(l),{prefix:m}=h,y=(f=u.key)!==null&&f!==void 0?f:u.ref;let E=this._values[m];if(E){const p=E.get(y);if(p)return p}else E=this._values[m]=new Map;E.set(y,h);const v=this._scope[m]||(this._scope[m]=[]),g=v.length;return v[g]=u.ref,h.setValue(u,{property:m,itemIndex:g}),h}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,f)}_reduceValues(l,u,f={},h){let m=t.nil;for(const y in l){const E=l[y];if(!E)continue;const v=f[y]=f[y]||new Map;E.forEach(g=>{if(v.has(g))return;v.set(g,n.Started);let p=u(g);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${S} ${g} = ${p};${this.opts._n}`}else if(p=h==null?void 0:h(g))m=(0,t._)`${m}${p}${this.opts._n}`;else throw new r(g);v.set(g,n.Completed)})}return m}}e.ValueScope=a})(Ul);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=to,r=Ul;var n=to;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Ul;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(d,$){return this}}class o extends s{constructor(d,$,L){super(),this.varKind=d,this.name=$,this.rhs=L}render({es5:d,_n:$}){const L=d?r.varKinds.var:this.varKind,P=this.rhs===void 0?"":` = ${this.rhs}`;return`${L} ${this.name}${P};`+$}optimizeNames(d,$){if(d[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,d,$)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(d,$,L){super(),this.lhs=d,this.rhs=$,this.sideEffects=L}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,$){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=G(this.rhs,d,$),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(d,this.rhs)}}class c extends a{constructor(d,$,L,P){super(d,L,P),this.op=$}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class l extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class u extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class f extends s{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends s{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,$){return this.code=G(this.code,d,$),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce(($,L)=>$+L.render(d),"")}optimizeNodes(){const{nodes:d}=this;let $=d.length;for(;$--;){const L=d[$].optimizeNodes();Array.isArray(L)?d.splice($,1,...L):L?d[$]=L:d.splice($,1)}return d.length>0?this:void 0}optimizeNames(d,$){const{nodes:L}=this;let P=L.length;for(;P--;){const _=L[P];_.optimizeNames(d,$)||(Q(d,_.names),L.splice(P,1))}return L.length>0?this:void 0}get names(){return this.nodes.reduce((d,$)=>H(d,$.names),{})}}class y extends m{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class E extends m{}class v extends y{}v.kind="else";class g extends y{constructor(d,$){super($),this.condition=d}render(d){let $=`if(${this.condition})`+super.render(d);return this.else&&($+="else "+this.else.render(d)),$}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let $=this.else;if($){const L=$.optimizeNodes();$=this.else=Array.isArray(L)?new v(L):L}if($)return d===!1?$ instanceof g?$:$.nodes:this.nodes.length?this:new g(Z(d),$ instanceof g?[$]:$.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,$){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(d,$),!!(super.optimizeNames(d,$)||this.else))return this.condition=G(this.condition,d,$),this}get names(){const d=super.names;return W(d,this.condition),this.else&&H(d,this.else.names),d}}g.kind="if";class p extends y{}p.kind="for";class S extends p{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iteration=G(this.iteration,d,$),this}get names(){return H(super.names,this.iteration.names)}}class N extends p{constructor(d,$,L,P){super(),this.varKind=d,this.name=$,this.from=L,this.to=P}render(d){const $=d.es5?r.varKinds.var:this.varKind,{name:L,from:P,to:_}=this;return`for(${$} ${L}=${P}; ${L}<${_}; ${L}++)`+super.render(d)}get names(){const d=W(super.names,this.from);return W(d,this.to)}}class M extends p{constructor(d,$,L,P){super(),this.loop=d,this.varKind=$,this.name=L,this.iterable=P}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iterable=G(this.iterable,d,$),this}get names(){return H(super.names,this.iterable.names)}}class T extends y{constructor(d,$,L){super(),this.name=d,this.args=$,this.async=L}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}T.kind="func";class b extends m{render(d){return"return "+super.render(d)}}b.kind="return";class D extends y{render(d){let $="try"+super.render(d);return this.catch&&($+=this.catch.render(d)),this.finally&&($+=this.finally.render(d)),$}optimizeNodes(){var d,$;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(d,$){var L,P;return super.optimizeNames(d,$),(L=this.catch)===null||L===void 0||L.optimizeNames(d,$),(P=this.finally)===null||P===void 0||P.optimizeNames(d,$),this}get names(){const d=super.names;return this.catch&&H(d,this.catch.names),this.finally&&H(d,this.finally.names),d}}class O extends y{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}O.kind="catch";class V extends y{render(d){return"finally"+super.render(d)}}V.kind="finally";class Y{constructor(d,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,$){const L=this._extScope.value(d,$);return(this._values[L.prefix]||(this._values[L.prefix]=new Set)).add(L),L}getScopeValue(d,$){return this._extScope.getValue(d,$)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,$,L,P){const _=this._scope.toName($);return L!==void 0&&P&&(this._constants[_.str]=L),this._leafNode(new o(d,_,L)),_}const(d,$,L){return this._def(r.varKinds.const,d,$,L)}let(d,$,L){return this._def(r.varKinds.let,d,$,L)}var(d,$,L){return this._def(r.varKinds.var,d,$,L)}assign(d,$,L){return this._leafNode(new a(d,$,L))}add(d,$){return this._leafNode(new c(d,e.operators.ADD,$))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const $=["{"];for(const[L,P]of d)$.length>1&&$.push(","),$.push(L),(L!==P||this.opts.es5)&&($.push(":"),(0,t.addCodeArg)($,P));return $.push("}"),new t._Code($)}if(d,$,L){if(this._blockNode(new g(d)),$&&L)this.code($).else().code(L).endIf();else if($)this.code($).endIf();else if(L)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new g(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(d,$){return this._blockNode(d),$&&this.code($).endFor(),this}for(d,$){return this._for(new S(d),$)}forRange(d,$,L,P,_=this.opts.es5?r.varKinds.var:r.varKinds.let){const z=this._scope.toName(d);return this._for(new N(_,z,$,L),()=>P(z))}forOf(d,$,L,P=r.varKinds.const){const _=this._scope.toName(d);if(this.opts.es5){const z=$ instanceof t.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,t._)`${z}.length`,U=>{this.var(_,(0,t._)`${z}[${U}]`),L(_)})}return this._for(new M("of",P,_,$),()=>L(_))}forIn(d,$,L,P=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${$})`,L);const _=this._scope.toName(d);return this._for(new M("in",P,_,$),()=>L(_))}endFor(){return this._endBlockNode(p)}label(d){return this._leafNode(new l(d))}break(d){return this._leafNode(new u(d))}return(d){const $=new b;if(this._blockNode($),this.code(d),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,$,L){if(!$&&!L)throw new Error('CodeGen: "try" without "catch" and "finally"');const P=new D;if(this._blockNode(P),this.code(d),$){const _=this.name("e");this._currNode=P.catch=new O(_),$(_)}return L&&(this._currNode=P.finally=new V,this.code(L)),this._endBlockNode(O,V)}throw(d){return this._leafNode(new f(d))}block(d,$){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock($),this}endBlock(d){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const L=this._nodes.length-$;if(L<0||d!==void 0&&L!==d)throw new Error(`CodeGen: wrong number of nodes: ${L} vs ${d} expected`);return this._nodes.length=$,this}func(d,$=t.nil,L,P){return this._blockNode(new T(d,$,L)),P&&this.code(P).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,$){const L=this._currNode;if(L instanceof d||$&&L instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${d.kind}/${$.kind}`:d.kind}"`)}_elseNode(d){const $=this._currNode;if(!($ instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const $=this._nodes;$[$.length-1]=d}}e.CodeGen=Y;function H(C,d){for(const $ in d)C[$]=(C[$]||0)+(d[$]||0);return C}function W(C,d){return d instanceof t._CodeOrName?H(C,d.names):C}function G(C,d,$){if(C instanceof t.Name)return L(C);if(!P(C))return C;return new t._Code(C._items.reduce((_,z)=>(z instanceof t.Name&&(z=L(z)),z instanceof t._Code?_.push(...z._items):_.push(z),_),[]));function L(_){const z=$[_.str];return z===void 0||d[_.str]!==1?_:(delete d[_.str],z)}function P(_){return _ instanceof t._Code&&_._items.some(z=>z instanceof t.Name&&d[z.str]===1&&$[z.str]!==void 0)}}function Q(C,d){for(const $ in d)C[$]=(C[$]||0)-(d[$]||0)}function Z(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${R(C)}`}e.not=Z;const K=w(e.operators.AND);function I(...C){return C.reduce(K)}e.and=I;const j=w(e.operators.OR);function A(...C){return C.reduce(j)}e.or=A;function w(C){return(d,$)=>d===t.nil?$:$===t.nil?d:(0,t._)`${R(d)} ${C} ${R($)}`}function R(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(pe);var Pe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=pe,r=to;function n(T){const b={};for(const D of T)b[D]=!0;return b}e.toHash=n;function i(T,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(T,b),!o(b,T.self.RULES.all))}e.alwaysValidSchema=i;function s(T,b=T.schema){const{opts:D,self:O}=T;if(!D.strictSchema||typeof b=="boolean")return;const V=O.RULES.keywords;for(const Y in b)V[Y]||M(T,`unknown keyword: "${Y}"`)}e.checkUnknownRules=s;function o(T,b){if(typeof T=="boolean")return!T;for(const D in T)if(b[D])return!0;return!1}e.schemaHasRules=o;function a(T,b){if(typeof T=="boolean")return!T;for(const D in T)if(D!=="$ref"&&b.all[D])return!0;return!1}e.schemaHasRulesButRef=a;function c({topSchemaRef:T,schemaPath:b},D,O,V){if(!V){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${T}${b}${(0,t.getProperty)(O)}`}e.schemaRefOrVal=c;function l(T){return h(decodeURIComponent(T))}e.unescapeFragment=l;function u(T){return encodeURIComponent(f(T))}e.escapeFragment=u;function f(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(T,b){if(Array.isArray(T))for(const D of T)b(D);else b(T)}e.eachItem=m;function y({mergeNames:T,mergeToName:b,mergeValues:D,resultToName:O}){return(V,Y,H,W)=>{const G=H===void 0?Y:H instanceof t.Name?(Y instanceof t.Name?T(V,Y,H):b(V,Y,H),H):Y instanceof t.Name?(b(V,H,Y),Y):D(Y,H);return W===t.Name&&!(G instanceof t.Name)?O(V,G):G}}e.mergeEvaluated={props:y({mergeNames:(T,b,D)=>T.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>{T.if((0,t._)`${b} === true`,()=>T.assign(D,!0),()=>T.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${b})`))}),mergeToName:(T,b,D)=>T.if((0,t._)`${D} !== true`,()=>{b===!0?T.assign(D,!0):(T.assign(D,(0,t._)`${D} || {}`),v(T,D,b))}),mergeValues:(T,b)=>T===!0?!0:{...T,...b},resultToName:E}),items:y({mergeNames:(T,b,D)=>T.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>T.assign(D,(0,t._)`${b} === true ? true : ${D} > ${b} ? ${D} : ${b}`)),mergeToName:(T,b,D)=>T.if((0,t._)`${D} !== true`,()=>T.assign(D,b===!0?!0:(0,t._)`${D} > ${b} ? ${D} : ${b}`)),mergeValues:(T,b)=>T===!0?!0:Math.max(T,b),resultToName:(T,b)=>T.var("items",b)})};function E(T,b){if(b===!0)return T.var("props",!0);const D=T.var("props",(0,t._)`{}`);return b!==void 0&&v(T,D,b),D}e.evaluatedPropsToName=E;function v(T,b,D){Object.keys(D).forEach(O=>T.assign((0,t._)`${b}${(0,t.getProperty)(O)}`,!0))}e.setEvaluated=v;const g={};function p(T,b){return T.scopeValue("func",{ref:b,code:g[b.code]||(g[b.code]=new r._Code(b.code))})}e.useFunc=p;var S;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(S=e.Type||(e.Type={}));function N(T,b,D){if(T instanceof t.Name){const O=b===S.Num;return D?O?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:O?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(T).toString():"/"+f(T)}e.getErrorPath=N;function M(T,b,D=T.opts.strictSchema){if(D){if(b=`strict mode: ${b}`,D===!0)throw new Error(b);T.self.logger.warn(b)}}e.checkStrictMode=M})(Pe);var jr={};Object.defineProperty(jr,"__esModule",{value:!0});const bt=pe,MS={data:new bt.Name("data"),valCxt:new bt.Name("valCxt"),instancePath:new bt.Name("instancePath"),parentData:new bt.Name("parentData"),parentDataProperty:new bt.Name("parentDataProperty"),rootData:new bt.Name("rootData"),dynamicAnchors:new bt.Name("dynamicAnchors"),vErrors:new bt.Name("vErrors"),errors:new bt.Name("errors"),this:new bt.Name("this"),self:new bt.Name("self"),scope:new bt.Name("scope"),json:new bt.Name("json"),jsonPos:new bt.Name("jsonPos"),jsonLen:new bt.Name("jsonLen"),jsonPart:new bt.Name("jsonPart")};jr.default=MS;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=pe,r=Pe,n=jr;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:g})=>g?(0,t.str)`"${v}" keyword must be ${g} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,g=e.keywordError,p,S){const{it:N}=v,{gen:M,compositeRule:T,allErrors:b}=N,D=f(v,g,p);S??(T||b)?c(M,D):l(N,(0,t._)`[${D}]`)}e.reportError=i;function s(v,g=e.keywordError,p){const{it:S}=v,{gen:N,compositeRule:M,allErrors:T}=S,b=f(v,g,p);c(N,b),M||T||l(S,n.default.vErrors)}e.reportExtraError=s;function o(v,g){v.assign(n.default.errors,g),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(g,()=>v.assign((0,t._)`${n.default.vErrors}.length`,g),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:g,schemaValue:p,data:S,errsCount:N,it:M}){if(N===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",N,n.default.errors,b=>{v.const(T,(0,t._)`${n.default.vErrors}[${b}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${g}`),M.opts.verbose&&(v.assign((0,t._)`${T}.schema`,p),v.assign((0,t._)`${T}.data`,S))})}e.extendErrors=a;function c(v,g){const p=v.const("err",g);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${p}]`),(0,t._)`${n.default.vErrors}.push(${p})`),v.code((0,t._)`${n.default.errors}++`)}function l(v,g){const{gen:p,validateName:S,schemaEnv:N}=v;N.$async?p.throw((0,t._)`new ${v.ValidationError}(${g})`):(p.assign((0,t._)`${S}.errors`,g),p.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(v,g,p){const{createErrors:S}=v.it;return S===!1?(0,t._)`{}`:h(v,g,p)}function h(v,g,p={}){const{gen:S,it:N}=v,M=[m(N,p),y(v,p)];return E(v,g,M),S.object(...M)}function m({errorPath:v},{instancePath:g}){const p=g?(0,t.str)`${v}${(0,r.getErrorPath)(g,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,p)]}function y({keyword:v,it:{errSchemaPath:g}},{schemaPath:p,parentSchema:S}){let N=S?g:(0,t.str)`${g}/${v}`;return p&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(p,r.Type.Str)}`),[u.schemaPath,N]}function E(v,{params:g,message:p},S){const{keyword:N,data:M,schemaValue:T,it:b}=v,{opts:D,propertyName:O,topSchemaRef:V,schemaPath:Y}=b;S.push([u.keyword,N],[u.params,typeof g=="function"?g(v):g||(0,t._)`{}`]),D.messages&&S.push([u.message,typeof p=="function"?p(v):p]),D.verbose&&S.push([u.schema,T],[u.parentSchema,(0,t._)`${V}${Y}`],[n.default.data,M]),O&&S.push([u.propertyName,O])}})(_o);Object.defineProperty(Bi,"__esModule",{value:!0});Bi.boolOrEmptySchema=Bi.topBoolOrEmptySchema=void 0;const US=_o,xS=pe,qS=jr,VS={message:"boolean schema is false"};function BS(e){const{gen:t,schema:r,validateName:n}=e;r===!1?jg(e,!1):typeof r=="object"&&r.$async===!0?t.return(qS.default.data):(t.assign((0,xS._)`${n}.errors`,null),t.return(!0))}Bi.topBoolOrEmptySchema=BS;function zS(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),jg(e)):r.var(t,!0)}Bi.boolOrEmptySchema=zS;function jg(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,US.reportError)(i,VS,void 0,t)}var $o={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.getRules=ni.isJSONType=void 0;const HS=["string","number","integer","boolean","null","object","array"],GS=new Set(HS);function WS(e){return typeof e=="string"&&GS.has(e)}ni.isJSONType=WS;function KS(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ni.getRules=KS;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.shouldUseRule=Xr.shouldUseGroup=Xr.schemaHasRulesForType=void 0;function YS({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Mg(e,n)}Xr.schemaHasRulesForType=YS;function Mg(e,t){return t.rules.some(r=>Ug(e,r))}Xr.shouldUseGroup=Mg;function Ug(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Xr.shouldUseRule=Ug;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ni,r=Xr,n=_o,i=pe,s=Pe;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const N=c(S.type);if(N.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!N.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&N.push("null")}return N}e.getSchemaTypes=a;function c(S){const N=Array.isArray(S)?S:S?[S]:[];if(N.every(t.isJSONType))return N;throw new Error("type must be JSONType or JSONType[]: "+N.join(","))}e.getJSONTypes=c;function l(S,N){const{gen:M,data:T,opts:b}=S,D=f(N,b.coerceTypes),O=N.length>0&&!(D.length===0&&N.length===1&&(0,r.schemaHasRulesForType)(S,N[0]));if(O){const V=E(N,T,b.strictNumbers,o.Wrong);M.if(V,()=>{D.length?h(S,N,D):g(S)})}return O}e.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function f(S,N){return N?S.filter(M=>u.has(M)||N==="array"&&M==="array"):[]}function h(S,N,M){const{gen:T,data:b,opts:D}=S,O=T.let("dataType",(0,i._)`typeof ${b}`),V=T.let("coerced",(0,i._)`undefined`);D.coerceTypes==="array"&&T.if((0,i._)`${O} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>T.assign(b,(0,i._)`${b}[0]`).assign(O,(0,i._)`typeof ${b}`).if(E(N,b,D.strictNumbers),()=>T.assign(V,b))),T.if((0,i._)`${V} !== undefined`);for(const H of M)(u.has(H)||H==="array"&&D.coerceTypes==="array")&&Y(H);T.else(),g(S),T.endIf(),T.if((0,i._)`${V} !== undefined`,()=>{T.assign(b,V),m(S,V)});function Y(H){switch(H){case"string":T.elseIf((0,i._)`${O} == "number" || ${O} == "boolean"`).assign(V,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(V,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${O} == "boolean" || ${b} === null
              || (${O} == "string" && ${b} && ${b} == +${b})`).assign(V,(0,i._)`+${b}`);return;case"integer":T.elseIf((0,i._)`${O} === "boolean" || ${b} === null
              || (${O} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(V,(0,i._)`+${b}`);return;case"boolean":T.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(V,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(V,!0);return;case"null":T.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),T.assign(V,null);return;case"array":T.elseIf((0,i._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${b} === null`).assign(V,(0,i._)`[${b}]`)}}}function m({gen:S,parentData:N,parentDataProperty:M},T){S.if((0,i._)`${N} !== undefined`,()=>S.assign((0,i._)`${N}[${M}]`,T))}function y(S,N,M,T=o.Correct){const b=T===o.Correct?i.operators.EQ:i.operators.NEQ;let D;switch(S){case"null":return(0,i._)`${N} ${b} null`;case"array":D=(0,i._)`Array.isArray(${N})`;break;case"object":D=(0,i._)`${N} && typeof ${N} == "object" && !Array.isArray(${N})`;break;case"integer":D=O((0,i._)`!(${N} % 1) && !isNaN(${N})`);break;case"number":D=O();break;default:return(0,i._)`typeof ${N} ${b} ${S}`}return T===o.Correct?D:(0,i.not)(D);function O(V=i.nil){return(0,i.and)((0,i._)`typeof ${N} == "number"`,V,M?(0,i._)`isFinite(${N})`:i.nil)}}e.checkDataType=y;function E(S,N,M,T){if(S.length===1)return y(S[0],N,M,T);let b;const D=(0,s.toHash)(S);if(D.array&&D.object){const O=(0,i._)`typeof ${N} != "object"`;b=D.null?O:(0,i._)`!${N} || ${O}`,delete D.null,delete D.array,delete D.object}else b=i.nil;D.number&&delete D.integer;for(const O in D)b=(0,i.and)(b,y(O,N,M,T));return b}e.checkDataTypes=E;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:N})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${N}}`};function g(S){const N=p(S);(0,n.reportError)(N,v)}e.reportTypeError=g;function p(S){const{gen:N,data:M,schema:T}=S,b=(0,s.schemaRefOrVal)(S,T,"type");return{gen:N,keyword:"type",data:M,schema:T.type,schemaCode:b,schemaValue:b,parentSchema:T,params:{},it:S}}})($o);var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.assignDefaults=void 0;const yi=pe,JS=Pe;function XS(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Xd(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Xd(e,s,i.default))}tc.assignDefaults=XS;function Xd(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const a=(0,yi._)`${s}${(0,yi.getProperty)(t)}`;if(i){(0,JS.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,yi._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,yi._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,yi._)`${a} = ${(0,yi.stringify)(r)}`)}var Fr={},ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.validateUnion=ye.validateArray=ye.usePattern=ye.callValidateCode=ye.schemaProperties=ye.allSchemaProperties=ye.noPropertyInData=ye.propertyInData=ye.isOwnProperty=ye.hasPropFunc=ye.reportMissingProp=ye.checkMissingProp=ye.checkReportMissingProp=void 0;const xe=pe,of=Pe,cn=jr,QS=Pe;function ZS(e,t){const{gen:r,data:n,it:i}=e;r.if(cf(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,xe._)`${t}`},!0),e.error()})}ye.checkReportMissingProp=ZS;function eb({gen:e,data:t,it:{opts:r}},n,i){return(0,xe.or)(...n.map(s=>(0,xe.and)(cf(e,t,s,r.ownProperties),(0,xe._)`${i} = ${s}`)))}ye.checkMissingProp=eb;function tb(e,t){e.setParams({missingProperty:t},!0),e.error()}ye.reportMissingProp=tb;function xg(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,xe._)`Object.prototype.hasOwnProperty`})}ye.hasPropFunc=xg;function af(e,t,r){return(0,xe._)`${xg(e)}.call(${t}, ${r})`}ye.isOwnProperty=af;function rb(e,t,r,n){const i=(0,xe._)`${t}${(0,xe.getProperty)(r)} !== undefined`;return n?(0,xe._)`${i} && ${af(e,t,r)}`:i}ye.propertyInData=rb;function cf(e,t,r,n){const i=(0,xe._)`${t}${(0,xe.getProperty)(r)} === undefined`;return n?(0,xe.or)(i,(0,xe.not)(af(e,t,r))):i}ye.noPropertyInData=cf;function qg(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ye.allSchemaProperties=qg;function nb(e,t){return qg(t).filter(r=>!(0,of.alwaysValidSchema)(e,t[r]))}ye.schemaProperties=nb;function ib({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,c,l){const u=l?(0,xe._)`${e}, ${t}, ${n}${i}`:t,f=[[cn.default.instancePath,(0,xe.strConcat)(cn.default.instancePath,s)],[cn.default.parentData,o.parentData],[cn.default.parentDataProperty,o.parentDataProperty],[cn.default.rootData,cn.default.rootData]];o.opts.dynamicRef&&f.push([cn.default.dynamicAnchors,cn.default.dynamicAnchors]);const h=(0,xe._)`${u}, ${r.object(...f)}`;return c!==xe.nil?(0,xe._)`${a}.call(${c}, ${h})`:(0,xe._)`${a}(${h})`}ye.callValidateCode=ib;const sb=(0,xe._)`new RegExp`;function ob({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,xe._)`${i.code==="new RegExp"?sb:(0,QS.useFunc)(e,i)}(${r}, ${n})`})}ye.usePattern=ob;function ab(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const c=t.const("len",(0,xe._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:of.Type.Num},s),t.if((0,xe.not)(s),a)})}}ye.validateArray=ab;function cb(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,of.alwaysValidSchema)(i,c))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,l)=>{const u=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,xe._)`${o} || ${a}`),e.mergeValidEvaluated(u,a)||t.if((0,xe.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ye.validateUnion=cb;Object.defineProperty(Fr,"__esModule",{value:!0});Fr.validateKeywordUsage=Fr.validSchemaType=Fr.funcKeywordCode=Fr.macroKeywordCode=void 0;const Ft=pe,zn=jr,lb=ye,ub=_o;function fb(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),c=Vg(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=r.name("valid");e.subschema({schema:a,schemaPath:Ft.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Fr.macroKeywordCode=fb;function db(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:c}=e;pb(c,t);const l=!a&&t.compile?t.compile.call(c.self,s,o,c):t.validate,u=Vg(n,i,l),f=n.let("valid");e.block$data(f,h),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function h(){if(t.errors===!1)E(),t.modifying&&Qd(e),v(()=>e.error());else{const g=t.async?m():y();t.modifying&&Qd(e),v(()=>hb(e,g))}}function m(){const g=n.let("ruleErrs",null);return n.try(()=>E((0,Ft._)`await `),p=>n.assign(f,!1).if((0,Ft._)`${p} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,Ft._)`${p}.errors`),()=>n.throw(p))),g}function y(){const g=(0,Ft._)`${u}.errors`;return n.assign(g,null),E(Ft.nil),g}function E(g=t.async?(0,Ft._)`await `:Ft.nil){const p=c.opts.passContext?zn.default.this:zn.default.self,S=!("compile"in t&&!a||t.schema===!1);n.assign(f,(0,Ft._)`${g}${(0,lb.callValidateCode)(e,u,p,S)}`,t.modifying)}function v(g){var p;n.if((0,Ft.not)((p=t.valid)!==null&&p!==void 0?p:f),g)}}Fr.funcKeywordCode=db;function Qd(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ft._)`${n.parentData}[${n.parentDataProperty}]`))}function hb(e,t){const{gen:r}=e;r.if((0,Ft._)`Array.isArray(${t})`,()=>{r.assign(zn.default.vErrors,(0,Ft._)`${zn.default.vErrors} === null ? ${t} : ${zn.default.vErrors}.concat(${t})`).assign(zn.default.errors,(0,Ft._)`${zn.default.vErrors}.length`),(0,ub.extendErrors)(e)},()=>e.error())}function pb({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Vg(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ft.stringify)(r)})}function mb(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Fr.validSchemaType=mb;function gb({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const c=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Fr.validateKeywordUsage=gb;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.extendSubschemaMode=wn.extendSubschemaData=wn.getSubschema=void 0;const Nr=pe,Bg=Pe;function yb(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Nr._)`${e.schemaPath}${(0,Nr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Nr._)`${e.schemaPath}${(0,Nr.getProperty)(t)}${(0,Nr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Bg.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}wn.getSubschema=yb;function vb(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:l,dataPathArr:u,opts:f}=t,h=a.let("data",(0,Nr._)`${t.data}${(0,Nr.getProperty)(r)}`,!0);c(h),e.errorPath=(0,Nr.str)`${l}${(0,Bg.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Nr._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Nr.Name?i:a.let("data",i,!0);c(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}wn.extendSubschemaData=vb;function _b(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}wn.extendSubschemaMode=_b;var _t={},zg={exports:{}},yn=zg.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};ya(t,n,i,e,"",e)};yn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};yn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};yn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};yn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ya(e,t,r,n,i,s,o,a,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,c,l);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in yn.arrayKeywords)for(var h=0;h<f.length;h++)ya(e,t,r,f[h],i+"/"+u+"/"+h,s,i,u,n,h)}else if(u in yn.propsKeywords){if(f&&typeof f=="object")for(var m in f)ya(e,t,r,f[m],i+"/"+u+"/"+$b(m),s,i,u,n,m)}else(u in yn.keywords||e.allKeys&&!(u in yn.skipKeywords))&&ya(e,t,r,f,i+"/"+u,s,i,u,n)}r(n,i,s,o,a,c,l)}}function $b(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Eb=zg.exports;Object.defineProperty(_t,"__esModule",{value:!0});_t.getSchemaRefs=_t.resolveUrl=_t.normalizeId=_t._getFullPath=_t.getFullPath=_t.inlineRef=void 0;const wb=Pe,Sb=Xa,bb=Eb,Pb=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ob(e,t=!0){return typeof e=="boolean"?!0:t===!0?!xl(e):t?Hg(e)<=t:!1}_t.inlineRef=Ob;const Tb=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function xl(e){for(const t in e){if(Tb.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(xl)||typeof r=="object"&&xl(r))return!0}return!1}function Hg(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Pb.has(r)&&(typeof e[r]=="object"&&(0,wb.eachItem)(e[r],n=>t+=Hg(n)),t===1/0))return 1/0}return t}function Gg(e,t="",r){r!==!1&&(t=Li(t));const n=e.parse(t);return Wg(e,n)}_t.getFullPath=Gg;function Wg(e,t){return e.serialize(t).split("#")[0]+"#"}_t._getFullPath=Wg;const Ab=/#\/?$/;function Li(e){return e?e.replace(Ab,""):""}_t.normalizeId=Li;function Cb(e,t,r){return r=Li(r),e.resolve(t,r)}_t.resolveUrl=Cb;const Nb=/^[a-z_][-a-z0-9._]*$/i;function Rb(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=Li(e[r]||t),s={"":i},o=Gg(n,i,!1),a={},c=new Set;return bb(e,{allKeys:!0},(f,h,m,y)=>{if(y===void 0)return;const E=o+h;let v=s[y];typeof f[r]=="string"&&(v=g.call(this,f[r])),p.call(this,f.$anchor),p.call(this,f.$dynamicAnchor),s[h]=v;function g(S){const N=this.opts.uriResolver.resolve;if(S=Li(v?N(v,S):S),c.has(S))throw u(S);c.add(S);let M=this.refs[S];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?l(f,M.schema,S):S!==Li(E)&&(S[0]==="#"?(l(f,a[S],S),a[S]=f):this.refs[S]=E),S}function p(S){if(typeof S=="string"){if(!Nb.test(S))throw new Error(`invalid anchor "${S}"`);g.call(this,`#${S}`)}}}),a;function l(f,h,m){if(h!==void 0&&!Sb(f,h))throw u(m)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}_t.getSchemaRefs=Rb;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.getData=Sr.KeywordCxt=Sr.validateFunctionCode=void 0;const Kg=Bi,Zd=$o,lf=Xr,Ra=$o,Ib=tc,zs=Fr,Vc=wn,se=pe,ue=jr,Db=_t,Qr=Pe,$s=_o;function Fb(e){if(Xg(e)&&(Qg(e),Jg(e))){jb(e);return}Yg(e,()=>(0,Kg.topBoolOrEmptySchema)(e))}Sr.validateFunctionCode=Fb;function Yg({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,se._)`${ue.default.data}, ${ue.default.valCxt}`,n.$async,()=>{e.code((0,se._)`"use strict"; ${eh(r,i)}`),Lb(e,i),e.code(s)}):e.func(t,(0,se._)`${ue.default.data}, ${kb(i)}`,n.$async,()=>e.code(eh(r,i)).code(s))}function kb(e){return(0,se._)`{${ue.default.instancePath}="", ${ue.default.parentData}, ${ue.default.parentDataProperty}, ${ue.default.rootData}=${ue.default.data}${e.dynamicRef?(0,se._)`, ${ue.default.dynamicAnchors}={}`:se.nil}}={}`}function Lb(e,t){e.if(ue.default.valCxt,()=>{e.var(ue.default.instancePath,(0,se._)`${ue.default.valCxt}.${ue.default.instancePath}`),e.var(ue.default.parentData,(0,se._)`${ue.default.valCxt}.${ue.default.parentData}`),e.var(ue.default.parentDataProperty,(0,se._)`${ue.default.valCxt}.${ue.default.parentDataProperty}`),e.var(ue.default.rootData,(0,se._)`${ue.default.valCxt}.${ue.default.rootData}`),t.dynamicRef&&e.var(ue.default.dynamicAnchors,(0,se._)`${ue.default.valCxt}.${ue.default.dynamicAnchors}`)},()=>{e.var(ue.default.instancePath,(0,se._)`""`),e.var(ue.default.parentData,(0,se._)`undefined`),e.var(ue.default.parentDataProperty,(0,se._)`undefined`),e.var(ue.default.rootData,ue.default.data),t.dynamicRef&&e.var(ue.default.dynamicAnchors,(0,se._)`{}`)})}function jb(e){const{schema:t,opts:r,gen:n}=e;Yg(e,()=>{r.$comment&&t.$comment&&ey(e),Vb(e),n.let(ue.default.vErrors,null),n.let(ue.default.errors,0),r.unevaluated&&Mb(e),Zg(e),Hb(e)})}function Mb(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,se._)`${r}.evaluated`),t.if((0,se._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,se._)`${e.evaluated}.props`,(0,se._)`undefined`)),t.if((0,se._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,se._)`${e.evaluated}.items`,(0,se._)`undefined`))}function eh(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,se._)`/*# sourceURL=${r} */`:se.nil}function Ub(e,t){if(Xg(e)&&(Qg(e),Jg(e))){xb(e,t);return}(0,Kg.boolOrEmptySchema)(e,t)}function Jg({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Xg(e){return typeof e.schema!="boolean"}function xb(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&ey(e),Bb(e),zb(e);const s=n.const("_errs",ue.default.errors);Zg(e,s),n.var(t,(0,se._)`${s} === ${ue.default.errors}`)}function Qg(e){(0,Qr.checkUnknownRules)(e),qb(e)}function Zg(e,t){if(e.opts.jtd)return th(e,[],!1,t);const r=(0,Zd.getSchemaTypes)(e.schema),n=(0,Zd.coerceAndCheckDataType)(e,r);th(e,r,!n,t)}function qb(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Qr.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Vb(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Qr.checkStrictMode)(e,"default is ignored in the schema root")}function Bb(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Db.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function zb(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ey({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,se._)`${ue.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,se.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,se._)`${ue.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function Hb(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,se._)`${ue.default.errors} === 0`,()=>t.return(ue.default.data),()=>t.throw((0,se._)`new ${i}(${ue.default.vErrors})`)):(t.assign((0,se._)`${n}.errors`,ue.default.vErrors),s.unevaluated&&Gb(e),t.return((0,se._)`${ue.default.errors} === 0`))}function Gb({gen:e,evaluated:t,props:r,items:n}){r instanceof se.Name&&e.assign((0,se._)`${t}.props`,r),n instanceof se.Name&&e.assign((0,se._)`${t}.items`,n)}function th(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:a,opts:c,self:l}=e,{RULES:u}=l;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,Qr.schemaHasRulesButRef)(s,u))){i.block(()=>ny(e,"$ref",u.all.$ref.definition));return}c.jtd||Wb(e,t),i.block(()=>{for(const h of u.rules)f(h);f(u.post)});function f(h){(0,lf.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Ra.checkDataType)(h.type,o,c.strictNumbers)),rh(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Ra.reportTypeError)(e)),i.endIf()):rh(e,h),a||i.if((0,se._)`${ue.default.errors} === ${n||0}`))}}function rh(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,Ib.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,lf.shouldUseRule)(n,s)&&ny(e,s.keyword,s.definition,t.type)})}function Wb(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Kb(e,t),e.opts.allowUnionTypes||Yb(e,t),Jb(e,e.dataTypes))}function Kb(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{ty(e.dataTypes,r)||uf(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Qb(e,t)}}function Yb(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&uf(e,"use allowUnionTypes to allow union type keyword")}function Jb(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,lf.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>Xb(t,o))&&uf(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function Xb(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function ty(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Qb(e,t){const r=[];for(const n of e.dataTypes)ty(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function uf(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Qr.checkStrictMode)(e,t,e.opts.strictTypes)}class ry{constructor(t,r,n){if((0,zs.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Qr.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",iy(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,zs.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ue.default.errors))}result(t,r,n){this.failResult((0,se.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,se.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,se._)`${r} !== undefined && (${(0,se.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?$s.reportExtraError:$s.reportError)(this,this.def.error,r)}$dataError(){(0,$s.reportError)(this,this.def.$dataError||$s.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$s.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=se.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=se.nil,r=se.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,se.or)((0,se._)`${i} === undefined`,r)),t!==se.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==se.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,se.or)(o(),a());function o(){if(n.length){if(!(r instanceof se.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,se._)`${(0,Ra.checkDataTypes)(c,r,s.opts.strictNumbers,Ra.DataType.Wrong)}`}return se.nil}function a(){if(i.validateSchema){const c=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,se._)`!${c}(${r})`}return se.nil}}subschema(t,r){const n=(0,Vc.getSubschema)(this.it,t);(0,Vc.extendSubschemaData)(n,this.it,t),(0,Vc.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Ub(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Qr.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Qr.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,se.Name)),!0}}Sr.KeywordCxt=ry;function ny(e,t,r,n){const i=new ry(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,zs.funcKeywordCode)(i,r):"macro"in r?(0,zs.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,zs.funcKeywordCode)(i,r)}const Zb=/^\/(?:[^~]|~0|~1)*$/,e1=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function iy(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return ue.default.rootData;if(e[0]==="/"){if(!Zb.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=ue.default.rootData}else{const l=e1.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+l[1];if(i=l[2],i==="#"){if(u>=t)throw new Error(c("property/index",u));return n[t-u]}if(u>t)throw new Error(c("data",u));if(s=r[t-u],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,se._)`${s}${(0,se.getProperty)((0,Qr.unescapeJsonPointer)(l))}`,o=(0,se._)`${o} && ${s}`);return o;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${t}`}}Sr.getData=iy;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});class t1 extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Eo.default=t1;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});const Bc=_t;class r1 extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Bc.resolveUrl)(t,r,n),this.missingSchema=(0,Bc.normalizeId)((0,Bc.getFullPath)(t,this.missingRef))}}wo.default=r1;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.resolveSchema=Wt.getCompilingSchema=Wt.resolveRef=Wt.compileSchema=Wt.SchemaEnv=void 0;const pr=pe,n1=Eo,kn=jr,Er=_t,nh=Pe,i1=Sr;class rc{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Er.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Wt.SchemaEnv=rc;function ff(e){const t=sy.call(this,e);if(t)return t;const r=(0,Er.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new pr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:n1.default,code:(0,pr._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const l={gen:o,allErrors:this.opts.allErrors,data:kn.default.data,parentData:kn.default.parentData,parentDataProperty:kn.default.parentDataProperty,dataNames:[kn.default.data],dataPathArr:[pr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,pr.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:pr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,pr._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,i1.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();u=`${o.scopeRefs(kn.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const m=new Function(`${kn.default.self}`,`${kn.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:E}=l;m.evaluated={props:y instanceof pr.Name?void 0:y,items:E instanceof pr.Name?void 0:E,dynamicProps:y instanceof pr.Name,dynamicItems:E instanceof pr.Name},m.source&&(m.source.evaluated=(0,pr.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}Wt.compileSchema=ff;function s1(e,t,r){var n;r=(0,Er.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=c1.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new rc({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=o1.call(this,s)}Wt.resolveRef=s1;function o1(e){return(0,Er.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:ff.call(this,e)}function sy(e){for(const t of this._compilations)if(a1(t,e))return t}Wt.getCompilingSchema=sy;function a1(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function c1(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||nc.call(this,e,t)}function nc(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Er._getFullPath)(this.opts.uriResolver,r);let i=(0,Er.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return zc.call(this,r,e);const s=(0,Er.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=nc.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:zc.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||ff.call(this,o),s===(0,Er.normalizeId)(t)){const{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(i=(0,Er.resolveUrl)(this.opts.uriResolver,i,l)),new rc({schema:a,schemaId:c,root:e,baseId:i})}return zc.call(this,r,o)}}Wt.resolveSchema=nc;const l1=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function zc(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,nh.unescapeFragment)(a)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!l1.has(a)&&l&&(t=(0,Er.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,nh.schemaHasRulesButRef)(r,this.RULES)){const a=(0,Er.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=nc.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new rc({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const u1="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",f1="Meta-schema for $data reference (JSON AnySchema extension proposal)",d1="object",h1=["$data"],p1={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},m1=!1,g1={$id:u1,description:f1,type:d1,required:h1,properties:p1,additionalProperties:m1};var df={};Object.defineProperty(df,"__esModule",{value:!0});const oy=Sg;oy.code='require("ajv/dist/runtime/uri").default';df.default=oy;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Sr;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=pe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Eo,i=wo,s=ni,o=Wt,a=pe,c=_t,l=$o,u=Pe,f=g1,h=df,m=(A,w)=>new RegExp(A,w);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function S(A){var w,R,C,d,$,L,P,_,z,U,te,fe,Se,De,qe,ke,Ne,Ye,xt,At,Ct,ot,tt,er,cr;const Nt=A.strict,qt=(w=A.code)===null||w===void 0?void 0:w.optimize,lr=qt===!0||qt===void 0?1:qt||0,lt=(C=(R=A.code)===null||R===void 0?void 0:R.regExp)!==null&&C!==void 0?C:m,rt=(d=A.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(L=($=A.strictSchema)!==null&&$!==void 0?$:Nt)!==null&&L!==void 0?L:!0,strictNumbers:(_=(P=A.strictNumbers)!==null&&P!==void 0?P:Nt)!==null&&_!==void 0?_:!0,strictTypes:(U=(z=A.strictTypes)!==null&&z!==void 0?z:Nt)!==null&&U!==void 0?U:"log",strictTuples:(fe=(te=A.strictTuples)!==null&&te!==void 0?te:Nt)!==null&&fe!==void 0?fe:"log",strictRequired:(De=(Se=A.strictRequired)!==null&&Se!==void 0?Se:Nt)!==null&&De!==void 0?De:!1,code:A.code?{...A.code,optimize:lr,regExp:lt}:{optimize:lr,regExp:lt},loopRequired:(qe=A.loopRequired)!==null&&qe!==void 0?qe:p,loopEnum:(ke=A.loopEnum)!==null&&ke!==void 0?ke:p,meta:(Ne=A.meta)!==null&&Ne!==void 0?Ne:!0,messages:(Ye=A.messages)!==null&&Ye!==void 0?Ye:!0,inlineRefs:(xt=A.inlineRefs)!==null&&xt!==void 0?xt:!0,schemaId:(At=A.schemaId)!==null&&At!==void 0?At:"$id",addUsedSchema:(Ct=A.addUsedSchema)!==null&&Ct!==void 0?Ct:!0,validateSchema:(ot=A.validateSchema)!==null&&ot!==void 0?ot:!0,validateFormats:(tt=A.validateFormats)!==null&&tt!==void 0?tt:!0,unicodeRegExp:(er=A.unicodeRegExp)!==null&&er!==void 0?er:!0,int32range:(cr=A.int32range)!==null&&cr!==void 0?cr:!0,uriResolver:rt}}class N{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...S(w)};const{es5:R,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:R,lines:C}),this.logger=H(w.logger);const d=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,w,"NOT SUPPORTED"),M.call(this,g,w,"DEPRECATED","warn"),this._metaOpts=V.call(this),w.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&O.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),b.call(this),w.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:R,schemaId:C}=this.opts;let d=f;C==="id"&&(d={...f},d.id=d.$id,delete d.$id),R&&w&&this.addMetaSchema(d,d[C],!1)}defaultMeta(){const{meta:w,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[R]||w:void 0}validate(w,R){let C;if(typeof w=="string"){if(C=this.getSchema(w),!C)throw new Error(`no schema with key or ref "${w}"`)}else C=this.compile(w);const d=C(R);return"$async"in C||(this.errors=C.errors),d}compile(w,R){const C=this._addSchema(w,R);return C.validate||this._compileSchemaEnv(C)}compileAsync(w,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return d.call(this,w,R);async function d(U,te){await $.call(this,U.$schema);const fe=this._addSchema(U,te);return fe.validate||L.call(this,fe)}async function $(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function L(U){try{return this._compileSchemaEnv(U)}catch(te){if(!(te instanceof i.default))throw te;return P.call(this,te),await _.call(this,te.missingSchema),L.call(this,U)}}function P({missingSchema:U,missingRef:te}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${te} cannot be resolved`)}async function _(U){const te=await z.call(this,U);this.refs[U]||await $.call(this,te.$schema),this.refs[U]||this.addSchema(te,U,R)}async function z(U){const te=this._loading[U];if(te)return te;try{return await(this._loading[U]=C(U))}finally{delete this._loading[U]}}}addSchema(w,R,C,d=this.opts.validateSchema){if(Array.isArray(w)){for(const L of w)this.addSchema(L,void 0,C,d);return this}let $;if(typeof w=="object"){const{schemaId:L}=this.opts;if($=w[L],$!==void 0&&typeof $!="string")throw new Error(`schema ${L} must be string`)}return R=(0,c.normalizeId)(R||$),this._checkUnique(R),this.schemas[R]=this._addSchema(w,C,R,d,!0),this}addMetaSchema(w,R,C=this.opts.validateSchema){return this.addSchema(w,R,!0,C),this}validateSchema(w,R){if(typeof w=="boolean")return!0;let C;if(C=w.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(C,w);if(!d&&R){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return d}getSchema(w){let R;for(;typeof(R=T.call(this,w))=="string";)w=R;if(R===void 0){const{schemaId:C}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:C});if(R=o.resolveSchema.call(this,d,w),!R)return;this.refs[w]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=T.call(this,w);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const R=w;this._cache.delete(R);let C=w[this.opts.schemaId];return C&&(C=(0,c.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const R of w)this.addKeyword(R);return this}addKeyword(w,R){let C;if(typeof w=="string")C=w,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=C);else if(typeof w=="object"&&R===void 0){if(R=w,C=R.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,C,R),!R)return(0,u.eachItem)(C,$=>Q.call(this,$)),this;K.call(this,R);const d={...R,type:(0,l.getJSONTypes)(R.type),schemaType:(0,l.getJSONTypes)(R.schemaType)};return(0,u.eachItem)(C,d.type.length===0?$=>Q.call(this,$,d):$=>d.type.forEach(L=>Q.call(this,$,d,L))),this}getKeyword(w){const R=this.RULES.all[w];return typeof R=="object"?R.definition:!!R}removeKeyword(w){const{RULES:R}=this;delete R.keywords[w],delete R.all[w];for(const C of R.rules){const d=C.rules.findIndex($=>$.keyword===w);d>=0&&C.rules.splice(d,1)}return this}addFormat(w,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[w]=R,this}errorsText(w=this.errors,{separator:R=", ",dataVar:C="data"}={}){return!w||w.length===0?"No errors":w.map(d=>`${C}${d.instancePath} ${d.message}`).reduce((d,$)=>d+R+$)}$dataMetaSchema(w,R){const C=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const d of R){const $=d.split("/").slice(1);let L=w;for(const P of $)L=L[P];for(const P in C){const _=C[P];if(typeof _!="object")continue;const{$data:z}=_.definition,U=L[P];z&&U&&(L[P]=j(U))}}return w}_removeAllSchemas(w,R){for(const C in w){const d=w[C];(!R||R.test(C))&&(typeof d=="string"?delete w[C]:d&&!d.meta&&(this._cache.delete(d.schema),delete w[C]))}}_addSchema(w,R,C,d=this.opts.validateSchema,$=this.opts.addUsedSchema){let L;const{schemaId:P}=this.opts;if(typeof w=="object")L=w[P];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let _=this._cache.get(w);if(_!==void 0)return _;C=(0,c.normalizeId)(L||C);const z=c.getSchemaRefs.call(this,w,C);return _=new o.SchemaEnv({schema:w,schemaId:P,meta:R,baseId:C,localRefs:z}),this._cache.set(_.schema,_),$&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=_),d&&this.validateSchema(w,!0),_}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=R}}}e.default=N,N.ValidationError=n.default,N.MissingRefError=i.default;function M(A,w,R,C="error"){for(const d in A){const $=d;$ in w&&this.logger[C](`${R}: option ${d}. ${A[$]}`)}}function T(A){return A=(0,c.normalizeId)(A),this.schemas[A]||this.refs[A]}function b(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const w in A)this.addSchema(A[w],w)}function D(){for(const A in this.opts.formats){const w=this.opts.formats[A];w&&this.addFormat(A,w)}}function O(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in A){const R=A[w];R.keyword||(R.keyword=w),this.addKeyword(R)}}function V(){const A={...this.opts};for(const w of y)delete A[w];return A}const Y={log(){},warn(){},error(){}};function H(A){if(A===!1)return Y;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function G(A,w){const{RULES:R}=this;if((0,u.eachItem)(A,C=>{if(R.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!W.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function Q(A,w,R){var C;const d=w==null?void 0:w.post;if(R&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let L=d?$.post:$.rules.find(({type:_})=>_===R);if(L||(L={type:R,rules:[]},$.rules.push(L)),$.keywords[A]=!0,!w)return;const P={keyword:A,definition:{...w,type:(0,l.getJSONTypes)(w.type),schemaType:(0,l.getJSONTypes)(w.schemaType)}};w.before?Z.call(this,L,P,w.before):L.rules.push(P),$.all[A]=P,(C=w.implements)===null||C===void 0||C.forEach(_=>this.addKeyword(_))}function Z(A,w,R){const C=A.rules.findIndex(d=>d.keyword===R);C>=0?A.rules.splice(C,0,w):(A.rules.push(w),this.logger.warn(`rule ${R} is not defined`))}function K(A){let{metaSchema:w}=A;w!==void 0&&(A.$data&&this.opts.$data&&(w=j(w)),A.validateSchema=this.compile(w,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(A){return{anyOf:[A,I]}}})(Lg);var hf={},pf={},mf={};Object.defineProperty(mf,"__esModule",{value:!0});const y1={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};mf.default=y1;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.callRef=ii.getValidate=void 0;const v1=wo,ih=ye,Ht=pe,vi=jr,sh=Wt,Jo=Pe,_1={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:c}=n,{root:l}=s;if((r==="#"||r==="#/")&&i===l.baseId)return f();const u=sh.resolveRef.call(c,l,i,r);if(u===void 0)throw new v1.default(n.opts.uriResolver,i,r);if(u instanceof sh.SchemaEnv)return h(u);return m(u);function f(){if(s===l)return va(e,o,s,s.$async);const y=t.scopeValue("root",{ref:l});return va(e,(0,Ht._)`${y}.validate`,l,l.$async)}function h(y){const E=ay(e,y);va(e,E,y,y.$async)}function m(y){const E=t.scopeValue("schema",a.code.source===!0?{ref:y,code:(0,Ht.stringify)(y)}:{ref:y}),v=t.name("valid"),g=e.subschema({schema:y,dataTypes:[],schemaPath:Ht.nil,topSchemaRef:E,errSchemaPath:r},v);e.mergeEvaluated(g),e.ok(v)}}};function ay(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ht._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ii.getValidate=ay;function va(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:c}=s,l=c.passContext?vi.default.this:Ht.nil;n?u():f();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");const y=i.let("valid");i.try(()=>{i.code((0,Ht._)`await ${(0,ih.callValidateCode)(e,t,l)}`),m(t),o||i.assign(y,!0)},E=>{i.if((0,Ht._)`!(${E} instanceof ${s.ValidationError})`,()=>i.throw(E)),h(E),o||i.assign(y,!1)}),e.ok(y)}function f(){e.result((0,ih.callValidateCode)(e,t,l),()=>m(t),()=>h(t))}function h(y){const E=(0,Ht._)`${y}.errors`;i.assign(vi.default.vErrors,(0,Ht._)`${vi.default.vErrors} === null ? ${E} : ${vi.default.vErrors}.concat(${E})`),i.assign(vi.default.errors,(0,Ht._)`${vi.default.vErrors}.length`)}function m(y){var E;if(!s.opts.unevaluated)return;const v=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Jo.mergeEvaluated.props(i,v.props,s.props));else{const g=i.var("props",(0,Ht._)`${y}.evaluated.props`);s.props=Jo.mergeEvaluated.props(i,g,s.props,Ht.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Jo.mergeEvaluated.items(i,v.items,s.items));else{const g=i.var("items",(0,Ht._)`${y}.evaluated.items`);s.items=Jo.mergeEvaluated.items(i,g,s.items,Ht.Name)}}}ii.callRef=va;ii.default=_1;Object.defineProperty(pf,"__esModule",{value:!0});const $1=mf,E1=ii,w1=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",$1.default,E1.default];pf.default=w1;var gf={},yf={};Object.defineProperty(yf,"__esModule",{value:!0});const Ia=pe,ln=Ia.operators,Da={maximum:{okStr:"<=",ok:ln.LTE,fail:ln.GT},minimum:{okStr:">=",ok:ln.GTE,fail:ln.LT},exclusiveMaximum:{okStr:"<",ok:ln.LT,fail:ln.GTE},exclusiveMinimum:{okStr:">",ok:ln.GT,fail:ln.LTE}},S1={message:({keyword:e,schemaCode:t})=>(0,Ia.str)`must be ${Da[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Ia._)`{comparison: ${Da[e].okStr}, limit: ${t}}`},b1={keyword:Object.keys(Da),type:"number",schemaType:"number",$data:!0,error:S1,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Ia._)`${r} ${Da[t].fail} ${n} || isNaN(${r})`)}};yf.default=b1;var vf={};Object.defineProperty(vf,"__esModule",{value:!0});const Hs=pe,P1={message:({schemaCode:e})=>(0,Hs.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Hs._)`{multipleOf: ${e}}`},O1={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:P1,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Hs._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Hs._)`${o} !== parseInt(${o})`;e.fail$data((0,Hs._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};vf.default=O1;var _f={},$f={};Object.defineProperty($f,"__esModule",{value:!0});function cy(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}$f.default=cy;cy.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(_f,"__esModule",{value:!0});const Hn=pe,T1=Pe,A1=$f,C1={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Hn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Hn._)`{limit: ${e}}`},N1={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:C1,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?Hn.operators.GT:Hn.operators.LT,o=i.opts.unicode===!1?(0,Hn._)`${r}.length`:(0,Hn._)`${(0,T1.useFunc)(e.gen,A1.default)}(${r})`;e.fail$data((0,Hn._)`${o} ${s} ${n}`)}};_f.default=N1;var Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});const R1=ye,Fa=pe,I1={message:({schemaCode:e})=>(0,Fa.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Fa._)`{pattern: ${e}}`},D1={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:I1,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,Fa._)`(new RegExp(${i}, ${o}))`:(0,R1.usePattern)(e,n);e.fail$data((0,Fa._)`!${a}.test(${t})`)}};Ef.default=D1;var wf={};Object.defineProperty(wf,"__esModule",{value:!0});const Gs=pe,F1={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Gs.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Gs._)`{limit: ${e}}`},k1={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:F1,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Gs.operators.GT:Gs.operators.LT;e.fail$data((0,Gs._)`Object.keys(${r}).length ${i} ${n}`)}};wf.default=k1;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});const Es=ye,Ws=pe,L1=Pe,j1={message:({params:{missingProperty:e}})=>(0,Ws.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ws._)`{missingProperty: ${e}}`},M1={keyword:"required",type:"object",schemaType:"array",$data:!0,error:j1,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const c=r.length>=a.loopRequired;if(o.allErrors?l():u(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:y}=e.it;for(const E of r)if((m==null?void 0:m[E])===void 0&&!y.has(E)){const v=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${E}" is not defined at "${v}" (strictRequired)`;(0,L1.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(c||s)e.block$data(Ws.nil,f);else for(const m of r)(0,Es.checkReportMissingProp)(e,m)}function u(){const m=t.let("missing");if(c||s){const y=t.let("valid",!0);e.block$data(y,()=>h(m,y)),e.ok(y)}else t.if((0,Es.checkMissingProp)(e,r,m)),(0,Es.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Es.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function h(m,y){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(y,(0,Es.propertyInData)(t,i,m,a.ownProperties)),t.if((0,Ws.not)(y),()=>{e.error(),t.break()})},Ws.nil)}}};Sf.default=M1;var bf={};Object.defineProperty(bf,"__esModule",{value:!0});const Ks=pe,U1={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Ks.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Ks._)`{limit: ${e}}`},x1={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:U1,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Ks.operators.GT:Ks.operators.LT;e.fail$data((0,Ks._)`${r}.length ${i} ${n}`)}};bf.default=x1;var Pf={},So={};Object.defineProperty(So,"__esModule",{value:!0});const ly=Xa;ly.code='require("ajv/dist/runtime/equal").default';So.default=ly;Object.defineProperty(Pf,"__esModule",{value:!0});const Hc=$o,gt=pe,q1=Pe,V1=So,B1={message:({params:{i:e,j:t}})=>(0,gt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,gt._)`{i: ${e}, j: ${t}}`},z1={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:B1,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;const c=t.let("valid"),l=s.items?(0,Hc.getSchemaTypes)(s.items):[];e.block$data(c,u,(0,gt._)`${o} === false`),e.ok(c);function u(){const y=t.let("i",(0,gt._)`${r}.length`),E=t.let("j");e.setParams({i:y,j:E}),t.assign(c,!0),t.if((0,gt._)`${y} > 1`,()=>(f()?h:m)(y,E))}function f(){return l.length>0&&!l.some(y=>y==="object"||y==="array")}function h(y,E){const v=t.name("item"),g=(0,Hc.checkDataTypes)(l,v,a.opts.strictNumbers,Hc.DataType.Wrong),p=t.const("indices",(0,gt._)`{}`);t.for((0,gt._)`;${y}--;`,()=>{t.let(v,(0,gt._)`${r}[${y}]`),t.if(g,(0,gt._)`continue`),l.length>1&&t.if((0,gt._)`typeof ${v} == "string"`,(0,gt._)`${v} += "_"`),t.if((0,gt._)`typeof ${p}[${v}] == "number"`,()=>{t.assign(E,(0,gt._)`${p}[${v}]`),e.error(),t.assign(c,!1).break()}).code((0,gt._)`${p}[${v}] = ${y}`)})}function m(y,E){const v=(0,q1.useFunc)(t,V1.default),g=t.name("outer");t.label(g).for((0,gt._)`;${y}--;`,()=>t.for((0,gt._)`${E} = ${y}; ${E}--;`,()=>t.if((0,gt._)`${v}(${r}[${y}], ${r}[${E}])`,()=>{e.error(),t.assign(c,!1).break(g)})))}}};Pf.default=z1;var Of={};Object.defineProperty(Of,"__esModule",{value:!0});const ql=pe,H1=Pe,G1=So,W1={message:"must be equal to constant",params:({schemaCode:e})=>(0,ql._)`{allowedValue: ${e}}`},K1={keyword:"const",$data:!0,error:W1,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,ql._)`!${(0,H1.useFunc)(t,G1.default)}(${r}, ${i})`):e.fail((0,ql._)`${s} !== ${r}`)}};Of.default=K1;var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});const ks=pe,Y1=Pe,J1=So,X1={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ks._)`{allowedValues: ${e}}`},Q1={keyword:"enum",schemaType:"array",$data:!0,error:X1,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let c;const l=()=>c??(c=(0,Y1.useFunc)(t,J1.default));let u;if(a||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);u=(0,ks.or)(...i.map((y,E)=>h(m,E)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",s,m=>t.if((0,ks._)`${l()}(${r}, ${m})`,()=>t.assign(u,!0).break()))}function h(m,y){const E=i[y];return typeof E=="object"&&E!==null?(0,ks._)`${l()}(${r}, ${m}[${y}])`:(0,ks._)`${r} === ${E}`}}};Tf.default=Q1;Object.defineProperty(gf,"__esModule",{value:!0});const Z1=yf,eP=vf,tP=_f,rP=Ef,nP=wf,iP=Sf,sP=bf,oP=Pf,aP=Of,cP=Tf,lP=[Z1.default,eP.default,tP.default,rP.default,nP.default,iP.default,sP.default,oP.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},aP.default,cP.default];gf.default=lP;var Af={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.validateAdditionalItems=void 0;const Gn=pe,Vl=Pe,uP={message:({params:{len:e}})=>(0,Gn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Gn._)`{limit: ${e}}`},fP={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:uP,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Vl.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}uy(e,n)}};function uy(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,Gn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Gn._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,Vl.alwaysValidSchema)(o,n)){const l=r.var("valid",(0,Gn._)`${a} <= ${t.length}`);r.if((0,Gn.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,a,u=>{e.subschema({keyword:s,dataProp:u,dataPropType:Vl.Type.Num},l),o.allErrors||r.if((0,Gn.not)(l),()=>r.break())})}}is.validateAdditionalItems=uy;is.default=fP;var Cf={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.validateTuple=void 0;const oh=pe,_a=Pe,dP=ye,hP={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return fy(e,"additionalItems",t);r.items=!0,!(0,_a.alwaysValidSchema)(r,t)&&e.ok((0,dP.validateArray)(e))}};function fy(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;u(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=_a.mergeEvaluated.items(n,r.length,a.items));const c=n.name("valid"),l=n.const("len",(0,oh._)`${s}.length`);r.forEach((f,h)=>{(0,_a.alwaysValidSchema)(a,f)||(n.if((0,oh._)`${l} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},c)),e.ok(c))});function u(f){const{opts:h,errSchemaPath:m}=a,y=r.length,E=y===f.minItems&&(y===f.maxItems||f[t]===!1);if(h.strictTuples&&!E){const v=`"${o}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,_a.checkStrictMode)(a,v,h.strictTuples)}}}ss.validateTuple=fy;ss.default=hP;Object.defineProperty(Cf,"__esModule",{value:!0});const pP=ss,mP={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,pP.validateTuple)(e,"items")};Cf.default=mP;var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});const ah=pe,gP=Pe,yP=ye,vP=is,_P={message:({params:{len:e}})=>(0,ah.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ah._)`{limit: ${e}}`},$P={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:_P,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,gP.alwaysValidSchema)(n,t)&&(i?(0,vP.validateAdditionalItems)(e,i):e.ok((0,yP.validateArray)(e)))}};Nf.default=$P;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});const ar=pe,Xo=Pe,EP={message:({params:{min:e,max:t}})=>t===void 0?(0,ar.str)`must contain at least ${e} valid item(s)`:(0,ar.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ar._)`{minContains: ${e}}`:(0,ar._)`{minContains: ${e}, maxContains: ${t}}`},wP={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:EP,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,a;const{minContains:c,maxContains:l}=n;s.opts.next?(o=c===void 0?1:c,a=l):o=1;const u=t.const("len",(0,ar._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Xo.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Xo.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Xo.alwaysValidSchema)(s,r)){let E=(0,ar._)`${u} >= ${o}`;a!==void 0&&(E=(0,ar._)`${E} && ${u} <= ${a}`),e.pass(E);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?m(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,ar._)`${i}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){const E=t.name("_valid"),v=t.let("count",0);m(E,()=>t.if(E,()=>y(v)))}function m(E,v){t.forRange("i",0,u,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:Xo.Type.Num,compositeRule:!0},E),v()})}function y(E){t.code((0,ar._)`${E}++`),a===void 0?t.if((0,ar._)`${E} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,ar._)`${E} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,ar._)`${E} >= ${o}`,()=>t.assign(f,!0)))}}};Rf.default=wP;var dy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=pe,r=Pe,n=ye;e.error={message:({params:{property:c,depsCount:l,deps:u}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:u,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${u}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,u]=s(c);o(c,l),a(c,u)}};function s({schema:c}){const l={},u={};for(const f in c){if(f==="__proto__")continue;const h=Array.isArray(c[f])?l:u;h[f]=c[f]}return[l,u]}function o(c,l=c.schema){const{gen:u,data:f,it:h}=c;if(Object.keys(l).length===0)return;const m=u.let("missing");for(const y in l){const E=l[y];if(E.length===0)continue;const v=(0,n.propertyInData)(u,f,y,h.opts.ownProperties);c.setParams({property:y,depsCount:E.length,deps:E.join(", ")}),h.allErrors?u.if(v,()=>{for(const g of E)(0,n.checkReportMissingProp)(c,g)}):(u.if((0,t._)`${v} && (${(0,n.checkMissingProp)(c,E,m)})`),(0,n.reportMissingProp)(c,m),u.else())}}e.validatePropertyDeps=o;function a(c,l=c.schema){const{gen:u,data:f,keyword:h,it:m}=c,y=u.name("valid");for(const E in l)(0,r.alwaysValidSchema)(m,l[E])||(u.if((0,n.propertyInData)(u,f,E,m.opts.ownProperties),()=>{const v=c.subschema({keyword:h,schemaProp:E},y);c.mergeValidEvaluated(v,y)},()=>u.var(y,!0)),c.ok(y))}e.validateSchemaDeps=a,e.default=i})(dy);var If={};Object.defineProperty(If,"__esModule",{value:!0});const hy=pe,SP=Pe,bP={message:"property name must be valid",params:({params:e})=>(0,hy._)`{propertyName: ${e.propertyName}}`},PP={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:bP,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,SP.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,hy.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};If.default=PP;var ic={};Object.defineProperty(ic,"__esModule",{value:!0});const Qo=ye,gr=pe,OP=jr,Zo=Pe,TP={message:"must NOT have additional properties",params:({params:e})=>(0,gr._)`{additionalProperty: ${e.additionalProperty}}`},AP={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:TP,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Zo.alwaysValidSchema)(o,r))return;const l=(0,Qo.allSchemaProperties)(n.properties),u=(0,Qo.allSchemaProperties)(n.patternProperties);f(),e.ok((0,gr._)`${s} === ${OP.default.errors}`);function f(){t.forIn("key",i,v=>{!l.length&&!u.length?y(v):t.if(h(v),()=>y(v))})}function h(v){let g;if(l.length>8){const p=(0,Zo.schemaRefOrVal)(o,n.properties,"properties");g=(0,Qo.isOwnProperty)(t,p,v)}else l.length?g=(0,gr.or)(...l.map(p=>(0,gr._)`${v} === ${p}`)):g=gr.nil;return u.length&&(g=(0,gr.or)(g,...u.map(p=>(0,gr._)`${(0,Qo.usePattern)(e,p)}.test(${v})`))),(0,gr.not)(g)}function m(v){t.code((0,gr._)`delete ${i}[${v}]`)}function y(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Zo.alwaysValidSchema)(o,r)){const g=t.name("valid");c.removeAdditional==="failing"?(E(v,g,!1),t.if((0,gr.not)(g),()=>{e.reset(),m(v)})):(E(v,g),a||t.if((0,gr.not)(g),()=>t.break()))}}function E(v,g,p){const S={keyword:"additionalProperties",dataProp:v,dataPropType:Zo.Type.Str};p===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,g)}}};ic.default=AP;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});const CP=Sr,ch=ye,Gc=Pe,lh=ic,NP={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&lh.default.code(new CP.KeywordCxt(s,lh.default,"additionalProperties"));const o=(0,ch.allSchemaProperties)(r);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Gc.mergeEvaluated.props(t,(0,Gc.toHash)(o),s.props));const a=o.filter(f=>!(0,Gc.alwaysValidSchema)(s,r[f]));if(a.length===0)return;const c=t.name("valid");for(const f of a)l(f)?u(f):(t.if((0,ch.propertyInData)(t,i,f,s.opts.ownProperties)),u(f),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function l(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};Df.default=NP;var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});const uh=ye,ea=pe,fh=Pe,dh=Pe,RP={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,uh.allSchemaProperties)(r),c=a.filter(E=>(0,fh.alwaysValidSchema)(s,r[E]));if(a.length===0||c.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,u=t.name("valid");s.props!==!0&&!(s.props instanceof ea.Name)&&(s.props=(0,dh.evaluatedPropsToName)(t,s.props));const{props:f}=s;h();function h(){for(const E of a)l&&m(E),s.allErrors?y(E):(t.var(u,!0),y(E),t.if(u))}function m(E){for(const v in l)new RegExp(E).test(v)&&(0,fh.checkStrictMode)(s,`property ${v} matches pattern ${E} (use allowMatchingProperties)`)}function y(E){t.forIn("key",n,v=>{t.if((0,ea._)`${(0,uh.usePattern)(e,E)}.test(${v})`,()=>{const g=c.includes(E);g||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:v,dataPropType:dh.Type.Str},u),s.opts.unevaluated&&f!==!0?t.assign((0,ea._)`${f}[${v}]`,!0):!g&&!s.allErrors&&t.if((0,ea.not)(u),()=>t.break())})})}}};Ff.default=RP;var kf={};Object.defineProperty(kf,"__esModule",{value:!0});const IP=Pe,DP={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,IP.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};kf.default=DP;var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});const FP=ye,kP={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:FP.validateUnion,error:{message:"must match a schema in anyOf"}};Lf.default=kP;var jf={};Object.defineProperty(jf,"__esModule",{value:!0});const $a=pe,LP=Pe,jP={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,$a._)`{passingSchemas: ${e.passing}}`},MP={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:jP,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((u,f)=>{let h;(0,LP.alwaysValidSchema)(i,u)?t.var(c,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,$a._)`${c} && ${o}`).assign(o,!1).assign(a,(0,$a._)`[${a}, ${f}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(a,f),h&&e.mergeEvaluated(h,$a.Name)})})}}};jf.default=MP;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});const UP=Pe,xP={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,UP.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};Mf.default=xP;var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});const ka=pe,py=Pe,qP={message:({params:e})=>(0,ka.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ka._)`{failingKeyword: ${e.ifClause}}`},VP={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:qP,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,py.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=hh(n,"then"),s=hh(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),i&&s){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(a,l("then",u),l("else",u))}else i?t.if(a,l("then")):t.if((0,ka.not)(a),l("else"));e.pass(o,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(u)}function l(u,f){return()=>{const h=e.subschema({keyword:u},a);t.assign(o,a),e.mergeValidEvaluated(h,o),f?t.assign(f,(0,ka._)`${u}`):e.setParams({ifClause:u})}}}};function hh(e,t){const r=e.schema[t];return r!==void 0&&!(0,py.alwaysValidSchema)(e,r)}Uf.default=VP;var xf={};Object.defineProperty(xf,"__esModule",{value:!0});const BP=Pe,zP={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,BP.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};xf.default=zP;Object.defineProperty(Af,"__esModule",{value:!0});const HP=is,GP=Cf,WP=ss,KP=Nf,YP=Rf,JP=dy,XP=If,QP=ic,ZP=Df,eO=Ff,tO=kf,rO=Lf,nO=jf,iO=Mf,sO=Uf,oO=xf;function aO(e=!1){const t=[tO.default,rO.default,nO.default,iO.default,sO.default,oO.default,XP.default,QP.default,JP.default,ZP.default,eO.default];return e?t.push(GP.default,KP.default):t.push(HP.default,WP.default),t.push(YP.default),t}Af.default=aO;var qf={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});const et=pe,cO={message:({schemaCode:e})=>(0,et.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,et._)`{format: ${e}}`},lO={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:cO,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:c,errSchemaPath:l,schemaEnv:u,self:f}=a;if(!c.validateFormats)return;i?h():m();function h(){const y=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),E=r.const("fDef",(0,et._)`${y}[${o}]`),v=r.let("fType"),g=r.let("format");r.if((0,et._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(v,(0,et._)`${E}.type || "string"`).assign(g,(0,et._)`${E}.validate`),()=>r.assign(v,(0,et._)`"string"`).assign(g,E)),e.fail$data((0,et.or)(p(),S()));function p(){return c.strictSchema===!1?et.nil:(0,et._)`${o} && !${g}`}function S(){const N=u.$async?(0,et._)`(${E}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,et._)`${g}(${n})`,M=(0,et._)`(typeof ${g} == "function" ? ${N} : ${g}.test(${n}))`;return(0,et._)`${g} && ${g} !== true && ${v} === ${t} && !${M}`}}function m(){const y=f.formats[s];if(!y){p();return}if(y===!0)return;const[E,v,g]=S(y);E===t&&e.pass(N());function p(){if(c.strictSchema===!1){f.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function S(M){const T=M instanceof RegExp?(0,et.regexpCode)(M):c.code.formats?(0,et._)`${c.code.formats}${(0,et.getProperty)(s)}`:void 0,b=r.scopeValue("formats",{key:s,ref:M,code:T});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,et._)`${b}.validate`]:["string",M,b]}function N(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!u.$async)throw new Error("async format in sync schema");return(0,et._)`await ${g}(${n})`}return typeof v=="function"?(0,et._)`${g}(${n})`:(0,et._)`${g}.test(${n})`}}}};Vf.default=lO;Object.defineProperty(qf,"__esModule",{value:!0});const uO=Vf,fO=[uO.default];qf.default=fO;var zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.contentVocabulary=zi.metadataVocabulary=void 0;zi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];zi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(hf,"__esModule",{value:!0});const dO=pf,hO=gf,pO=Af,mO=qf,ph=zi,gO=[dO.default,hO.default,(0,pO.default)(),mO.default,ph.metadataVocabulary,ph.contentVocabulary];hf.default=gO;var Bf={},my={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(my);Object.defineProperty(Bf,"__esModule",{value:!0});const Ti=pe,Bl=my,mh=Wt,yO=Pe,vO={message:({params:{discrError:e,tagName:t}})=>e===Bl.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ti._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},_O={keyword:"discriminator",type:"object",schemaType:"object",error:vO,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",(0,Ti._)`${r}${(0,Ti.getProperty)(a)}`);t.if((0,Ti._)`typeof ${l} == "string"`,()=>u(),()=>e.error(!1,{discrError:Bl.DiscrError.Tag,tag:l,tagName:a})),e.ok(c);function u(){const m=h();t.if(!1);for(const y in m)t.elseIf((0,Ti._)`${l} === ${y}`),t.assign(c,f(m[y]));t.else(),e.error(!1,{discrError:Bl.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(m){const y=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:m},y);return e.mergeEvaluated(E,Ti.Name),y}function h(){var m;const y={},E=g(i);let v=!0;for(let N=0;N<o.length;N++){let M=o[N];M!=null&&M.$ref&&!(0,yO.schemaHasRulesButRef)(M,s.self.RULES)&&(M=mh.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,M==null?void 0:M.$ref),M instanceof mh.SchemaEnv&&(M=M.schema));const T=(m=M==null?void 0:M.properties)===null||m===void 0?void 0:m[a];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(E||g(M)),p(T,N)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return y;function g({required:N}){return Array.isArray(N)&&N.includes(a)}function p(N,M){if(N.const)S(N.const,M);else if(N.enum)for(const T of N.enum)S(T,M);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(N,M){if(typeof N!="string"||N in y)throw new Error(`discriminator: "${a}" values must be unique strings`);y[N]=M}}}};Bf.default=_O;const $O="http://json-schema.org/draft-07/schema#",EO="http://json-schema.org/draft-07/schema#",wO="Core schema meta-schema",SO={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},bO=["object","boolean"],PO={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},OO={$schema:$O,$id:EO,title:wO,definitions:SO,type:bO,properties:PO,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Lg,n=hf,i=Bf,s=OO,o=["/properties"],a="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(y,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=Sr;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=pe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=Eo;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=wo;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Ml,Ml.exports);var TO=Ml.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=TO,r=pe,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:a,schemaCode:c})=>r.str`should be ${i[a].okStr} ${c}`,params:({keyword:a,schemaCode:c})=>r._`{comparison: ${i[a].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(a){const{gen:c,data:l,schemaCode:u,keyword:f,it:h}=a,{opts:m,self:y}=h;if(!m.validateFormats)return;const E=new t.KeywordCxt(h,y.RULES.all.format.definition,"format");E.$data?v():g();function v(){const S=c.scopeValue("formats",{ref:y.formats,code:m.code.formats}),N=c.const("fmt",r._`${S}[${E.schemaCode}]`);a.fail$data(r.or(r._`typeof ${N} != "object"`,r._`${N} instanceof RegExp`,r._`typeof ${N}.compare != "function"`,p(N)))}function g(){const S=E.schema,N=y.formats[S];if(!N||N===!0)return;if(typeof N!="object"||N instanceof RegExp||typeof N.compare!="function")throw new Error(`"${f}": format "${S}" does not define "compare" function`);const M=c.scopeValue("formats",{key:S,ref:N,code:m.code.formats?r._`${m.code.formats}${r.getProperty(S)}`:void 0});a.fail$data(p(M))}function p(S){return r._`${S}.compare(${l}, ${u}) ${i[f].fail} 0`}},dependencies:["format"]};const o=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=o})(kg);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Fg,n=kg,i=pe,s=new i.Name("fullFormats"),o=new i.Name("fastFormats"),a=(l,u={keywords:!0})=>{if(Array.isArray(u))return c(l,u,r.fullFormats,s),l;const[f,h]=u.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],m=u.formats||r.formatNames;return c(l,m,f,h),u.keywords&&n.default(l),l};a.get=(l,u="full")=>{const h=(u==="fast"?r.fastFormats:r.fullFormats)[l];if(!h)throw new Error(`Unknown format "${l}"`);return h};function c(l,u,f,h){var m,y;(m=(y=l.opts.code).formats)!==null&&m!==void 0||(y.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const E of u)l.addFormat(E,f[E])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(jl,jl.exports);var AO=jl.exports;const CO=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!NO(i,s)&&n||Object.defineProperty(e,r,s)},NO=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},RO=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},IO=(e,t)=>`/* Wrapped ${e}*/
${t}`,DO=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),FO=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),kO=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=IO.bind(null,n,t.toString());Object.defineProperty(i,"name",FO),Object.defineProperty(e,"toString",{...DO,value:i})},LO=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const i of Reflect.ownKeys(t))CO(e,t,i,r);return RO(e,t),kO(e,t,n),e};var jO=LO;const MO=jO;var UO=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:i=!0}=t;if(!n&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,o;const a=function(...c){const l=this,u=()=>{s=void 0,i&&(o=e.apply(l,c))},f=n&&!s;return clearTimeout(s),s=setTimeout(u,r),f&&(o=e.apply(l,c)),o};return MO(a,e),a.cancel=()=>{s&&(clearTimeout(s),s=void 0)},a},zl={exports:{}};const xO="2.0.0",gy=256,qO=Number.MAX_SAFE_INTEGER||9007199254740991,VO=16,BO=gy-6,zO=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var sc={MAX_LENGTH:gy,MAX_SAFE_COMPONENT_LENGTH:VO,MAX_SAFE_BUILD_LENGTH:BO,MAX_SAFE_INTEGER:qO,RELEASE_TYPES:zO,SEMVER_SPEC_VERSION:xO,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const HO=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var oc=HO;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=sc,s=oc;t=e.exports={};const o=t.re=[],a=t.safeRe=[],c=t.src=[],l=t.t={};let u=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,n]],m=E=>{for(const[v,g]of h)E=E.split(`${v}*`).join(`${v}{0,${g}}`).split(`${v}+`).join(`${v}{1,${g}}`);return E},y=(E,v,g)=>{const p=m(v),S=u++;s(E,S,v),l[E]=S,c[S]=v,o[S]=new RegExp(v,g?"g":void 0),a[S]=new RegExp(p,g?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),y("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),y("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${f}+`),y("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),y("FULL",`^${c[l.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),y("LOOSE",`^${c[l.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),y("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),y("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",c[l.COERCE],!0),y("COERCERTLFULL",c[l.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(zl,zl.exports);var bo=zl.exports;const GO=Object.freeze({loose:!0}),WO=Object.freeze({}),KO=e=>e?typeof e!="object"?GO:e:WO;var zf=KO;const gh=/^[0-9]+$/,yy=(e,t)=>{const r=gh.test(e),n=gh.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},YO=(e,t)=>yy(t,e);var vy={compareIdentifiers:yy,rcompareIdentifiers:YO};const ta=oc,{MAX_LENGTH:yh,MAX_SAFE_INTEGER:ra}=sc,{safeRe:vh,t:_h}=bo,JO=zf,{compareIdentifiers:_i}=vy;let XO=class Ar{constructor(t,r){if(r=JO(r),t instanceof Ar){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>yh)throw new TypeError(`version is longer than ${yh} characters`);ta("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?vh[_h.LOOSE]:vh[_h.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ra||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ra||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ra||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<ra)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ta("SemVer.compare",this.version,this.options,t),!(t instanceof Ar)){if(typeof t=="string"&&t===this.version)return 0;t=new Ar(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ar||(t=new Ar(t,this.options)),_i(this.major,t.major)||_i(this.minor,t.minor)||_i(this.patch,t.patch)}comparePre(t){if(t instanceof Ar||(t=new Ar(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(ta("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return _i(n,i)}while(++r)}compareBuild(t){t instanceof Ar||(t=new Ar(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(ta("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return _i(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),_i(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Lt=XO;const $h=Lt,QO=(e,t,r=!1)=>{if(e instanceof $h)return e;try{return new $h(e,t)}catch(n){if(!r)return null;throw n}};var os=QO;const ZO=os,eT=(e,t)=>{const r=ZO(e,t);return r?r.version:null};var tT=eT;const rT=os,nT=(e,t)=>{const r=rT(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var iT=nT;const Eh=Lt,sT=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Eh(e instanceof Eh?e.version:e,r).inc(t,n,i).version}catch{return null}};var oT=sT;const wh=os,aT=(e,t)=>{const r=wh(e,null,!0),n=wh(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var cT=aT;const lT=Lt,uT=(e,t)=>new lT(e,t).major;var fT=uT;const dT=Lt,hT=(e,t)=>new dT(e,t).minor;var pT=hT;const mT=Lt,gT=(e,t)=>new mT(e,t).patch;var yT=gT;const vT=os,_T=(e,t)=>{const r=vT(e,t);return r&&r.prerelease.length?r.prerelease:null};var $T=_T;const Sh=Lt,ET=(e,t,r)=>new Sh(e,r).compare(new Sh(t,r));var br=ET;const wT=br,ST=(e,t,r)=>wT(t,e,r);var bT=ST;const PT=br,OT=(e,t)=>PT(e,t,!0);var TT=OT;const bh=Lt,AT=(e,t,r)=>{const n=new bh(e,r),i=new bh(t,r);return n.compare(i)||n.compareBuild(i)};var Hf=AT;const CT=Hf,NT=(e,t)=>e.sort((r,n)=>CT(r,n,t));var RT=NT;const IT=Hf,DT=(e,t)=>e.sort((r,n)=>IT(n,r,t));var FT=DT;const kT=br,LT=(e,t,r)=>kT(e,t,r)>0;var ac=LT;const jT=br,MT=(e,t,r)=>jT(e,t,r)<0;var Gf=MT;const UT=br,xT=(e,t,r)=>UT(e,t,r)===0;var _y=xT;const qT=br,VT=(e,t,r)=>qT(e,t,r)!==0;var $y=VT;const BT=br,zT=(e,t,r)=>BT(e,t,r)>=0;var Wf=zT;const HT=br,GT=(e,t,r)=>HT(e,t,r)<=0;var Kf=GT;const WT=_y,KT=$y,YT=ac,JT=Wf,XT=Gf,QT=Kf,ZT=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return WT(e,r,n);case"!=":return KT(e,r,n);case">":return YT(e,r,n);case">=":return JT(e,r,n);case"<":return XT(e,r,n);case"<=":return QT(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Ey=ZT;const eA=Lt,tA=os,{safeRe:na,t:ia}=bo,rA=(e,t)=>{if(e instanceof eA)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?na[ia.COERCEFULL]:na[ia.COERCE]);else{const c=t.includePrerelease?na[ia.COERCERTLFULL]:na[ia.COERCERTL];let l;for(;(l=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return tA(`${n}.${i}.${s}${o}${a}`,t)};var nA=rA,Wc,Ph;function iA(){return Ph||(Ph=1,Wc=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Wc}var sA=Te;Te.Node=si;Te.create=Te;function Te(e){var t=this;if(t instanceof Te||(t=new Te),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Te.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Te.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Te.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Te.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)aA(this,arguments[e]);return this.length};Te.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)cA(this,arguments[e]);return this.length};Te.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Te.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Te.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Te.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Te.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Te.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Te.prototype.map=function(e,t){t=t||this;for(var r=new Te,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Te.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Te,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Te.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Te.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Te.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Te.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Te.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Te;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Te.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Te;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Te.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=oA(this,i,r[n]);return s};Te.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function oA(e,t,r){var n=t===e.head?new si(r,null,t,e):new si(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function aA(e,t){e.tail=new si(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function cA(e,t){e.head=new si(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function si(e,t,r,n){if(!(this instanceof si))return new si(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{iA()(Te)}catch{}const lA=sA,Wn=Symbol("max"),Kr=Symbol("length"),$i=Symbol("lengthCalculator"),Ys=Symbol("allowStale"),Yn=Symbol("maxAge"),Gr=Symbol("dispose"),Oh=Symbol("noDisposeOnSet"),dt=Symbol("lruList"),vr=Symbol("cache"),wy=Symbol("updateAgeOnGet"),Kc=()=>1;class uA{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Wn]=t.max||1/0;const r=t.length||Kc;if(this[$i]=typeof r!="function"?Kc:r,this[Ys]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Yn]=t.maxAge||0,this[Gr]=t.dispose,this[Oh]=t.noDisposeOnSet||!1,this[wy]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Wn]=t||1/0,ws(this)}get max(){return this[Wn]}set allowStale(t){this[Ys]=!!t}get allowStale(){return this[Ys]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Yn]=t,ws(this)}get maxAge(){return this[Yn]}set lengthCalculator(t){typeof t!="function"&&(t=Kc),t!==this[$i]&&(this[$i]=t,this[Kr]=0,this[dt].forEach(r=>{r.length=this[$i](r.value,r.key),this[Kr]+=r.length})),ws(this)}get lengthCalculator(){return this[$i]}get length(){return this[Kr]}get itemCount(){return this[dt].length}rforEach(t,r){r=r||this;for(let n=this[dt].tail;n!==null;){const i=n.prev;Th(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[dt].head;n!==null;){const i=n.next;Th(this,t,n,r),n=i}}keys(){return this[dt].toArray().map(t=>t.key)}values(){return this[dt].toArray().map(t=>t.value)}reset(){this[Gr]&&this[dt]&&this[dt].length&&this[dt].forEach(t=>this[Gr](t.key,t.value)),this[vr]=new Map,this[dt]=new lA,this[Kr]=0}dump(){return this[dt].map(t=>La(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[dt]}set(t,r,n){if(n=n||this[Yn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[$i](r,t);if(this[vr].has(t)){if(s>this[Wn])return ji(this,this[vr].get(t)),!1;const c=this[vr].get(t).value;return this[Gr]&&(this[Oh]||this[Gr](t,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Kr]+=s-c.length,c.length=s,this.get(t),ws(this),!0}const o=new fA(t,r,s,i,n);return o.length>this[Wn]?(this[Gr]&&this[Gr](t,r),!1):(this[Kr]+=o.length,this[dt].unshift(o),this[vr].set(t,this[dt].head),ws(this),!0)}has(t){if(!this[vr].has(t))return!1;const r=this[vr].get(t).value;return!La(this,r)}get(t){return Yc(this,t,!0)}peek(t){return Yc(this,t,!1)}pop(){const t=this[dt].tail;return t?(ji(this,t),t.value):null}del(t){ji(this,this[vr].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[vr].forEach((t,r)=>Yc(this,r,!1))}}const Yc=(e,t,r)=>{const n=e[vr].get(t);if(n){const i=n.value;if(La(e,i)){if(ji(e,n),!e[Ys])return}else r&&(e[wy]&&(n.value.now=Date.now()),e[dt].unshiftNode(n));return i.value}},La=(e,t)=>{if(!t||!t.maxAge&&!e[Yn])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Yn]&&r>e[Yn]},ws=e=>{if(e[Kr]>e[Wn])for(let t=e[dt].tail;e[Kr]>e[Wn]&&t!==null;){const r=t.prev;ji(e,t),t=r}},ji=(e,t)=>{if(t){const r=t.value;e[Gr]&&e[Gr](r.key,r.value),e[Kr]-=r.length,e[vr].delete(r.key),e[dt].removeNode(t)}};class fA{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Th=(e,t,r,n)=>{let i=r.value;La(e,i)&&(ji(e,r),e[Ys]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var dA=uA,Jc,Ah;function Pr(){if(Ah)return Jc;Ah=1;class e{constructor(G,Q){if(Q=n(Q),G instanceof e)return G.loose===!!Q.loose&&G.includePrerelease===!!Q.includePrerelease?G:new e(G.raw,Q);if(G instanceof i)return this.raw=G.value,this.set=[[G]],this.format(),this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=G.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(Z=>this.parseRange(Z.trim())).filter(Z=>Z.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Z=this.set[0];if(this.set=this.set.filter(K=>!y(K[0])),this.set.length===0)this.set=[Z];else if(this.set.length>1){for(const K of this.set)if(K.length===1&&E(K[0])){this.set=[K];break}}}this.format()}format(){return this.range=this.set.map(G=>G.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(G){const Z=((this.options.includePrerelease&&h)|(this.options.loose&&m))+":"+G,K=r.get(Z);if(K)return K;const I=this.options.loose,j=I?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];G=G.replace(j,Y(this.options.includePrerelease)),s("hyphen replace",G),G=G.replace(a[c.COMPARATORTRIM],l),s("comparator trim",G),G=G.replace(a[c.TILDETRIM],u),s("tilde trim",G),G=G.replace(a[c.CARETTRIM],f),s("caret trim",G);let A=G.split(" ").map(d=>g(d,this.options)).join(" ").split(/\s+/).map(d=>V(d,this.options));I&&(A=A.filter(d=>(s("loose invalid filter",d,this.options),!!d.match(a[c.COMPARATORLOOSE])))),s("range list",A);const w=new Map,R=A.map(d=>new i(d,this.options));for(const d of R){if(y(d))return[d];w.set(d.value,d)}w.size>1&&w.has("")&&w.delete("");const C=[...w.values()];return r.set(Z,C),C}intersects(G,Q){if(!(G instanceof e))throw new TypeError("a Range is required");return this.set.some(Z=>v(Z,Q)&&G.set.some(K=>v(K,Q)&&Z.every(I=>K.every(j=>I.intersects(j,Q)))))}test(G){if(!G)return!1;if(typeof G=="string")try{G=new o(G,this.options)}catch{return!1}for(let Q=0;Q<this.set.length;Q++)if(H(this.set[Q],G,this.options))return!0;return!1}}Jc=e;const t=dA,r=new t({max:1e3}),n=zf,i=cc(),s=oc,o=Lt,{safeRe:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:f}=bo,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:m}=sc,y=W=>W.value==="<0.0.0-0",E=W=>W.value==="",v=(W,G)=>{let Q=!0;const Z=W.slice();let K=Z.pop();for(;Q&&Z.length;)Q=Z.every(I=>K.intersects(I,G)),K=Z.pop();return Q},g=(W,G)=>(s("comp",W,G),W=M(W,G),s("caret",W),W=S(W,G),s("tildes",W),W=b(W,G),s("xrange",W),W=O(W,G),s("stars",W),W),p=W=>!W||W.toLowerCase()==="x"||W==="*",S=(W,G)=>W.trim().split(/\s+/).map(Q=>N(Q,G)).join(" "),N=(W,G)=>{const Q=G.loose?a[c.TILDELOOSE]:a[c.TILDE];return W.replace(Q,(Z,K,I,j,A)=>{s("tilde",W,Z,K,I,j,A);let w;return p(K)?w="":p(I)?w=`>=${K}.0.0 <${+K+1}.0.0-0`:p(j)?w=`>=${K}.${I}.0 <${K}.${+I+1}.0-0`:A?(s("replaceTilde pr",A),w=`>=${K}.${I}.${j}-${A} <${K}.${+I+1}.0-0`):w=`>=${K}.${I}.${j} <${K}.${+I+1}.0-0`,s("tilde return",w),w})},M=(W,G)=>W.trim().split(/\s+/).map(Q=>T(Q,G)).join(" "),T=(W,G)=>{s("caret",W,G);const Q=G.loose?a[c.CARETLOOSE]:a[c.CARET],Z=G.includePrerelease?"-0":"";return W.replace(Q,(K,I,j,A,w)=>{s("caret",W,K,I,j,A,w);let R;return p(I)?R="":p(j)?R=`>=${I}.0.0${Z} <${+I+1}.0.0-0`:p(A)?I==="0"?R=`>=${I}.${j}.0${Z} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.0${Z} <${+I+1}.0.0-0`:w?(s("replaceCaret pr",w),I==="0"?j==="0"?R=`>=${I}.${j}.${A}-${w} <${I}.${j}.${+A+1}-0`:R=`>=${I}.${j}.${A}-${w} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.${A}-${w} <${+I+1}.0.0-0`):(s("no pr"),I==="0"?j==="0"?R=`>=${I}.${j}.${A}${Z} <${I}.${j}.${+A+1}-0`:R=`>=${I}.${j}.${A}${Z} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.${A} <${+I+1}.0.0-0`),s("caret return",R),R})},b=(W,G)=>(s("replaceXRanges",W,G),W.split(/\s+/).map(Q=>D(Q,G)).join(" ")),D=(W,G)=>{W=W.trim();const Q=G.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return W.replace(Q,(Z,K,I,j,A,w)=>{s("xRange",W,Z,K,I,j,A,w);const R=p(I),C=R||p(j),d=C||p(A),$=d;return K==="="&&$&&(K=""),w=G.includePrerelease?"-0":"",R?K===">"||K==="<"?Z="<0.0.0-0":Z="*":K&&$?(C&&(j=0),A=0,K===">"?(K=">=",C?(I=+I+1,j=0,A=0):(j=+j+1,A=0)):K==="<="&&(K="<",C?I=+I+1:j=+j+1),K==="<"&&(w="-0"),Z=`${K+I}.${j}.${A}${w}`):C?Z=`>=${I}.0.0${w} <${+I+1}.0.0-0`:d&&(Z=`>=${I}.${j}.0${w} <${I}.${+j+1}.0-0`),s("xRange return",Z),Z})},O=(W,G)=>(s("replaceStars",W,G),W.trim().replace(a[c.STAR],"")),V=(W,G)=>(s("replaceGTE0",W,G),W.trim().replace(a[G.includePrerelease?c.GTE0PRE:c.GTE0],"")),Y=W=>(G,Q,Z,K,I,j,A,w,R,C,d,$,L)=>(p(Z)?Q="":p(K)?Q=`>=${Z}.0.0${W?"-0":""}`:p(I)?Q=`>=${Z}.${K}.0${W?"-0":""}`:j?Q=`>=${Q}`:Q=`>=${Q}${W?"-0":""}`,p(R)?w="":p(C)?w=`<${+R+1}.0.0-0`:p(d)?w=`<${R}.${+C+1}.0-0`:$?w=`<=${R}.${C}.${d}-${$}`:W?w=`<${R}.${C}.${+d+1}-0`:w=`<=${w}`,`${Q} ${w}`.trim()),H=(W,G,Q)=>{for(let Z=0;Z<W.length;Z++)if(!W[Z].test(G))return!1;if(G.prerelease.length&&!Q.includePrerelease){for(let Z=0;Z<W.length;Z++)if(s(W[Z].semver),W[Z].semver!==i.ANY&&W[Z].semver.prerelease.length>0){const K=W[Z].semver;if(K.major===G.major&&K.minor===G.minor&&K.patch===G.patch)return!0}return!1}return!0};return Jc}var Xc,Ch;function cc(){if(Ch)return Xc;Ch=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=r(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=u.match(f);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return s(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||s(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||s(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Xc=t;const r=zf,{safeRe:n,t:i}=bo,s=Ey,o=oc,a=Lt,c=Pr();return Xc}const hA=Pr(),pA=(e,t,r)=>{try{t=new hA(t,r)}catch{return!1}return t.test(e)};var lc=pA;const mA=Pr(),gA=(e,t)=>new mA(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var yA=gA;const vA=Lt,_A=Pr(),$A=(e,t,r)=>{let n=null,i=null,s=null;try{s=new _A(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new vA(n,r))}),n};var EA=$A;const wA=Lt,SA=Pr(),bA=(e,t,r)=>{let n=null,i=null,s=null;try{s=new SA(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new wA(n,r))}),n};var PA=bA;const Qc=Lt,OA=Pr(),Nh=ac,TA=(e,t)=>{e=new OA(e,t);let r=new Qc("0.0.0");if(e.test(r)||(r=new Qc("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const a=new Qc(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Nh(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Nh(r,s))&&(r=s)}return r&&e.test(r)?r:null};var AA=TA;const CA=Pr(),NA=(e,t)=>{try{return new CA(e,t).range||"*"}catch{return null}};var RA=NA;const IA=Lt,Sy=cc(),{ANY:DA}=Sy,FA=Pr(),kA=lc,Rh=ac,Ih=Gf,LA=Kf,jA=Wf,MA=(e,t,r,n)=>{e=new IA(e,n),t=new FA(t,n);let i,s,o,a,c;switch(r){case">":i=Rh,s=LA,o=Ih,a=">",c=">=";break;case"<":i=Ih,s=jA,o=Rh,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(kA(e,t,n))return!1;for(let l=0;l<t.set.length;++l){const u=t.set[l];let f=null,h=null;if(u.forEach(m=>{m.semver===DA&&(m=new Sy(">=0.0.0")),f=f||m,h=h||m,i(m.semver,f.semver,n)?f=m:o(m.semver,h.semver,n)&&(h=m)}),f.operator===a||f.operator===c||(!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===c&&o(e,h.semver))return!1}return!0};var Yf=MA;const UA=Yf,xA=(e,t,r)=>UA(e,t,">",r);var qA=xA;const VA=Yf,BA=(e,t,r)=>VA(e,t,"<",r);var zA=BA;const Dh=Pr(),HA=(e,t,r)=>(e=new Dh(e,r),t=new Dh(t,r),e.intersects(t,r));var GA=HA;const WA=lc,KA=br;var YA=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((u,f)=>KA(u,f,r));for(const u of o)WA(u,t,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[u,f]of n)u===f?a.push(u):!f&&u===o[0]?a.push("*"):f?u===o[0]?a.push(`<=${f}`):a.push(`${u} - ${f}`):a.push(`>=${u}`);const c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t};const Fh=Pr(),Jf=cc(),{ANY:Zc}=Jf,Ss=lc,Xf=br,JA=(e,t,r={})=>{if(e===t)return!0;e=new Fh(e,r),t=new Fh(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=QA(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},XA=[new Jf(">=0.0.0-0")],kh=[new Jf(">=0.0.0")],QA=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Zc){if(t.length===1&&t[0].semver===Zc)return!0;r.includePrerelease?e=XA:e=kh}if(t.length===1&&t[0].semver===Zc){if(r.includePrerelease)return!0;t=kh}const n=new Set;let i,s;for(const m of e)m.operator===">"||m.operator===">="?i=Lh(i,m,r):m.operator==="<"||m.operator==="<="?s=jh(s,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Xf(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const m of n){if(i&&!Ss(m,String(i),r)||s&&!Ss(m,String(s),r))return null;for(const y of t)if(!Ss(m,String(y),r))return!1;return!0}let a,c,l,u,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const m of t){if(u=u||m.operator===">"||m.operator===">=",l=l||m.operator==="<"||m.operator==="<=",i){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(a=Lh(i,m,r),a===m&&a!==i)return!1}else if(i.operator===">="&&!Ss(i.semver,String(m),r))return!1}if(s){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(c=jh(s,m,r),c===m&&c!==s)return!1}else if(s.operator==="<="&&!Ss(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&u&&!i&&o!==0||h||f)},Lh=(e,t,r)=>{if(!e)return t;const n=Xf(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},jh=(e,t,r)=>{if(!e)return t;const n=Xf(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var ZA=JA;const el=bo,Mh=sc,eC=Lt,Uh=vy,tC=os,rC=tT,nC=iT,iC=oT,sC=cT,oC=fT,aC=pT,cC=yT,lC=$T,uC=br,fC=bT,dC=TT,hC=Hf,pC=RT,mC=FT,gC=ac,yC=Gf,vC=_y,_C=$y,$C=Wf,EC=Kf,wC=Ey,SC=nA,bC=cc(),PC=Pr(),OC=lc,TC=yA,AC=EA,CC=PA,NC=AA,RC=RA,IC=Yf,DC=qA,FC=zA,kC=GA,LC=YA,jC=ZA;var Qf={parse:tC,valid:rC,clean:nC,inc:iC,diff:sC,major:oC,minor:aC,patch:cC,prerelease:lC,compare:uC,rcompare:fC,compareLoose:dC,compareBuild:hC,sort:pC,rsort:mC,gt:gC,lt:yC,eq:vC,neq:_C,gte:$C,lte:EC,cmp:wC,coerce:SC,Comparator:bC,Range:PC,satisfies:OC,toComparators:TC,maxSatisfying:AC,minSatisfying:CC,minVersion:NC,validRange:RC,outside:IC,gtr:DC,ltr:FC,intersects:kC,simplifyRange:LC,subset:jC,SemVer:eC,re:el.re,src:el.src,tokens:el.t,SEMVER_SPEC_VERSION:Mh.SEMVER_SPEC_VERSION,RELEASE_TYPES:Mh.RELEASE_TYPES,compareIdentifiers:Uh.compareIdentifiers,rcompareIdentifiers:Uh.rcompareIdentifiers},uc={exports:{}},Zf={exports:{}};const by=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Zf.exports=by;Zf.exports.default=by;var MC=Zf.exports;const UC=MC,ja=new WeakMap,Py=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",s=function(...o){if(ja.set(s,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return UC(s,e),ja.set(s,n),s};uc.exports=Py;uc.exports.default=Py;uc.exports.callCount=e=>{if(!ja.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return ja.get(e)};var xC=uc.exports;(function(e,t){var r=it&&it.__classPrivateFieldSet||function(K,I,j,A,w){if(A==="m")throw new TypeError("Private method is not writable");if(A==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof I=="function"?K!==I||!w:!I.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return A==="a"?w.call(K,j):w?w.value=j:I.set(K,j),j},n=it&&it.__classPrivateFieldGet||function(K,I,j,A){if(j==="a"&&!A)throw new TypeError("Private accessor was defined without a getter");if(typeof I=="function"?K!==I||!A:!I.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?A:j==="a"?A.call(K):A?A.value:I.get(K)},i,s,o,a,c,l;Object.defineProperty(t,"__esModule",{value:!0});const u=Zi,f=ct,h=we,m=es,y=su,E=Qi,v=l_,g=$_,p=b_,S=Ir,N=jS,M=AO,T=UO,b=Qf,D=xC,O="aes-256-cbc",V=()=>Object.create(null),Y=K=>K!=null;let H="";try{delete require.cache[__filename],H=h.dirname((s=(i=e.parent)===null||i===void 0?void 0:i.filename)!==null&&s!==void 0?s:".")}catch{}const W=(K,I)=>{const j=new Set(["undefined","symbol","function"]),A=typeof I;if(j.has(A))throw new TypeError(`Setting a value of type \`${A}\` for key \`${K}\` is not allowed as it's not supported by JSON`)},G="__internal__",Q=`${G}.migrations.version`;class Z{constructor(I={}){var j;o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),l.set(this,{}),this._deserialize=$=>JSON.parse($),this._serialize=$=>JSON.stringify($,void 0,"	");const A={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...I},w=D(()=>{const $=g.sync({cwd:H}),L=$&&JSON.parse(f.readFileSync($,"utf8"));return L??{}});if(!A.cwd){if(A.projectName||(A.projectName=w().name),!A.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");A.cwd=p(A.projectName,{suffix:A.projectSuffix}).config}if(r(this,c,A,"f"),A.schema){if(typeof A.schema!="object")throw new TypeError("The `schema` option must be an object.");const $=new N.default({allErrors:!0,useDefaults:!0});(0,M.default)($);const L={type:"object",properties:A.schema};r(this,o,$.compile(L),"f");for(const[P,_]of Object.entries(A.schema))_!=null&&_.default&&(n(this,l,"f")[P]=_.default)}A.defaults&&r(this,l,{...n(this,l,"f"),...A.defaults},"f"),A.serialize&&(this._serialize=A.serialize),A.deserialize&&(this._deserialize=A.deserialize),this.events=new E.EventEmitter,r(this,a,A.encryptionKey,"f");const R=A.fileExtension?`.${A.fileExtension}`:"";this.path=h.resolve(A.cwd,`${(j=A.configName)!==null&&j!==void 0?j:"config"}${R}`);const C=this.store,d=Object.assign(V(),A.defaults,C);this._validate(d);try{y.deepEqual(C,d)}catch{this.store=d}if(A.watch&&this._watch(),A.migrations){if(A.projectVersion||(A.projectVersion=w().version),!A.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(A.migrations,A.projectVersion,A.beforeEachMigration)}}get(I,j){if(n(this,c,"f").accessPropertiesByDotNotation)return this._get(I,j);const{store:A}=this;return I in A?A[I]:j}set(I,j){if(typeof I!="string"&&typeof I!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof I}`);if(typeof I!="object"&&j===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(I))throw new TypeError(`Please don't use the ${G} key, as it's used to manage this module internal operations.`);const{store:A}=this,w=(R,C)=>{W(R,C),n(this,c,"f").accessPropertiesByDotNotation?v.set(A,R,C):A[R]=C};if(typeof I=="object"){const R=I;for(const[C,d]of Object.entries(R))w(C,d)}else w(I,j);this.store=A}has(I){return n(this,c,"f").accessPropertiesByDotNotation?v.has(this.store,I):I in this.store}reset(...I){for(const j of I)Y(n(this,l,"f")[j])&&this.set(j,n(this,l,"f")[j])}delete(I){const{store:j}=this;n(this,c,"f").accessPropertiesByDotNotation?v.delete(j,I):delete j[I],this.store=j}clear(){this.store=V();for(const I of Object.keys(n(this,l,"f")))this.reset(I)}onDidChange(I,j){if(typeof I!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof I}`);if(typeof j!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof j}`);return this._handleChange(()=>this.get(I),j)}onDidAnyChange(I){if(typeof I!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof I}`);return this._handleChange(()=>this.store,I)}get size(){return Object.keys(this.store).length}get store(){try{const I=f.readFileSync(this.path,n(this,a,"f")?null:"utf8"),j=this._encryptData(I),A=this._deserialize(j);return this._validate(A),Object.assign(V(),A)}catch(I){if((I==null?void 0:I.code)==="ENOENT")return this._ensureDirectory(),V();if(n(this,c,"f").clearInvalidConfig&&I.name==="SyntaxError")return V();throw I}}set store(I){this._ensureDirectory(),this._validate(I),this._write(I),this.events.emit("change")}*[(o=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,Symbol.iterator)](){for(const[I,j]of Object.entries(this.store))yield[I,j]}_encryptData(I){if(!n(this,a,"f"))return I.toString();try{if(n(this,a,"f"))try{if(I.slice(16,17).toString()===":"){const j=I.slice(0,16),A=m.pbkdf2Sync(n(this,a,"f"),j.toString(),1e4,32,"sha512"),w=m.createDecipheriv(O,A,j);I=Buffer.concat([w.update(Buffer.from(I.slice(17))),w.final()]).toString("utf8")}else{const j=m.createDecipher(O,n(this,a,"f"));I=Buffer.concat([j.update(Buffer.from(I)),j.final()]).toString("utf8")}}catch{}}catch{}return I.toString()}_handleChange(I,j){let A=I();const w=()=>{const R=A,C=I();(0,u.isDeepStrictEqual)(C,R)||(A=C,j.call(this,C,R))};return this.events.on("change",w),()=>this.events.removeListener("change",w)}_validate(I){if(!n(this,o,"f")||n(this,o,"f").call(this,I)||!n(this,o,"f").errors)return;const A=n(this,o,"f").errors.map(({instancePath:w,message:R=""})=>`\`${w.slice(1)}\` ${R}`);throw new Error("Config schema violation: "+A.join("; "))}_ensureDirectory(){f.mkdirSync(h.dirname(this.path),{recursive:!0})}_write(I){let j=this._serialize(I);if(n(this,a,"f")){const A=m.randomBytes(16),w=m.pbkdf2Sync(n(this,a,"f"),A.toString(),1e4,32,"sha512"),R=m.createCipheriv(O,w,A);j=Buffer.concat([A,Buffer.from(":"),R.update(Buffer.from(j)),R.final()])}if(process.env.SNAP)f.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode});else try{S.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode})}catch(A){if((A==null?void 0:A.code)==="EXDEV"){f.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode});return}throw A}}_watch(){this._ensureDirectory(),f.existsSync(this.path)||this._write(V()),process.platform==="win32"?f.watch(this.path,{persistent:!1},T(()=>{this.events.emit("change")},{wait:100})):f.watchFile(this.path,{persistent:!1},T(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(I,j,A){let w=this._get(Q,"0.0.0");const R=Object.keys(I).filter(d=>this._shouldPerformMigration(d,w,j));let C={...this.store};for(const d of R)try{A&&A(this,{fromVersion:w,toVersion:d,finalVersion:j,versions:R});const $=I[d];$(this),this._set(Q,d),w=d,C={...this.store}}catch($){throw this.store=C,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${$}`)}(this._isVersionInRangeFormat(w)||!b.eq(w,j))&&this._set(Q,j)}_containsReservedKey(I){return typeof I=="object"&&Object.keys(I)[0]===G?!0:typeof I!="string"?!1:n(this,c,"f").accessPropertiesByDotNotation?!!I.startsWith(`${G}.`):!1}_isVersionInRangeFormat(I){return b.clean(I)===null}_shouldPerformMigration(I,j,A){return this._isVersionInRangeFormat(I)?j!=="0.0.0"&&b.satisfies(j,I)?!1:b.satisfies(A,I):!(b.lte(I,j)||b.gt(I,A))}_get(I,j){return v.get(this.store,I,j)}_set(I,j){const{store:A}=this;v.set(A,I,j),this.store=A}}t.default=Z,e.exports=Z,e.exports.default=Z})(Al,Al.exports);var qC=Al.exports;const xh=we,{app:Ea,ipcMain:Hl,ipcRenderer:qh,shell:VC}=he,BC=qC;let Vh=!1;const Bh=()=>{if(!Hl||!Ea)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Ea.getPath("userData"),appVersion:Ea.getVersion()};return Vh||(Hl.on("electron-store-get-data",t=>{t.returnValue=e}),Vh=!0),e};class zC extends BC{constructor(t){let r,n;if(qh){const i=qh.sendSync("electron-store-get-data");if(!i)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=i)}else Hl&&Ea&&({defaultCwd:r,appVersion:n}=Bh());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=xh.isAbsolute(t.cwd)?t.cwd:xh.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Bh()}openInEditor(){VC.openPath(this.path)}}var HC=zC;const GC=Rm(HC),Oy=ct,Ls=we;var WC={findAndReadPackageJson:KC,tryReadJsonAt:Ai};function KC(){return Ai(XC())||Ai(JC())||Ai(process.resourcesPath,"app.asar")||Ai(process.resourcesPath,"app")||Ai(process.cwd())||{name:void 0,version:void 0}}function Ai(...e){if(e[0])try{const t=Ls.join(...e),r=YC("package.json",t);if(!r)return;const n=JSON.parse(Oy.readFileSync(r,"utf8")),i=(n==null?void 0:n.productName)||(n==null?void 0:n.name);return!i||i.toLowerCase()==="electron"?void 0:i?{name:i,version:n==null?void 0:n.version}:void 0}catch{return}}function YC(e,t){let r=t;for(;;){const n=Ls.parse(r),i=n.root,s=n.dir;if(Oy.existsSync(Ls.join(r,e)))return Ls.resolve(Ls.join(r,e));if(r===i)return null;r=s}}function JC(){const e=process.argv.filter(r=>r.indexOf("--user-data-dir=")===0);return e.length===0||typeof e[0]!="string"?null:e[0].replace("--user-data-dir=","")}function XC(){var e;try{return(e=require.main)==null?void 0:e.filename}catch{return}}const QC=fo,Ln=Tn,Ei=we,ZC=WC;let eN=class{constructor(){_e(this,"appName");_e(this,"appPackageJson");_e(this,"platform",process.platform)}getAppLogPath(t=this.getAppName()){return this.platform==="darwin"?Ei.join(this.getSystemPathHome(),"Library/Logs",t):Ei.join(this.getAppUserDataPath(t),"logs")}getAppName(){var t;return this.appName||((t=this.getAppPackageJson())==null?void 0:t.name)}getAppPackageJson(){return typeof this.appPackageJson!="object"&&(this.appPackageJson=ZC.findAndReadPackageJson()),this.appPackageJson}getAppUserDataPath(t=this.getAppName()){return t?Ei.join(this.getSystemPathAppData(),t):void 0}getAppVersion(){var t;return(t=this.getAppPackageJson())==null?void 0:t.version}getElectronLogPath(){return this.getAppLogPath()}getMacOsVersion(){const t=Number(Ln.release().split(".")[0]);return t<=19?`10.${t-4}`:t-9}getOsVersion(){let t=Ln.type().replace("_"," "),r=Ln.release();return t==="Darwin"&&(t="macOS",r=this.getMacOsVersion()),`${t} ${r}`}getPathVariables(){const t=this.getAppName(),r=this.getAppVersion(),n=this;return{appData:this.getSystemPathAppData(),appName:t,appVersion:r,get electronDefaultDir(){return n.getElectronLogPath()},home:this.getSystemPathHome(),libraryDefaultDir:this.getAppLogPath(t),libraryTemplate:this.getAppLogPath("{appName}"),temp:this.getSystemPathTemp(),userData:this.getAppUserDataPath(t)}}getSystemPathAppData(){const t=this.getSystemPathHome();switch(this.platform){case"darwin":return Ei.join(t,"Library/Application Support");case"win32":return process.env.APPDATA||Ei.join(t,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||Ei.join(t,".config")}}getSystemPathHome(){var t;return((t=Ln.homedir)==null?void 0:t.call(Ln))||process.env.HOME}getSystemPathTemp(){return Ln.tmpdir()}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:void 0,os:this.getOsVersion()}}isDev(){return process.env.NODE_ENV==="development"||process.env.ELECTRON_IS_DEV==="1"}isElectron(){return!!process.versions.electron}onAppEvent(t,r){}onAppReady(t){t()}onEveryWebContentsEvent(t,r){}onIpc(t,r){}onIpcInvoke(t,r){}openUrl(t,r=console.error){const i={darwin:"open",win32:"start",linux:"xdg-open"}[process.platform]||"xdg-open";QC.exec(`${i} ${t}`,{},s=>{s&&r(s)})}setPlatform(t){this.platform=t}setPreloadFileForSessions({filePath:t,includeFutureSession:r=!0,getSessions:n=()=>[]}){}sendIpc(t,r){}showErrorBox(t,r){}};var tN=eN;const rN=we,nN=tN;let iN=class extends nN{constructor({electron:r}={}){super();_e(this,"electron");this.electron=r}getAppName(){var n,i;let r;try{r=((n=this.electron.app)==null?void 0:n.name)||((i=this.electron.app)==null?void 0:i.getName())}catch{}return r||super.getAppName()}getAppUserDataPath(r){return this.getPath("userData")||super.getAppUserDataPath(r)}getAppVersion(){var n;let r;try{r=(n=this.electron.app)==null?void 0:n.getVersion()}catch{}return r||super.getAppVersion()}getElectronLogPath(){return this.getPath("logs")||super.getElectronLogPath()}getPath(r){var n;try{return(n=this.electron.app)==null?void 0:n.getPath(r)}catch{return}}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:`Electron ${process.versions.electron}`,os:this.getOsVersion()}}getSystemPathAppData(){return this.getPath("appData")||super.getSystemPathAppData()}isDev(){var r;return((r=this.electron.app)==null?void 0:r.isPackaged)!==void 0?!this.electron.app.isPackaged:typeof process.execPath=="string"?rN.basename(process.execPath).toLowerCase().startsWith("electron"):super.isDev()}onAppEvent(r,n){var i;return(i=this.electron.app)==null||i.on(r,n),()=>{var s;(s=this.electron.app)==null||s.off(r,n)}}onAppReady(r){var n,i,s;(n=this.electron.app)!=null&&n.isReady()?r():(i=this.electron.app)!=null&&i.once?(s=this.electron.app)==null||s.once("ready",r):r()}onEveryWebContentsEvent(r,n){var s,o,a;return(o=(s=this.electron.webContents)==null?void 0:s.getAllWebContents())==null||o.forEach(c=>{c.on(r,n)}),(a=this.electron.app)==null||a.on("web-contents-created",i),()=>{var c,l;(c=this.electron.webContents)==null||c.getAllWebContents().forEach(u=>{u.off(r,n)}),(l=this.electron.app)==null||l.off("web-contents-created",i)};function i(c,l){l.on(r,n)}}onIpc(r,n){var i;(i=this.electron.ipcMain)==null||i.on(r,n)}onIpcInvoke(r,n){var i,s;(s=(i=this.electron.ipcMain)==null?void 0:i.handle)==null||s.call(i,r,n)}openUrl(r,n=console.error){var i;(i=this.electron.shell)==null||i.openExternal(r).catch(n)}setPreloadFileForSessions({filePath:r,includeFutureSession:n=!0,getSessions:i=()=>{var s;return[(s=this.electron.session)==null?void 0:s.defaultSession]}}){for(const o of i().filter(Boolean))s(o);n&&this.onAppEvent("session-created",o=>{s(o)});function s(o){o.setPreloads([...o.getPreloads(),r])}}sendIpc(r,n){var i,s;(s=(i=this.electron.BrowserWindow)==null?void 0:i.getAllWindows())==null||s.forEach(o=>{var a;((a=o.webContents)==null?void 0:a.isDestroyed())===!1&&o.webContents.send(r,n)})}showErrorBox(r,n){var i;(i=this.electron.dialog)==null||i.showErrorBox(r,n)}};var sN=iN,Ty={exports:{}};(function(e){let t={};try{t=require("electron")}catch{}t.ipcRenderer&&r(t),e.exports=r;function r({contextBridge:n,ipcRenderer:i}){if(!i)return;i.on("__ELECTRON_LOG_IPC__",(o,a)=>{window.postMessage({cmd:"message",...a})}),i.invoke("__ELECTRON_LOG__",{cmd:"getOptions"}).catch(o=>console.error(new Error(`electron-log isn't initialized in the main process. Please call log.initialize() before. ${o.message}`)));const s={sendToMain(o){try{i.send("__ELECTRON_LOG__",o)}catch(a){console.error("electronLog.sendToMain ",a,"data:",o),i.send("__ELECTRON_LOG__",{cmd:"errorHandler",error:{message:a==null?void 0:a.message,stack:a==null?void 0:a.stack},errorName:"sendToMain"})}},log(...o){s.sendToMain({data:o,level:"info"})}};for(const o of["error","warn","info","verbose","debug","silly"])s[o]=(...a)=>s.sendToMain({data:a,level:o});if(n&&process.contextIsolated)try{n.exposeInMainWorld("__electronLog",s)}catch{}typeof window=="object"?window.__electronLog=s:__electronLog=s}})(Ty);var oN=Ty.exports;const zh=ct,aN=Tn,Hh=we,cN=oN;var lN={initialize({externalApi:e,getSessions:t,includeFutureSession:r,logger:n,preload:i=!0,spyRendererConsole:s=!1}){e.onAppReady(()=>{try{i&&uN({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:i}),s&&fN({externalApi:e,logger:n})}catch(o){n.warn(o)}})}};function uN({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:n}){let i=typeof n=="string"?n:void 0;try{i=Hh.resolve(__dirname,"../renderer/electron-log-preload.js")}catch{}if(!i||!zh.existsSync(i)){i=Hh.join(e.getAppUserDataPath()||aN.tmpdir(),"electron-log-preload.js");const s=`
      try {
        (${cN.toString()})(require('electron'));
      } catch(e) {
        console.error(e);
      }
    `;zh.writeFileSync(i,s,"utf8")}e.setPreloadFileForSessions({filePath:i,includeFutureSession:r,getSessions:t})}function fN({externalApi:e,logger:t}){const r=["verbose","info","warning","error"];e.onEveryWebContentsEvent("console-message",(n,i,s)=>{t.processMessage({data:[s],level:r[i],variables:{processType:"renderer"}})})}var dN=hN;function hN(e){return Object.defineProperties(t,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof t.labelPadding){case"boolean":return t.labelPadding?t.maxLabelLength:0;case"number":return t.labelPadding;default:return 0}}}});function t(r){t.maxLabelLength=Math.max(t.maxLabelLength,r.length);const n={};for(const i of[...e.levels,"log"])n[i]=(...s)=>e.logData(s,{level:i,scope:r});return n}}const pN=dN;var ei;let mN=(ei=class{constructor({allowUnknownLevel:t=!1,dependencies:r={},errorHandler:n,eventLogger:i,initializeFn:s,isDev:o=!1,levels:a=["error","warn","info","verbose","debug","silly"],logId:c,transportFactories:l={},variables:u}={}){_e(this,"dependencies",{});_e(this,"errorHandler",null);_e(this,"eventLogger",null);_e(this,"functions",{});_e(this,"hooks",[]);_e(this,"isDev",!1);_e(this,"levels",null);_e(this,"logId",null);_e(this,"scope",null);_e(this,"transports",{});_e(this,"variables",{});this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=t,this.dependencies=r,this.initializeFn=s,this.isDev=o,this.levels=a,this.logId=c,this.transportFactories=l,this.variables=u||{},this.scope=pN(this),this.addLevel("log",!1);for(const f of this.levels)this.addLevel(f,!1);this.errorHandler=n,n==null||n.setOptions({...r,logFn:this.error}),this.eventLogger=i,i==null||i.setOptions({...r,logger:this});for(const[f,h]of Object.entries(l))this.transports[f]=h(this,r);ei.instances[c]=this}static getInstance({logId:t}){return this.instances[t]||this.instances.default}addLevel(t,r=this.levels.length){r!==!1&&this.levels.splice(r,0,t),this[t]=(...n)=>this.logData(n,{level:t}),this.functions[t]=this[t]}catchErrors(t){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(t)}create(t){return typeof t=="string"&&(t={logId:t}),new ei({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...t})}compareLevels(t,r,n=this.levels){const i=n.indexOf(t),s=n.indexOf(r);return s===-1||i===-1?!0:s<=i}initialize(t={}){this.initializeFn({logger:this,...this.dependencies,...t})}logData(t,r={}){this.processMessage({data:t,...r})}processMessage(t,{transports:r=this.transports}={}){if(t.cmd==="errorHandler"){this.errorHandler.handle(t.error,{errorName:t.errorName,processType:"renderer",showDialog:!!t.showDialog});return}let n=t.level;this.allowUnknownLevel||(n=this.levels.includes(t.level)?t.level:"info");const i={date:new Date,...t,level:n,variables:{...this.variables,...t.variables}};for(const[s,o]of this.transportEntries(r))if(!(typeof o!="function"||o.level===!1)&&this.compareLevels(o.level,t.level))try{const a=this.hooks.reduce((c,l)=>c&&l(c,o,s),i);a&&o({...a,data:[...a.data]})}catch(a){this.processInternalErrorFn(a)}}processInternalErrorFn(t){}transportEntries(t=this.transports){return(Array.isArray(t)?t:Object.entries(t)).map(n=>{switch(typeof n){case"string":return this.transports[n]?[n,this.transports[n]]:null;case"function":return[n.name,n];default:return Array.isArray(n)?n:null}}).filter(Boolean)}},_e(ei,"instances",{}),ei);var gN=mN;let yN=class{constructor({externalApi:t,logFn:r=void 0,onError:n=void 0,showDialog:i=void 0}={}){_e(this,"externalApi");_e(this,"isActive",!1);_e(this,"logFn");_e(this,"onError");_e(this,"showDialog",!0);this.createIssue=this.createIssue.bind(this),this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.setOptions({externalApi:t,logFn:r,onError:n,showDialog:i}),this.startCatching=this.startCatching.bind(this),this.stopCatching=this.stopCatching.bind(this)}handle(t,{logFn:r=this.logFn,onError:n=this.onError,processType:i="browser",showDialog:s=this.showDialog,errorName:o=""}={}){var a;t=vN(t);try{if(typeof n=="function"){const c=((a=this.externalApi)==null?void 0:a.getVersions())||{},l=this.createIssue;if(n({createIssue:l,error:t,errorName:o,processType:i,versions:c})===!1)return}o?r(o,t):r(t),s&&!o.includes("rejection")&&this.externalApi&&this.externalApi.showErrorBox(`A JavaScript error occurred in the ${i} process`,t.stack)}catch{console.error(t)}}setOptions({externalApi:t,logFn:r,onError:n,showDialog:i}){typeof t=="object"&&(this.externalApi=t),typeof r=="function"&&(this.logFn=r),typeof n=="function"&&(this.onError=n),typeof i=="boolean"&&(this.showDialog=i)}startCatching({onError:t,showDialog:r}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:t,showDialog:r}),process.on("uncaughtException",this.handleError),process.on("unhandledRejection",this.handleRejection))}stopCatching(){this.isActive=!1,process.removeListener("uncaughtException",this.handleError),process.removeListener("unhandledRejection",this.handleRejection)}createIssue(t,r){var n;(n=this.externalApi)==null||n.openUrl(`${t}?${new URLSearchParams(r).toString()}`)}handleError(t){this.handle(t,{errorName:"Unhandled"})}handleRejection(t){const r=t instanceof Error?t:new Error(JSON.stringify(t));this.handle(r,{errorName:"Unhandled rejection"})}};function vN(e){if(e instanceof Error)return e;if(e&&typeof e=="object"){if(e.message)return Object.assign(new Error(e.message),e);try{return new Error(JSON.stringify(e))}catch(t){return new Error(`Couldn't normalize error ${String(e)}: ${t}`)}}return new Error(`Can't normalize error ${String(e)}`)}var _N=yN;let $N=class{constructor(t={}){_e(this,"disposers",[]);_e(this,"format","{eventSource}#{eventName}:");_e(this,"formatters",{app:{"certificate-error":({args:t})=>this.arrayToObject(t.slice(1,4),["url","error","certificate"]),"child-process-gone":({args:t})=>t.length===1?t[0]:t,"render-process-gone":({args:[t,r]})=>r&&typeof r=="object"?{...r,...this.getWebContentsDetails(t)}:[]},webContents:{"console-message":({args:[t,r,n,i]})=>{if(!(t<3))return{message:r,source:`${i}:${n}`}},"did-fail-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"did-fail-provisional-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"plugin-crashed":({args:t})=>this.arrayToObject(t,["name","version"]),"preload-error":({args:t})=>this.arrayToObject(t,["preloadPath","error"])}});_e(this,"events",{app:{"certificate-error":!0,"child-process-gone":!0,"render-process-gone":!0},webContents:{"did-fail-load":!0,"did-fail-provisional-load":!0,"plugin-crashed":!0,"preload-error":!0,unresponsive:!0}});_e(this,"externalApi");_e(this,"level","error");_e(this,"scope","");this.setOptions(t)}setOptions({events:t,externalApi:r,level:n,logger:i,format:s,formatters:o,scope:a}){typeof t=="object"&&(this.events=t),typeof r=="object"&&(this.externalApi=r),typeof n=="string"&&(this.level=n),typeof i=="object"&&(this.logger=i),(typeof s=="string"||typeof s=="function")&&(this.format=s),typeof o=="object"&&(this.formatters=o),typeof a=="string"&&(this.scope=a)}startLogging(t={}){this.setOptions(t),this.disposeListeners();for(const r of this.getEventNames(this.events.app))this.disposers.push(this.externalApi.onAppEvent(r,(...n)=>{this.handleEvent({eventSource:"app",eventName:r,handlerArgs:n})}));for(const r of this.getEventNames(this.events.webContents))this.disposers.push(this.externalApi.onEveryWebContentsEvent(r,(...n)=>{this.handleEvent({eventSource:"webContents",eventName:r,handlerArgs:n})}))}stopLogging(){this.disposeListeners()}arrayToObject(t,r){const n={};return r.forEach((i,s)=>{n[i]=t[s]}),t.length>r.length&&(n.unknownArgs=t.slice(r.length)),n}disposeListeners(){this.disposers.forEach(t=>t()),this.disposers=[]}formatEventLog({eventName:t,eventSource:r,handlerArgs:n}){var u;const[i,...s]=n;if(typeof this.format=="function")return this.format({args:s,event:i,eventName:t,eventSource:r});const o=(u=this.formatters[r])==null?void 0:u[t];let a=s;if(typeof o=="function"&&(a=o({args:s,event:i,eventName:t,eventSource:r})),!a)return;const c={};return Array.isArray(a)?c.args=a:typeof a=="object"&&Object.assign(c,a),r==="webContents"&&Object.assign(c,this.getWebContentsDetails(i==null?void 0:i.sender)),[this.format.replace("{eventSource}",r==="app"?"App":"WebContents").replace("{eventName}",t),c]}getEventNames(t){return!t||typeof t!="object"?[]:Object.entries(t).filter(([r,n])=>n).map(([r])=>r)}getWebContentsDetails(t){if(!(t!=null&&t.loadURL))return{};try{return{webContents:{id:t.id,url:t.getURL()}}}catch{return{}}}handleEvent({eventName:t,eventSource:r,handlerArgs:n}){var s;const i=this.formatEventLog({eventName:t,eventSource:r,handlerArgs:n});if(i){const o=this.scope?this.logger.scope(this.scope):this.logger;(s=o==null?void 0:o[this.level])==null||s.call(o,...i)}}};var EN=$N,Po={transform:wN};function wN({logger:e,message:t,transport:r,initialData:n=(t==null?void 0:t.data)||[],transforms:i=r==null?void 0:r.transforms}){return i.reduce((s,o)=>typeof o=="function"?o({data:s,logger:e,message:t,transport:r}):s,n)}const{transform:SN}=Po;var Ay={concatFirstStringElements:bN,formatScope:Gh,formatText:Kh,formatVariables:Wh,timeZoneFromOffset:Cy,format({message:e,logger:t,transport:r,data:n=e==null?void 0:e.data}){switch(typeof r.format){case"string":return SN({message:e,logger:t,transforms:[Wh,Gh,Kh],transport:r,initialData:[r.format,...n]});case"function":return r.format({data:n,level:(e==null?void 0:e.level)||"info",logger:t,message:e,transport:r});default:return n}}};function bN({data:e}){return typeof e[0]!="string"||typeof e[1]!="string"||e[0].match(/%[1cdfiOos]/)?e:[`${e[0]} ${e[1]}`,...e.slice(2)]}function Cy(e){const t=Math.abs(e),r=e>=0?"-":"+",n=Math.floor(t/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return`${r}${n}:${i}`}function Gh({data:e,logger:t,message:r}){const{defaultLabel:n,labelLength:i}=(t==null?void 0:t.scope)||{},s=e[0];let o=r.scope;o||(o=n);let a;return o===""?a=i>0?"".padEnd(i+3):"":typeof o=="string"?a=` (${o})`.padEnd(i+3):a="",e[0]=s.replace("{scope}",a),e}function Wh({data:e,message:t}){let r=e[0];if(typeof r!="string")return e;r=r.replace("{level}]",`${t.level}]`.padEnd(6," "));const n=t.date||new Date;return e[0]=r.replace(/\{(\w+)}/g,(i,s)=>{var o;switch(s){case"level":return t.level||"info";case"logId":return t.logId;case"y":return n.getFullYear().toString(10);case"m":return(n.getMonth()+1).toString(10).padStart(2,"0");case"d":return n.getDate().toString(10).padStart(2,"0");case"h":return n.getHours().toString(10).padStart(2,"0");case"i":return n.getMinutes().toString(10).padStart(2,"0");case"s":return n.getSeconds().toString(10).padStart(2,"0");case"ms":return n.getMilliseconds().toString(10).padStart(3,"0");case"z":return Cy(n.getTimezoneOffset());case"iso":return n.toISOString();default:return((o=t.variables)==null?void 0:o[s])||i}}).trim(),e}function Kh({data:e}){const t=e[0];if(typeof t!="string")return e;if(t.lastIndexOf("{text}")===t.length-6)return e[0]=t.replace(/\s?{text}/,""),e[0]===""&&e.shift(),e;const n=t.split("{text}");let i=[];return n[0]!==""&&i.push(n[0]),i=i.concat(e.slice(1)),n[1]!==""&&i.push(n[1]),i}var Ny={exports:{}};(function(e){const t=Zi;e.exports={serialize:n,maxDepth({data:i,transport:s,depth:o=(s==null?void 0:s.depth)??6}){if(!i)return i;if(o<1)return Array.isArray(i)?"[array]":typeof i=="object"&&i?"[object]":i;if(Array.isArray(i))return i.map(c=>e.exports.maxDepth({data:c,depth:o-1}));if(typeof i!="object"||i&&typeof i.toISOString=="function")return i;if(i===null)return null;if(i instanceof Error)return i;const a={};for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&(a[c]=e.exports.maxDepth({data:i[c],depth:o-1}));return a},toJSON({data:i}){return JSON.parse(JSON.stringify(i,r()))},toString({data:i,transport:s}){const o=(s==null?void 0:s.inspectOptions)||{},a=i.map(c=>{if(c!==void 0)try{const l=JSON.stringify(c,r(),"  ");return l===void 0?void 0:JSON.parse(l)}catch{return c}});return t.formatWithOptions(o,...a)}};function r(i={}){const s=new WeakSet;return function(o,a){if(typeof a=="object"&&a!==null){if(s.has(a))return;s.add(a)}return n(o,a,i)}}function n(i,s,o={}){const a=(o==null?void 0:o.serializeMapAndSet)!==!1;return s instanceof Error?s.stack:s&&(typeof s=="function"?`[function] ${s.toString()}`:s instanceof Date?s.toISOString():a&&s instanceof Map&&Object.fromEntries?Object.fromEntries(s):a&&s instanceof Set&&Array.from?Array.from(s):s)}})(Ny);var fc=Ny.exports,ed={transformStyles:tl,applyAnsiStyles({data:e}){return tl(e,PN,ON)},removeStyles({data:e}){return tl(e,()=>"")}};const Ry={unset:"\x1B[0m",black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"};function PN(e){const t=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return Ry[t]||""}function ON(e){return e+Ry.unset}function tl(e,t,r){const n={};return e.reduce((i,s,o,a)=>{if(n[o])return i;if(typeof s=="string"){let c=o,l=!1;s=s.replace(/%[1cdfiOos]/g,u=>{if(c+=1,u!=="%c")return u;const f=a[c];return typeof f=="string"?(n[c]=!0,l=!0,t(f,s)):u}),l&&r&&(s=r(s))}return i.push(s),i},[])}const{concatFirstStringElements:TN,format:AN}=Ay,{maxDepth:CN,toJSON:NN}=fc,{applyAnsiStyles:RN,removeStyles:IN}=ed,{transform:DN}=Po,Yh={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};var FN=Iy;const kN=process.platform==="win32"?">":"›",td=`%c{h}:{i}:{s}.{ms}{scope}%c ${kN} {text}`;Object.assign(Iy,{DEFAULT_FORMAT:td});function Iy(e){return Object.assign(t,{format:td,level:"silly",transforms:[LN,AN,MN,TN,CN,NN],useStyles:process.env.FORCE_STYLES,writeFn({message:r}){(Yh[r.level]||Yh.info)(...r.data)}});function t(r){const n=DN({logger:e,message:r,transport:t});t.writeFn({message:{...r,data:n}})}}function LN({data:e,message:t,transport:r}){return r.format!==td?e:[`color:${UN(t.level)}`,"color:unset",...e]}function jN(e,t){if(typeof e=="boolean")return e;const n=t==="error"||t==="warn"?process.stderr:process.stdout;return n&&n.isTTY}function MN(e){const{message:t,transport:r}=e;return(jN(r.useStyles,t.level)?RN:IN)(e)}function UN(e){const t={error:"red",warn:"yellow",info:"cyan",default:"unset"};return t[e]||t.default}const xN=Qi,vn=ct,Jh=Tn;let qN=class extends xN{constructor({path:r,writeOptions:n={encoding:"utf8",flag:"a",mode:438},writeAsync:i=!1}){super();_e(this,"asyncWriteQueue",[]);_e(this,"bytesWritten",0);_e(this,"hasActiveAsyncWriting",!1);_e(this,"path",null);_e(this,"initialSize");_e(this,"writeOptions",null);_e(this,"writeAsync",!1);this.path=r,this.writeOptions=n,this.writeAsync=i}get size(){return this.getSize()}clear(){try{return vn.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(r){return r.code==="ENOENT"?!0:(this.emit("error",r,this),!1)}}crop(r){try{const n=VN(this.path,r||4096);this.clear(),this.writeLine(`[log cropped]${Jh.EOL}${n}`)}catch(n){this.emit("error",new Error(`Couldn't crop file ${this.path}. ${n.message}`),this)}}getSize(){if(this.initialSize===void 0)try{const r=vn.statSync(this.path);this.initialSize=r.size}catch{this.initialSize=0}return this.initialSize+this.bytesWritten}increaseBytesWrittenCounter(r){this.bytesWritten+=Buffer.byteLength(r,this.writeOptions.encoding)}isNull(){return!1}nextAsyncWrite(){const r=this;if(this.hasActiveAsyncWriting||this.asyncWriteQueue.length===0)return;const n=this.asyncWriteQueue.join("");this.asyncWriteQueue=[],this.hasActiveAsyncWriting=!0,vn.writeFile(this.path,n,this.writeOptions,i=>{r.hasActiveAsyncWriting=!1,i?r.emit("error",new Error(`Couldn't write to ${r.path}. ${i.message}`),this):r.increaseBytesWrittenCounter(n),r.nextAsyncWrite()})}reset(){this.initialSize=void 0,this.bytesWritten=0}toString(){return this.path}writeLine(r){if(r+=Jh.EOL,this.writeAsync){this.asyncWriteQueue.push(r),this.nextAsyncWrite();return}try{vn.writeFileSync(this.path,r,this.writeOptions),this.increaseBytesWrittenCounter(r)}catch(n){this.emit("error",new Error(`Couldn't write to ${this.path}. ${n.message}`),this)}}};var Dy=qN;function VN(e,t){const r=Buffer.alloc(t),n=vn.statSync(e),i=Math.min(n.size,t),s=Math.max(0,n.size-t),o=vn.openSync(e,"r"),a=vn.readSync(o,r,0,i,s);return vn.closeSync(o),r.toString("utf8",0,a)}const BN=Dy;let zN=class extends BN{clear(){}crop(){}getSize(){return 0}isNull(){return!0}writeLine(){}};var HN=zN;const GN=Qi,Xh=ct,Qh=we,WN=Dy,KN=HN;let YN=class extends GN{constructor(){super();_e(this,"store",{});this.emitError=this.emitError.bind(this)}provide({filePath:r,writeOptions:n,writeAsync:i=!1}){let s;try{if(r=Qh.resolve(r),this.store[r])return this.store[r];s=this.createFile({filePath:r,writeOptions:n,writeAsync:i})}catch(o){s=new KN({path:r}),this.emitError(o,s)}return s.on("error",this.emitError),this.store[r]=s,s}createFile({filePath:r,writeOptions:n,writeAsync:i}){return this.testFileWriting(r),new WN({path:r,writeOptions:n,writeAsync:i})}emitError(r,n){this.emit("error",r,n)}testFileWriting(r){Xh.mkdirSync(Qh.dirname(r),{recursive:!0}),Xh.writeFileSync(r,"",{flag:"a"})}};var JN=YN;const rl=ct,XN=Tn,bs=we,QN=JN,{transform:ZN}=Po,{removeStyles:eR}=ed,{format:tR}=Ay,{toString:rR}=fc;var nR=sR;const iR=new QN;function sR(e,{registry:t=iR,externalApi:r}={}){let n;return t.listenerCount("error")<1&&t.on("error",(l,u)=>{o(`Can't write to ${u}`,l)}),Object.assign(i,{fileName:oR(e.variables.processType),format:"[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",getFile:a,inspectOptions:{depth:5},level:"silly",maxSize:1024**2,readAllLogs:c,sync:!0,transforms:[eR,tR,rR],writeOptions:{flag:"a",mode:438,encoding:"utf8"},archiveLogFn(l){const u=l.toString(),f=bs.parse(u);try{rl.renameSync(u,bs.join(f.dir,`${f.name}.old${f.ext}`))}catch(h){o("Could not rotate log",h);const m=Math.round(i.maxSize/4);l.crop(Math.min(m,256*1024))}},resolvePathFn(l){return bs.join(l.libraryDefaultDir,l.fileName)}});function i(l){const u=a(l);i.maxSize>0&&u.size>i.maxSize&&(i.archiveLogFn(u),u.reset());const h=ZN({logger:e,message:l,transport:i});u.writeLine(h)}function s(){n||(n=Object.create(Object.prototype,{...Object.getOwnPropertyDescriptors(r.getPathVariables()),fileName:{get(){return i.fileName},enumerable:!0}}),typeof i.archiveLog=="function"&&(i.archiveLogFn=i.archiveLog,o("archiveLog is deprecated. Use archiveLogFn instead")),typeof i.resolvePath=="function"&&(i.resolvePathFn=i.resolvePath,o("resolvePath is deprecated. Use resolvePathFn instead")))}function o(l,u=null,f="error"){const h=[`electron-log.transports.file: ${l}`];u&&h.push(u),e.transports.console({data:h,date:new Date,level:f})}function a(l){s();const u=i.resolvePathFn(n,l);return t.provide({filePath:u,writeAsync:!i.sync,writeOptions:i.writeOptions})}function c({fileFilter:l=u=>u.endsWith(".log")}={}){const u=bs.dirname(i.resolvePathFn(n));return rl.readdirSync(u).map(f=>bs.join(u,f)).filter(l).map(f=>{try{return{path:f,lines:rl.readFileSync(f,"utf8").split(XN.EOL)}}catch{return null}}).filter(Boolean)}}function oR(e=process.type){switch(e){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}const{maxDepth:aR,toJSON:cR}=fc,{transform:lR}=Po;var uR=fR;function fR(e,{externalApi:t}){return Object.assign(r,{depth:3,eventId:"__ELECTRON_LOG_IPC__",level:e.isDev?"silly":!1,transforms:[cR,aR]}),t!=null&&t.isElectron()?r:void 0;function r(n){t==null||t.sendIpc(r.eventId,{...n,data:lR({logger:e,message:n,transport:r})})}}const dR=Cm,hR=Kv,{transform:pR}=Po,{removeStyles:mR}=ed,{toJSON:gR,maxDepth:yR}=fc;var vR=_R;function _R(e){return Object.assign(t,{client:{name:"electron-application"},depth:6,level:!1,requestOptions:{},transforms:[mR,gR,yR],makeBodyFn({message:r}){return JSON.stringify({client:t.client,data:r.data,date:r.date.getTime(),level:r.level,scope:r.scope,variables:r.variables})},processErrorFn({error:r}){e.processMessage({data:[`electron-log: can't POST ${t.url}`,r],level:"warn"},{transports:["console","file"]})},sendRequestFn({serverUrl:r,requestOptions:n,body:i}){const o=(r.startsWith("https:")?hR:dR).request(r,{method:"POST",...n,headers:{"Content-Type":"application/json","Content-Length":i.length,...n.headers}});return o.write(i),o.end(),o}});function t(r){if(!t.url)return;const n=t.makeBodyFn({logger:e,message:{...r,data:pR({logger:e,message:r,transport:t})},transport:t}),i=t.sendRequestFn({serverUrl:t.url,requestOptions:t.requestOptions,body:Buffer.from(n,"utf8")});i.on("error",s=>t.processErrorFn({error:s,logger:e,message:r,request:i,transport:t}))}}const Zh=gN,$R=_N,ER=EN,wR=FN,SR=nR,bR=uR,PR=vR;var OR=TR;function TR({dependencies:e,initializeFn:t}){var n;const r=new Zh({dependencies:e,errorHandler:new $R,eventLogger:new ER,initializeFn:t,isDev:(n=e.externalApi)==null?void 0:n.isDev(),logId:"default",transportFactories:{console:wR,file:SR,ipc:bR,remote:PR},variables:{processType:"main"}});return r.default=r,r.Logger=Zh,r.processInternalErrorFn=i=>{r.transports.console.writeFn({message:{data:["Unhandled electron-log error",i],level:"error"}})},r}const AR=he,CR=sN,{initialize:NR}=lN,RR=OR,rd=new CR({electron:AR}),dc=RR({dependencies:{externalApi:rd},initializeFn:NR});var IR=dc;rd.onIpc("__ELECTRON_LOG__",(e,t)=>{t.scope&&dc.Logger.getInstance(t).scope(t.scope);const r=new Date(t.date);Fy({...t,date:r.getTime()?r:new Date})});rd.onIpcInvoke("__ELECTRON_LOG__",(e,{cmd:t="",logId:r})=>{switch(t){case"getOptions":return{levels:dc.Logger.getInstance({logId:r}).levels,logId:r};default:return Fy({data:[`Unknown cmd '${t}'`],level:"error"}),{}}});function Fy(e){var t;(t=dc.Logger.getInstance(e))==null||t.processMessage(e)}const DR=IR;var FR=DR;const Ps=Rm(FR);var nl={},il={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.CancellationError=oi.CancellationToken=void 0;const kR=Qi;class LR extends kR.EventEmitter{get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new Gl);const r=()=>{if(n!=null)try{this.removeListener("cancel",n),n=null}catch{}};let n=null;return new Promise((i,s)=>{let o=null;if(n=()=>{try{o!=null&&(o(),o=null)}finally{s(new Gl)}},this.cancelled){n();return}this.onCancel(n),t(i,s,a=>{o=a})}).then(i=>(r(),i)).catch(i=>{throw r(),i})}removeParentCancelHandler(){const t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}oi.CancellationToken=LR;class Gl extends Error{constructor(){super("cancelled")}}oi.CancellationError=Gl;var He={},Wl={exports:{}},sa={exports:{}},sl,ep;function jR(){if(ep)return sl;ep=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;sl=function(u,f){f=f||{};var h=typeof u;if(h==="string"&&u.length>0)return o(u);if(h==="number"&&isFinite(u))return f.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var h=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(u){var f=Math.abs(u);return f>=n?Math.round(u/n)+"d":f>=r?Math.round(u/r)+"h":f>=t?Math.round(u/t)+"m":f>=e?Math.round(u/e)+"s":u+"ms"}function c(u){var f=Math.abs(u);return f>=n?l(u,f,n,"day"):f>=r?l(u,f,r,"hour"):f>=t?l(u,f,t,"minute"):f>=e?l(u,f,e,"second"):u+" ms"}function l(u,f,h,m){var y=f>=h*1.5;return Math.round(u/h)+" "+m+(y?"s":"")}return sl}var ol,tp;function ky(){if(tp)return ol;tp=1;function e(t){n.debug=n,n.default=n,n.coerce=l,n.disable=o,n.enable=s,n.enabled=a,n.humanize=jR(),n.destroy=u,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let h=0;for(let m=0;m<f.length;m++)h=(h<<5)-h+f.charCodeAt(m),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=r;function n(f){let h,m=null,y,E;function v(...g){if(!v.enabled)return;const p=v,S=Number(new Date),N=S-(h||S);p.diff=N,p.prev=h,p.curr=S,h=S,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let M=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(b,D)=>{if(b==="%%")return"%";M++;const O=n.formatters[D];if(typeof O=="function"){const V=g[M];b=O.call(p,V),g.splice(M,1),M--}return b}),n.formatArgs.call(p,g),(p.log||n.log).apply(p,g)}return v.namespace=f,v.useColors=n.useColors(),v.color=n.selectColor(f),v.extend=i,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(y!==n.namespaces&&(y=n.namespaces,E=n.enabled(f)),E),set:g=>{m=g}}),typeof n.init=="function"&&n.init(v),v}function i(f,h){const m=n(this.namespace+(typeof h>"u"?":":h)+f);return m.log=this.log,m}function s(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let h;const m=(typeof f=="string"?f:"").split(/[\s,]+/),y=m.length;for(h=0;h<y;h++)m[h]&&(f=m[h].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.slice(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function o(){const f=[...n.names.map(c),...n.skips.map(c).map(h=>"-"+h)].join(",");return n.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let h,m;for(h=0,m=n.skips.length;h<m;h++)if(n.skips[h].test(f))return!1;for(h=0,m=n.names.length;h<m;h++)if(n.names[h].test(f))return!0;return!1}function c(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function l(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return ol=e,ol}var rp;function MR(){return rp||(rp=1,function(e,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=o(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let u=0,f=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(f=u))}),c.splice(f,0,l)}t.log=console.debug||console.log||(()=>{});function i(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function s(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function o(){try{return localStorage}catch{}}e.exports=ky()(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}(sa,sa.exports)),sa.exports}var oa={exports:{}},al,np;function UR(){return np||(np=1,al=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}),al}var cl,ip;function xR(){if(ip)return cl;ip=1;const e=Tn,t=UR(),r=process.env;let n;t("no-color")||t("no-colors")||t("color=false")?n=!1:(t("color")||t("colors")||t("color=true")||t("color=always"))&&(n=!0),"FORCE_COLOR"in r&&(n=r.FORCE_COLOR.length===0||parseInt(r.FORCE_COLOR,10)!==0);function i(a){return a===0?!1:{level:a,hasBasic:!0,has256:a>=2,has16m:a>=3}}function s(a){if(n===!1)return 0;if(t("color=16m")||t("color=full")||t("color=truecolor"))return 3;if(t("color=256"))return 2;if(a&&!a.isTTY&&n!==!0)return 0;const c=n?1:0;if(process.platform==="win32"){const l=e.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(l=>l in r)||r.CI_NAME==="codeship"?1:c;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if(r.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in r){const l=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:(r.TERM==="dumb",c)}function o(a){const c=s(a);return i(c)}return cl={supportsColor:o,stdout:o(process.stdout),stderr:o(process.stderr)},cl}var sp;function qR(){return sp||(sp=1,function(e,t){const r=Yv,n=Zi;t.init=u,t.log=a,t.formatArgs=s,t.save=c,t.load=l,t.useColors=i,t.destroy=n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const h=xR();h&&(h.stderr||h).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(process.env).filter(h=>/^debug_/i.test(h)).reduce((h,m)=>{const y=m.substring(6).toLowerCase().replace(/_([a-z])/g,(v,g)=>g.toUpperCase());let E=process.env[m];return/^(yes|on|true|enabled)$/i.test(E)?E=!0:/^(no|off|false|disabled)$/i.test(E)?E=!1:E==="null"?E=null:E=Number(E),h[y]=E,h},{});function i(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:r.isatty(process.stderr.fd)}function s(h){const{namespace:m,useColors:y}=this;if(y){const E=this.color,v="\x1B[3"+(E<8?E:"8;5;"+E),g=`  ${v};1m${m} \x1B[0m`;h[0]=g+h[0].split(`
`).join(`
`+g),h.push(v+"m+"+e.exports.humanize(this.diff)+"\x1B[0m")}else h[0]=o()+m+" "+h[0]}function o(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function a(...h){return process.stderr.write(n.format(...h)+`
`)}function c(h){h?process.env.DEBUG=h:delete process.env.DEBUG}function l(){return process.env.DEBUG}function u(h){h.inspectOpts={};const m=Object.keys(t.inspectOpts);for(let y=0;y<m.length;y++)h.inspectOpts[m[y]]=t.inspectOpts[m[y]]}e.exports=ky()(t);const{formatters:f}=e.exports;f.o=function(h){return this.inspectOpts.colors=this.useColors,n.inspect(h,this.inspectOpts).split(`
`).map(m=>m.trim()).join(" ")},f.O=function(h){return this.inspectOpts.colors=this.useColors,n.inspect(h,this.inspectOpts)}}(oa,oa.exports)),oa.exports}typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Wl.exports=MR():Wl.exports=qR();var VR=Wl.exports,Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.ProgressCallbackTransform=void 0;const BR=ho;class zR extends BR.Transform{constructor(t,r,n){super(),this.total=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}}Oo.ProgressCallbackTransform=zR;var op;function HR(){if(op)return He;op=1,Object.defineProperty(He,"__esModule",{value:!0}),He.safeStringifyJson=He.configureRequestOptions=He.safeGetHeader=He.DigestTransform=He.configureRequestUrl=He.configureRequestOptionsFromUrl=He.HttpExecutor=He.parseJson=He.HttpError=He.createHttpError=void 0;const e=es,t=VR,r=ct,n=ho,i=ts,s=oi,o=st(),a=Oo,c=(0,t.default)("electron-builder");function l(T,b=null){return new f(T.statusCode||-1,`${T.statusCode} ${T.statusMessage}`+(b==null?"":`
`+JSON.stringify(b,null,"  "))+`
Headers: `+M(T.headers),b)}He.createHttpError=l;const u=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class f extends Error{constructor(b,D=`HTTP error: ${u.get(b)||b}`,O=null){super(D),this.statusCode=b,this.description=O,this.name="HttpError",this.code=`HTTP_ERROR_${b}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}He.HttpError=f;function h(T){return T.then(b=>b==null||b.length===0?null:JSON.parse(b))}He.parseJson=h;class m{constructor(){this.maxRedirects=10}request(b,D=new s.CancellationToken,O){N(b);const V=O==null?void 0:JSON.stringify(O),Y=V?Buffer.from(V):void 0;if(Y!=null){c(V);const{headers:H,...W}=b;b={method:"post",headers:{"Content-Type":"application/json","Content-Length":Y.length,...H},...W}}return this.doApiRequest(b,D,H=>H.end(Y))}doApiRequest(b,D,O,V=0){return c.enabled&&c(`Request: ${M(b)}`),D.createPromise((Y,H,W)=>{const G=this.createRequest(b,Q=>{try{this.handleResponse(Q,b,D,Y,H,V,O)}catch(Z){H(Z)}});this.addErrorAndTimeoutHandlers(G,H,b.timeout),this.addRedirectHandlers(G,b,H,V,Q=>{this.doApiRequest(Q,D,O,V).then(Y).catch(H)}),O(G,H),W(()=>G.abort())})}addRedirectHandlers(b,D,O,V,Y){}addErrorAndTimeoutHandlers(b,D,O=60*1e3){this.addTimeOutHandler(b,D,O),b.on("error",D),b.on("aborted",()=>{D(new Error("Request has been aborted by the server"))})}handleResponse(b,D,O,V,Y,H,W){var G;if(c.enabled&&c(`Response: ${b.statusCode} ${b.statusMessage}, request options: ${M(D)}`),b.statusCode===404){Y(l(b,`method: ${D.method||"GET"} url: ${D.protocol||"https:"}//${D.hostname}${D.port?`:${D.port}`:""}${D.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(b.statusCode===204){V();return}const Q=(G=b.statusCode)!==null&&G!==void 0?G:0,Z=Q>=300&&Q<400,K=p(b,"location");if(Z&&K!=null){if(H>this.maxRedirects){Y(this.createMaxRedirectError());return}this.doApiRequest(m.prepareRedirectUrlOptions(K,D),O,W,H).then(V).catch(Y);return}b.setEncoding("utf8");let I="";b.on("error",Y),b.on("data",j=>I+=j),b.on("end",()=>{try{if(b.statusCode!=null&&b.statusCode>=400){const j=p(b,"content-type"),A=j!=null&&(Array.isArray(j)?j.find(w=>w.includes("json"))!=null:j.includes("json"));Y(l(b,`method: ${D.method||"GET"} url: ${D.protocol||"https:"}//${D.hostname}${D.port?`:${D.port}`:""}${D.path}

          Data:
          ${A?JSON.stringify(JSON.parse(I)):I}
          `))}else V(I.length===0?null:I)}catch(j){Y(j)}})}async downloadToBuffer(b,D){return await D.cancellationToken.createPromise((O,V,Y)=>{const H=[],W={headers:D.headers||void 0,redirect:"manual"};E(b,W),N(W),this.doDownload(W,{destination:null,options:D,onCancel:Y,callback:G=>{G==null?O(Buffer.concat(H)):V(G)},responseHandler:(G,Q)=>{let Z=0;G.on("data",K=>{if(Z+=K.length,Z>524288e3){Q(new Error("Maximum allowed size is 500 MB"));return}H.push(K)}),G.on("end",()=>{Q(null)})}},0)})}doDownload(b,D,O){const V=this.createRequest(b,Y=>{if(Y.statusCode>=400){D.callback(new Error(`Cannot download "${b.protocol||"https:"}//${b.hostname}${b.path}", status ${Y.statusCode}: ${Y.statusMessage}`));return}Y.on("error",D.callback);const H=p(Y,"location");if(H!=null){O<this.maxRedirects?this.doDownload(m.prepareRedirectUrlOptions(H,b),D,O++):D.callback(this.createMaxRedirectError());return}D.responseHandler==null?S(D,Y):D.responseHandler(Y,D.callback)});this.addErrorAndTimeoutHandlers(V,D.callback,b.timeout),this.addRedirectHandlers(V,b,D.callback,O,Y=>{this.doDownload(Y,D,O++)}),V.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(b,D,O){b.on("socket",V=>{V.setTimeout(O,()=>{b.abort(),D(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(b,D){const O=y(b,{...D}),V=O.headers;if(V!=null&&V.authorization){const Y=new i.URL(b);(Y.hostname.endsWith(".amazonaws.com")||Y.searchParams.has("X-Amz-Credential"))&&delete V.authorization}return O}static retryOnServerError(b,D=3){for(let O=0;;O++)try{return b()}catch(V){if(O<D&&(V instanceof f&&V.isServerError()||V.code==="EPIPE"))continue;throw V}}}He.HttpExecutor=m;function y(T,b){const D=N(b);return E(new i.URL(T),D),D}He.configureRequestOptionsFromUrl=y;function E(T,b){b.protocol=T.protocol,b.hostname=T.hostname,T.port?b.port=T.port:b.port&&delete b.port,b.path=T.pathname+T.search}He.configureRequestUrl=E;class v extends n.Transform{get actual(){return this._actual}constructor(b,D="sha512",O="base64"){super(),this.expected=b,this.algorithm=D,this.encoding=O,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,e.createHash)(D)}_transform(b,D,O){this.digester.update(b),O(null,b)}_flush(b){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(D){b(D);return}b(null)}validate(){if(this._actual==null)throw(0,o.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,o.newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}He.DigestTransform=v;function g(T,b,D){return T!=null&&b!=null&&T!==b?(D(new Error(`checksum mismatch: expected ${b} but got ${T} (X-Checksum-Sha2 header)`)),!1):!0}function p(T,b){const D=T.headers[b];return D==null?null:Array.isArray(D)?D.length===0?null:D[D.length-1]:D}He.safeGetHeader=p;function S(T,b){if(!g(p(b,"X-Checksum-Sha2"),T.options.sha2,T.callback))return;const D=[];if(T.options.onProgress!=null){const H=p(b,"content-length");H!=null&&D.push(new a.ProgressCallbackTransform(parseInt(H,10),T.options.cancellationToken,T.options.onProgress))}const O=T.options.sha512;O!=null?D.push(new v(O,"sha512",O.length===128&&!O.includes("+")&&!O.includes("Z")&&!O.includes("=")?"hex":"base64")):T.options.sha2!=null&&D.push(new v(T.options.sha2,"sha256","hex"));const V=(0,r.createWriteStream)(T.destination);D.push(V);let Y=b;for(const H of D)H.on("error",W=>{V.close(),T.options.cancellationToken.cancelled||T.callback(W)}),Y=Y.pipe(H);V.on("finish",()=>{V.close(T.callback)})}function N(T,b,D){D!=null&&(T.method=D),T.headers={...T.headers};const O=T.headers;return b!=null&&(O.authorization=b.startsWith("Basic")||b.startsWith("Bearer")?b:`token ${b}`),O["User-Agent"]==null&&(O["User-Agent"]="electron-builder"),(D==null||D==="GET"||O["Cache-Control"]==null)&&(O["Cache-Control"]="no-cache"),T.protocol==null&&process.versions.electron!=null&&(T.protocol="https:"),T}He.configureRequestOptions=N;function M(T,b){return JSON.stringify(T,(D,O)=>D.endsWith("Authorization")||D.endsWith("authorization")||D.endsWith("Password")||D.endsWith("PASSWORD")||D.endsWith("Token")||D.includes("password")||D.includes("token")||b!=null&&b.has(D)?"<stripped sensitive data>":O,2)}return He.safeStringifyJson=M,He}var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.getS3LikeProviderBaseUrl=Hi.githubUrl=void 0;function GR(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`}Hi.githubUrl=GR;function WR(e){const t=e.provider;if(t==="s3")return KR(e);if(t==="spaces")return YR(e);throw new Error(`Not supported provider: ${t}`)}Hi.getS3LikeProviderBaseUrl=WR;function KR(e){let t;if(e.accelerate==!0)t=`https://${e.bucket}.s3-accelerate.amazonaws.com`;else if(e.endpoint!=null)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(e.region==null)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);e.region==="us-east-1"?t=`https://s3.amazonaws.com/${e.bucket}`:t=`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else e.region==="cn-north-1"?t=`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:t=`https://${e.bucket}.s3.amazonaws.com`;return Ly(t,e.path)}function Ly(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function YR(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return Ly(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}var hc={};Object.defineProperty(hc,"__esModule",{value:!0});hc.parseDn=void 0;function JR(e){let t=!1,r=null,n="",i=0;e=e.trim();const s=new Map;for(let o=0;o<=e.length;o++){if(o===e.length){r!==null&&s.set(r,n);break}const a=e[o];if(t){if(a==='"'){t=!1;continue}}else{if(a==='"'){t=!0;continue}if(a==="\\"){o++;const c=parseInt(e.slice(o,o+2),16);Number.isNaN(c)?n+=e[o]:(o++,n+=String.fromCharCode(c));continue}if(r===null&&a==="="){r=n,n="";continue}if(a===","||a===";"||a==="+"){r!==null&&s.set(r,n),r=null,n="";continue}}if(a===" "&&!t){if(n.length===0)continue;if(o>i){let c=o;for(;e[c]===" ";)c++;i=c}if(i>=e.length||e[i]===","||e[i]===";"||r===null&&e[i]==="="||r!==null&&e[i]==="+"){o=i-1;continue}}n+=a}return s}hc.parseDn=JR;var jn={},ap;function XR(){if(ap)return jn;ap=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.nil=jn.UUID=void 0;const e=es,t=st(),r="options.name must be either a string or a Buffer",n=(0,e.randomBytes)(16);n[0]=n[0]|1;const i={},s=[];for(let f=0;f<256;f++){const h=(f+256).toString(16).substr(1);i[h]=f,s[f]=h}class o{constructor(h){this.ascii=null,this.binary=null;const m=o.check(h);if(!m)throw new Error("not a UUID");this.version=m.version,m.format==="ascii"?this.ascii=h:this.binary=h}static v5(h,m){return l(h,"sha1",80,m)}toString(){return this.ascii==null&&(this.ascii=u(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(h,m=0){if(typeof h=="string")return h=h.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(h)?h==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(i[h[14]+h[15]]&240)>>4,variant:a((i[h[19]+h[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(h)){if(h.length<m+16)return!1;let y=0;for(;y<16&&h[m+y]===0;y++);return y===16?{version:void 0,variant:"nil",format:"binary"}:{version:(h[m+6]&240)>>4,variant:a((h[m+8]&224)>>5),format:"binary"}}throw(0,t.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(h){const m=Buffer.allocUnsafe(16);let y=0;for(let E=0;E<16;E++)m[E]=i[h[y++]+h[y++]],(E===3||E===5||E===7||E===9)&&(y+=1);return m}}jn.UUID=o,o.OID=o.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function a(f){switch(f){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var c;(function(f){f[f.ASCII=0]="ASCII",f[f.BINARY=1]="BINARY",f[f.OBJECT=2]="OBJECT"})(c||(c={}));function l(f,h,m,y,E=c.ASCII){const v=(0,e.createHash)(h);if(typeof f!="string"&&!Buffer.isBuffer(f))throw(0,t.newError)(r,"ERR_INVALID_UUID_NAME");v.update(y),v.update(f);const p=v.digest();let S;switch(E){case c.BINARY:p[6]=p[6]&15|m,p[8]=p[8]&63|128,S=p;break;case c.OBJECT:p[6]=p[6]&15|m,p[8]=p[8]&63|128,S=new o(p);break;default:S=s[p[0]]+s[p[1]]+s[p[2]]+s[p[3]]+"-"+s[p[4]]+s[p[5]]+"-"+s[p[6]&15|m]+s[p[7]]+"-"+s[p[8]&63|128]+s[p[9]]+"-"+s[p[10]]+s[p[11]]+s[p[12]]+s[p[13]]+s[p[14]]+s[p[15]];break}return S}function u(f){return s[f[0]]+s[f[1]]+s[f[2]]+s[f[3]]+"-"+s[f[4]]+s[f[5]]+"-"+s[f[6]]+s[f[7]]+"-"+s[f[8]]+s[f[9]]+"-"+s[f[10]]+s[f[11]]+s[f[12]]+s[f[13]]+s[f[14]]+s[f[15]]}return jn.nil=new o("00000000-0000-0000-0000-000000000000"),jn}var Mn={},jy={};(function(e){(function(t){t.parser=function(P,_){return new n(P,_)},t.SAXParser=n,t.SAXStream=u,t.createStream=l,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(P,_){if(!(this instanceof n))return new n(P,_);var z=this;s(z),z.q=z.c="",z.bufferCheckPosition=t.MAX_BUFFER_LENGTH,z.opt=_||{},z.opt.lowercase=z.opt.lowercase||z.opt.lowercasetags,z.looseCase=z.opt.lowercase?"toLowerCase":"toUpperCase",z.tags=[],z.closed=z.closedRoot=z.sawRoot=!1,z.tag=z.error=null,z.strict=!!P,z.noscript=!!(P||z.opt.noscript),z.state=O.BEGIN,z.strictEntities=z.opt.strictEntities,z.ENTITIES=z.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),z.attribList=[],z.opt.xmlns&&(z.ns=Object.create(E)),z.trackPosition=z.opt.position!==!1,z.trackPosition&&(z.position=z.line=z.column=0),Y(z,"onready")}Object.create||(Object.create=function(P){function _(){}_.prototype=P;var z=new _;return z}),Object.keys||(Object.keys=function(P){var _=[];for(var z in P)P.hasOwnProperty(z)&&_.push(z);return _});function i(P){for(var _=Math.max(t.MAX_BUFFER_LENGTH,10),z=0,U=0,te=r.length;U<te;U++){var fe=P[r[U]].length;if(fe>_)switch(r[U]){case"textNode":W(P);break;case"cdata":H(P,"oncdata",P.cdata),P.cdata="";break;case"script":H(P,"onscript",P.script),P.script="";break;default:Q(P,"Max buffer length exceeded: "+r[U])}z=Math.max(z,fe)}var Se=t.MAX_BUFFER_LENGTH-z;P.bufferCheckPosition=Se+P.position}function s(P){for(var _=0,z=r.length;_<z;_++)P[r[_]]=""}function o(P){W(P),P.cdata!==""&&(H(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(H(P,"onscript",P.script),P.script="")}n.prototype={end:function(){Z(this)},write:L,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=require("stream").Stream}catch{a=function(){}}a||(a=function(){});var c=t.EVENTS.filter(function(P){return P!=="error"&&P!=="end"});function l(P,_){return new u(P,_)}function u(P,_){if(!(this instanceof u))return new u(P,_);a.apply(this),this._parser=new n(P,_),this.writable=!0,this.readable=!0;var z=this;this._parser.onend=function(){z.emit("end")},this._parser.onerror=function(U){z.emit("error",U),z._parser.error=null},this._decoder=null,c.forEach(function(U){Object.defineProperty(z,"on"+U,{get:function(){return z._parser["on"+U]},set:function(te){if(!te)return z.removeAllListeners(U),z._parser["on"+U]=te,te;z.on(U,te)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(a.prototype,{constructor:{value:u}}),u.prototype.write=function(P){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(P)){if(!this._decoder){var _=Jv.StringDecoder;this._decoder=new _("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},u.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},u.prototype.on=function(P,_){var z=this;return!z._parser["on"+P]&&c.indexOf(P)!==-1&&(z._parser["on"+P]=function(){var U=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);U.splice(0,0,P),z.emit.apply(z,U)}),a.prototype.on.call(z,P,_)};var f="[CDATA[",h="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",E={xml:m,xmlns:y},v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(P){return P===" "||P===`
`||P==="\r"||P==="	"}function M(P){return P==='"'||P==="'"}function T(P){return P===">"||N(P)}function b(P,_){return P.test(_)}function D(P,_){return!b(P,_)}var O=0;t.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(P){var _=t.ENTITIES[P],z=typeof _=="number"?String.fromCharCode(_):_;t.ENTITIES[P]=z});for(var V in t.STATE)t.STATE[t.STATE[V]]=V;O=t.STATE;function Y(P,_,z){P[_]&&P[_](z)}function H(P,_,z){P.textNode&&W(P),Y(P,_,z)}function W(P){P.textNode=G(P.opt,P.textNode),P.textNode&&Y(P,"ontext",P.textNode),P.textNode=""}function G(P,_){return P.trim&&(_=_.trim()),P.normalize&&(_=_.replace(/\s+/g," ")),_}function Q(P,_){return W(P),P.trackPosition&&(_+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),_=new Error(_),P.error=_,Y(P,"onerror",_),P}function Z(P){return P.sawRoot&&!P.closedRoot&&K(P,"Unclosed root tag"),P.state!==O.BEGIN&&P.state!==O.BEGIN_WHITESPACE&&P.state!==O.TEXT&&Q(P,"Unexpected end"),W(P),P.c="",P.closed=!0,Y(P,"onend"),n.call(P,P.strict,P.opt),P}function K(P,_){if(typeof P!="object"||!(P instanceof n))throw new Error("bad call to strictFail");P.strict&&Q(P,_)}function I(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var _=P.tags[P.tags.length-1]||P,z=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(z.ns=_.ns),P.attribList.length=0,H(P,"onopentagstart",z)}function j(P,_){var z=P.indexOf(":"),U=z<0?["",P]:P.split(":"),te=U[0],fe=U[1];return _&&P==="xmlns"&&(te="xmlns",fe=""),{prefix:te,local:fe}}function A(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName)){P.attribName=P.attribValue="";return}if(P.opt.xmlns){var _=j(P.attribName,!0),z=_.prefix,U=_.local;if(z==="xmlns")if(U==="xml"&&P.attribValue!==m)K(P,"xml: prefix must be bound to "+m+`
Actual: `+P.attribValue);else if(U==="xmlns"&&P.attribValue!==y)K(P,"xmlns: prefix must be bound to "+y+`
Actual: `+P.attribValue);else{var te=P.tag,fe=P.tags[P.tags.length-1]||P;te.ns===fe.ns&&(te.ns=Object.create(fe.ns)),te.ns[U]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,H(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}function w(P,_){if(P.opt.xmlns){var z=P.tag,U=j(P.tagName);z.prefix=U.prefix,z.local=U.local,z.uri=z.ns[U.prefix]||"",z.prefix&&!z.uri&&(K(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),z.uri=U.prefix);var te=P.tags[P.tags.length-1]||P;z.ns&&te.ns!==z.ns&&Object.keys(z.ns).forEach(function(ot){H(P,"onopennamespace",{prefix:ot,uri:z.ns[ot]})});for(var fe=0,Se=P.attribList.length;fe<Se;fe++){var De=P.attribList[fe],qe=De[0],ke=De[1],Ne=j(qe,!0),Ye=Ne.prefix,xt=Ne.local,At=Ye===""?"":z.ns[Ye]||"",Ct={name:qe,value:ke,prefix:Ye,local:xt,uri:At};Ye&&Ye!=="xmlns"&&!At&&(K(P,"Unbound namespace prefix: "+JSON.stringify(Ye)),Ct.uri=Ye),P.tag.attributes[qe]=Ct,H(P,"onattribute",Ct)}P.attribList.length=0}P.tag.isSelfClosing=!!_,P.sawRoot=!0,P.tags.push(P.tag),H(P,"onopentag",P.tag),_||(!P.noscript&&P.tagName.toLowerCase()==="script"?P.state=O.SCRIPT:P.state=O.TEXT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function R(P){if(!P.tagName){K(P,"Weird empty close tag."),P.textNode+="</>",P.state=O.TEXT;return}if(P.script){if(P.tagName!=="script"){P.script+="</"+P.tagName+">",P.tagName="",P.state=O.SCRIPT;return}H(P,"onscript",P.script),P.script=""}var _=P.tags.length,z=P.tagName;P.strict||(z=z[P.looseCase]());for(var U=z;_--;){var te=P.tags[_];if(te.name!==U)K(P,"Unexpected close tag");else break}if(_<0){K(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",P.state=O.TEXT;return}P.tagName=z;for(var fe=P.tags.length;fe-- >_;){var Se=P.tag=P.tags.pop();P.tagName=P.tag.name,H(P,"onclosetag",P.tagName);var De={};for(var qe in Se.ns)De[qe]=Se.ns[qe];var ke=P.tags[P.tags.length-1]||P;P.opt.xmlns&&Se.ns!==ke.ns&&Object.keys(Se.ns).forEach(function(Ne){var Ye=Se.ns[Ne];H(P,"onclosenamespace",{prefix:Ne,uri:Ye})})}_===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=O.TEXT}function C(P){var _=P.entity,z=_.toLowerCase(),U,te="";return P.ENTITIES[_]?P.ENTITIES[_]:P.ENTITIES[z]?P.ENTITIES[z]:(_=z,_.charAt(0)==="#"&&(_.charAt(1)==="x"?(_=_.slice(2),U=parseInt(_,16),te=U.toString(16)):(_=_.slice(1),U=parseInt(_,10),te=U.toString(10))),_=_.replace(/^0+/,""),isNaN(U)||te.toLowerCase()!==_?(K(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint(U))}function d(P,_){_==="<"?(P.state=O.OPEN_WAKA,P.startTagPosition=P.position):N(_)||(K(P,"Non-whitespace before first tag."),P.textNode=_,P.state=O.TEXT)}function $(P,_){var z="";return _<P.length&&(z=P.charAt(_)),z}function L(P){var _=this;if(this.error)throw this.error;if(_.closed)return Q(_,"Cannot write after close. Assign an onready handler.");if(P===null)return Z(_);typeof P=="object"&&(P=P.toString());for(var z=0,U="";U=$(P,z++),_.c=U,!!U;)switch(_.trackPosition&&(_.position++,U===`
`?(_.line++,_.column=0):_.column++),_.state){case O.BEGIN:if(_.state=O.BEGIN_WHITESPACE,U==="\uFEFF")continue;d(_,U);continue;case O.BEGIN_WHITESPACE:d(_,U);continue;case O.TEXT:if(_.sawRoot&&!_.closedRoot){for(var te=z-1;U&&U!=="<"&&U!=="&";)U=$(P,z++),U&&_.trackPosition&&(_.position++,U===`
`?(_.line++,_.column=0):_.column++);_.textNode+=P.substring(te,z-1)}U==="<"&&!(_.sawRoot&&_.closedRoot&&!_.strict)?(_.state=O.OPEN_WAKA,_.startTagPosition=_.position):(!N(U)&&(!_.sawRoot||_.closedRoot)&&K(_,"Text data outside of root node."),U==="&"?_.state=O.TEXT_ENTITY:_.textNode+=U);continue;case O.SCRIPT:U==="<"?_.state=O.SCRIPT_ENDING:_.script+=U;continue;case O.SCRIPT_ENDING:U==="/"?_.state=O.CLOSE_TAG:(_.script+="<"+U,_.state=O.SCRIPT);continue;case O.OPEN_WAKA:if(U==="!")_.state=O.SGML_DECL,_.sgmlDecl="";else if(!N(U))if(b(v,U))_.state=O.OPEN_TAG,_.tagName=U;else if(U==="/")_.state=O.CLOSE_TAG,_.tagName="";else if(U==="?")_.state=O.PROC_INST,_.procInstName=_.procInstBody="";else{if(K(_,"Unencoded <"),_.startTagPosition+1<_.position){var fe=_.position-_.startTagPosition;U=new Array(fe).join(" ")+U}_.textNode+="<"+U,_.state=O.TEXT}continue;case O.SGML_DECL:(_.sgmlDecl+U).toUpperCase()===f?(H(_,"onopencdata"),_.state=O.CDATA,_.sgmlDecl="",_.cdata=""):_.sgmlDecl+U==="--"?(_.state=O.COMMENT,_.comment="",_.sgmlDecl=""):(_.sgmlDecl+U).toUpperCase()===h?(_.state=O.DOCTYPE,(_.doctype||_.sawRoot)&&K(_,"Inappropriately located doctype declaration"),_.doctype="",_.sgmlDecl=""):U===">"?(H(_,"onsgmldeclaration",_.sgmlDecl),_.sgmlDecl="",_.state=O.TEXT):(M(U)&&(_.state=O.SGML_DECL_QUOTED),_.sgmlDecl+=U);continue;case O.SGML_DECL_QUOTED:U===_.q&&(_.state=O.SGML_DECL,_.q=""),_.sgmlDecl+=U;continue;case O.DOCTYPE:U===">"?(_.state=O.TEXT,H(_,"ondoctype",_.doctype),_.doctype=!0):(_.doctype+=U,U==="["?_.state=O.DOCTYPE_DTD:M(U)&&(_.state=O.DOCTYPE_QUOTED,_.q=U));continue;case O.DOCTYPE_QUOTED:_.doctype+=U,U===_.q&&(_.q="",_.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:_.doctype+=U,U==="]"?_.state=O.DOCTYPE:M(U)&&(_.state=O.DOCTYPE_DTD_QUOTED,_.q=U);continue;case O.DOCTYPE_DTD_QUOTED:_.doctype+=U,U===_.q&&(_.state=O.DOCTYPE_DTD,_.q="");continue;case O.COMMENT:U==="-"?_.state=O.COMMENT_ENDING:_.comment+=U;continue;case O.COMMENT_ENDING:U==="-"?(_.state=O.COMMENT_ENDED,_.comment=G(_.opt,_.comment),_.comment&&H(_,"oncomment",_.comment),_.comment=""):(_.comment+="-"+U,_.state=O.COMMENT);continue;case O.COMMENT_ENDED:U!==">"?(K(_,"Malformed comment"),_.comment+="--"+U,_.state=O.COMMENT):_.state=O.TEXT;continue;case O.CDATA:U==="]"?_.state=O.CDATA_ENDING:_.cdata+=U;continue;case O.CDATA_ENDING:U==="]"?_.state=O.CDATA_ENDING_2:(_.cdata+="]"+U,_.state=O.CDATA);continue;case O.CDATA_ENDING_2:U===">"?(_.cdata&&H(_,"oncdata",_.cdata),H(_,"onclosecdata"),_.cdata="",_.state=O.TEXT):U==="]"?_.cdata+="]":(_.cdata+="]]"+U,_.state=O.CDATA);continue;case O.PROC_INST:U==="?"?_.state=O.PROC_INST_ENDING:N(U)?_.state=O.PROC_INST_BODY:_.procInstName+=U;continue;case O.PROC_INST_BODY:if(!_.procInstBody&&N(U))continue;U==="?"?_.state=O.PROC_INST_ENDING:_.procInstBody+=U;continue;case O.PROC_INST_ENDING:U===">"?(H(_,"onprocessinginstruction",{name:_.procInstName,body:_.procInstBody}),_.procInstName=_.procInstBody="",_.state=O.TEXT):(_.procInstBody+="?"+U,_.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:b(g,U)?_.tagName+=U:(I(_),U===">"?w(_):U==="/"?_.state=O.OPEN_TAG_SLASH:(N(U)||K(_,"Invalid character in tag name"),_.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:U===">"?(w(_,!0),R(_)):(K(_,"Forward-slash in opening tag not followed by >"),_.state=O.ATTRIB);continue;case O.ATTRIB:if(N(U))continue;U===">"?w(_):U==="/"?_.state=O.OPEN_TAG_SLASH:b(v,U)?(_.attribName=U,_.attribValue="",_.state=O.ATTRIB_NAME):K(_,"Invalid attribute name");continue;case O.ATTRIB_NAME:U==="="?_.state=O.ATTRIB_VALUE:U===">"?(K(_,"Attribute without value"),_.attribValue=_.attribName,A(_),w(_)):N(U)?_.state=O.ATTRIB_NAME_SAW_WHITE:b(g,U)?_.attribName+=U:K(_,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if(U==="=")_.state=O.ATTRIB_VALUE;else{if(N(U))continue;K(_,"Attribute without value"),_.tag.attributes[_.attribName]="",_.attribValue="",H(_,"onattribute",{name:_.attribName,value:""}),_.attribName="",U===">"?w(_):b(v,U)?(_.attribName=U,_.state=O.ATTRIB_NAME):(K(_,"Invalid attribute name"),_.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:if(N(U))continue;M(U)?(_.q=U,_.state=O.ATTRIB_VALUE_QUOTED):(K(_,"Unquoted attribute value"),_.state=O.ATTRIB_VALUE_UNQUOTED,_.attribValue=U);continue;case O.ATTRIB_VALUE_QUOTED:if(U!==_.q){U==="&"?_.state=O.ATTRIB_VALUE_ENTITY_Q:_.attribValue+=U;continue}A(_),_.q="",_.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:N(U)?_.state=O.ATTRIB:U===">"?w(_):U==="/"?_.state=O.OPEN_TAG_SLASH:b(v,U)?(K(_,"No whitespace between attributes"),_.attribName=U,_.attribValue="",_.state=O.ATTRIB_NAME):K(_,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(!T(U)){U==="&"?_.state=O.ATTRIB_VALUE_ENTITY_U:_.attribValue+=U;continue}A(_),U===">"?w(_):_.state=O.ATTRIB;continue;case O.CLOSE_TAG:if(_.tagName)U===">"?R(_):b(g,U)?_.tagName+=U:_.script?(_.script+="</"+_.tagName,_.tagName="",_.state=O.SCRIPT):(N(U)||K(_,"Invalid tagname in closing tag"),_.state=O.CLOSE_TAG_SAW_WHITE);else{if(N(U))continue;D(v,U)?_.script?(_.script+="</"+U,_.state=O.SCRIPT):K(_,"Invalid tagname in closing tag."):_.tagName=U}continue;case O.CLOSE_TAG_SAW_WHITE:if(N(U))continue;U===">"?R(_):K(_,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:var Se,De;switch(_.state){case O.TEXT_ENTITY:Se=O.TEXT,De="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:Se=O.ATTRIB_VALUE_QUOTED,De="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:Se=O.ATTRIB_VALUE_UNQUOTED,De="attribValue";break}if(U===";")if(_.opt.unparsedEntities){var qe=C(_);_.entity="",_.state=Se,_.write(qe)}else _[De]+=C(_),_.entity="",_.state=Se;else b(_.entity.length?S:p,U)?_.entity+=U:(K(_,"Invalid character in entity name"),_[De]+="&"+_.entity+U,_.entity="",_.state=Se);continue;default:throw new Error(_,"Unknown state: "+_.state)}return _.position>=_.bufferCheckPosition&&i(_),_}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var P=String.fromCharCode,_=Math.floor,z=function(){var U=16384,te=[],fe,Se,De=-1,qe=arguments.length;if(!qe)return"";for(var ke="";++De<qe;){var Ne=Number(arguments[De]);if(!isFinite(Ne)||Ne<0||Ne>1114111||_(Ne)!==Ne)throw RangeError("Invalid code point: "+Ne);Ne<=65535?te.push(Ne):(Ne-=65536,fe=(Ne>>10)+55296,Se=Ne%1024+56320,te.push(fe,Se)),(De+1===qe||te.length>U)&&(ke+=P.apply(null,te),te.length=0)}return ke};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:z,configurable:!0,writable:!0}):String.fromCodePoint=z}()})(e)})(jy);var cp;function QR(){if(cp)return Mn;cp=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.parseXml=Mn.XElement=void 0;const e=jy,t=st();class r{constructor(c){if(this.name=c,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!c)throw(0,t.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!i(c))throw(0,t.newError)(`Invalid element name: ${c}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(c){const l=this.attributes===null?null:this.attributes[c];if(l==null)throw(0,t.newError)(`No attribute "${c}"`,"ERR_XML_MISSED_ATTRIBUTE");return l}removeAttribute(c){this.attributes!==null&&delete this.attributes[c]}element(c,l=!1,u=null){const f=this.elementOrNull(c,l);if(f===null)throw(0,t.newError)(u||`No element "${c}"`,"ERR_XML_MISSED_ELEMENT");return f}elementOrNull(c,l=!1){if(this.elements===null)return null;for(const u of this.elements)if(s(u,c,l))return u;return null}getElements(c,l=!1){return this.elements===null?[]:this.elements.filter(u=>s(u,c,l))}elementValueOrEmpty(c,l=!1){const u=this.elementOrNull(c,l);return u===null?"":u.value}}Mn.XElement=r;const n=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function i(a){return n.test(a)}function s(a,c,l){const u=a.name;return u===c||l===!0&&u.length===c.length&&u.toLowerCase()===c.toLowerCase()}function o(a){let c=null;const l=e.parser(!0,{}),u=[];return l.onopentag=f=>{const h=new r(f.name);if(h.attributes=f.attributes,c===null)c=h;else{const m=u[u.length-1];m.elements==null&&(m.elements=[]),m.elements.push(h)}u.push(h)},l.onclosetag=()=>{u.pop()},l.ontext=f=>{u.length>0&&(u[u.length-1].value=f)},l.oncdata=f=>{const h=u[u.length-1];h.value=f,h.isCData=!0},l.onerror=f=>{throw f},l.write(a),c}return Mn.parseXml=o,Mn}var lp;function st(){return lp||(lp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.newError=e.asArray=e.CURRENT_APP_PACKAGE_FILE_NAME=e.CURRENT_APP_INSTALLER_FILE_NAME=e.XElement=e.parseXml=e.ProgressCallbackTransform=e.UUID=e.parseDn=e.githubUrl=e.getS3LikeProviderBaseUrl=e.configureRequestUrl=e.parseJson=e.safeStringifyJson=e.configureRequestOptionsFromUrl=e.configureRequestOptions=e.safeGetHeader=e.DigestTransform=e.HttpExecutor=e.createHttpError=e.HttpError=e.CancellationError=e.CancellationToken=void 0;var t=oi;Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}}),Object.defineProperty(e,"CancellationError",{enumerable:!0,get:function(){return t.CancellationError}});var r=HR();Object.defineProperty(e,"HttpError",{enumerable:!0,get:function(){return r.HttpError}}),Object.defineProperty(e,"createHttpError",{enumerable:!0,get:function(){return r.createHttpError}}),Object.defineProperty(e,"HttpExecutor",{enumerable:!0,get:function(){return r.HttpExecutor}}),Object.defineProperty(e,"DigestTransform",{enumerable:!0,get:function(){return r.DigestTransform}}),Object.defineProperty(e,"safeGetHeader",{enumerable:!0,get:function(){return r.safeGetHeader}}),Object.defineProperty(e,"configureRequestOptions",{enumerable:!0,get:function(){return r.configureRequestOptions}}),Object.defineProperty(e,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return r.configureRequestOptionsFromUrl}}),Object.defineProperty(e,"safeStringifyJson",{enumerable:!0,get:function(){return r.safeStringifyJson}}),Object.defineProperty(e,"parseJson",{enumerable:!0,get:function(){return r.parseJson}}),Object.defineProperty(e,"configureRequestUrl",{enumerable:!0,get:function(){return r.configureRequestUrl}});var n=Hi;Object.defineProperty(e,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return n.getS3LikeProviderBaseUrl}}),Object.defineProperty(e,"githubUrl",{enumerable:!0,get:function(){return n.githubUrl}});var i=hc;Object.defineProperty(e,"parseDn",{enumerable:!0,get:function(){return i.parseDn}});var s=XR();Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return s.UUID}});var o=Oo;Object.defineProperty(e,"ProgressCallbackTransform",{enumerable:!0,get:function(){return o.ProgressCallbackTransform}});var a=QR();Object.defineProperty(e,"parseXml",{enumerable:!0,get:function(){return a.parseXml}}),Object.defineProperty(e,"XElement",{enumerable:!0,get:function(){return a.XElement}}),e.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",e.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function c(u){return u==null?[]:Array.isArray(u)?u:[u]}e.asArray=c;function l(u,f){const h=new Error(u);return h.code=f,h}e.newError=l}(il)),il}var ci={},jt={};jt.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,s)=>i!=null?n(i):r(s)),e.apply(this,t)})},"name",{value:e.name})};jt.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var un=Xv,ZR=process.cwd,wa=null,eI=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return wa||(wa=ZR.call(process)),wa};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var up=process.chdir;process.chdir=function(e){wa=null,up.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,up)}var tI=rI;function rI(e){un.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(u,f,h){h&&process.nextTick(h)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(u,f,h,m){m&&process.nextTick(m)},e.lchownSync=function(){}),eI==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(u){function f(h,m,y){var E=Date.now(),v=0;u(h,m,function g(p){if(p&&(p.code==="EACCES"||p.code==="EPERM"||p.code==="EBUSY")&&Date.now()-E<6e4){setTimeout(function(){e.stat(m,function(S,N){S&&S.code==="ENOENT"?u(h,m,g):y(p)})},v),v<100&&(v+=10);return}y&&y(p)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f}(e.rename)),e.read=typeof e.read!="function"?e.read:function(u){function f(h,m,y,E,v,g){var p;if(g&&typeof g=="function"){var S=0;p=function(N,M,T){if(N&&N.code==="EAGAIN"&&S<10)return S++,u.call(e,h,m,y,E,v,p);g.apply(this,arguments)}}return u.call(e,h,m,y,E,v,p)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(u){return function(f,h,m,y,E){for(var v=0;;)try{return u.call(e,f,h,m,y,E)}catch(g){if(g.code==="EAGAIN"&&v<10){v++;continue}throw g}}}(e.readSync);function t(u){u.lchmod=function(f,h,m){u.open(f,un.O_WRONLY|un.O_SYMLINK,h,function(y,E){if(y){m&&m(y);return}u.fchmod(E,h,function(v){u.close(E,function(g){m&&m(v||g)})})})},u.lchmodSync=function(f,h){var m=u.openSync(f,un.O_WRONLY|un.O_SYMLINK,h),y=!0,E;try{E=u.fchmodSync(m,h),y=!1}finally{if(y)try{u.closeSync(m)}catch{}else u.closeSync(m)}return E}}function r(u){un.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(f,h,m,y){u.open(f,un.O_SYMLINK,function(E,v){if(E){y&&y(E);return}u.futimes(v,h,m,function(g){u.close(v,function(p){y&&y(g||p)})})})},u.lutimesSync=function(f,h,m){var y=u.openSync(f,un.O_SYMLINK),E,v=!0;try{E=u.futimesSync(y,h,m),v=!1}finally{if(v)try{u.closeSync(y)}catch{}else u.closeSync(y)}return E}):u.futimes&&(u.lutimes=function(f,h,m,y){y&&process.nextTick(y)},u.lutimesSync=function(){})}function n(u){return u&&function(f,h,m){return u.call(e,f,h,function(y){l(y)&&(y=null),m&&m.apply(this,arguments)})}}function i(u){return u&&function(f,h){try{return u.call(e,f,h)}catch(m){if(!l(m))throw m}}}function s(u){return u&&function(f,h,m,y){return u.call(e,f,h,m,function(E){l(E)&&(E=null),y&&y.apply(this,arguments)})}}function o(u){return u&&function(f,h,m){try{return u.call(e,f,h,m)}catch(y){if(!l(y))throw y}}}function a(u){return u&&function(f,h,m){typeof h=="function"&&(m=h,h=null);function y(E,v){v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),m&&m.apply(this,arguments)}return h?u.call(e,f,h,y):u.call(e,f,y)}}function c(u){return u&&function(f,h){var m=h?u.call(e,f,h):u.call(e,f);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function l(u){if(!u||u.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(u.code==="EINVAL"||u.code==="EPERM"))}}var fp=ho.Stream,nI=iI;function iI(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);fp.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,c=o.length;a<c;a++){var l=o[a];this[l]=i[l]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(u,f){if(u){s.emit("error",u),s.readable=!1;return}s.fd=f,s.emit("open",f),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);fp.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var sI=aI,oI=Object.getPrototypeOf||function(e){return e.__proto__};function aI(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:oI(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var Ke=ct,cI=tI,lI=nI,uI=sI,aa=Zi,$t,Ma;typeof Symbol=="function"&&typeof Symbol.for=="function"?($t=Symbol.for("graceful-fs.queue"),Ma=Symbol.for("graceful-fs.previous")):($t="___graceful-fs.queue",Ma="___graceful-fs.previous");function fI(){}function My(e,t){Object.defineProperty(e,$t,{get:function(){return t}})}var Qn=fI;aa.debuglog?Qn=aa.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Qn=function(){var e=aa.format.apply(aa,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!Ke[$t]){var dI=it[$t]||[];My(Ke,dI),Ke.close=function(e){function t(r,n){return e.call(Ke,r,function(i){i||dp(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Ma,{value:e}),t}(Ke.close),Ke.closeSync=function(e){function t(r){e.apply(Ke,arguments),dp()}return Object.defineProperty(t,Ma,{value:e}),t}(Ke.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Qn(Ke[$t]),su.equal(Ke[$t].length,0)})}it[$t]||My(it,Ke[$t]);var Mt=nd(uI(Ke));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Ke.__patched&&(Mt=nd(Ke),Ke.__patched=!0);function nd(e){cI(e),e.gracefulify=nd,e.createReadStream=M,e.createWriteStream=T;var t=e.readFile;e.readFile=r;function r(O,V,Y){return typeof V=="function"&&(Y=V,V=null),H(O,V,Y);function H(W,G,Q,Z){return t(W,G,function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?wi([H,[W,G,Q],K,Z||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(O,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(O,V,Y,H);function W(G,Q,Z,K,I){return n(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?wi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(O,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(O,V,Y,H);function W(G,Q,Z,K,I){return s(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?wi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=c);function c(O,V,Y,H){return typeof Y=="function"&&(H=Y,Y=0),W(O,V,Y,H);function W(G,Q,Z,K,I){return a(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?wi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var l=e.readdir;e.readdir=f;var u=/^v[0-5]\./;function f(O,V,Y){typeof V=="function"&&(Y=V,V=null);var H=u.test(process.version)?function(Q,Z,K,I){return l(Q,W(Q,Z,K,I))}:function(Q,Z,K,I){return l(Q,Z,W(Q,Z,K,I))};return H(O,V,Y);function W(G,Q,Z,K){return function(I,j){I&&(I.code==="EMFILE"||I.code==="ENFILE")?wi([H,[G,Q,Z],I,K||Date.now(),Date.now()]):(j&&j.sort&&j.sort(),typeof Z=="function"&&Z.call(this,I,j))}}}if(process.version.substr(0,4)==="v0.8"){var h=lI(e);g=h.ReadStream,S=h.WriteStream}var m=e.ReadStream;m&&(g.prototype=Object.create(m.prototype),g.prototype.open=p);var y=e.WriteStream;y&&(S.prototype=Object.create(y.prototype),S.prototype.open=N),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(O){g=O},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return S},set:function(O){S=O},enumerable:!0,configurable:!0});var E=g;Object.defineProperty(e,"FileReadStream",{get:function(){return E},set:function(O){E=O},enumerable:!0,configurable:!0});var v=S;Object.defineProperty(e,"FileWriteStream",{get:function(){return v},set:function(O){v=O},enumerable:!0,configurable:!0});function g(O,V){return this instanceof g?(m.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function p(){var O=this;D(O.path,O.flags,O.mode,function(V,Y){V?(O.autoClose&&O.destroy(),O.emit("error",V)):(O.fd=Y,O.emit("open",Y),O.read())})}function S(O,V){return this instanceof S?(y.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function N(){var O=this;D(O.path,O.flags,O.mode,function(V,Y){V?(O.destroy(),O.emit("error",V)):(O.fd=Y,O.emit("open",Y))})}function M(O,V){return new e.ReadStream(O,V)}function T(O,V){return new e.WriteStream(O,V)}var b=e.open;e.open=D;function D(O,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(O,V,Y,H);function W(G,Q,Z,K,I){return b(G,Q,Z,function(j,A){j&&(j.code==="EMFILE"||j.code==="ENFILE")?wi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}return e}function wi(e){Qn("ENQUEUE",e[0].name,e[1]),Ke[$t].push(e),id()}var ca;function dp(){for(var e=Date.now(),t=0;t<Ke[$t].length;++t)Ke[$t][t].length>2&&(Ke[$t][t][3]=e,Ke[$t][t][4]=e);id()}function id(){if(clearTimeout(ca),ca=void 0,Ke[$t].length!==0){var e=Ke[$t].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)Qn("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){Qn("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,c=Math.max(s-i,1),l=Math.min(c*1.2,100);a>=l?(Qn("RETRY",t.name,r),t.apply(null,r.concat([i]))):Ke[$t].push(e)}ca===void 0&&(ca=setTimeout(id,0))}}(function(e){const t=jt.fromCallback,r=Mt,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,s){return typeof s=="function"?r.exists(i,s):new Promise(o=>r.exists(i,o))},e.read=function(i,s,o,a,c,l){return typeof l=="function"?r.read(i,s,o,a,c,l):new Promise((u,f)=>{r.read(i,s,o,a,c,(h,m,y)=>{if(h)return f(h);u({bytesRead:m,buffer:y})})})},e.write=function(i,s,...o){return typeof o[o.length-1]=="function"?r.write(i,s,...o):new Promise((a,c)=>{r.write(i,s,...o,(l,u,f)=>{if(l)return c(l);a({bytesWritten:u,buffer:f})})})},typeof r.writev=="function"&&(e.writev=function(i,s,...o){return typeof o[o.length-1]=="function"?r.writev(i,s,...o):new Promise((a,c)=>{r.writev(i,s,...o,(l,u,f)=>{if(l)return c(l);a({bytesWritten:u,buffers:f})})})}),typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(ci);var sd={},Uy={};const hI=we;Uy.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(hI.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const xy=ci,{checkPath:qy}=Uy,Vy=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};sd.makeDir=async(e,t)=>(qy(e),xy.mkdir(e,{mode:Vy(t),recursive:!0}));sd.makeDirSync=(e,t)=>(qy(e),xy.mkdirSync(e,{mode:Vy(t),recursive:!0}));const pI=jt.fromPromise,{makeDir:mI,makeDirSync:ll}=sd,ul=pI(mI);var Mr={mkdirs:ul,mkdirsSync:ll,mkdirp:ul,mkdirpSync:ll,ensureDir:ul,ensureDirSync:ll};const gI=jt.fromPromise,By=ci;function yI(e){return By.access(e).then(()=>!0).catch(()=>!1)}var li={pathExists:gI(yI),pathExistsSync:By.existsSync};const Mi=Mt;function vI(e,t,r,n){Mi.open(e,"r+",(i,s)=>{if(i)return n(i);Mi.futimes(s,t,r,o=>{Mi.close(s,a=>{n&&n(o||a)})})})}function _I(e,t,r){const n=Mi.openSync(e,"r+");return Mi.futimesSync(n,t,r),Mi.closeSync(n)}var zy={utimesMillis:vI,utimesMillisSync:_I};const Gi=ci,ht=we,$I=Zi;function EI(e,t,r){const n=r.dereference?i=>Gi.stat(i,{bigint:!0}):i=>Gi.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function wI(e,t,r){let n;const i=r.dereference?o=>Gi.statSync(o,{bigint:!0}):o=>Gi.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}function SI(e,t,r,n,i){$I.callbackify(EI)(e,t,n,(s,o)=>{if(s)return i(s);const{srcStat:a,destStat:c}=o;if(c){if(To(a,c)){const l=ht.basename(e),u=ht.basename(t);return r==="move"&&l!==u&&l.toLowerCase()===u.toLowerCase()?i(null,{srcStat:a,destStat:c,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!c.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!a.isDirectory()&&c.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return a.isDirectory()&&od(e,t)?i(new Error(pc(e,t,r))):i(null,{srcStat:a,destStat:c})})}function bI(e,t,r,n){const{srcStat:i,destStat:s}=wI(e,t,n);if(s){if(To(i,s)){const o=ht.basename(e),a=ht.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&od(e,t))throw new Error(pc(e,t,r));return{srcStat:i,destStat:s}}function Hy(e,t,r,n,i){const s=ht.resolve(ht.dirname(e)),o=ht.resolve(ht.dirname(r));if(o===s||o===ht.parse(o).root)return i();Gi.stat(o,{bigint:!0},(a,c)=>a?a.code==="ENOENT"?i():i(a):To(t,c)?i(new Error(pc(e,r,n))):Hy(e,t,o,n,i))}function Gy(e,t,r,n){const i=ht.resolve(ht.dirname(e)),s=ht.resolve(ht.dirname(r));if(s===i||s===ht.parse(s).root)return;let o;try{o=Gi.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(To(t,o))throw new Error(pc(e,r,n));return Gy(e,t,s,n)}function To(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function od(e,t){const r=ht.resolve(e).split(ht.sep).filter(i=>i),n=ht.resolve(t).split(ht.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function pc(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var as={checkPaths:SI,checkPathsSync:bI,checkParentPaths:Hy,checkParentPathsSync:Gy,isSrcSubdir:od,areIdentical:To};const Kt=Mt,ro=we,PI=Mr.mkdirs,OI=li.pathExists,TI=zy.utimesMillis,no=as;function AI(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),no.checkPaths(e,t,"copy",r,(i,s)=>{if(i)return n(i);const{srcStat:o,destStat:a}=s;no.checkParentPaths(e,o,t,"copy",c=>c?n(c):r.filter?Wy(hp,a,e,t,r,n):hp(a,e,t,r,n))})}function hp(e,t,r,n,i){const s=ro.dirname(r);OI(s,(o,a)=>{if(o)return i(o);if(a)return Ua(e,t,r,n,i);PI(s,c=>c?i(c):Ua(e,t,r,n,i))})}function Wy(e,t,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?e(t,r,n,i,s):s(),o=>s(o))}function CI(e,t,r,n,i){return n.filter?Wy(Ua,e,t,r,n,i):Ua(e,t,r,n,i)}function Ua(e,t,r,n,i){(n.dereference?Kt.stat:Kt.lstat)(t,(o,a)=>o?i(o):a.isDirectory()?LI(a,e,t,r,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?NI(a,e,t,r,n,i):a.isSymbolicLink()?UI(e,t,r,n,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function NI(e,t,r,n,i,s){return t?RI(e,r,n,i,s):Ky(e,r,n,i,s)}function RI(e,t,r,n,i){if(n.overwrite)Kt.unlink(r,s=>s?i(s):Ky(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function Ky(e,t,r,n,i){Kt.copyFile(t,r,s=>s?i(s):n.preserveTimestamps?II(e.mode,t,r,i):mc(r,e.mode,i))}function II(e,t,r,n){return DI(e)?FI(r,e,i=>i?n(i):pp(e,t,r,n)):pp(e,t,r,n)}function DI(e){return(e&128)===0}function FI(e,t,r){return mc(e,t|128,r)}function pp(e,t,r,n){kI(t,r,i=>i?n(i):mc(r,e,n))}function mc(e,t,r){return Kt.chmod(e,t,r)}function kI(e,t,r){Kt.stat(e,(n,i)=>n?r(n):TI(t,i.atime,i.mtime,r))}function LI(e,t,r,n,i,s){return t?Yy(r,n,i,s):jI(e.mode,r,n,i,s)}function jI(e,t,r,n,i){Kt.mkdir(r,s=>{if(s)return i(s);Yy(t,r,n,o=>o?i(o):mc(r,e,i))})}function Yy(e,t,r,n){Kt.readdir(e,(i,s)=>i?n(i):Jy(s,e,t,r,n))}function Jy(e,t,r,n,i){const s=e.pop();return s?MI(e,s,t,r,n,i):i()}function MI(e,t,r,n,i,s){const o=ro.join(r,t),a=ro.join(n,t);no.checkPaths(o,a,"copy",i,(c,l)=>{if(c)return s(c);const{destStat:u}=l;CI(u,o,a,i,f=>f?s(f):Jy(e,r,n,i,s))})}function UI(e,t,r,n,i){Kt.readlink(t,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=ro.resolve(process.cwd(),o)),e)Kt.readlink(r,(a,c)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?Kt.symlink(o,r,i):i(a):(n.dereference&&(c=ro.resolve(process.cwd(),c)),no.isSrcSubdir(o,c)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${c}'.`)):e.isDirectory()&&no.isSrcSubdir(c,o)?i(new Error(`Cannot overwrite '${c}' with '${o}'.`)):xI(o,r,i)));else return Kt.symlink(o,r,i)})}function xI(e,t,r){Kt.unlink(t,n=>n?r(n):Kt.symlink(e,t,r))}var qI=AI;const Pt=Mt,io=we,VI=Mr.mkdirsSync,BI=zy.utimesMillisSync,so=as;function zI(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:i}=so.checkPathsSync(e,t,"copy",r);return so.checkParentPathsSync(e,n,t,"copy"),HI(i,e,t,r)}function HI(e,t,r,n){if(n.filter&&!n.filter(t,r))return;const i=io.dirname(r);return Pt.existsSync(i)||VI(i),Xy(e,t,r,n)}function GI(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return Xy(e,t,r,n)}function Xy(e,t,r,n){const s=(n.dereference?Pt.statSync:Pt.lstatSync)(t);if(s.isDirectory())return ZI(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return WI(s,e,t,r,n);if(s.isSymbolicLink())return rD(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function WI(e,t,r,n,i){return t?KI(e,r,n,i):Qy(e,r,n,i)}function KI(e,t,r,n){if(n.overwrite)return Pt.unlinkSync(r),Qy(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Qy(e,t,r,n){return Pt.copyFileSync(t,r),n.preserveTimestamps&&YI(e.mode,t,r),ad(r,e.mode)}function YI(e,t,r){return JI(e)&&XI(r,e),QI(t,r)}function JI(e){return(e&128)===0}function XI(e,t){return ad(e,t|128)}function ad(e,t){return Pt.chmodSync(e,t)}function QI(e,t){const r=Pt.statSync(e);return BI(t,r.atime,r.mtime)}function ZI(e,t,r,n,i){return t?Zy(r,n,i):eD(e.mode,r,n,i)}function eD(e,t,r,n){return Pt.mkdirSync(r),Zy(t,r,n),ad(r,e)}function Zy(e,t,r){Pt.readdirSync(e).forEach(n=>tD(n,e,t,r))}function tD(e,t,r,n){const i=io.join(t,e),s=io.join(r,e),{destStat:o}=so.checkPathsSync(i,s,"copy",n);return GI(o,i,s,n)}function rD(e,t,r,n){let i=Pt.readlinkSync(t);if(n.dereference&&(i=io.resolve(process.cwd(),i)),e){let s;try{s=Pt.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Pt.symlinkSync(i,r);throw o}if(n.dereference&&(s=io.resolve(process.cwd(),s)),so.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(Pt.statSync(r).isDirectory()&&so.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return nD(i,r)}else return Pt.symlinkSync(i,r)}function nD(e,t){return Pt.unlinkSync(t),Pt.symlinkSync(e,t)}var iD=zI;const sD=jt.fromCallback;var cd={copy:sD(qI),copySync:iD};const mp=Mt,e0=we,Fe=su,oo=process.platform==="win32";function t0(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||mp[r],r=r+"Sync",e[r]=e[r]||mp[r]}),e.maxBusyTries=e.maxBusyTries||3}function ld(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),Fe(e,"rimraf: missing path"),Fe.strictEqual(typeof e,"string","rimraf: path should be a string"),Fe.strictEqual(typeof r,"function","rimraf: callback function required"),Fe(t,"rimraf: invalid options argument provided"),Fe.strictEqual(typeof t,"object","rimraf: options should be object"),t0(t),gp(e,t,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<t.maxBusyTries){n++;const o=n*100;return setTimeout(()=>gp(e,t,i),o)}s.code==="ENOENT"&&(s=null)}r(s)})}function gp(e,t,r){Fe(e),Fe(t),Fe(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&oo)return yp(e,t,n,r);if(i&&i.isDirectory())return Sa(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return oo?yp(e,t,s,r):Sa(e,t,s,r);if(s.code==="EISDIR")return Sa(e,t,s,r)}return r(s)})})}function yp(e,t,r,n){Fe(e),Fe(t),Fe(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?Sa(e,t,r,n):t.unlink(e,n)})})}function vp(e,t,r){let n;Fe(e),Fe(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?ba(e,t,r):t.unlinkSync(e)}function Sa(e,t,r,n){Fe(e),Fe(t),Fe(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?oD(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function oD(e,t,r){Fe(e),Fe(t),Fe(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return t.rmdir(e,r);i.forEach(a=>{ld(e0.join(e,a),t,c=>{if(!o){if(c)return r(o=c);--s===0&&t.rmdir(e,r)}})})})}function r0(e,t){let r;t=t||{},t0(t),Fe(e,"rimraf: missing path"),Fe.strictEqual(typeof e,"string","rimraf: path should be a string"),Fe(t,"rimraf: missing options"),Fe.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&oo&&vp(e,t,n)}try{r&&r.isDirectory()?ba(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return oo?vp(e,t,n):ba(e,t,n);if(n.code!=="EISDIR")throw n;ba(e,t,n)}}function ba(e,t,r){Fe(e),Fe(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")aD(e,t);else if(n.code!=="ENOENT")throw n}}function aD(e,t){if(Fe(e),Fe(t),t.readdirSync(e).forEach(r=>r0(e0.join(e,r),t)),oo){const r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}var cD=ld;ld.sync=r0;const xa=Mt,lD=jt.fromCallback,n0=cD;function uD(e,t){if(xa.rm)return xa.rm(e,{recursive:!0,force:!0},t);n0(e,t)}function fD(e){if(xa.rmSync)return xa.rmSync(e,{recursive:!0,force:!0});n0.sync(e)}var gc={remove:lD(uD),removeSync:fD};const dD=jt.fromPromise,i0=ci,s0=we,o0=Mr,a0=gc,_p=dD(async function(t){let r;try{r=await i0.readdir(t)}catch{return o0.mkdirs(t)}return Promise.all(r.map(n=>a0.remove(s0.join(t,n))))});function $p(e){let t;try{t=i0.readdirSync(e)}catch{return o0.mkdirsSync(e)}t.forEach(r=>{r=s0.join(e,r),a0.removeSync(r)})}var hD={emptyDirSync:$p,emptydirSync:$p,emptyDir:_p,emptydir:_p};const pD=jt.fromCallback,c0=we,_n=Mt,l0=Mr;function mD(e,t){function r(){_n.writeFile(e,"",n=>{if(n)return t(n);t()})}_n.stat(e,(n,i)=>{if(!n&&i.isFile())return t();const s=c0.dirname(e);_n.stat(s,(o,a)=>{if(o)return o.code==="ENOENT"?l0.mkdirs(s,c=>{if(c)return t(c);r()}):t(o);a.isDirectory()?r():_n.readdir(s,c=>{if(c)return t(c)})})})}function gD(e){let t;try{t=_n.statSync(e)}catch{}if(t&&t.isFile())return;const r=c0.dirname(e);try{_n.statSync(r).isDirectory()||_n.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")l0.mkdirsSync(r);else throw n}_n.writeFileSync(e,"")}var yD={createFile:pD(mD),createFileSync:gD};const vD=jt.fromCallback,u0=we,hn=Mt,f0=Mr,_D=li.pathExists,{areIdentical:d0}=as;function $D(e,t,r){function n(i,s){hn.link(i,s,o=>{if(o)return r(o);r(null)})}hn.lstat(t,(i,s)=>{hn.lstat(e,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(s&&d0(a,s))return r(null);const c=u0.dirname(t);_D(c,(l,u)=>{if(l)return r(l);if(u)return n(e,t);f0.mkdirs(c,f=>{if(f)return r(f);n(e,t)})})})})}function ED(e,t){let r;try{r=hn.lstatSync(t)}catch{}try{const s=hn.lstatSync(e);if(r&&d0(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}const n=u0.dirname(t);return hn.existsSync(n)||f0.mkdirsSync(n),hn.linkSync(e,t)}var wD={createLink:vD($D),createLinkSync:ED};const $n=we,Js=Mt,SD=li.pathExists;function bD(e,t,r){if($n.isAbsolute(e))return Js.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{const n=$n.dirname(t),i=$n.join(n,e);return SD(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:e}):Js.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:e,toDst:$n.relative(n,e)})))}}function PD(e,t){let r;if($n.isAbsolute(e)){if(r=Js.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const n=$n.dirname(t),i=$n.join(n,e);if(r=Js.existsSync(i),r)return{toCwd:i,toDst:e};if(r=Js.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:$n.relative(n,e)}}}var OD={symlinkPaths:bD,symlinkPathsSync:PD};const h0=Mt;function TD(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);h0.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function AD(e,t){let r;if(t)return t;try{r=h0.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var CD={symlinkType:TD,symlinkTypeSync:AD};const ND=jt.fromCallback,p0=we,_r=ci,m0=Mr,RD=m0.mkdirs,ID=m0.mkdirsSync,g0=OD,DD=g0.symlinkPaths,FD=g0.symlinkPathsSync,y0=CD,kD=y0.symlinkType,LD=y0.symlinkTypeSync,jD=li.pathExists,{areIdentical:v0}=as;function MD(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,_r.lstat(t,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([_r.stat(e),_r.stat(t)]).then(([o,a])=>{if(v0(o,a))return n(null);Ep(e,t,r,n)}):Ep(e,t,r,n)})}function Ep(e,t,r,n){DD(e,t,(i,s)=>{if(i)return n(i);e=s.toDst,kD(s.toCwd,r,(o,a)=>{if(o)return n(o);const c=p0.dirname(t);jD(c,(l,u)=>{if(l)return n(l);if(u)return _r.symlink(e,t,a,n);RD(c,f=>{if(f)return n(f);_r.symlink(e,t,a,n)})})})})}function UD(e,t,r){let n;try{n=_r.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const a=_r.statSync(e),c=_r.statSync(t);if(v0(a,c))return}const i=FD(e,t);e=i.toDst,r=LD(i.toCwd,r);const s=p0.dirname(t);return _r.existsSync(s)||ID(s),_r.symlinkSync(e,t,r)}var xD={createSymlink:ND(MD),createSymlinkSync:UD};const{createFile:wp,createFileSync:Sp}=yD,{createLink:bp,createLinkSync:Pp}=wD,{createSymlink:Op,createSymlinkSync:Tp}=xD;var qD={createFile:wp,createFileSync:Sp,ensureFile:wp,ensureFileSync:Sp,createLink:bp,createLinkSync:Pp,ensureLink:bp,ensureLinkSync:Pp,createSymlink:Op,createSymlinkSync:Tp,ensureSymlink:Op,ensureSymlinkSync:Tp};function VD(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){const s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function BD(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var ud={stringify:VD,stripBom:BD};let Wi;try{Wi=Mt}catch{Wi=ct}const yc=jt,{stringify:_0,stripBom:$0}=ud;async function zD(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Wi,n="throws"in t?t.throws:!0;let i=await yc.fromCallback(r.readFile)(e,t);i=$0(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return s}const HD=yc.fromPromise(zD);function GD(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Wi,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=$0(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function WD(e,t,r={}){const n=r.fs||Wi,i=_0(t,r);await yc.fromCallback(n.writeFile)(e,i,r)}const KD=yc.fromPromise(WD);function YD(e,t,r={}){const n=r.fs||Wi,i=_0(t,r);return n.writeFileSync(e,i,r)}const JD={readFile:HD,readFileSync:GD,writeFile:KD,writeFileSync:YD};var XD=JD;const la=XD;var QD={readJson:la.readFile,readJsonSync:la.readFileSync,writeJson:la.writeFile,writeJsonSync:la.writeFileSync};const ZD=jt.fromCallback,Xs=Mt,E0=we,w0=Mr,eF=li.pathExists;function tF(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");const i=E0.dirname(e);eF(i,(s,o)=>{if(s)return n(s);if(o)return Xs.writeFile(e,t,r,n);w0.mkdirs(i,a=>{if(a)return n(a);Xs.writeFile(e,t,r,n)})})}function rF(e,...t){const r=E0.dirname(e);if(Xs.existsSync(r))return Xs.writeFileSync(e,...t);w0.mkdirsSync(r),Xs.writeFileSync(e,...t)}var fd={outputFile:ZD(tF),outputFileSync:rF};const{stringify:nF}=ud,{outputFile:iF}=fd;async function sF(e,t,r={}){const n=nF(t,r);await iF(e,n,r)}var oF=sF;const{stringify:aF}=ud,{outputFileSync:cF}=fd;function lF(e,t,r){const n=aF(t,r);cF(e,n,r)}var uF=lF;const fF=jt.fromPromise,kt=QD;kt.outputJson=fF(oF);kt.outputJsonSync=uF;kt.outputJSON=kt.outputJson;kt.outputJSONSync=kt.outputJsonSync;kt.writeJSON=kt.writeJson;kt.writeJSONSync=kt.writeJsonSync;kt.readJSON=kt.readJson;kt.readJSONSync=kt.readJsonSync;var dF=kt;const hF=Mt,Kl=we,pF=cd.copy,S0=gc.remove,mF=Mr.mkdirp,gF=li.pathExists,Ap=as;function yF(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};const i=r.overwrite||r.clobber||!1;Ap.checkPaths(e,t,"move",r,(s,o)=>{if(s)return n(s);const{srcStat:a,isChangingCase:c=!1}=o;Ap.checkParentPaths(e,a,t,"move",l=>{if(l)return n(l);if(vF(t))return Cp(e,t,i,c,n);mF(Kl.dirname(t),u=>u?n(u):Cp(e,t,i,c,n))})})}function vF(e){const t=Kl.dirname(e);return Kl.parse(t).root===t}function Cp(e,t,r,n,i){if(n)return fl(e,t,r,i);if(r)return S0(t,s=>s?i(s):fl(e,t,r,i));gF(t,(s,o)=>s?i(s):o?i(new Error("dest already exists.")):fl(e,t,r,i))}function fl(e,t,r,n){hF.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):_F(e,t,r,n):n())}function _F(e,t,r,n){pF(e,t,{overwrite:r,errorOnExist:!0},s=>s?n(s):S0(e,n))}var $F=yF;const b0=Mt,Yl=we,EF=cd.copySync,P0=gc.removeSync,wF=Mr.mkdirpSync,Np=as;function SF(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=Np.checkPathsSync(e,t,"move",r);return Np.checkParentPathsSync(e,i,t,"move"),bF(t)||wF(Yl.dirname(t)),PF(e,t,n,s)}function bF(e){const t=Yl.dirname(e);return Yl.parse(t).root===t}function PF(e,t,r,n){if(n)return dl(e,t,r);if(r)return P0(t),dl(e,t,r);if(b0.existsSync(t))throw new Error("dest already exists.");return dl(e,t,r)}function dl(e,t,r){try{b0.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return OF(e,t,r)}}function OF(e,t,r){return EF(e,t,{overwrite:r,errorOnExist:!0}),P0(e)}var TF=SF;const AF=jt.fromCallback;var CF={move:AF($F),moveSync:TF},An={...ci,...cd,...hD,...qD,...dF,...Mr,...CF,...fd,...li,...gc},Un={},Et={},dd={},Or={};function O0(e){return typeof e>"u"||e===null}function NF(e){return typeof e=="object"&&e!==null}function RF(e){return Array.isArray(e)?e:O0(e)?[]:[e]}function IF(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function DF(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function FF(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Or.isNothing=O0;Or.isObject=NF;Or.toArray=RF;Or.repeat=DF;Or.isNegativeZero=FF;Or.extend=IF;function T0(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function ao(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=T0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ao.prototype=Object.create(Error.prototype);ao.prototype.constructor=ao;ao.prototype.toString=function(t){return this.name+": "+T0(this,t)};var Ao=ao,js=Or;function hl(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"→")+o,pos:n-t+s.length}}function pl(e,t){return js.repeat(" ",t-e.length)+e}function kF(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",c,l,u=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+u+3);for(c=1;c<=t.linesBefore&&!(o-c<0);c++)l=hl(e.buffer,n[o-c],i[o-c],e.position-(n[o]-n[o-c]),f),a=js.repeat(" ",t.indent)+pl((e.line-c+1).toString(),u)+" | "+l.str+`
`+a;for(l=hl(e.buffer,n[o],i[o],e.position,f),a+=js.repeat(" ",t.indent)+pl((e.line+1).toString(),u)+" | "+l.str+`
`,a+=js.repeat("-",t.indent+u+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(o+c>=i.length);c++)l=hl(e.buffer,n[o+c],i[o+c],e.position-(n[o]-n[o+c]),f),a+=js.repeat(" ",t.indent)+pl((e.line+c+1).toString(),u)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var LF=kF,Rp=Ao,jF=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],MF=["scalar","sequence","mapping"];function UF(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function xF(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(jF.indexOf(r)===-1)throw new Rp('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=UF(t.styleAliases||null),MF.indexOf(this.kind)===-1)throw new Rp('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Ut=xF,Os=Ao,ml=Ut;function Ip(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function qF(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Jl(e){return this.extend(e)}Jl.prototype.extend=function(t){var r=[],n=[];if(t instanceof ml)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Os("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof ml))throw new Os("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Os("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Os("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof ml))throw new Os("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Jl.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Ip(i,"implicit"),i.compiledExplicit=Ip(i,"explicit"),i.compiledTypeMap=qF(i.compiledImplicit,i.compiledExplicit),i};var A0=Jl,VF=Ut,C0=new VF("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),BF=Ut,N0=new BF("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),zF=Ut,R0=new zF("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),HF=A0,I0=new HF({explicit:[C0,N0,R0]}),GF=Ut;function WF(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function KF(){return null}function YF(e){return e===null}var D0=new GF("tag:yaml.org,2002:null",{kind:"scalar",resolve:WF,construct:KF,predicate:YF,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),JF=Ut;function XF(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function QF(e){return e==="true"||e==="True"||e==="TRUE"}function ZF(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var F0=new JF("tag:yaml.org,2002:bool",{kind:"scalar",resolve:XF,construct:QF,predicate:ZF,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),ek=Or,tk=Ut;function rk(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function nk(e){return 48<=e&&e<=55}function ik(e){return 48<=e&&e<=57}function sk(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!rk(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!nk(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!ik(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function ok(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function ak(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ek.isNegativeZero(e)}var k0=new tk("tag:yaml.org,2002:int",{kind:"scalar",resolve:sk,construct:ok,predicate:ak,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),L0=Or,ck=Ut,lk=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function uk(e){return!(e===null||!lk.test(e)||e[e.length-1]==="_")}function fk(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var dk=/^[-+]?[0-9]+e/;function hk(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(L0.isNegativeZero(e))return"-0.0";return r=e.toString(10),dk.test(r)?r.replace("e",".e"):r}function pk(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||L0.isNegativeZero(e))}var j0=new ck("tag:yaml.org,2002:float",{kind:"scalar",resolve:uk,construct:fk,predicate:pk,represent:hk,defaultStyle:"lowercase"}),M0=I0.extend({implicit:[D0,F0,k0,j0]}),U0=M0,mk=Ut,x0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),q0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function gk(e){return e===null?!1:x0.exec(e)!==null||q0.exec(e)!==null}function yk(e){var t,r,n,i,s,o,a,c=0,l=null,u,f,h;if(t=x0.exec(e),t===null&&(t=q0.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=+t[10],f=+(t[11]||0),l=(u*60+f)*6e4,t[9]==="-"&&(l=-l)),h=new Date(Date.UTC(r,n,i,s,o,a,c)),l&&h.setTime(h.getTime()-l),h}function vk(e){return e.toISOString()}var V0=new mk("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:gk,construct:yk,instanceOf:Date,represent:vk}),_k=Ut;function $k(e){return e==="<<"||e===null}var B0=new _k("tag:yaml.org,2002:merge",{kind:"scalar",resolve:$k}),Ek=Ut,hd=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function wk(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=hd;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Sk(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=hd,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function bk(e){var t="",r=0,n,i,s=e.length,o=hd;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function Pk(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var z0=new Ek("tag:yaml.org,2002:binary",{kind:"scalar",resolve:wk,construct:Sk,predicate:Pk,represent:bk}),Ok=Ut,Tk=Object.prototype.hasOwnProperty,Ak=Object.prototype.toString;function Ck(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,Ak.call(i)!=="[object Object]")return!1;for(s in i)if(Tk.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function Nk(e){return e!==null?e:[]}var H0=new Ok("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Ck,construct:Nk}),Rk=Ut,Ik=Object.prototype.toString;function Dk(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],Ik.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function Fk(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var G0=new Rk("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Dk,construct:Fk}),kk=Ut,Lk=Object.prototype.hasOwnProperty;function jk(e){if(e===null)return!0;var t,r=e;for(t in r)if(Lk.call(r,t)&&r[t]!==null)return!1;return!0}function Mk(e){return e!==null?e:{}}var W0=new kk("tag:yaml.org,2002:set",{kind:"mapping",resolve:jk,construct:Mk}),pd=U0.extend({implicit:[V0,B0],explicit:[z0,H0,G0,W0]}),Kn=Or,K0=Ao,Uk=LF,xk=pd,bn=Object.prototype.hasOwnProperty,qa=1,Y0=2,J0=3,Va=4,gl=1,qk=2,Dp=3,Vk=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Bk=/[\x85\u2028\u2029]/,zk=/[,\[\]\{\}]/,X0=/^(?:!|!!|![a-z\-]+!)$/i,Q0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Fp(e){return Object.prototype.toString.call(e)}function kr(e){return e===10||e===13}function Zn(e){return e===9||e===32}function Yt(e){return e===9||e===32||e===10||e===13}function Ri(e){return e===44||e===91||e===93||e===123||e===125}function Hk(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Gk(e){return e===120?2:e===117?4:e===85?8:0}function Wk(e){return 48<=e&&e<=57?e-48:-1}function kp(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function Kk(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Z0=new Array(256),ev=new Array(256);for(var Si=0;Si<256;Si++)Z0[Si]=kp(Si)?1:0,ev[Si]=kp(Si);function Yk(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||xk,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function tv(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Uk(r),new K0(t,r)}function ae(e,t){throw tv(e,t)}function Ba(e,t){e.onWarning&&e.onWarning.call(null,tv(e,t))}var Lp={YAML:function(t,r,n){var i,s,o;t.version!==null&&ae(t,"duplication of %YAML directive"),n.length!==1&&ae(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&ae(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&ae(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Ba(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&ae(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],X0.test(i)||ae(t,"ill-formed tag handle (first argument) of the TAG directive"),bn.call(t.tagMap,i)&&ae(t,'there is a previously declared suffix for "'+i+'" tag handle'),Q0.test(s)||ae(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{ae(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function Sn(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||ae(e,"expected valid JSON character");else Vk.test(a)&&ae(e,"the stream contains non-printable characters");e.result+=a}}function jp(e,t,r,n){var i,s,o,a;for(Kn.isObject(r)||ae(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],bn.call(t,s)||(t[s]=r[s],n[s]=!0)}function Ii(e,t,r,n,i,s,o,a,c){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&ae(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Fp(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&Fp(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,u=s.length;l<u;l+=1)jp(e,t,s[l],r);else jp(e,t,s,r);else!e.json&&!bn.call(r,i)&&bn.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,ae(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function md(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ae(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function nt(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Zn(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(kr(i))for(md(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Ba(e,"deficient indentation"),n}function vc(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Yt(r)))}function gd(e,t){t===1?e.result+=" ":t>1&&(e.result+=Kn.repeat(`
`,t-1))}function Jk(e,t,r){var n,i,s,o,a,c,l,u,f=e.kind,h=e.result,m;if(m=e.input.charCodeAt(e.position),Yt(m)||Ri(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=e.input.charCodeAt(e.position+1),Yt(i)||r&&Ri(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;m!==0;){if(m===58){if(i=e.input.charCodeAt(e.position+1),Yt(i)||r&&Ri(i))break}else if(m===35){if(n=e.input.charCodeAt(e.position-1),Yt(n))break}else{if(e.position===e.lineStart&&vc(e)||r&&Ri(m))break;if(kr(m))if(c=e.line,l=e.lineStart,u=e.lineIndent,nt(e,!1,-1),e.lineIndent>=t){a=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=c,e.lineStart=l,e.lineIndent=u;break}}a&&(Sn(e,s,o,!1),gd(e,e.line-c),s=o=e.position,a=!1),Zn(m)||(o=e.position+1),m=e.input.charCodeAt(++e.position)}return Sn(e,s,o,!1),e.result?!0:(e.kind=f,e.result=h,!1)}function Xk(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Sn(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else kr(r)?(Sn(e,n,i,!0),gd(e,nt(e,!1,t)),n=i=e.position):e.position===e.lineStart&&vc(e)?ae(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);ae(e,"unexpected end of the stream within a single quoted scalar")}function Qk(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Sn(e,r,e.position,!0),e.position++,!0;if(a===92){if(Sn(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),kr(a))nt(e,!1,t);else if(a<256&&Z0[a])e.result+=ev[a],e.position++;else if((o=Gk(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=Hk(a))>=0?s=(s<<4)+o:ae(e,"expected hexadecimal character");e.result+=Kk(s),e.position++}else ae(e,"unknown escape sequence");r=n=e.position}else kr(a)?(Sn(e,r,n,!0),gd(e,nt(e,!1,t)),r=n=e.position):e.position===e.lineStart&&vc(e)?ae(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}ae(e,"unexpected end of the stream within a double quoted scalar")}function Zk(e,t){var r=!0,n,i,s,o=e.tag,a,c=e.anchor,l,u,f,h,m,y=Object.create(null),E,v,g,p;if(p=e.input.charCodeAt(e.position),p===91)u=93,m=!1,a=[];else if(p===123)u=125,m=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),p=e.input.charCodeAt(++e.position);p!==0;){if(nt(e,!0,t),p=e.input.charCodeAt(e.position),p===u)return e.position++,e.tag=o,e.anchor=c,e.kind=m?"mapping":"sequence",e.result=a,!0;r?p===44&&ae(e,"expected the node content, but found ','"):ae(e,"missed comma between flow collection entries"),v=E=g=null,f=h=!1,p===63&&(l=e.input.charCodeAt(e.position+1),Yt(l)&&(f=h=!0,e.position++,nt(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Ki(e,t,qa,!1,!0),v=e.tag,E=e.result,nt(e,!0,t),p=e.input.charCodeAt(e.position),(h||e.line===n)&&p===58&&(f=!0,p=e.input.charCodeAt(++e.position),nt(e,!0,t),Ki(e,t,qa,!1,!0),g=e.result),m?Ii(e,a,y,v,E,g,n,i,s):f?a.push(Ii(e,null,y,v,E,g,n,i,s)):a.push(E),nt(e,!0,t),p=e.input.charCodeAt(e.position),p===44?(r=!0,p=e.input.charCodeAt(++e.position)):r=!1}ae(e,"unexpected end of the stream within a flow collection")}function eL(e,t){var r,n,i=gl,s=!1,o=!1,a=t,c=0,l=!1,u,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)gl===i?i=f===43?Dp:qk:ae(e,"repeat of a chomping mode identifier");else if((u=Wk(f))>=0)u===0?ae(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?ae(e,"repeat of an indentation width identifier"):(a=t+u-1,o=!0);else break;if(Zn(f)){do f=e.input.charCodeAt(++e.position);while(Zn(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!kr(f)&&f!==0)}for(;f!==0;){for(md(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),kr(f)){c++;continue}if(e.lineIndent<a){i===Dp?e.result+=Kn.repeat(`
`,s?1+c:c):i===gl&&s&&(e.result+=`
`);break}for(n?Zn(f)?(l=!0,e.result+=Kn.repeat(`
`,s?1+c:c)):l?(l=!1,e.result+=Kn.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=Kn.repeat(`
`,c):e.result+=Kn.repeat(`
`,s?1+c:c),s=!0,o=!0,c=0,r=e.position;!kr(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Sn(e,r,e.position,!1)}return!0}function Mp(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ae(e,"tab characters must not be used in indentation")),!(c!==45||(o=e.input.charCodeAt(e.position+1),!Yt(o))));){if(a=!0,e.position++,nt(e,!0,-1)&&e.lineIndent<=t){s.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,Ki(e,t,J0,!1,!0),s.push(e.result),nt(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)ae(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function tL(e,t,r){var n,i,s,o,a,c,l=e.tag,u=e.anchor,f={},h=Object.create(null),m=null,y=null,E=null,v=!1,g=!1,p;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),p=e.input.charCodeAt(e.position);p!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ae(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(p===63||p===58)&&Yt(n))p===63?(v&&(Ii(e,f,h,m,y,null,o,a,c),m=y=E=null),g=!0,v=!0,i=!0):v?(v=!1,i=!0):ae(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=n;else{if(o=e.line,a=e.lineStart,c=e.position,!Ki(e,r,Y0,!1,!0))break;if(e.line===s){for(p=e.input.charCodeAt(e.position);Zn(p);)p=e.input.charCodeAt(++e.position);if(p===58)p=e.input.charCodeAt(++e.position),Yt(p)||ae(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Ii(e,f,h,m,y,null,o,a,c),m=y=E=null),g=!0,v=!1,i=!1,m=e.tag,y=e.result;else if(g)ae(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(g)ae(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===s||e.lineIndent>t)&&(v&&(o=e.line,a=e.lineStart,c=e.position),Ki(e,t,Va,!0,i)&&(v?y=e.result:E=e.result),v||(Ii(e,f,h,m,y,E,o,a,c),m=y=E=null),nt(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&p!==0)ae(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&Ii(e,f,h,m,y,null,o,a,c),g&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=f),g}function rL(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&ae(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):ae(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Yt(o);)o===33&&(n?ae(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),X0.test(i)||ae(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),zk.test(s)&&ae(e,"tag suffix cannot contain flow indicator characters")}s&&!Q0.test(s)&&ae(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{ae(e,"tag name is malformed: "+s)}return r?e.tag=s:bn.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:ae(e,'undeclared tag handle "'+i+'"'),!0}function nL(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&ae(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Yt(r)&&!Ri(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ae(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function iL(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Yt(n)&&!Ri(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&ae(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),bn.call(e.anchorMap,r)||ae(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],nt(e,!0,-1),!0}function Ki(e,t,r,n,i){var s,o,a,c=1,l=!1,u=!1,f,h,m,y,E,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Va===r||J0===r,n&&nt(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;rL(e)||nL(e);)nt(e,!0,-1)?(l=!0,a=s,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=l||i),(c===1||Va===r)&&(qa===r||Y0===r?E=t:E=t+1,v=e.position-e.lineStart,c===1?a&&(Mp(e,v)||tL(e,v,E))||Zk(e,E)?u=!0:(o&&eL(e,E)||Xk(e,E)||Qk(e,E)?u=!0:iL(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&ae(e,"alias node should not have any properties")):Jk(e,E,qa===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(u=a&&Mp(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ae(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,h=e.implicitTypes.length;f<h;f+=1)if(y=e.implicitTypes[f],y.resolve(e.result)){e.result=y.construct(e.result),e.tag=y.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(bn.call(e.typeMap[e.kind||"fallback"],e.tag))y=e.typeMap[e.kind||"fallback"][e.tag];else for(y=null,m=e.typeMap.multi[e.kind||"fallback"],f=0,h=m.length;f<h;f+=1)if(e.tag.slice(0,m[f].tag.length)===m[f].tag){y=m[f];break}y||ae(e,"unknown tag !<"+e.tag+">"),e.result!==null&&y.kind!==e.kind&&ae(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+y.kind+'", not "'+e.kind+'"'),y.resolve(e.result,e.tag)?(e.result=y.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ae(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function sL(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(nt(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Yt(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&ae(e,"directive name must not be less than one character in length");o!==0;){for(;Zn(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!kr(o));break}if(kr(o))break;for(r=e.position;o!==0&&!Yt(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&md(e),bn.call(Lp,n)?Lp[n](e,n,i):Ba(e,'unknown document directive "'+n+'"')}if(nt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,nt(e,!0,-1)):s&&ae(e,"directives end mark is expected"),Ki(e,e.lineIndent-1,Va,!1,!0),nt(e,!0,-1),e.checkLineBreaks&&Bk.test(e.input.slice(t,e.position))&&Ba(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&vc(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,nt(e,!0,-1));return}if(e.position<e.length-1)ae(e,"end of the stream or a document separator is expected");else return}function rv(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Yk(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,ae(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)sL(r);return r.documents}function oL(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=rv(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function aL(e,t){var r=rv(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new K0("expected a single document in the stream, but found more")}}dd.loadAll=oL;dd.load=aL;var nv={},_c=Or,Co=Ao,cL=pd,iv=Object.prototype.toString,sv=Object.prototype.hasOwnProperty,yd=65279,lL=9,co=10,uL=13,fL=32,dL=33,hL=34,Xl=35,pL=37,mL=38,gL=39,yL=42,ov=44,vL=45,za=58,_L=61,$L=62,EL=63,wL=64,av=91,cv=93,SL=96,lv=123,bL=124,uv=125,Tt={};Tt[0]="\\0";Tt[7]="\\a";Tt[8]="\\b";Tt[9]="\\t";Tt[10]="\\n";Tt[11]="\\v";Tt[12]="\\f";Tt[13]="\\r";Tt[27]="\\e";Tt[34]='\\"';Tt[92]="\\\\";Tt[133]="\\N";Tt[160]="\\_";Tt[8232]="\\L";Tt[8233]="\\P";var PL=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],OL=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function TL(e,t){var r,n,i,s,o,a,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),c=e.compiledTypeMap.fallback[o],c&&sv.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[o]=a;return r}function AL(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Co("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+_c.repeat("0",n-t.length)+t}var CL=1,lo=2;function NL(e){this.schema=e.schema||cL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=_c.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=TL(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?lo:CL,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Up(e,t){for(var r=_c.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Ql(e,t){return`
`+_c.repeat(" ",e.indent*t)}function RL(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Ha(e){return e===fL||e===lL}function uo(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==yd||65536<=e&&e<=1114111}function xp(e){return uo(e)&&e!==yd&&e!==uL&&e!==co}function qp(e,t,r){var n=xp(e),i=n&&!Ha(e);return(r?n:n&&e!==ov&&e!==av&&e!==cv&&e!==lv&&e!==uv)&&e!==Xl&&!(t===za&&!i)||xp(t)&&!Ha(t)&&e===Xl||t===za&&i}function IL(e){return uo(e)&&e!==yd&&!Ha(e)&&e!==vL&&e!==EL&&e!==za&&e!==ov&&e!==av&&e!==cv&&e!==lv&&e!==uv&&e!==Xl&&e!==mL&&e!==yL&&e!==dL&&e!==bL&&e!==_L&&e!==$L&&e!==gL&&e!==hL&&e!==pL&&e!==wL&&e!==SL}function DL(e){return!Ha(e)&&e!==za}function Ms(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function fv(e){var t=/^\n* /;return t.test(e)}var dv=1,Zl=2,hv=3,pv=4,Ci=5;function FL(e,t,r,n,i,s,o,a){var c,l=0,u=null,f=!1,h=!1,m=n!==-1,y=-1,E=IL(Ms(e,0))&&DL(Ms(e,e.length-1));if(t||o)for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=Ms(e,c),!uo(l))return Ci;E=E&&qp(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=Ms(e,c),l===co)f=!0,m&&(h=h||c-y-1>n&&e[y+1]!==" ",y=c);else if(!uo(l))return Ci;E=E&&qp(l,u,a),u=l}h=h||m&&c-y-1>n&&e[y+1]!==" "}return!f&&!h?E&&!o&&!i(e)?dv:s===lo?Ci:Zl:r>9&&fv(e)?Ci:o?s===lo?Ci:Zl:h?pv:hv}function kL(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===lo?'""':"''";if(!e.noCompatMode&&(PL.indexOf(t)!==-1||OL.test(t)))return e.quotingType===lo?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function c(l){return RL(e,l)}switch(FL(t,a,e.indent,o,c,e.quotingType,e.forceQuotes&&!n,i)){case dv:return t;case Zl:return"'"+t.replace(/'/g,"''")+"'";case hv:return"|"+Vp(t,e.indent)+Bp(Up(t,s));case pv:return">"+Vp(t,e.indent)+Bp(Up(LL(t,o),s));case Ci:return'"'+jL(t)+'"';default:throw new Co("impossible error: invalid scalar style")}}()}function Vp(e,t){var r=fv(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function Bp(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function LL(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,zp(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],c=o[2];s=c[0]===" ",n+=a+(!i&&!s&&c!==""?`
`:"")+zp(c,t),i=s}return n}function zp(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,c="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,c+=`
`+e.slice(i,s),i=s+1),o=a;return c+=`
`,e.length-i>t&&o>i?c+=e.slice(i,o)+`
`+e.slice(o+1):c+=e.slice(i),c.slice(1)}function jL(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Ms(e,i),n=Tt[r],!n&&uo(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||AL(r);return t}function ML(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(en(e,t,a,!1,!1)||typeof a>"u"&&en(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Hp(e,t,r,n){var i="",s=e.tag,o,a,c;for(o=0,a=r.length;o<a;o+=1)c=r[o],e.replacer&&(c=e.replacer.call(r,String(o),c)),(en(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&en(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Ql(e,t)),e.dump&&co===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function UL(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,c,l,u;for(o=0,a=s.length;o<a;o+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),c=s[o],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),en(e,t,c,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),en(e,t,l,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}function xL(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,c,l,u,f,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Co("sortKeys must be a boolean or a function");for(a=0,c=o.length;a<c;a+=1)h="",(!n||i!=="")&&(h+=Ql(e,t)),l=o[a],u=r[l],e.replacer&&(u=e.replacer.call(r,l,u)),en(e,t+1,l,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&co===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,f&&(h+=Ql(e,t)),en(e,t+1,u,!0,f)&&(e.dump&&co===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}function Gp(e,t,r){var n,i,s,o,a,c;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,iv.call(a.represent)==="[object Function]")n=a.represent(t,c);else if(sv.call(a.represent,c))n=a.represent[c](t,c);else throw new Co("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}function en(e,t,r,n,i,s,o){e.tag=null,e.dump=r,Gp(e,r,!1)||Gp(e,r,!0);var a=iv.call(e.dump),c=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",f,h;if(u&&(f=e.duplicates.indexOf(r),h=f!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(u&&h&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(xL(e,t,e.dump,i),h&&(e.dump="&ref_"+f+e.dump)):(UL(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Hp(e,t-1,e.dump,i):Hp(e,t,e.dump,i),h&&(e.dump="&ref_"+f+e.dump)):(ML(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&kL(e,e.dump,t,s,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Co("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function qL(e,t){var r=[],n=[],i,s;for(eu(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function eu(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)eu(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)eu(e[n[i]],t,r)}function VL(e,t){t=t||{};var r=new NL(t);r.noRefs||qL(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),en(r,0,n,!0,!0)?r.dump+`
`:""}nv.dump=VL;var mv=dd,BL=nv;function vd(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Et.Type=Ut;Et.Schema=A0;Et.FAILSAFE_SCHEMA=I0;Et.JSON_SCHEMA=M0;Et.CORE_SCHEMA=U0;Et.DEFAULT_SCHEMA=pd;Et.load=mv.load;Et.loadAll=mv.loadAll;Et.dump=BL.dump;Et.YAMLException=Ao;Et.types={binary:z0,float:j0,map:R0,null:D0,pairs:G0,set:W0,timestamp:V0,bool:F0,int:k0,merge:B0,omap:H0,seq:N0,str:C0};Et.safeLoad=vd("safeLoad","load");Et.safeLoadAll=vd("safeLoadAll","loadAll");Et.safeDump=vd("safeDump","dump");var $c={};Object.defineProperty($c,"__esModule",{value:!0});$c.Lazy=void 0;class zL{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;const t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}}$c.Lazy=zL;var Yi={},Ga={exports:{}};Ga.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Function]",y="[object GeneratorFunction]",E="[object Map]",v="[object Number]",g="[object Null]",p="[object Object]",S="[object Promise]",N="[object Proxy]",M="[object RegExp]",T="[object Set]",b="[object String]",D="[object Symbol]",O="[object Undefined]",V="[object WeakMap]",Y="[object ArrayBuffer]",H="[object DataView]",W="[object Float32Array]",G="[object Float64Array]",Q="[object Int8Array]",Z="[object Int16Array]",K="[object Int32Array]",I="[object Uint8Array]",j="[object Uint8ClampedArray]",A="[object Uint16Array]",w="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,C=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,$={};$[W]=$[G]=$[Q]=$[Z]=$[K]=$[I]=$[j]=$[A]=$[w]=!0,$[a]=$[c]=$[Y]=$[u]=$[H]=$[f]=$[h]=$[m]=$[E]=$[v]=$[p]=$[M]=$[T]=$[b]=$[V]=!1;var L=typeof it=="object"&&it&&it.Object===Object&&it,P=typeof self=="object"&&self&&self.Object===Object&&self,_=L||P||Function("return this")(),z=t&&!t.nodeType&&t,U=z&&!0&&e&&!e.nodeType&&e,te=U&&U.exports===z,fe=te&&L.process,Se=function(){try{return fe&&fe.binding&&fe.binding("util")}catch{}}(),De=Se&&Se.isTypedArray;function qe(k,B){for(var ee=-1,re=k==null?0:k.length,Me=0,de=[];++ee<re;){var Xe=k[ee];B(Xe,ee,k)&&(de[Me++]=Xe)}return de}function ke(k,B){for(var ee=-1,re=B.length,Me=k.length;++ee<re;)k[Me+ee]=B[ee];return k}function Ne(k,B){for(var ee=-1,re=k==null?0:k.length;++ee<re;)if(B(k[ee],ee,k))return!0;return!1}function Ye(k,B){for(var ee=-1,re=Array(k);++ee<k;)re[ee]=B(ee);return re}function xt(k){return function(B){return k(B)}}function At(k,B){return k.has(B)}function Ct(k,B){return k==null?void 0:k[B]}function ot(k){var B=-1,ee=Array(k.size);return k.forEach(function(re,Me){ee[++B]=[Me,re]}),ee}function tt(k,B){return function(ee){return k(B(ee))}}function er(k){var B=-1,ee=Array(k.size);return k.forEach(function(re){ee[++B]=re}),ee}var cr=Array.prototype,Nt=Function.prototype,qt=Object.prototype,lr=_["__core-js_shared__"],lt=Nt.toString,rt=qt.hasOwnProperty,ls=function(){var k=/[^.]+$/.exec(lr&&lr.keys&&lr.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),us=qt.toString,Cn=RegExp("^"+lt.call(rt).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fs=te?_.Buffer:void 0,ui=_.Symbol,ds=_.Uint8Array,Jt=qt.propertyIsEnumerable,Nc=cr.splice,Ur=ui?ui.toStringTag:void 0,Do=Object.getOwnPropertySymbols,Rc=fs?fs.isBuffer:void 0,Ic=tt(Object.keys,Object),hs=pi(_,"DataView"),tr=pi(_,"Map"),ps=pi(_,"Promise"),fi=pi(_,"Set"),ms=pi(_,"WeakMap"),xr=pi(Object,"create"),Fo=Rn(hs),Dc=Rn(tr),ko=Rn(ps),Fc=Rn(fi),Lo=Rn(ms),x=ui?ui.prototype:void 0,F=x?x.valueOf:void 0;function q(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var re=k[B];this.set(re[0],re[1])}}function X(){this.__data__=xr?xr(null):{},this.size=0}function J(k){var B=this.has(k)&&delete this.__data__[k];return this.size-=B?1:0,B}function ne(k){var B=this.__data__;if(xr){var ee=B[k];return ee===n?void 0:ee}return rt.call(B,k)?B[k]:void 0}function oe(k){var B=this.__data__;return xr?B[k]!==void 0:rt.call(B,k)}function $e(k,B){var ee=this.__data__;return this.size+=this.has(k)?0:1,ee[k]=xr&&B===void 0?n:B,this}q.prototype.clear=X,q.prototype.delete=J,q.prototype.get=ne,q.prototype.has=oe,q.prototype.set=$e;function Ee(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var re=k[B];this.set(re[0],re[1])}}function Ve(){this.__data__=[],this.size=0}function me(k){var B=this.__data__,ee=Br(B,k);if(ee<0)return!1;var re=B.length-1;return ee==re?B.pop():Nc.call(B,ee,1),--this.size,!0}function Ie(k){var B=this.__data__,ee=Br(B,k);return ee<0?void 0:B[ee][1]}function Be(k){return Br(this.__data__,k)>-1}function ce(k,B){var ee=this.__data__,re=Br(ee,k);return re<0?(++this.size,ee.push([k,B])):ee[re][1]=B,this}Ee.prototype.clear=Ve,Ee.prototype.delete=me,Ee.prototype.get=Ie,Ee.prototype.has=Be,Ee.prototype.set=ce;function Oe(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var re=k[B];this.set(re[0],re[1])}}function Je(){this.size=0,this.__data__={hash:new q,map:new(tr||Ee),string:new q}}function Le(k){var B=Uo(this,k).delete(k);return this.size-=B?1:0,B}function Tr(k){return Uo(this,k).get(k)}function rr(k){return Uo(this,k).has(k)}function nr(k,B){var ee=Uo(this,k),re=ee.size;return ee.set(k,B),this.size+=ee.size==re?0:1,this}Oe.prototype.clear=Je,Oe.prototype.delete=Le,Oe.prototype.get=Tr,Oe.prototype.has=rr,Oe.prototype.set=nr;function ur(k){var B=-1,ee=k==null?0:k.length;for(this.__data__=new Oe;++B<ee;)this.add(k[B])}function qr(k){return this.__data__.set(k,n),this}function Vt(k){return this.__data__.has(k)}ur.prototype.add=ur.prototype.push=qr,ur.prototype.has=Vt;function at(k){var B=this.__data__=new Ee(k);this.size=B.size}function Vr(){this.__data__=new Ee,this.size=0}function fr(k){var B=this.__data__,ee=B.delete(k);return this.size=B.size,ee}function Nn(k){return this.__data__.get(k)}function jo(k){return this.__data__.has(k)}function Mo(k,B){var ee=this.__data__;if(ee instanceof Ee){var re=ee.__data__;if(!tr||re.length<r-1)return re.push([k,B]),this.size=++ee.size,this;ee=this.__data__=new Oe(re)}return ee.set(k,B),this.size=ee.size,this}at.prototype.clear=Vr,at.prototype.delete=fr,at.prototype.get=Nn,at.prototype.has=jo,at.prototype.set=Mo;function di(k,B){var ee=xo(k),re=!ee&&xv(k),Me=!ee&&!re&&kc(k),de=!ee&&!re&&!Me&&Od(k),Xe=ee||re||Me||de,ut=Xe?Ye(k.length,String):[],pt=ut.length;for(var ze in k)(B||rt.call(k,ze))&&!(Xe&&(ze=="length"||Me&&(ze=="offset"||ze=="parent")||de&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||kv(ze,pt)))&&ut.push(ze);return ut}function Br(k,B){for(var ee=k.length;ee--;)if(wd(k[ee][0],B))return ee;return-1}function hi(k,B,ee){var re=B(k);return xo(k)?re:ke(re,ee(k))}function tn(k){return k==null?k===void 0?O:g:Ur&&Ur in Object(k)?Dv(k):Uv(k)}function gs(k){return ys(k)&&tn(k)==a}function rn(k,B,ee,re,Me){return k===B?!0:k==null||B==null||!ys(k)&&!ys(B)?k!==k&&B!==B:Tv(k,B,ee,re,rn,Me)}function Tv(k,B,ee,re,Me,de){var Xe=xo(k),ut=xo(B),pt=Xe?c:nn(k),ze=ut?c:nn(B);pt=pt==a?p:pt,ze=ze==a?p:ze;var Xt=pt==p,dr=ze==p,wt=pt==ze;if(wt&&kc(k)){if(!kc(B))return!1;Xe=!0,Xt=!1}if(wt&&!Xt)return de||(de=new at),Xe||Od(k)?$d(k,B,ee,re,Me,de):Rv(k,B,pt,ee,re,Me,de);if(!(ee&i)){var ir=Xt&&rt.call(k,"__wrapped__"),sr=dr&&rt.call(B,"__wrapped__");if(ir||sr){var sn=ir?k.value():k,zr=sr?B.value():B;return de||(de=new at),Me(sn,zr,ee,re,de)}}return wt?(de||(de=new at),Iv(k,B,ee,re,Me,de)):!1}function Av(k){if(!Pd(k)||jv(k))return!1;var B=Sd(k)?Cn:C;return B.test(Rn(k))}function Cv(k){return ys(k)&&bd(k.length)&&!!$[tn(k)]}function Nv(k){if(!Mv(k))return Ic(k);var B=[];for(var ee in Object(k))rt.call(k,ee)&&ee!="constructor"&&B.push(ee);return B}function $d(k,B,ee,re,Me,de){var Xe=ee&i,ut=k.length,pt=B.length;if(ut!=pt&&!(Xe&&pt>ut))return!1;var ze=de.get(k);if(ze&&de.get(B))return ze==B;var Xt=-1,dr=!0,wt=ee&s?new ur:void 0;for(de.set(k,B),de.set(B,k);++Xt<ut;){var ir=k[Xt],sr=B[Xt];if(re)var sn=Xe?re(sr,ir,Xt,B,k,de):re(ir,sr,Xt,k,B,de);if(sn!==void 0){if(sn)continue;dr=!1;break}if(wt){if(!Ne(B,function(zr,In){if(!At(wt,In)&&(ir===zr||Me(ir,zr,ee,re,de)))return wt.push(In)})){dr=!1;break}}else if(!(ir===sr||Me(ir,sr,ee,re,de))){dr=!1;break}}return de.delete(k),de.delete(B),dr}function Rv(k,B,ee,re,Me,de,Xe){switch(ee){case H:if(k.byteLength!=B.byteLength||k.byteOffset!=B.byteOffset)return!1;k=k.buffer,B=B.buffer;case Y:return!(k.byteLength!=B.byteLength||!de(new ds(k),new ds(B)));case u:case f:case v:return wd(+k,+B);case h:return k.name==B.name&&k.message==B.message;case M:case b:return k==B+"";case E:var ut=ot;case T:var pt=re&i;if(ut||(ut=er),k.size!=B.size&&!pt)return!1;var ze=Xe.get(k);if(ze)return ze==B;re|=s,Xe.set(k,B);var Xt=$d(ut(k),ut(B),re,Me,de,Xe);return Xe.delete(k),Xt;case D:if(F)return F.call(k)==F.call(B)}return!1}function Iv(k,B,ee,re,Me,de){var Xe=ee&i,ut=Ed(k),pt=ut.length,ze=Ed(B),Xt=ze.length;if(pt!=Xt&&!Xe)return!1;for(var dr=pt;dr--;){var wt=ut[dr];if(!(Xe?wt in B:rt.call(B,wt)))return!1}var ir=de.get(k);if(ir&&de.get(B))return ir==B;var sr=!0;de.set(k,B),de.set(B,k);for(var sn=Xe;++dr<pt;){wt=ut[dr];var zr=k[wt],In=B[wt];if(re)var Td=Xe?re(In,zr,wt,B,k,de):re(zr,In,wt,k,B,de);if(!(Td===void 0?zr===In||Me(zr,In,ee,re,de):Td)){sr=!1;break}sn||(sn=wt=="constructor")}if(sr&&!sn){var qo=k.constructor,Vo=B.constructor;qo!=Vo&&"constructor"in k&&"constructor"in B&&!(typeof qo=="function"&&qo instanceof qo&&typeof Vo=="function"&&Vo instanceof Vo)&&(sr=!1)}return de.delete(k),de.delete(B),sr}function Ed(k){return hi(k,Bv,Fv)}function Uo(k,B){var ee=k.__data__;return Lv(B)?ee[typeof B=="string"?"string":"hash"]:ee.map}function pi(k,B){var ee=Ct(k,B);return Av(ee)?ee:void 0}function Dv(k){var B=rt.call(k,Ur),ee=k[Ur];try{k[Ur]=void 0;var re=!0}catch{}var Me=us.call(k);return re&&(B?k[Ur]=ee:delete k[Ur]),Me}var Fv=Do?function(k){return k==null?[]:(k=Object(k),qe(Do(k),function(B){return Jt.call(k,B)}))}:zv,nn=tn;(hs&&nn(new hs(new ArrayBuffer(1)))!=H||tr&&nn(new tr)!=E||ps&&nn(ps.resolve())!=S||fi&&nn(new fi)!=T||ms&&nn(new ms)!=V)&&(nn=function(k){var B=tn(k),ee=B==p?k.constructor:void 0,re=ee?Rn(ee):"";if(re)switch(re){case Fo:return H;case Dc:return E;case ko:return S;case Fc:return T;case Lo:return V}return B});function kv(k,B){return B=B??o,!!B&&(typeof k=="number"||d.test(k))&&k>-1&&k%1==0&&k<B}function Lv(k){var B=typeof k;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?k!=="__proto__":k===null}function jv(k){return!!ls&&ls in k}function Mv(k){var B=k&&k.constructor,ee=typeof B=="function"&&B.prototype||qt;return k===ee}function Uv(k){return us.call(k)}function Rn(k){if(k!=null){try{return lt.call(k)}catch{}try{return k+""}catch{}}return""}function wd(k,B){return k===B||k!==k&&B!==B}var xv=gs(function(){return arguments}())?gs:function(k){return ys(k)&&rt.call(k,"callee")&&!Jt.call(k,"callee")},xo=Array.isArray;function qv(k){return k!=null&&bd(k.length)&&!Sd(k)}var kc=Rc||Hv;function Vv(k,B){return rn(k,B)}function Sd(k){if(!Pd(k))return!1;var B=tn(k);return B==m||B==y||B==l||B==N}function bd(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=o}function Pd(k){var B=typeof k;return k!=null&&(B=="object"||B=="function")}function ys(k){return k!=null&&typeof k=="object"}var Od=De?xt(De):Cv;function Bv(k){return qv(k)?di(k):Nv(k)}function zv(){return[]}function Hv(){return!1}e.exports=Vv})(Ga,Ga.exports);var HL=Ga.exports;Object.defineProperty(Yi,"__esModule",{value:!0});Yi.createTempUpdateFile=Yi.DownloadedUpdateHelper=void 0;const GL=es,WL=ct,Wp=HL,xn=An,Qs=we;class KL{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return Qs.join(this.cacheDir,"pending")}async validateDownloadedPath(t,r,n,i){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return Wp(this.versionInfo,r)&&Wp(this.fileInfo.info,n.info)&&await(0,xn.pathExists)(t)?t:null;const s=await this.getValidCachedUpdateFile(n,i);return s===null?null:(i.info(`Update has already been downloaded to ${t}).`),this._file=s,s)}async setDownloadedFile(t,r,n,i,s,o){this._file=t,this._packageFile=r,this.versionInfo=n,this.fileInfo=i,this._downloadedFileInfo={fileName:s,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},o&&await(0,xn.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,xn.emptyDir)(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,r){var n;const i=this.getUpdateInfoFile();if(!await(0,xn.pathExists)(i))return null;let o;try{o=await(0,xn.readJson)(i)}catch(u){let f="No cached update info available";return u.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),f+=` (error on read: ${u.message})`),r.info(f),null}if(!((n=(o==null?void 0:o.fileName)!==null)!==null&&n!==void 0?n:!1))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==o.sha512)return r.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${o.sha512}, expected: ${t.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const c=Qs.join(this.cacheDirForPendingUpdate,o.fileName);if(!await(0,xn.pathExists)(c))return r.info("Cached update file doesn't exist"),null;const l=await YL(c);return t.info.sha512!==l?(r.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${l}, expected: ${t.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=o,c)}getUpdateInfoFile(){return Qs.join(this.cacheDirForPendingUpdate,"update-info.json")}}Yi.DownloadedUpdateHelper=KL;function YL(e,t="sha512",r="base64",n){return new Promise((i,s)=>{const o=(0,GL.createHash)(t);o.on("error",s).setEncoding(r),(0,WL.createReadStream)(e,{...n,highWaterMark:1024*1024}).on("error",s).on("end",()=>{o.end(),i(o.read())}).pipe(o,{end:!1})})}async function JL(e,t,r){let n=0,i=Qs.join(t,e);for(let s=0;s<3;s++)try{return await(0,xn.unlink)(i),i}catch(o){if(o.code==="ENOENT")return i;r.warn(`Error on remove temp update file: ${o}`),i=Qs.join(t,`${n++}-${e}`)}return i}Yi.createTempUpdateFile=JL;var Ec={},wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.getAppCacheDir=void 0;const yl=we,XL=Tn;function QL(){const e=(0,XL.homedir)();let t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||yl.join(e,"AppData","Local"):process.platform==="darwin"?t=yl.join(e,"Library","Caches"):t=process.env.XDG_CACHE_HOME||yl.join(e,".cache"),t}wc.getAppCacheDir=QL;Object.defineProperty(Ec,"__esModule",{value:!0});Ec.ElectronAppAdapter=void 0;const Kp=we,ZL=wc;class ej{constructor(t=he.app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?Kp.join(process.resourcesPath,"app-update.yml"):Kp.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,ZL.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(t){this.app.once("quit",(r,n)=>t(n))}}Ec.ElectronAppAdapter=ej;var gv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronHttpExecutor=e.getNetSession=e.NET_SESSION_NAME=void 0;const t=st();e.NET_SESSION_NAME="electron-updater";function r(){return he.session.fromPartition(e.NET_SESSION_NAME,{cache:!1})}e.getNetSession=r;class n extends t.HttpExecutor{constructor(s){super(),this.proxyLoginCallback=s,this.cachedSession=null}async download(s,o,a){return await a.cancellationToken.createPromise((c,l,u)=>{const f={headers:a.headers||void 0,redirect:"manual"};(0,t.configureRequestUrl)(s,f),(0,t.configureRequestOptions)(f),this.doDownload(f,{destination:o,options:a,onCancel:u,callback:h=>{h==null?c(o):l(h)},responseHandler:null},0)})}createRequest(s,o){s.headers&&s.headers.Host&&(s.host=s.headers.Host,delete s.headers.Host),this.cachedSession==null&&(this.cachedSession=r());const a=he.net.request({...s,session:this.cachedSession});return a.on("response",o),this.proxyLoginCallback!=null&&a.on("login",this.proxyLoginCallback),a}addRedirectHandlers(s,o,a,c,l){s.on("redirect",(u,f,h)=>{s.abort(),c>this.maxRedirects?a(this.createMaxRedirectError()):l(t.HttpExecutor.prepareRedirectUrlOptions(h,o))})}}e.ElectronHttpExecutor=n})(gv);var No={},Ot={},tj=1/0,rj="[object Symbol]",yv=/[\\^$.*+?()[\]{}|]/g,nj=RegExp(yv.source),ij=typeof it=="object"&&it&&it.Object===Object&&it,sj=typeof self=="object"&&self&&self.Object===Object&&self,oj=ij||sj||Function("return this")(),aj=Object.prototype,cj=aj.toString,Yp=oj.Symbol,Jp=Yp?Yp.prototype:void 0,Xp=Jp?Jp.toString:void 0;function lj(e){if(typeof e=="string")return e;if(fj(e))return Xp?Xp.call(e):"";var t=e+"";return t=="0"&&1/e==-tj?"-0":t}function uj(e){return!!e&&typeof e=="object"}function fj(e){return typeof e=="symbol"||uj(e)&&cj.call(e)==rj}function dj(e){return e==null?"":lj(e)}function hj(e){return e=dj(e),e&&nj.test(e)?e.replace(yv,"\\$&"):e}var pj=hj;Object.defineProperty(Ot,"__esModule",{value:!0});Ot.blockmapFiles=Ot.getChannelFilename=Ot.newUrlFromBase=Ot.newBaseUrl=void 0;const vv=ts,mj=pj;function gj(e){const t=new vv.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}Ot.newBaseUrl=gj;function tu(e,t,r=!1){const n=new vv.URL(e,t),i=t.search;return i!=null&&i.length!==0?n.search=i:r&&(n.search=`noCache=${Date.now().toString(32)}`),n}Ot.newUrlFromBase=tu;function yj(e){return`${e}.yml`}Ot.getChannelFilename=yj;function vj(e,t,r){const n=tu(`${e.pathname}.blockmap`,e);return[tu(`${e.pathname.replace(new RegExp(mj(r),"g"),t)}.blockmap`,e),n]}Ot.blockmapFiles=vj;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.resolveFiles=Qe.getFileList=Qe.parseUpdateInfo=Qe.findFile=Qe.Provider=void 0;const Pn=st(),_j=Et,Qp=Ot;class $j{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){const t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(t==="x64"?"":`-${t}`)}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return`${t}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,r,n){return this.executor.request(this.createRequestOptions(t,r),n)}createRequestOptions(t,r){const n={};return this.requestHeaders==null?r!=null&&(n.headers=r):n.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},(0,Pn.configureRequestUrl)(t,n),n}}Qe.Provider=$j;function Ej(e,t,r){if(e.length===0)throw(0,Pn.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const n=e.find(i=>i.url.pathname.toLowerCase().endsWith(`.${t}`));return n??(r==null?e[0]:e.find(i=>!r.some(s=>i.url.pathname.toLowerCase().endsWith(`.${s}`))))}Qe.findFile=Ej;function wj(e,t,r){if(e==null)throw(0,Pn.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let n;try{n=(0,_j.load)(e)}catch(i){throw(0,Pn.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): ${i.stack||i.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return n}Qe.parseUpdateInfo=wj;function _v(e){const t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw(0,Pn.newError)(`No files provided: ${(0,Pn.safeStringifyJson)(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}Qe.getFileList=_v;function Sj(e,t,r=n=>n){const i=_v(e).map(a=>{if(a.sha2==null&&a.sha512==null)throw(0,Pn.newError)(`Update info doesn't contain nor sha256 neither sha512 checksum: ${(0,Pn.safeStringifyJson)(a)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:(0,Qp.newUrlFromBase)(r(a.url),t),info:a}}),s=e.packages,o=s==null?null:s[process.arch]||s.ia32;return o!=null&&(i[0].packageInfo={...o,path:(0,Qp.newUrlFromBase)(r(o.path),t).href}),i}Qe.resolveFiles=Sj;Object.defineProperty(No,"__esModule",{value:!0});No.GenericProvider=void 0;const Zp=st(),vl=Ot,_l=Qe;class bj extends _l.Provider{constructor(t,r,n){super(n),this.configuration=t,this.updater=r,this.baseUrl=(0,vl.newBaseUrl)(this.configuration.url)}get channel(){const t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){const t=(0,vl.getChannelFilename)(this.channel),r=(0,vl.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,_l.parseUpdateInfo)(await this.httpRequest(r),t,r)}catch(i){if(i instanceof Zp.HttpError&&i.statusCode===404)throw(0,Zp.newError)(`Cannot find channel "${t}" update info: ${i.stack||i.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&n<3){await new Promise((s,o)=>{try{setTimeout(s,1e3*n)}catch(a){o(a)}});continue}throw i}}resolveFiles(t){return(0,_l.resolveFiles)(t,this.baseUrl)}}No.GenericProvider=bj;var Ji={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.BitbucketProvider=void 0;const em=st(),$l=Ot,El=Qe;class Pj extends El.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r;const{owner:i,slug:s}=t;this.baseUrl=(0,$l.newBaseUrl)(`https://api.bitbucket.org/2.0/repositories/${i}/${s}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const t=new em.CancellationToken,r=(0,$l.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,$l.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,void 0,t);return(0,El.parseUpdateInfo)(i,r,n)}catch(i){throw(0,em.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,El.resolveFiles)(t,this.baseUrl)}toString(){const{owner:t,slug:r}=this.configuration;return`Bitbucket (owner: ${t}, slug: ${r}, channel: ${this.channel})`}}Sc.BitbucketProvider=Pj;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.computeReleaseNotes=Zr.GitHubProvider=Zr.BaseGitHubProvider=void 0;const Wr=st(),Zs=Qf,Oj=ts,Di=Ot,ru=Qe,wl=/\/tag\/([^/]+)$/;class $v extends ru.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=(0,Di.newBaseUrl)((0,Wr.githubUrl)(t,r));const i=r==="github.com"?"api.github.com":r;this.baseApiUrl=(0,Di.newBaseUrl)((0,Wr.githubUrl)(t,i))}computeGithubBasePath(t){const r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?`/api/v3${t}`:t}}Zr.BaseGitHubProvider=$v;class Tj extends $v{constructor(t,r,n){super(t,"github.com",n),this.options=t,this.updater=r}async getLatestVersion(){var t,r,n,i;const s=new Wr.CancellationToken,o=await this.httpRequest((0,Di.newUrlFromBase)(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},s),a=(0,Wr.parseXml)(o);let c=a.element("entry",!1,"No published versions on GitHub"),l=null;try{if(this.updater.allowPrerelease){const E=((t=this.updater)===null||t===void 0?void 0:t.channel)||((r=Zs.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if(E===null)l=wl.exec(c.element("link").attribute("href"))[1];else for(const v of a.getElements("entry")){const g=wl.exec(v.element("link").attribute("href"));if(g===null)continue;const p=g[1],S=((n=Zs.prerelease(p))===null||n===void 0?void 0:n[0])||null,N=!E||["alpha","beta"].includes(E),M=S!==null&&!["alpha","beta"].includes(String(S));if(N&&!M&&!(E==="beta"&&S==="alpha")){l=p;break}if(S&&S===E){l=p;break}}}else{l=await this.getLatestTagName(s);for(const E of a.getElements("entry"))if(wl.exec(E.element("link").attribute("href"))[1]===l){c=E;break}}}catch(E){throw(0,Wr.newError)(`Cannot parse releases feed: ${E.stack||E.message},
XML:
${o}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(l==null)throw(0,Wr.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let u,f="",h="";const m=async E=>{f=(0,Di.getChannelFilename)(E),h=(0,Di.newUrlFromBase)(this.getBaseDownloadPath(String(l),f),this.baseUrl);const v=this.createRequestOptions(h);try{return await this.executor.request(v,s)}catch(g){throw g instanceof Wr.HttpError&&g.statusCode===404?(0,Wr.newError)(`Cannot find ${f} in the latest release artifacts (${h}): ${g.stack||g.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):g}};try{const E=this.updater.allowPrerelease?this.getCustomChannelName(String(((i=Zs.prerelease(l))===null||i===void 0?void 0:i[0])||"latest")):this.getDefaultChannelName();u=await m(E)}catch(E){if(this.updater.allowPrerelease)u=await m(this.getDefaultChannelName());else throw E}const y=(0,ru.parseUpdateInfo)(u,f,h);return y.releaseName==null&&(y.releaseName=c.elementValueOrEmpty("title")),y.releaseNotes==null&&(y.releaseNotes=Ev(this.updater.currentVersion,this.updater.fullChangelog,a,c)),{tag:l,...y}}async getLatestTagName(t){const r=this.options,n=r.host==null||r.host==="github.com"?(0,Di.newUrlFromBase)(`${this.basePath}/latest`,this.baseUrl):new Oj.URL(`${this.computeGithubBasePath(`/repos/${r.owner}/${r.repo}/releases`)}/latest`,this.baseApiUrl);try{const i=await this.httpRequest(n,{Accept:"application/json"},t);return i==null?null:JSON.parse(i).tag_name}catch(i){throw(0,Wr.newError)(`Unable to find latest version on GitHub (${n}), please ensure a production release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(t){return(0,ru.resolveFiles)(t,this.baseUrl,r=>this.getBaseDownloadPath(t.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(t,r){return`${this.basePath}/download/${t}/${r}`}}Zr.GitHubProvider=Tj;function tm(e){const t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function Ev(e,t,r,n){if(!t)return tm(n);const i=[];for(const s of r.getElements("entry")){const o=/\/tag\/v?([^/]+)$/.exec(s.element("link").attribute("href"))[1];Zs.lt(e,o)&&i.push({version:o,note:tm(s)})}return i.sort((s,o)=>Zs.rcompare(s.version,o.version))}Zr.computeReleaseNotes=Ev;var bc={};Object.defineProperty(bc,"__esModule",{value:!0});bc.KeygenProvider=void 0;const rm=st(),Sl=Ot,bl=Qe;class Aj extends bl.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r,this.baseUrl=(0,Sl.newBaseUrl)(`https://api.keygen.sh/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const t=new rm.CancellationToken,r=(0,Sl.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,Sl.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},t);return(0,bl.parseUpdateInfo)(i,r,n)}catch(i){throw(0,rm.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,bl.resolveFiles)(t,this.baseUrl)}toString(){const{account:t,product:r,platform:n}=this.configuration;return`Keygen (account: ${t}, product: ${r}, platform: ${n}, channel: ${this.channel})`}}bc.KeygenProvider=Aj;var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.PrivateGitHubProvider=void 0;const bi=st(),Cj=Et,Nj=we,nm=ts,im=Ot,Rj=Zr,Ij=Qe;class Dj extends Rj.BaseGitHubProvider{constructor(t,r,n,i){super(t,"api.github.com",i),this.updater=r,this.token=n}createRequestOptions(t,r){const n=super.createRequestOptions(t,r);return n.redirect="manual",n}async getLatestVersion(){const t=new bi.CancellationToken,r=(0,im.getChannelFilename)(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(t),i=n.assets.find(a=>a.name===r);if(i==null)throw(0,bi.newError)(`Cannot find ${r} in the release ${n.html_url||n.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const s=new nm.URL(i.url);let o;try{o=(0,Cj.load)(await this.httpRequest(s,this.configureHeaders("application/octet-stream"),t))}catch(a){throw a instanceof bi.HttpError&&a.statusCode===404?(0,bi.newError)(`Cannot find ${r} in the latest release artifacts (${s}): ${a.stack||a.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):a}return o.assets=n.assets,o}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:`token ${this.token}`}}async getLatestVersionInfo(t){const r=this.updater.allowPrerelease;let n=this.basePath;r||(n=`${n}/latest`);const i=(0,im.newUrlFromBase)(n,this.baseUrl);try{const s=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return r?s.find(o=>o.prerelease)||s[0]:s}catch(s){throw(0,bi.newError)(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${s.stack||s.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(t){return(0,Ij.getFileList)(t).map(r=>{const n=Nj.posix.basename(r.url).replace(/ /g,"-"),i=t.assets.find(s=>s!=null&&s.name===n);if(i==null)throw(0,bi.newError)(`Cannot find asset "${n}" in: ${JSON.stringify(t.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new nm.URL(i.url),info:r}})}}Pc.PrivateGitHubProvider=Dj;Object.defineProperty(Ji,"__esModule",{value:!0});Ji.createClient=Ji.isUrlProbablySupportMultiRangeRequests=void 0;const ua=st(),Fj=Sc,sm=No,kj=Zr,Lj=bc,jj=Pc;function wv(e){return!e.includes("s3.amazonaws.com")}Ji.isUrlProbablySupportMultiRangeRequests=wv;function Mj(e,t,r){if(typeof e=="string")throw(0,ua.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const n=e.provider;switch(n){case"github":{const i=e,s=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return s==null?new kj.GitHubProvider(i,t,r):new jj.PrivateGitHubProvider(i,t,s,r)}case"bitbucket":return new Fj.BitbucketProvider(e,t,r);case"keygen":return new Lj.KeygenProvider(e,t,r);case"s3":case"spaces":return new sm.GenericProvider({provider:"generic",url:(0,ua.getS3LikeProviderBaseUrl)(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{const i=e;return new sm.GenericProvider(i,t,{...r,isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&wv(i.url)})}case"custom":{const i=e,s=i.updateProvider;if(!s)throw(0,ua.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new s(i,t,r)}default:throw(0,ua.newError)(`Unsupported provider: ${n}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}Ji.createClient=Mj;var om;function _d(){if(om)return Un;om=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.NoOpLogger=Un.AppUpdater=void 0;const e=st(),t=es,r=Qi,n=An,i=Et,s=$c,o=we,a=Qf,c=Yi,l=Ec,u=gv,f=No,h=cs(),m=Ji;let y=class Sv extends r.EventEmitter{get channel(){return this._channel}set channel(p){if(this._channel!=null){if(typeof p!="string")throw(0,e.newError)(`Channel must be a string, but got: ${p}`,"ERR_UPDATER_INVALID_CHANNEL");if(p.length===0)throw(0,e.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=p,this.allowDowngrade=!0}addAuthHeader(p){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:p})}get netSession(){return(0,u.getNetSession)()}get logger(){return this._logger}set logger(p){this._logger=p??new v}set updateConfigPath(p){this.clientPromise=null,this._appUpdateConfigPath=p,this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig())}constructor(p,S){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new h.UpdaterSignal(this),this._appUpdateConfigPath=null,this.clientPromise=null,this.stagingUserIdPromise=new s.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",T=>{this._logger.error(`Error: ${T.stack||T.message}`)}),S==null?(this.app=new l.ElectronAppAdapter,this.httpExecutor=new u.ElectronHttpExecutor((T,b)=>this.emit("login",T,b))):(this.app=S,this.httpExecutor=null);const N=this.app.version,M=(0,a.parse)(N);if(M==null)throw(0,e.newError)(`App version is not a valid semver version: "${N}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=M,this.allowPrerelease=E(M),p!=null&&(this.setFeedURL(p),typeof p!="string"&&p.requestHeaders&&(this.requestHeaders=p.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(p){const S=this.createProviderRuntimeOptions();let N;typeof p=="string"?N=new f.GenericProvider({provider:"generic",url:p},this,{...S,isUseMultipleRangeRequest:(0,m.isUrlProbablySupportMultiRangeRequests)(p)}):N=(0,m.createClient)(p,this,S),this.clientPromise=Promise.resolve(N)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let p=this.checkForUpdatesPromise;if(p!=null)return this._logger.info("Checking for update (already in progress)"),p;const S=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),p=this.doCheckForUpdates().then(N=>(S(),N)).catch(N=>{throw S(),this.emit("error",N,`Cannot check for updates: ${(N.stack||N).toString()}`),N}),this.checkForUpdatesPromise=p,p}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(p){return this.checkForUpdates().then(S=>S!=null&&S.downloadPromise?(S.downloadPromise.then(()=>{const N=Sv.formatDownloadNotification(S.updateInfo.version,this.app.name,p);new he.Notification(N).show()}),S):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),S))}static formatDownloadNotification(p,S,N){return N==null&&(N={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),N={title:N.title.replace("{appName}",S).replace("{version}",p),body:N.body.replace("{appName}",S).replace("{version}",p)},N}async isStagingMatch(p){const S=p.stagingPercentage;let N=S;if(N==null)return!0;if(N=parseInt(N,10),isNaN(N))return this._logger.warn(`Staging percentage is NaN: ${S}`),!0;N=N/100;const M=await this.stagingUserIdPromise.value,b=e.UUID.parse(M).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${N}, percentage: ${b}, user id: ${M}`),b<N}computeFinalHeaders(p){return this.requestHeaders!=null&&Object.assign(p,this.requestHeaders),p}async isUpdateAvailable(p){const S=(0,a.parse)(p.version);if(S==null)throw(0,e.newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${p.version}"`,"ERR_UPDATER_INVALID_VERSION");const N=this.currentVersion;if((0,a.eq)(S,N)||!await this.isStagingMatch(p))return!1;const T=(0,a.gt)(S,N),b=(0,a.lt)(S,N);return T?!0:this.allowDowngrade&&b}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(N=>(0,m.createClient)(N,this,this.createProviderRuntimeOptions())));const p=await this.clientPromise,S=await this.stagingUserIdPromise.value;return p.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":S})),{info:await p.getLatestVersion(),provider:p}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const p=await this.getUpdateInfoAndProvider(),S=p.info;if(!await this.isUpdateAvailable(S))return this._logger.info(`Update for version ${this.currentVersion} is not available (latest version: ${S.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",S),{versionInfo:S,updateInfo:S};this.updateInfoAndProvider=p,this.onUpdateAvailable(S);const N=new e.CancellationToken;return{versionInfo:S,updateInfo:S,cancellationToken:N,downloadPromise:this.autoDownload?this.downloadUpdate(N):null}}onUpdateAvailable(p){this._logger.info(`Found version ${p.version} (url: ${(0,e.asArray)(p.files).map(S=>S.url).join(", ")})`),this.emit("update-available",p)}downloadUpdate(p=new e.CancellationToken){const S=this.updateInfoAndProvider;if(S==null){const M=new Error("Please check update first");return this.dispatchError(M),Promise.reject(M)}this._logger.info(`Downloading update from ${(0,e.asArray)(S.info.files).map(M=>M.url).join(", ")}`);const N=M=>{if(!(M instanceof e.CancellationError))try{this.dispatchError(M)}catch(T){this._logger.warn(`Cannot dispatch error event: ${T.stack||T}`)}return M};try{return this.doDownloadUpdate({updateInfoAndProvider:S,requestHeaders:this.computeRequestHeaders(S.provider),cancellationToken:p,disableWebInstaller:this.disableWebInstaller}).catch(M=>{throw N(M)})}catch(M){return Promise.reject(N(M))}}dispatchError(p){this.emit("error",p,(p.stack||p).toString())}dispatchUpdateDownloaded(p){this.emit(h.UPDATE_DOWNLOADED,p)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,i.load)(await(0,n.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(p){const S=p.fileExtraDownloadHeaders;if(S!=null){const N=this.requestHeaders;return N==null?S:{...S,...N}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const p=o.join(this.app.userDataPath,".updaterId");try{const N=await(0,n.readFile)(p,"utf-8");if(e.UUID.check(N))return N;this._logger.warn(`Staging user id file exists, but content was invalid: ${N}`)}catch(N){N.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${N}`)}const S=e.UUID.v5((0,t.randomBytes)(4096),e.UUID.OID);this._logger.info(`Generated new staging user ID: ${S}`);try{await(0,n.outputFile)(p,S)}catch(N){this._logger.warn(`Couldn't write out staging user ID: ${N}`)}return S}get isAddNoCacheQuery(){const p=this.requestHeaders;if(p==null)return!0;for(const S of Object.keys(p)){const N=S.toLowerCase();if(N==="authorization"||N==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let p=this.downloadedUpdateHelper;if(p==null){const S=(await this.configOnDisk.value).updaterCacheDirName,N=this._logger;S==null&&N.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const M=o.join(this.app.baseCachePath,S||this.app.name);N.debug!=null&&N.debug(`updater cache dir: ${M}`),p=new c.DownloadedUpdateHelper(M),this.downloadedUpdateHelper=p}return p}async executeDownload(p){const S=p.fileInfo,N={headers:p.downloadUpdateOptions.requestHeaders,cancellationToken:p.downloadUpdateOptions.cancellationToken,sha2:S.info.sha2,sha512:S.info.sha512};this.listenerCount(h.DOWNLOAD_PROGRESS)>0&&(N.onProgress=j=>this.emit(h.DOWNLOAD_PROGRESS,j));const M=p.downloadUpdateOptions.updateInfoAndProvider.info,T=M.version,b=S.packageInfo;function D(){const j=decodeURIComponent(p.fileInfo.url.pathname);return j.endsWith(`.${p.fileExtension}`)?o.basename(j):p.fileInfo.info.url}const O=await this.getOrCreateDownloadHelper(),V=O.cacheDirForPendingUpdate;await(0,n.mkdir)(V,{recursive:!0});const Y=D();let H=o.join(V,Y);const W=b==null?null:o.join(V,`package-${T}${o.extname(b.path)||".7z"}`),G=async j=>(await O.setDownloadedFile(H,W,M,S,Y,j),await p.done({...M,downloadedFile:H}),W==null?[H]:[H,W]),Q=this._logger,Z=await O.validateDownloadedPath(H,M,S,Q);if(Z!=null)return H=Z,await G(!1);const K=async()=>(await O.clear().catch(()=>{}),await(0,n.unlink)(H).catch(()=>{})),I=await(0,c.createTempUpdateFile)(`temp-${Y}`,V,Q);try{await p.task(I,N,W,K),await(0,n.rename)(I,H)}catch(j){throw await K(),j instanceof e.CancellationError&&(Q.info("cancelled"),this.emit("update-cancelled",M)),j}return Q.info(`New version ${T} has been downloaded to ${H}`),await G(!0)}};Un.AppUpdater=y;function E(g){const p=(0,a.prerelease)(g);return p!=null&&p.length>0}class v{info(p){}warn(p){}error(p){}}return Un.NoOpLogger=v,Un}var Ts={},As={},am;function Oc(){if(am)return As;am=1,Object.defineProperty(As,"__esModule",{value:!0}),As.BaseUpdater=void 0;const e=fo,t=_d();let r=class extends t.AppUpdater{constructor(i,s){super(i,s),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(i=!1,s=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(i,i?s:this.autoRunAppAfterInstall)?setImmediate(()=>{he.autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(i){return super.executeDownload({...i,done:s=>(this.dispatchUpdateDownloaded(s),this.addQuitHandler(),Promise.resolve())})}install(i=!1,s=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const o=this.downloadedUpdateHelper,a=o==null?null:o.file,c=o==null?null:o.downloadedFileInfo;if(a==null||c==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${i}, isForceRunAfter: ${s}`),this.doInstall({installerPath:a,isSilent:i,isForceRunAfter:s,isAdminRightsRequired:c.isAdminRightsRequired})}catch(l){return this.dispatchError(l),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(i=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(i!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${i}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}wrapSudo(){const{name:i}=this.app,s=`"${i} would like to update"`,o=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),a=[o];return/kdesudo/i.test(o)?(a.push("--comment",s),a.push("-c")):/gksudo/i.test(o)?a.push("--message",s):/pkexec/i.test(o)&&a.push("--disable-internal-agent"),a.join(" ")}spawnSyncLog(i,s=[],o={}){return this._logger.info(`Executing: ${i} with args: ${s}`),(0,e.spawnSync)(i,s,{env:{...process.env,...o},encoding:"utf-8",shell:!0}).stdout.trim()}async spawnLog(i,s=[],o=void 0,a="ignore"){return this._logger.info(`Executing: ${i} with args: ${s}`),new Promise((c,l)=>{try{const u={stdio:a,env:o,detached:!0},f=(0,e.spawn)(i,s,u);f.on("error",h=>{l(h)}),f.unref(),f.pid!==void 0&&c(!0)}catch(u){l(u)}})}};return As.BaseUpdater=r,As}var Ro={},Io={},ai={},On={};Object.defineProperty(On,"__esModule",{value:!0});On.computeOperations=On.OperationKind=void 0;var Jn;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Jn||(On.OperationKind=Jn={}));function Uj(e,t,r){const n=lm(e.files),i=lm(t.files);let s=null;const o=t.files[0],a=[],c=o.name,l=n.get(c);if(l==null)throw new Error(`no file ${c} in old blockmap`);const u=i.get(c);let f=0;const{checksumToOffset:h,checksumToOldSize:m}=qj(n.get(c),l.offset,r);let y=o.offset;for(let E=0;E<u.checksums.length;y+=u.sizes[E],E++){const v=u.sizes[E],g=u.checksums[E];let p=h.get(g);p!=null&&m.get(g)!==v&&(r.warn(`Checksum ("${g}") matches, but size differs (old: ${m.get(g)}, new: ${v})`),p=void 0),p===void 0?(f++,s!=null&&s.kind===Jn.DOWNLOAD&&s.end===y?s.end+=v:(s={kind:Jn.DOWNLOAD,start:y,end:y+v},cm(s,a,g,E))):s!=null&&s.kind===Jn.COPY&&s.end===p?s.end+=v:(s={kind:Jn.COPY,start:p,end:p+v},cm(s,a,g,E))}return f>0&&r.info(`File${o.name==="file"?"":" "+o.name} has ${f} changed blocks`),a}On.computeOperations=Uj;const xj=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function cm(e,t,r,n){if(xj&&t.length!==0){const i=t[t.length-1];if(i.kind===e.kind&&e.start<i.end&&e.start>i.start){const s=[i.start,i.end,e.start,e.end].reduce((o,a)=>o<a?o:a);throw new Error(`operation (block index: ${n}, checksum: ${r}, kind: ${Jn[e.kind]}) overlaps previous operation (checksum: ${r}):
abs: ${i.start} until ${i.end} and ${e.start} until ${e.end}
rel: ${i.start-s} until ${i.end-s} and ${e.start-s} until ${e.end-s}`)}}t.push(e)}function qj(e,t,r){const n=new Map,i=new Map;let s=t;for(let o=0;o<e.checksums.length;o++){const a=e.checksums[o],c=e.sizes[o],l=i.get(a);if(l===void 0)n.set(a,s),i.set(a,c);else if(r.debug!=null){const u=l===c?"(same size)":`(size: ${l}, this size: ${c})`;r.debug(`${a} duplicated in blockmap ${u}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}s+=c}return{checksumToOffset:n,checksumToOldSize:i}}function lm(e){const t=new Map;for(const r of e)t.set(r.name,r);return t}Object.defineProperty(ai,"__esModule",{value:!0});ai.DataSplitter=ai.copyData=void 0;const fa=st(),Vj=ct,Bj=ho,zj=On,um=Buffer.from(`\r
\r
`);var fn;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(fn||(fn={}));function bv(e,t,r,n,i){const s=(0,Vj.createReadStream)("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",n),s.once("end",i),s.pipe(t,{end:!1})}ai.copyData=bv;class Hj extends Bj.Writable{constructor(t,r,n,i,s,o){super(),this.out=t,this.options=r,this.partIndexToTaskIndex=n,this.partIndexToLength=s,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=fn.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,r,n){if(this.isFinished){console.error(`Trailing ignored data: ${t.length} bytes`);return}this.handleData(t).then(n).catch(n)}async handleData(t){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw(0,fa.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const n=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=n,r=n}else if(this.remainingPartDataCount>0){const n=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=n,await this.processPartData(t,0,n),r=n}if(r!==t.length){if(this.readState===fn.HEADER){const n=this.searchHeaderListEnd(t,r);if(n===-1)return;r=n,this.readState=fn.BODY,this.headerListBuffer=null}for(;;){if(this.readState===fn.BODY)this.readState=fn.INIT;else{this.partIndex++;let o=this.partIndexToTaskIndex.get(this.partIndex);if(o==null)if(this.isFinished)o=this.options.end;else throw(0,fa.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");const a=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(a<o)await this.copyExistingData(a,o);else if(a>o)throw(0,fa.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(t,r),r===-1){this.readState=fn.HEADER;return}}const n=this.partIndexToLength[this.partIndex],i=r+n,s=Math.min(i,t.length);if(await this.processPartStarted(t,r,s),this.remainingPartDataCount=n-(s-r),this.remainingPartDataCount>0)return;if(r=i+this.boundaryLength,r>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-i);return}}}}copyExistingData(t,r){return new Promise((n,i)=>{const s=()=>{if(t===r){n();return}const o=this.options.tasks[t];if(o.kind!==zj.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}bv(o,this.out,this.options.oldFileFd,i,()=>{t++,s()})};s()})}searchHeaderListEnd(t,r){const n=t.indexOf(um,r);if(n!==-1)return n+um.length;const i=r===0?t:t.slice(r);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){const t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw(0,fa.newError)(`Expected length: ${t} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,r,n){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,r,n)}processPartData(t,r,n){this.actualPartLength+=n-r;const i=this.out;return i.write(r===0&&t.length===n?t:t.slice(r,n))?Promise.resolve():new Promise((s,o)=>{i.on("error",o),i.once("drain",()=>{i.removeListener("error",o),s()})})}}ai.DataSplitter=Hj;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.checkIsRangesSupported=Xi.executeTasksUsingMultipleRangeRequests=void 0;const nu=st(),fm=ai,dm=On;function Gj(e,t,r,n,i){const s=o=>{if(o>=t.length){e.fileMetadataBuffer!=null&&r.write(e.fileMetadataBuffer),r.end();return}const a=o+1e3;Wj(e,{tasks:t,start:o,end:Math.min(t.length,a),oldFileFd:n},r,()=>s(a),i)};return s}Xi.executeTasksUsingMultipleRangeRequests=Gj;function Wj(e,t,r,n,i){let s="bytes=",o=0;const a=new Map,c=[];for(let f=t.start;f<t.end;f++){const h=t.tasks[f];h.kind===dm.OperationKind.DOWNLOAD&&(s+=`${h.start}-${h.end-1}, `,a.set(o,f),o++,c.push(h.end-h.start))}if(o<=1){const f=h=>{if(h>=t.end){n();return}const m=t.tasks[h++];if(m.kind===dm.OperationKind.COPY)(0,fm.copyData)(m,r,t.oldFileFd,i,()=>f(h));else{const y=e.createRequestOptions();y.headers.Range=`bytes=${m.start}-${m.end-1}`;const E=e.httpExecutor.createRequest(y,v=>{iu(v,i)&&(v.pipe(r,{end:!1}),v.once("end",()=>f(h)))});e.httpExecutor.addErrorAndTimeoutHandlers(E,i),E.end()}};f(t.start);return}const l=e.createRequestOptions();l.headers.Range=s.substring(0,s.length-2);const u=e.httpExecutor.createRequest(l,f=>{if(!iu(f,i))return;const h=(0,nu.safeGetHeader)(f,"content-type"),m=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(h);if(m==null){i(new Error(`Content-Type "multipart/byteranges" is expected, but got "${h}"`));return}const y=new fm.DataSplitter(r,t,a,m[1]||m[2],c,n);y.on("error",i),f.pipe(y),f.on("end",()=>{setTimeout(()=>{u.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(u,i),u.end()}function iu(e,t){if(e.statusCode>=400)return t((0,nu.createHttpError)(e)),!1;if(e.statusCode!==206){const r=(0,nu.safeGetHeader)(e,"accept-ranges");if(r==null||r==="none")return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}Xi.checkIsRangesSupported=iu;var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.ProgressDifferentialDownloadCallbackTransform=void 0;const Kj=ho;var Fi;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Fi||(Fi={}));class Yj extends Kj.Transform{constructor(t,r,n){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=Fi.COPY,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}if(this.operationType==Fi.COPY){n(null,t);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}beginFileCopy(){this.operationType=Fi.COPY}beginRangeDownload(){this.operationType=Fi.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}}Tc.ProgressDifferentialDownloadCallbackTransform=Yj;Object.defineProperty(Io,"__esModule",{value:!0});Io.DifferentialDownloader=void 0;const Cs=st(),Pl=An,Jj=ct,Xj=ai,Qj=ts,da=On,hm=Xi,Zj=Tc;class eM{constructor(t,r,n){this.blockAwareFileInfo=t,this.httpExecutor=r,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){const t={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,Cs.configureRequestUrl)(this.options.newUrl,t),(0,Cs.configureRequestOptions)(t),t}doDownload(t,r){if(t.version!==r.version)throw new Error(`version is different (${t.version} - ${r.version}), full download is required`);const n=this.logger,i=(0,da.computeOperations)(t,r,n);n.debug!=null&&n.debug(JSON.stringify(i,null,2));let s=0,o=0;for(const c of i){const l=c.end-c.start;c.kind===da.OperationKind.DOWNLOAD?s+=l:o+=l}const a=this.blockAwareFileInfo.size;if(s+o+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==a)throw new Error(`Internal error, size mismatch: downloadSize: ${s}, copySize: ${o}, newSize: ${a}`);return n.info(`Full: ${pm(a)}, To download: ${pm(s)} (${Math.round(s/(a/100))}%)`),this.downloadFile(i)}downloadFile(t){const r=[],n=()=>Promise.all(r.map(i=>(0,Pl.close)(i.descriptor).catch(s=>{this.logger.error(`cannot close file "${i.path}": ${s}`)})));return this.doDownloadFile(t,r).then(n).catch(i=>n().catch(s=>{try{this.logger.error(`cannot close files: ${s}`)}catch(o){try{console.error(o)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(t,r){const n=await(0,Pl.open)(this.options.oldFile,"r");r.push({descriptor:n,path:this.options.oldFile});const i=await(0,Pl.open)(this.options.newFile,"w");r.push({descriptor:i,path:this.options.newFile});const s=(0,Jj.createWriteStream)(this.options.newFile,{fd:i});await new Promise((o,a)=>{const c=[];let l;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const g=[];let p=0;for(const N of t)N.kind===da.OperationKind.DOWNLOAD&&(g.push(N.end-N.start),p+=N.end-N.start);const S={expectedByteCounts:g,grandTotal:p};l=new Zj.ProgressDifferentialDownloadCallbackTransform(S,this.options.cancellationToken,this.options.onProgress),c.push(l)}const u=new Cs.DigestTransform(this.blockAwareFileInfo.sha512);u.isValidateOnEnd=!1,c.push(u),s.on("finish",()=>{s.close(()=>{r.splice(1,1);try{u.validate()}catch(g){a(g);return}o(void 0)})}),c.push(s);let f=null;for(const g of c)g.on("error",a),f==null?f=g:f=f.pipe(g);const h=c[0];let m;if(this.options.isUseMultipleRangeRequest){m=(0,hm.executeTasksUsingMultipleRangeRequests)(this,t,h,n,a),m(0);return}let y=0,E=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const v=this.createRequestOptions();v.redirect="manual",m=g=>{var p,S;if(g>=t.length){this.fileMetadataBuffer!=null&&h.write(this.fileMetadataBuffer),h.end();return}const N=t[g++];if(N.kind===da.OperationKind.COPY){l&&l.beginFileCopy(),(0,Xj.copyData)(N,h,n,a,()=>m(g));return}const M=`bytes=${N.start}-${N.end-1}`;v.headers.range=M,(S=(p=this.logger)===null||p===void 0?void 0:p.debug)===null||S===void 0||S.call(p,`download range: ${M}`),l&&l.beginRangeDownload();const T=this.httpExecutor.createRequest(v,b=>{b.on("error",a),b.on("abort",()=>{a(new Error("response has been aborted by the server"))}),b.statusCode>=400&&a((0,Cs.createHttpError)(b)),b.pipe(h,{end:!1}),b.once("end",()=>{l&&l.endRangeDownload(),++y===100?(y=0,setTimeout(()=>m(g),1e3)):m(g)})});T.on("redirect",(b,D,O)=>{this.logger.info(`Redirect to ${tM(O)}`),E=O,(0,Cs.configureRequestUrl)(new Qj.URL(E),v),T.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(T,a),T.end()},m(0)})}async readRemoteBytes(t,r){const n=Buffer.allocUnsafe(r+1-t),i=this.createRequestOptions();i.headers.range=`bytes=${t}-${r}`;let s=0;if(await this.request(i,o=>{o.copy(n,s),s+=o.length}),s!==n.length)throw new Error(`Received data length ${s} is not equal to expected ${n.length}`);return n}request(t,r){return new Promise((n,i)=>{const s=this.httpExecutor.createRequest(t,o=>{(0,hm.checkIsRangesSupported)(o,i)&&(o.on("data",r),o.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(s,i),s.end()})}}Io.DifferentialDownloader=eM;function pm(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function tM(e){const t=e.indexOf("?");return t<0?e:e.substring(0,t)}Object.defineProperty(Ro,"__esModule",{value:!0});Ro.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const Pi=An,rM=Io,nM=Nm;class iM extends rM.DifferentialDownloader{async download(){const t=this.blockAwareFileInfo,r=t.size,n=r-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,r-1);const i=Pv(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await sM(this.options.oldFile),i)}}Ro.FileWithEmbeddedBlockMapDifferentialDownloader=iM;function Pv(e){return JSON.parse((0,nM.inflateRawSync)(e).toString())}async function sM(e){const t=await(0,Pi.open)(e,"r");try{const r=(await(0,Pi.fstat)(t)).size,n=Buffer.allocUnsafe(4);await(0,Pi.read)(t,n,0,n.length,r-n.length);const i=Buffer.allocUnsafe(n.readUInt32BE(0));return await(0,Pi.read)(t,i,0,i.length,r-n.length-i.length),await(0,Pi.close)(t),Pv(i)}catch(r){throw await(0,Pi.close)(t),r}}var mm;function gm(){if(mm)return Ts;mm=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.AppImageUpdater=void 0;const e=st(),t=fo,r=An,n=ct,i=we,s=Oc(),o=Ro,a=cs(),c=Qe;let l=class extends s.BaseUpdater{constructor(f,h){super(f,h)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(f){const h=f.updateInfoAndProvider.provider,m=(0,c.findFile)(h.resolveFiles(f.updateInfoAndProvider.info),"AppImage",["rpm","deb"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:m,downloadUpdateOptions:f,task:async(y,E)=>{const v=process.env.APPIMAGE;if(v==null)throw(0,e.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let g=!1;try{const p={newUrl:m.url,oldFile:v,logger:this._logger,newFile:y,isUseMultipleRangeRequest:h.isUseMultipleRangeRequest,requestHeaders:f.requestHeaders,cancellationToken:f.cancellationToken};this.listenerCount(a.DOWNLOAD_PROGRESS)>0&&(p.onProgress=S=>this.emit(a.DOWNLOAD_PROGRESS,S)),await new o.FileWithEmbeddedBlockMapDifferentialDownloader(m.info,this.httpExecutor,p).download()}catch(p){this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),g=process.platform==="linux"}g&&await this.httpExecutor.download(m.url,y,E),await(0,r.chmod)(y,493)}})}doInstall(f){const h=process.env.APPIMAGE;if(h==null)throw(0,e.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(0,n.unlinkSync)(h);let m;const y=i.basename(h);i.basename(f.installerPath)===y||!/\d+\.\d+\.\d+/.test(y)?m=h:m=i.join(i.dirname(h),i.basename(f.installerPath)),(0,t.execFileSync)("mv",["-f",f.installerPath,m]),m!==h&&this.emit("appimage-filename-updated",m);const E={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return f.isForceRunAfter?this.spawnLog(m,[],E):(E.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,t.execFileSync)(m,[],{env:E})),!0}};return Ts.AppImageUpdater=l,Ts}var Ns={},ym;function vm(){if(ym)return Ns;ym=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.DebUpdater=void 0;const e=Oc(),t=cs(),r=Qe;let n=class extends e.BaseUpdater{constructor(s,o){super(s,o)}doDownloadUpdate(s){const o=s.updateInfoAndProvider.provider,a=(0,r.findFile)(o.resolveFiles(s.updateInfoAndProvider.info),"deb",["AppImage","rpm"]);return this.executeDownload({fileExtension:"deb",fileInfo:a,downloadUpdateOptions:s,task:async(c,l)=>{this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(l.onProgress=u=>this.emit(t.DOWNLOAD_PROGRESS,u)),await this.httpExecutor.download(a.url,c,l)}})}doInstall(s){const o=this.wrapSudo(),a=/pkexec/i.test(o)?"":'"',c=["dpkg","-i",s.installerPath,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(o,[`${a}/bin/bash`,"-c",`'${c.join(" ")}'${a}`]),s.isForceRunAfter&&this.app.relaunch(),!0}};return Ns.DebUpdater=n,Ns}var Rs={},_m;function $m(){if(_m)return Rs;_m=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.RpmUpdater=void 0;const e=Oc(),t=cs(),r=Qe;let n=class extends e.BaseUpdater{constructor(s,o){super(s,o)}doDownloadUpdate(s){const o=s.updateInfoAndProvider.provider,a=(0,r.findFile)(o.resolveFiles(s.updateInfoAndProvider.info),"rpm",["AppImage","deb"]);return this.executeDownload({fileExtension:"rpm",fileInfo:a,downloadUpdateOptions:s,task:async(c,l)=>{this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(l.onProgress=u=>this.emit(t.DOWNLOAD_PROGRESS,u)),await this.httpExecutor.download(a.url,c,l)}})}doInstall(s){const o=s.installerPath,a=this.wrapSudo(),c=/pkexec/i.test(a)?"":'"',l=this.spawnSyncLog("which zypper");let u;if(l)u=[l,"remove","-y",`'${this.app.name}'`,";",l,"clean","--all",";",l,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",o];else{const f=this.spawnSyncLog("which dnf || which yum");u=[f,"-y","remove",`'${this.app.name}'`,";",f,"-y","install",o]}return this.spawnSyncLog(a,[`${c}/bin/bash`,"-c",`'${u.join(" ")}'${c}`]),s.isForceRunAfter&&this.app.relaunch(),!0}};return Rs.RpmUpdater=n,Rs}var Is={},Em;function wm(){if(Em)return Is;Em=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.MacUpdater=void 0;const e=st(),t=An,r=ct,n=Cm,i=_d(),s=Qe,o=fo,a=es;let c=class extends i.AppUpdater{constructor(u,f){super(u,f),this.nativeUpdater=he.autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",h=>{this._logger.warn(h),this.emit("error",h)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0})}debug(u){this._logger.debug!=null&&this._logger.debug(u)}async doDownloadUpdate(u){let f=u.updateInfoAndProvider.provider.resolveFiles(u.updateInfoAndProvider.info);const h=this._logger,m="sysctl.proc_translated";let y=!1;try{this.debug("Checking for macOS Rosetta environment"),y=(0,o.execFileSync)("sysctl",[m],{encoding:"utf8"}).includes(`${m}: 1`),h.info(`Checked for macOS Rosetta environment (isRosetta=${y})`)}catch(p){h.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${p}`)}let E=!1;try{this.debug("Checking for arm64 in uname");const S=(0,o.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");h.info(`Checked 'uname -a': arm64=${S}`),E=E||S}catch(p){h.warn(`uname shell command to check for arm64 failed: ${p}`)}E=E||process.arch==="arm64"||y;const v=p=>{var S;return p.url.pathname.includes("arm64")||((S=p.info.url)===null||S===void 0?void 0:S.includes("arm64"))};E&&f.some(v)?f=f.filter(p=>E===v(p)):f=f.filter(p=>!v(p));const g=(0,s.findFile)(f,"zip",["pkg","dmg"]);if(g==null)throw(0,e.newError)(`ZIP file not provided: ${(0,e.safeStringifyJson)(f)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");return this.executeDownload({fileExtension:"zip",fileInfo:g,downloadUpdateOptions:u,task:(p,S)=>this.httpExecutor.download(g.url,p,S),done:p=>this.updateDownloaded(g,p)})}async updateDownloaded(u,f){var h,m;const y=f.downloadedFile,E=(h=u.info.size)!==null&&h!==void 0?h:(await(0,t.stat)(y)).size,v=this._logger,g=`fileToProxy=${u.url.href}`;this.debug(`Creating proxy server for native Squirrel.Mac (${g})`),(m=this.server)===null||m===void 0||m.close(),this.server=(0,n.createServer)(),this.debug(`Proxy server for native Squirrel.Mac is created (${g})`),this.server.on("close",()=>{v.info(`Proxy server for native Squirrel.Mac is closed (${g})`)});const p=S=>{const N=S.address();return typeof N=="string"?N:`http://127.0.0.1:${N==null?void 0:N.port}`};return await new Promise((S,N)=>{const M=(0,a.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),T=Buffer.from(`autoupdater:${M}`,"ascii"),b=`/${(0,a.randomBytes)(64).toString("hex")}.zip`;this.server.on("request",(D,O)=>{const V=D.url;if(v.info(`${V} requested`),V==="/"){if(!D.headers.authorization||D.headers.authorization.indexOf("Basic ")===-1){O.statusCode=401,O.statusMessage="Invalid Authentication Credentials",O.end(),v.warn("No authenthication info");return}const W=D.headers.authorization.split(" ")[1],G=Buffer.from(W,"base64").toString("ascii"),[Q,Z]=G.split(":");if(Q!=="autoupdater"||Z!==M){O.statusCode=401,O.statusMessage="Invalid Authentication Credentials",O.end(),v.warn("Invalid authenthication credentials");return}const K=Buffer.from(`{ "url": "${p(this.server)}${b}" }`);O.writeHead(200,{"Content-Type":"application/json","Content-Length":K.length}),O.end(K);return}if(!V.startsWith(b)){v.warn(`${V} requested, but not supported`),O.writeHead(404),O.end();return}v.info(`${b} requested by Squirrel.Mac, pipe ${y}`);let Y=!1;O.on("finish",()=>{Y||(this.nativeUpdater.removeListener("error",N),S([]))});const H=(0,r.createReadStream)(y);H.on("error",W=>{try{O.end()}catch(G){v.warn(`cannot end response: ${G}`)}Y=!0,this.nativeUpdater.removeListener("error",N),N(new Error(`Cannot pipe "${y}": ${W}`))}),O.writeHead(200,{"Content-Type":"application/zip","Content-Length":E}),H.pipe(O)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${g})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${p(this.server)}, ${g})`),this.nativeUpdater.setFeedURL({url:p(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${T.toString("base64")}`}}),this.dispatchUpdateDownloaded(f),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",N),this.nativeUpdater.checkForUpdates()):S([])})})}quitAndInstall(){var u;this.squirrelDownloadedUpdate?(this.nativeUpdater.quitAndInstall(),(u=this.server)===null||u===void 0||u.close()):(this.nativeUpdater.on("update-downloaded",()=>{var f;this.nativeUpdater.quitAndInstall(),(f=this.server)===null||f===void 0||f.close()}),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}};return Is.MacUpdater=c,Is}var Ds={},Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.GenericDifferentialDownloader=void 0;const oM=Io;class aM extends oM.DifferentialDownloader{download(t,r){return this.doDownload(t,r)}}Ac.GenericDifferentialDownloader=aM;var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.verifySignature=void 0;const Sm=st(),Ov=fo,cM=Tn;function lM(e,t,r){return new Promise((n,i)=>{const s=t.replace(/'/g,"''");(0,Ov.execFile)("chcp 65001 >NUL & powershell.exe",["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`"Get-AuthenticodeSignature -LiteralPath '${s}' | ConvertTo-Json -Compress"`],{shell:!0,timeout:20*1e3},(o,a,c)=>{try{if(o!=null||c){bm(r,o,c,i),n(null);return}const l=uM(a);if(l.Status===0){const f=(0,Sm.parseDn)(l.SignerCertificate.Subject);let h=!1;for(const m of e){const y=(0,Sm.parseDn)(m);if(y.size?h=Array.from(y.keys()).every(v=>y.get(v)===f.get(v)):m===f.get("CN")&&(r.warn(`Signature validated using only CN ${m}. Please add your full Distinguished Name (DN) to publisherNames configuration`),h=!0),h){n(null);return}}}const u=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(l,(f,h)=>f==="RawData"?void 0:h,2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${u}`),n(u)}catch(l){bm(r,l,null,i),n(null);return}})})}Cc.verifySignature=lM;function uM(e){const t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;const r=t.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),delete t.Path,t}function bm(e,t,r,n){if(fM()){e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{(0,Ov.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(i){e.warn(`Cannot execute ConvertTo-Json: ${i.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}t!=null&&n(t),r&&n(new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`))}function fM(){const e=cM.release();return e.startsWith("6.")&&!e.startsWith("6.3")}var Pm;function Om(){if(Pm)return Ds;Pm=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.NsisUpdater=void 0;const e=st(),t=we,r=Oc(),n=Ro,i=Ac,s=cs(),o=Ot,a=Qe,c=An,l=Cc,u=ts,f=Nm;let h=class extends r.BaseUpdater{constructor(y,E){super(y,E),this._verifyUpdateCodeSignature=(v,g)=>(0,l.verifySignature)(v,g,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(y){y&&(this._verifyUpdateCodeSignature=y)}doDownloadUpdate(y){const E=y.updateInfoAndProvider.provider,v=(0,a.findFile)(E.resolveFiles(y.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:y,fileInfo:v,task:async(g,p,S,N)=>{const M=v.packageInfo,T=M!=null&&S!=null;if(T&&y.disableWebInstaller)throw(0,e.newError)(`Unable to download new version ${y.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");!T&&!y.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(T||await this.differentialDownloadInstaller(v,y,g,E))&&await this.httpExecutor.download(v.url,g,p);const b=await this.verifySignature(g);if(b!=null)throw await N(),(0,e.newError)(`New version ${y.updateInfoAndProvider.info.version} is not signed by the application owner: ${b}`,"ERR_UPDATER_INVALID_SIGNATURE");if(T&&await this.differentialDownloadWebPackage(y,M,S,E))try{await this.httpExecutor.download(new u.URL(M.path),S,{headers:y.requestHeaders,cancellationToken:y.cancellationToken,sha512:M.sha512})}catch(D){try{await(0,c.unlink)(S)}catch{}throw D}}})}async verifySignature(y){let E;try{if(E=(await this.configOnDisk.value).publisherName,E==null)return null}catch(v){if(v.code==="ENOENT")return null;throw v}return await this._verifyUpdateCodeSignature(Array.isArray(E)?E:[E],y)}doInstall(y){const E=["--updated"];y.isSilent&&E.push("/S"),y.isForceRunAfter&&E.push("--force-run"),this.installDirectory&&E.push(`/D=${this.installDirectory}`);const v=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;v!=null&&E.push(`--package-file=${v}`);const g=()=>{this.spawnLog(t.join(process.resourcesPath,"elevate.exe"),[y.installerPath].concat(E)).catch(p=>this.dispatchError(p))};return y.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),g(),!0):(this.spawnLog(y.installerPath,E).catch(p=>{const S=p.code;this._logger.info(`Cannot run installer: error code: ${S}, error message: "${p.message}", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT`),S==="UNKNOWN"||S==="EACCES"?g():S==="ENOENT"?he.shell.openPath(y.installerPath).catch(N=>this.dispatchError(N)):this.dispatchError(p)}),!0)}async differentialDownloadInstaller(y,E,v,g){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const p=(0,o.blockmapFiles)(y.url,this.app.version,E.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${p[0]}", new: ${p[1]})`);const S=async T=>{const b=await this.httpExecutor.downloadToBuffer(T,{headers:E.requestHeaders,cancellationToken:E.cancellationToken});if(b==null||b.length===0)throw new Error(`Blockmap "${T.href}" is empty`);try{return JSON.parse((0,f.gunzipSync)(b).toString())}catch(D){throw new Error(`Cannot parse blockmap "${T.href}", error: ${D}`)}},N={newUrl:y.url,oldFile:t.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_INSTALLER_FILE_NAME),logger:this._logger,newFile:v,isUseMultipleRangeRequest:g.isUseMultipleRangeRequest,requestHeaders:E.requestHeaders,cancellationToken:E.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(N.onProgress=T=>this.emit(s.DOWNLOAD_PROGRESS,T));const M=await Promise.all(p.map(T=>S(T)));return await new i.GenericDifferentialDownloader(y.info,this.httpExecutor,N).download(M[0],M[1]),!1}catch(p){if(this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),this._testOnlyOptions!=null)throw p;return!0}}async differentialDownloadWebPackage(y,E,v,g){if(E.blockMapSize==null)return!0;try{const p={newUrl:new u.URL(E.path),oldFile:t.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:v,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:g.isUseMultipleRangeRequest,cancellationToken:y.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(p.onProgress=S=>this.emit(s.DOWNLOAD_PROGRESS,S)),await new n.FileWithEmbeddedBlockMapDifferentialDownloader(E,this.httpExecutor,p).download()}catch(p){return this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),process.platform==="win32"}return!1}};return Ds.NsisUpdater=h,Ds}var Tm;function cs(){return Tm||(Tm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdaterSignal=e.UPDATE_DOWNLOADED=e.DOWNLOAD_PROGRESS=e.NsisUpdater=e.MacUpdater=e.RpmUpdater=e.DebUpdater=e.AppImageUpdater=e.Provider=e.CancellationToken=e.NoOpLogger=e.AppUpdater=void 0;const t=st();Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}});const r=An,n=we;var i=_d();Object.defineProperty(e,"AppUpdater",{enumerable:!0,get:function(){return i.AppUpdater}}),Object.defineProperty(e,"NoOpLogger",{enumerable:!0,get:function(){return i.NoOpLogger}});var s=Qe;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return s.Provider}});var o=gm();Object.defineProperty(e,"AppImageUpdater",{enumerable:!0,get:function(){return o.AppImageUpdater}});var a=vm();Object.defineProperty(e,"DebUpdater",{enumerable:!0,get:function(){return a.DebUpdater}});var c=$m();Object.defineProperty(e,"RpmUpdater",{enumerable:!0,get:function(){return c.RpmUpdater}});var l=wm();Object.defineProperty(e,"MacUpdater",{enumerable:!0,get:function(){return l.MacUpdater}});var u=Om();Object.defineProperty(e,"NsisUpdater",{enumerable:!0,get:function(){return u.NsisUpdater}});let f;function h(){if(process.platform==="win32")f=new(Om()).NsisUpdater;else if(process.platform==="darwin")f=new(wm()).MacUpdater;else{f=new(gm()).AppImageUpdater;try{const E=n.join(process.resourcesPath,"package-type");if(!(0,r.existsSync)(E))return f;console.info("Checking for beta autoupdate feature for deb/rpm distributions");const v=(0,r.readFileSync)(E).toString().trim();switch(console.info("Found package-type:",v),v){case"deb":f=new(vm()).DebUpdater;break;case"rpm":f=new($m()).RpmUpdater;break;default:break}}catch(E){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",E.message)}}return f}Object.defineProperty(e,"autoUpdater",{enumerable:!0,get:()=>f||h()}),e.DOWNLOAD_PROGRESS="download-progress",e.UPDATE_DOWNLOADED="update-downloaded";class m{constructor(v){this.emitter=v}login(v){y(this.emitter,"login",v)}progress(v){y(this.emitter,e.DOWNLOAD_PROGRESS,v)}updateDownloaded(v){y(this.emitter,e.UPDATE_DOWNLOADED,v)}updateCancelled(v){y(this.emitter,"update-cancelled",v)}}e.UpdaterSignal=m;function y(E,v,g){E.on(v,g)}}(nl)),nl}var Wa=cs();process.env.DIST=yr.join(__dirname,"../dist");process.env.PUBLIC=he.app.isPackaged?process.env.DIST:yr.join(process.env.DIST,"../public");let Ge,Xn;const Am=process.env.VITE_DEV_SERVER_URL,Hr=new GC;function dM(){Xn=new he.BrowserWindow({width:500,height:300,transparent:!0,frame:!1,alwaysOnTop:!0}),Xn.loadFile("splash.html"),Xn.on("closed",()=>{Xn=null})}function hM(){Ge=new he.BrowserWindow({width:800,height:600,show:!1,icon:yr.join(process.env.PUBLIC,"electron-vite.svg"),webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:yr.join(__dirname,"preload.js")}}),Fm.enable(Ge.webContents),Ge.webContents.on("did-finish-load",()=>{Ge==null||Ge.webContents.send("main-process-message",new Date().toLocaleString())}),he.ipcMain.handle("setup",async()=>Hr.get("setup",!0)),he.ipcMain.handle("setSetup",async(r,n)=>{console.log(n),Hr.set("setup",n)}),he.ipcMain.handle("saveURLS",async(r,n)=>{console.log(n),Hr.set("urls",n)}),he.ipcMain.handle("saveFontSize",async(r,n)=>{console.log(n),Hr.set("fontSize",n)}),he.ipcMain.handle("getFontSize",async()=>(console.log(Hr.get("fontSize",14)),Hr.get("fontSize",14))),he.ipcMain.handle("getURLs",async()=>Hr.get("urls",[])),he.ipcMain.handle("setWindowSize",async(r,n,i)=>{Ge==null||Ge.setSize(n,i)}),he.ipcMain.handle("startServer",async()=>{console.log("server handling...");const r=Hr.get("urls"),n=JSON.stringify(r),i=yr.join(he.app.getPath("userData"),"twitch-cookies.json"),s=JSON.parse(ct.readFileSync(i,"utf-8")),o=JSON.stringify(s),a=yr.join(he.app.getPath("userData"),"youtube-cookies.json"),c=JSON.parse(ct.readFileSync(a,"utf-8")),l=JSON.stringify(c),u=he.app.isPackaged?yr.join(process.resourcesPath,"worker.js"):yr.join("./worker.js");console.log(u);let f;if(he.app.isPackaged){const h=yr.join(process.resourcesPath,"app.asar.unpacked","node_modules");f=Ad.spawn("node",[u,n,o,l],{stdio:"pipe",windowsHide:!1,env:{...process.env,NODE_PATH:h,ELECTRON_RUN_AS_NODE:"1"}})}else f=Ad.spawn("node",[u,n,o,l],{stdio:"pipe",windowsHide:!1});Ps.info("Server has been started"),f.stdout.on("data",h=>{console.log(`stdout: ${h}`),Ps.info(`Child stdout:
${h}`)}),f.stderr.on("data",h=>{console.error(`Child stderr:
${h}`),Ps.info(`Child stderr:
${h}`)}),f.on("exit",(h,m)=>{console.log(`Child exited with code ${h} and signal ${m}`),Ps.info(`Child exited with code ${h} and signal ${m}`)})}),he.ipcMain.handle("send-message",async(r,n)=>{console.log("sending message to child process:",n),JSON.stringify({type:"message",content:n}),console.log("Child process stdin is not available or has been destroyed.")}),he.ipcMain.handle("open-settings-window",async()=>{console.log("setup updated"),Hr.set("setup",!0),Ge==null||Ge.webContents.send("setup-updated",!0),setTimeout(()=>{},3e3),console.log("Child process terminated"),Ps.info("Child process terminated")}),he.ipcMain.handle("loginWithTwitch",async()=>{console.log("Attempting to log in with Twitch"),e()}),he.ipcMain.handle("loginWithYouTube",async()=>{console.log("Attempting to log in with YouTube"),t()});function e(){const r=new he.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});return r.loadURL("https://www.twitch.tv/login"),r.webContents.on("did-navigate",async(n,i)=>{if(!i.includes("https://www.twitch.tv/login")){const s=await r.webContents.session.cookies.get({domain:".twitch.tv"});console.log("Twitch Login Cookies:",s);const o=yr.join(he.app.getPath("userData"),"twitch-cookies.json");ct.writeFileSync(o,JSON.stringify(s,null,2)),r.close()}}),r}function t(){const r=new he.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0}}),n="https://accounts.google.com";return r.loadURL(n),r.webContents.on("did-navigate",async(i,s)=>{s.includes("accounts.google.com")||(r.loadURL("https://www.youtube.com/"),r.webContents.once("did-finish-load",async()=>{}))}),r}Am?Ge.loadURL(Am):Ge.loadFile(yr.join(process.env.DIST,"index.html")),Ge.once("ready-to-show",()=>{Xn==null||Xn.close(),Ge==null||Ge.show()}),Ge==null||Ge.on("closed",()=>{Ge=null})}he.app.on("before-quit",()=>{});he.app.on("window-all-closed",()=>{Ge=null,process.platform!=="darwin"&&he.app.quit()});he.app.on("ready",()=>{Wa.autoUpdater.checkForUpdatesAndNotify()});Wa.autoUpdater.on("update-available",()=>{he.dialog.showMessageBox({type:"info",title:"Update Available",message:"A new version of the application is available. It will be downloaded in the background.",buttons:["OK"]}).then(e=>{console.log("User response:",e.response)}).catch(e=>{console.error("Failed to show update dialog:",e)})});Wa.autoUpdater.on("update-downloaded",()=>{Wa.autoUpdater.quitAndInstall()});Fm.initialize();he.app.whenReady().then(dM).then(hM);
