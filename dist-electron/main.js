"use strict";var Wv=Object.defineProperty;var Kv=(e,t,r)=>t in e?Wv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _e=(e,t,r)=>(Kv(e,typeof t!="symbol"?t+"":t,r),r);const he=require("electron"),Zi=require("events"),ar=require("node:path"),we=require("path"),es=require("util"),Qe=require("fs"),ts=require("crypto"),ou=require("assert"),An=require("os"),Cd=require("node:child_process"),fo=require("child_process"),Nm=require("http"),Yv=require("https"),Jv=require("tty"),ho=require("stream"),rs=require("url"),Xv=require("string_decoder"),Qv=require("constants"),Rm=require("zlib");var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Im(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dm={},Oa={exports:{}},au={};Object.defineProperty(au,"__esModule",{value:!0});const jc=(e,t)=>`${e.id}-${t}`;class Zv{constructor(){this.nextId=0,this.storage={},this.owners={},this.electronIds=new WeakMap}add(t,r,n){const i=this.saveToStorage(n),s=jc(t,r);let o=this.owners[s];return o||(o=this.owners[s]=new Map,this.registerDeleteListener(t,r)),o.has(i)||(o.set(i,0),this.storage[i].count++),o.set(i,o.get(i)+1),i}get(t){const r=this.storage[t];if(r!=null)return r.object}remove(t,r,n){const i=jc(t,r),s=this.owners[i];if(s&&s.has(n)){const o=s.get(n)-1;o<=0?(s.delete(n),this.dereference(n)):s.set(n,o)}}clear(t,r){const n=jc(t,r),i=this.owners[n];if(i){for(const s of i.keys())this.dereference(s);delete this.owners[n]}}saveToStorage(t){let r=this.electronIds.get(t);return r||(r=++this.nextId,this.storage[r]={count:0,object:t},this.electronIds.set(t,r)),r}dereference(t){const r=this.storage[t];r!=null&&(r.count-=1,r.count===0&&(this.electronIds.delete(r.object),delete this.storage[t]))}registerDeleteListener(t,r){const n=r.split("-")[0],i=(s,o)=>{o&&o.toString()===n&&(t.removeListener("render-view-deleted",i),this.clear(t,r))};t.on("render-view-deleted",i)}}au.default=new Zv;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.deserialize=Ir.serialize=Ir.isSerializableObject=Ir.isPromise=void 0;const e_=he;function t_(e){return e&&e.then&&e.then instanceof Function&&e.constructor&&e.constructor.reject&&e.constructor.reject instanceof Function&&e.constructor.resolve&&e.constructor.resolve instanceof Function}Ir.isPromise=t_;const r_=[Boolean,Number,String,Date,Error,RegExp,ArrayBuffer];function cu(e){return e===null||ArrayBuffer.isView(e)||r_.some(t=>e instanceof t)}Ir.isSerializableObject=cu;const Fm=function(e,t){const n=Object.entries(e).map(([i,s])=>[i,t(s)]);return Object.fromEntries(n)};function n_(e){const t=[],r=e.getScaleFactors();if(r.length===1){const n=r[0],i=e.getSize(n),s=e.toBitmap({scaleFactor:n});t.push({scaleFactor:n,size:i,buffer:s})}else for(const n of r){const i=e.getSize(n),s=e.toDataURL({scaleFactor:n});t.push({scaleFactor:n,size:i,dataURL:s})}return{__ELECTRON_SERIALIZED_NativeImage__:!0,representations:t}}function i_(e){const t=e_.nativeImage.createEmpty();if(e.representations.length===1){const{buffer:r,size:n,scaleFactor:i}=e.representations[0],{width:s,height:o}=n;t.addRepresentation({buffer:r,scaleFactor:i,width:s,height:o})}else for(const r of e.representations){const{dataURL:n,size:i,scaleFactor:s}=r,{width:o,height:a}=i;t.addRepresentation({dataURL:n,scaleFactor:s,width:o,height:a})}return t}function Tl(e){return e&&e.constructor&&e.constructor.name==="NativeImage"?n_(e):Array.isArray(e)?e.map(Tl):cu(e)?e:e instanceof Object?Fm(e,Tl):e}Ir.serialize=Tl;function Al(e){return e&&e.__ELECTRON_SERIALIZED_NativeImage__?i_(e):Array.isArray(e)?e.map(Al):cu(e)?e:e instanceof Object?Fm(e,Al):e}Ir.deserialize=Al;var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.getElectronBinding=void 0;const s_=e=>process._linkedBinding?process._linkedBinding("electron_common_"+e):process.electronBinding?process.electronBinding(e):null;Ya.getElectronBinding=s_;Oa.exports;(function(e,t){var r=st&&st.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.isInitialized=t.enable=t.isRemoteModuleEnabled=void 0;const n=Zi,i=r(au),s=Ir,o=he,a=Ya,{Promise:c}=st,l=a.getElectronBinding("v8_util"),f=(()=>{var I,j;const A=Number((j=(I=process.versions.electron)===null||I===void 0?void 0:I.split("."))===null||j===void 0?void 0:j[0]);return Number.isNaN(A)||A<14})(),u=["length","name","arguments","caller","prototype"],h=new Map,m=new FinalizationRegistry(I=>{const j=I.id[0]+"~"+I.id[1],A=h.get(j);if(A!==void 0&&A.deref()===void 0&&(h.delete(j),!I.webContents.isDestroyed()))try{I.webContents.sendToFrame(I.frameId,"REMOTE_RENDERER_RELEASE_CALLBACK",I.id[0],I.id[1])}catch(w){console.warn(`sendToFrame() failed: ${w}`)}});function y(I){const j=I[0]+"~"+I[1],A=h.get(j);if(A!==void 0){const w=A.deref();if(w!==void 0)return w}}function E(I,j,A,w){const R=new WeakRef(w),C=I[0]+"~"+I[1];return h.set(C,R),m.register(w,{id:I,webContents:j,frameId:A}),w}const v=new WeakMap,g=function(I){let j=Object.getOwnPropertyNames(I);return typeof I=="function"&&(j=j.filter(A=>!u.includes(A))),j.map(A=>{const w=Object.getOwnPropertyDescriptor(I,A);let R,C=!1;return w.get===void 0&&typeof I[A]=="function"?R="method":((w.set||w.writable)&&(C=!0),R="get"),{name:A,enumerable:w.enumerable,writable:C,type:R}})},p=function(I){const j=Object.getPrototypeOf(I);return j===null||j===Object.prototype?null:{members:g(j),proto:p(j)}},S=function(I,j,A,w=!1){let R;switch(typeof A){case"object":A instanceof Buffer?R="buffer":A&&A.constructor&&A.constructor.name==="NativeImage"?R="nativeimage":Array.isArray(A)?R="array":A instanceof Error?R="error":s.isSerializableObject(A)?R="value":s.isPromise(A)?R="promise":Object.prototype.hasOwnProperty.call(A,"callee")&&A.length!=null?R="array":w&&l.getHiddenValue(A,"simple")?R="value":R="object";break;case"function":R="function";break;default:R="value";break}return R==="array"?{type:R,members:A.map(C=>S(I,j,C,w))}:R==="nativeimage"?{type:R,value:s.serialize(A)}:R==="object"||R==="function"?{type:R,name:A.constructor?A.constructor.name:"",id:i.default.add(I,j,A),members:g(A),proto:p(A)}:R==="buffer"?{type:R,value:A}:R==="promise"?(A.then(function(){},function(){}),{type:R,then:S(I,j,function(C,d){A.then(C,d)})}):R==="error"?{type:R,value:A,members:Object.keys(A).map(C=>({name:C,value:S(I,j,A[C])}))}:{type:"value",value:A}},N=function(I){const j=new Error(I);throw j.code="EBADRPC",j.errno=-72,j},M=(I,j)=>{let w=`Attempting to call a function in a renderer window that has been closed or released.
Function provided here: ${v.get(j)}`;if(I instanceof n.EventEmitter){const R=I.eventNames().filter(C=>I.listeners(C).includes(j));R.length>0&&(w+=`
Remote event names: ${R.join(", ")}`,R.forEach(C=>{I.removeListener(C,j)}))}console.warn(w)},T=(I,j)=>new Proxy(Object,{get(A,w,R){return w==="name"?j:Reflect.get(A,w,R)}}),b=function(I,j,A,w){const R=function(C){switch(C.type){case"nativeimage":return s.deserialize(C.value);case"value":return C.value;case"remote-object":return i.default.get(C.id);case"array":return b(I,j,A,C.value);case"buffer":return Buffer.from(C.value.buffer,C.value.byteOffset,C.value.byteLength);case"promise":return c.resolve({then:R(C.then)});case"object":{const d=C.name!=="Object"?Object.create({constructor:T(Object,C.name)}):{};for(const{name:$,value:L}of C.members)d[$]=R(L);return d}case"function-with-return-value":{const d=R(C.value);return function(){return d}}case"function":{const d=[A,C.id],$=y(d);if($!==void 0)return $;const L=function(...P){let _=!1;if(!I.isDestroyed())try{_=I.sendToFrame(j,"REMOTE_RENDERER_CALLBACK",A,C.id,S(I,A,P))!==!1}catch(z){console.warn(`sendToFrame() failed: ${z}`)}_||M(this,L)};return v.set(L,C.location),Object.defineProperty(L,"length",{value:C.length}),E(d,I,j,L),L}default:throw new TypeError(`Unknown type: ${C.type}`)}};return w.map(R)},D=function(I){const j=I.getLastWebPreferences()||{};return j.enableRemoteModule!=null?!!j.enableRemoteModule:!1},O=new WeakMap,V=function(I){return f&&!O.has(I)&&O.set(I,D(I)),O.get(I)};t.isRemoteModuleEnabled=V;function Y(I){O.set(I,!0)}t.enable=Y;const H=function(I,j){o.ipcMain.on(I,(A,w,...R)=>{let C;if(!t.isRemoteModuleEnabled(A.sender)){A.returnValue={type:"exception",value:S(A.sender,w,new Error('@electron/remote is disabled for this WebContents. Call require("@electron/remote/main").enable(webContents) to enable it.'))};return}try{C=j(A,w,...R)}catch(d){C={type:"exception",value:S(A.sender,w,d)}}C!==void 0&&(A.returnValue=C)})},W=function(I,j,...A){const w={sender:I,returnValue:void 0,defaultPrevented:!1};return o.app.emit(j,w,I,...A),I.emit(j,w,...A),w},G=function(I,j,A){A&&console.warn(`WebContents (${I.id}): ${j}`,A)};let Q=!1;function Z(){return Q}t.isInitialized=Z;function K(){if(Q)throw new Error("@electron/remote has already been initialized");Q=!0,H("REMOTE_BROWSER_WRONG_CONTEXT_ERROR",function(I,j,A,w){const C=y([A,w]);C!==void 0&&M(I.sender,C)}),H("REMOTE_BROWSER_REQUIRE",function(I,j,A,w){G(I.sender,`remote.require('${A}')`,w);const R=W(I.sender,"remote-require",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.require('${A}')`);if(process.mainModule)R.returnValue=process.mainModule.require(A);else{let C=e;for(;C.parent;)C=C.parent;R.returnValue=C.require(A)}}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_BUILTIN",function(I,j,A,w){G(I.sender,`remote.getBuiltin('${A}')`,w);const R=W(I.sender,"remote-get-builtin",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.getBuiltin('${A}')`);R.returnValue=he[A]}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_GLOBAL",function(I,j,A,w){G(I.sender,`remote.getGlobal('${A}')`,w);const R=W(I.sender,"remote-get-global",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.getGlobal('${A}')`);R.returnValue=st[A]}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_CURRENT_WINDOW",function(I,j,A){G(I.sender,"remote.getCurrentWindow()",A);const w=W(I.sender,"remote-get-current-window");if(w.returnValue===void 0){if(w.defaultPrevented)throw new Error("Blocked remote.getCurrentWindow()");w.returnValue=I.sender.getOwnerBrowserWindow()}return S(I.sender,j,w.returnValue)}),H("REMOTE_BROWSER_GET_CURRENT_WEB_CONTENTS",function(I,j,A){G(I.sender,"remote.getCurrentWebContents()",A);const w=W(I.sender,"remote-get-current-web-contents");if(w.returnValue===void 0){if(w.defaultPrevented)throw new Error("Blocked remote.getCurrentWebContents()");w.returnValue=I.sender}return S(I.sender,j,w.returnValue)}),H("REMOTE_BROWSER_CONSTRUCTOR",function(I,j,A,w){w=b(I.sender,I.frameId,j,w);const R=i.default.get(A);return R==null&&N(`Cannot call constructor on missing remote object ${A}`),S(I.sender,j,new R(...w))}),H("REMOTE_BROWSER_FUNCTION_CALL",function(I,j,A,w){w=b(I.sender,I.frameId,j,w);const R=i.default.get(A);R==null&&N(`Cannot call function on missing remote object ${A}`);try{return S(I.sender,j,R(...w),!0)}catch(C){const d=new Error(`Could not call remote function '${R.name||"anonymous"}'. Check that the function signature is correct. Underlying error: ${C}
`+(C instanceof Error?`Underlying stack: ${C.stack}
`:""));throw d.cause=C,d}}),H("REMOTE_BROWSER_MEMBER_CONSTRUCTOR",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);return C==null&&N(`Cannot call constructor '${w}' on missing remote object ${A}`),S(I.sender,j,new C[w](...R))}),H("REMOTE_BROWSER_MEMBER_CALL",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);C==null&&N(`Cannot call method '${w}' on missing remote object ${A}`);try{return S(I.sender,j,C[w](...R),!0)}catch(d){const $=new Error(`Could not call remote method '${w}'. Check that the method signature is correct. Underlying error: ${d}`+(d instanceof Error?`Underlying stack: ${d.stack}
`:""));throw $.cause=d,$}}),H("REMOTE_BROWSER_MEMBER_SET",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);return C==null&&N(`Cannot set property '${w}' on missing remote object ${A}`),C[w]=R[0],null}),H("REMOTE_BROWSER_MEMBER_GET",function(I,j,A,w){const R=i.default.get(A);return R==null&&N(`Cannot get property '${w}' on missing remote object ${A}`),S(I.sender,j,R[w])}),H("REMOTE_BROWSER_DEREFERENCE",function(I,j,A){i.default.remove(I.sender,j,A)}),H("REMOTE_BROWSER_CONTEXT_RELEASE",(I,j)=>(i.default.clear(I.sender,j),null))}t.initialize=K})(Oa,Oa.exports);var o_=Oa.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.isInitialized=e.initialize=void 0;var t=o_;Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}}),Object.defineProperty(e,"isInitialized",{enumerable:!0,get:function(){return t.isInitialized}}),Object.defineProperty(e,"enable",{enumerable:!0,get:function(){return t.enable}})})(Dm);var km=Dm,Cl={exports:{}},a_=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const Fn=a_,c_=new Set(["__proto__","prototype","constructor"]),l_=e=>!e.some(t=>c_.has(t));function Bo(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let i=t[n];for(;i[i.length-1]==="\\"&&t[n+1]!==void 0;)i=i.slice(0,-1)+".",i+=t[++n];r.push(i)}return l_(r)?r:[]}var u_={get(e,t,r){if(!Fn(e)||typeof t!="string")return r===void 0?e:r;const n=Bo(t);if(n.length!==0){for(let i=0;i<n.length;i++)if(e=e[n[i]],e==null){if(i!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!Fn(e)||typeof t!="string")return e;const n=e,i=Bo(t);for(let s=0;s<i.length;s++){const o=i[s];Fn(e[o])||(e[o]={}),s===i.length-1&&(e[o]=r),e=e[o]}return n},delete(e,t){if(!Fn(e)||typeof t!="string")return!1;const r=Bo(t);for(let n=0;n<r.length;n++){const i=r[n];if(n===r.length-1)return delete e[i],!0;if(e=e[i],!Fn(e))return!1}},has(e,t){if(!Fn(e)||typeof t!="string")return!1;const r=Bo(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(Fn(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},lu={exports:{}},uu={exports:{}},fu={exports:{}},du={exports:{}};const Lm=Qe;du.exports=e=>new Promise(t=>{Lm.access(e,r=>{t(!r)})});du.exports.sync=e=>{try{return Lm.accessSync(e),!0}catch{return!1}};var f_=du.exports,hu={exports:{}},pu={exports:{}};const jm=(e,...t)=>new Promise(r=>{r(e(...t))});pu.exports=jm;pu.exports.default=jm;var d_=pu.exports;const h_=d_,Mm=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},i=(a,c,...l)=>{r++;const f=h_(a,...l);c(f),f.then(n,n)},s=(a,c,...l)=>{r<e?i(a,c,...l):t.push(i.bind(null,a,c,...l))},o=(a,...c)=>new Promise(l=>s(a,l,...c));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};hu.exports=Mm;hu.exports.default=Mm;var p_=hu.exports;const Nd=p_;class Um extends Error{constructor(t){super(),this.value=t}}const m_=(e,t)=>Promise.resolve(e).then(t),g_=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Um(t[0])));var y_=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=Nd(r.concurrency),i=[...e].map(o=>[o,n(m_,o,t)]),s=Nd(r.preserveOrder?1:1/0);return Promise.all(i.map(o=>s(g_,o))).then(()=>{}).catch(o=>o instanceof Um?o.value:Promise.reject(o))};const xm=we,qm=f_,v_=y_;fu.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),v_(e,r=>qm(xm.resolve(t.cwd,r)),t));fu.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(qm.sync(xm.resolve(t.cwd,r)))return r};var __=fu.exports;const mn=we,Vm=__;uu.exports=(e,t={})=>{const r=mn.resolve(t.cwd||""),{root:n}=mn.parse(r),i=[].concat(e);return new Promise(s=>{(function o(a){Vm(i,{cwd:a}).then(c=>{c?s(mn.join(a,c)):a===n?s(null):o(mn.dirname(a))})})(r)})};uu.exports.sync=(e,t={})=>{let r=mn.resolve(t.cwd||"");const{root:n}=mn.parse(r),i=[].concat(e);for(;;){const s=Vm.sync(i,{cwd:r});if(s)return mn.join(r,s);if(r===n)return null;r=mn.dirname(r)}};var $_=uu.exports;const Bm=$_;lu.exports=async({cwd:e}={})=>Bm("package.json",{cwd:e});lu.exports.sync=({cwd:e}={})=>Bm.sync("package.json",{cwd:e});var E_=lu.exports,mu={exports:{}};const We=we,zm=An,hn=zm.homedir(),gu=zm.tmpdir(),{env:Ri}=process,w_=e=>{const t=We.join(hn,"Library");return{data:We.join(t,"Application Support",e),config:We.join(t,"Preferences",e),cache:We.join(t,"Caches",e),log:We.join(t,"Logs",e),temp:We.join(gu,e)}},S_=e=>{const t=Ri.APPDATA||We.join(hn,"AppData","Roaming"),r=Ri.LOCALAPPDATA||We.join(hn,"AppData","Local");return{data:We.join(r,e,"Data"),config:We.join(t,e,"Config"),cache:We.join(r,e,"Cache"),log:We.join(r,e,"Log"),temp:We.join(gu,e)}},b_=e=>{const t=We.basename(hn);return{data:We.join(Ri.XDG_DATA_HOME||We.join(hn,".local","share"),e),config:We.join(Ri.XDG_CONFIG_HOME||We.join(hn,".config"),e),cache:We.join(Ri.XDG_CACHE_HOME||We.join(hn,".cache"),e),log:We.join(Ri.XDG_STATE_HOME||We.join(hn,".local","state"),e),temp:We.join(gu,t,e)}},Hm=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?w_(e):process.platform==="win32"?S_(e):b_(e)};mu.exports=Hm;mu.exports.default=Hm;var P_=mu.exports,Dr={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.NOOP=Ce.LIMIT_FILES_DESCRIPTORS=Ce.LIMIT_BASENAME_LENGTH=Ce.IS_USER_ROOT=Ce.IS_POSIX=Ce.DEFAULT_TIMEOUT_SYNC=Ce.DEFAULT_TIMEOUT_ASYNC=Ce.DEFAULT_WRITE_OPTIONS=Ce.DEFAULT_READ_OPTIONS=Ce.DEFAULT_FOLDER_MODE=Ce.DEFAULT_FILE_MODE=Ce.DEFAULT_ENCODING=void 0;const O_="utf8";Ce.DEFAULT_ENCODING=O_;const T_=438;Ce.DEFAULT_FILE_MODE=T_;const A_=511;Ce.DEFAULT_FOLDER_MODE=A_;const C_={};Ce.DEFAULT_READ_OPTIONS=C_;const N_={};Ce.DEFAULT_WRITE_OPTIONS=N_;const R_=5e3;Ce.DEFAULT_TIMEOUT_ASYNC=R_;const I_=100;Ce.DEFAULT_TIMEOUT_SYNC=I_;const D_=!!process.getuid;Ce.IS_POSIX=D_;const F_=process.getuid?!process.getuid():!1;Ce.IS_USER_ROOT=F_;const k_=128;Ce.LIMIT_BASENAME_LENGTH=k_;const L_=1e4;Ce.LIMIT_FILES_DESCRIPTORS=L_;const j_=()=>{};Ce.NOOP=j_;var Ja={},xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.attemptifySync=xi.attemptifyAsync=void 0;const Gm=Ce,M_=(e,t=Gm.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};xi.attemptifyAsync=M_;const U_=(e,t=Gm.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};xi.attemptifySync=U_;var yu={};Object.defineProperty(yu,"__esModule",{value:!0});const x_=Ce,Wm={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!x_.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Wm.isChangeErrorOk(e))throw e}};yu.default=Wm;var qi={},vu={};Object.defineProperty(vu,"__esModule",{value:!0});const q_=Ce,je={interval:25,intervalId:void 0,limit:q_.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{je.intervalId||(je.intervalId=setInterval(je.tick,je.interval))},reset:()=>{je.intervalId&&(clearInterval(je.intervalId),delete je.intervalId)},add:e=>{je.queueWaiting.add(e),je.queueActive.size<je.limit/2?je.tick():je.init()},remove:e=>{je.queueWaiting.delete(e),je.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>je.remove(r),r=()=>e(t);je.add(r)}),tick:()=>{if(!(je.queueActive.size>=je.limit)){if(!je.queueWaiting.size)return je.reset();for(const e of je.queueWaiting){if(je.queueActive.size>=je.limit)break;je.queueWaiting.delete(e),je.queueActive.add(e),e()}}}};vu.default=je;Object.defineProperty(qi,"__esModule",{value:!0});qi.retryifySync=qi.retryifyAsync=void 0;const V_=vu,B_=(e,t)=>function(r){return function n(){return V_.default.schedule().then(i=>e.apply(void 0,arguments).then(s=>(i(),s),s=>{if(i(),Date.now()>=r)throw s;if(t(s)){const o=Math.round(100+400*Math.random());return new Promise(c=>setTimeout(c,o)).then(()=>n.apply(void 0,arguments))}throw s}))}};qi.retryifyAsync=B_;const z_=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(i){if(Date.now()>r)throw i;if(t(i))return n.apply(void 0,arguments);throw i}}};qi.retryifySync=z_;Object.defineProperty(Ja,"__esModule",{value:!0});const Re=Qe,Rt=es,It=xi,ft=yu,Bt=qi,H_={chmodAttempt:It.attemptifyAsync(Rt.promisify(Re.chmod),ft.default.onChangeError),chownAttempt:It.attemptifyAsync(Rt.promisify(Re.chown),ft.default.onChangeError),closeAttempt:It.attemptifyAsync(Rt.promisify(Re.close)),fsyncAttempt:It.attemptifyAsync(Rt.promisify(Re.fsync)),mkdirAttempt:It.attemptifyAsync(Rt.promisify(Re.mkdir)),realpathAttempt:It.attemptifyAsync(Rt.promisify(Re.realpath)),statAttempt:It.attemptifyAsync(Rt.promisify(Re.stat)),unlinkAttempt:It.attemptifyAsync(Rt.promisify(Re.unlink)),closeRetry:Bt.retryifyAsync(Rt.promisify(Re.close),ft.default.isRetriableError),fsyncRetry:Bt.retryifyAsync(Rt.promisify(Re.fsync),ft.default.isRetriableError),openRetry:Bt.retryifyAsync(Rt.promisify(Re.open),ft.default.isRetriableError),readFileRetry:Bt.retryifyAsync(Rt.promisify(Re.readFile),ft.default.isRetriableError),renameRetry:Bt.retryifyAsync(Rt.promisify(Re.rename),ft.default.isRetriableError),statRetry:Bt.retryifyAsync(Rt.promisify(Re.stat),ft.default.isRetriableError),writeRetry:Bt.retryifyAsync(Rt.promisify(Re.write),ft.default.isRetriableError),chmodSyncAttempt:It.attemptifySync(Re.chmodSync,ft.default.onChangeError),chownSyncAttempt:It.attemptifySync(Re.chownSync,ft.default.onChangeError),closeSyncAttempt:It.attemptifySync(Re.closeSync),mkdirSyncAttempt:It.attemptifySync(Re.mkdirSync),realpathSyncAttempt:It.attemptifySync(Re.realpathSync),statSyncAttempt:It.attemptifySync(Re.statSync),unlinkSyncAttempt:It.attemptifySync(Re.unlinkSync),closeSyncRetry:Bt.retryifySync(Re.closeSync,ft.default.isRetriableError),fsyncSyncRetry:Bt.retryifySync(Re.fsyncSync,ft.default.isRetriableError),openSyncRetry:Bt.retryifySync(Re.openSync,ft.default.isRetriableError),readFileSyncRetry:Bt.retryifySync(Re.readFileSync,ft.default.isRetriableError),renameSyncRetry:Bt.retryifySync(Re.renameSync,ft.default.isRetriableError),statSyncRetry:Bt.retryifySync(Re.statSync,ft.default.isRetriableError),writeSyncRetry:Bt.retryifySync(Re.writeSync,ft.default.isRetriableError)};Ja.default=H_;var _u={};Object.defineProperty(_u,"__esModule",{value:!0});const G_={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};_u.default=G_;var $u={};Object.defineProperty($u,"__esModule",{value:!0});const zo={},Nl={next:e=>{const t=zo[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Nl.next(e)):delete zo[e]},schedule:e=>new Promise(t=>{let r=zo[e];r||(r=zo[e]=[]),r.push(t),!(r.length>1)&&t(()=>Nl.next(e))})};$u.default=Nl;var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});const W_=we,Rd=Ce,Id=Ja,Zt={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",i=`.${n}${r}${t}`;return`${e}${i}`},get:(e,t,r=!0)=>{const n=Zt.truncate(t(e));return n in Zt.store?Zt.get(e,t,r):(Zt.store[n]=r,[n,()=>delete Zt.store[n]])},purge:e=>{Zt.store[e]&&(delete Zt.store[e],Id.default.unlinkAttempt(e))},purgeSync:e=>{Zt.store[e]&&(delete Zt.store[e],Id.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in Zt.store)Zt.purgeSync(e)},truncate:e=>{const t=W_.basename(e);if(t.length<=Rd.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Rd.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",Zt.purgeSyncAll);Eu.default=Zt;Object.defineProperty(Dr,"__esModule",{value:!0});Dr.writeFileSync=Dr.writeFile=Dr.readFileSync=Dr.readFile=void 0;const Km=we,yt=Ce,Ae=Ja,er=_u,K_=$u,gn=Eu;function Ym(e,t=yt.DEFAULT_READ_OPTIONS){var r;if(er.default.isString(t))return Ym(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:yt.DEFAULT_TIMEOUT_ASYNC);return Ae.default.readFileRetry(n)(e,t)}Dr.readFile=Ym;function Jm(e,t=yt.DEFAULT_READ_OPTIONS){var r;if(er.default.isString(t))return Jm(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:yt.DEFAULT_TIMEOUT_SYNC);return Ae.default.readFileSyncRetry(n)(e,t)}Dr.readFileSync=Jm;const Xm=(e,t,r,n)=>{if(er.default.isFunction(r))return Xm(e,t,yt.DEFAULT_WRITE_OPTIONS,r);const i=Qm(e,t,r);return n&&i.then(n,n),i};Dr.writeFile=Xm;const Qm=async(e,t,r=yt.DEFAULT_WRITE_OPTIONS)=>{var n;if(er.default.isString(r))return Qm(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:yt.DEFAULT_TIMEOUT_ASYNC);let s=null,o=null,a=null,c=null,l=null;try{r.schedule&&(s=await r.schedule(e)),o=await K_.default.schedule(e),e=await Ae.default.realpathAttempt(e)||e,[c,a]=gn.default.get(e,r.tmpCreate||gn.default.create,r.tmpPurge!==!1);const f=yt.IS_POSIX&&er.default.isUndefined(r.chown),u=er.default.isUndefined(r.mode);if(f||u){const m=await Ae.default.statAttempt(e);m&&(r={...r},f&&(r.chown={uid:m.uid,gid:m.gid}),u&&(r.mode=m.mode))}const h=Km.dirname(e);await Ae.default.mkdirAttempt(h,{mode:yt.DEFAULT_FOLDER_MODE,recursive:!0}),l=await Ae.default.openRetry(i)(c,"w",r.mode||yt.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(c),er.default.isString(t)?await Ae.default.writeRetry(i)(l,t,0,r.encoding||yt.DEFAULT_ENCODING):er.default.isUndefined(t)||await Ae.default.writeRetry(i)(l,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await Ae.default.fsyncRetry(i)(l):Ae.default.fsyncAttempt(l)),await Ae.default.closeRetry(i)(l),l=null,r.chown&&await Ae.default.chownAttempt(c,r.chown.uid,r.chown.gid),r.mode&&await Ae.default.chmodAttempt(c,r.mode);try{await Ae.default.renameRetry(i)(c,e)}catch(m){if(m.code!=="ENAMETOOLONG")throw m;await Ae.default.renameRetry(i)(c,gn.default.truncate(e))}a(),c=null}finally{l&&await Ae.default.closeAttempt(l),c&&gn.default.purge(c),s&&s(),o&&o()}},Zm=(e,t,r=yt.DEFAULT_WRITE_OPTIONS)=>{var n;if(er.default.isString(r))return Zm(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:yt.DEFAULT_TIMEOUT_SYNC);let s=null,o=null,a=null;try{e=Ae.default.realpathSyncAttempt(e)||e,[o,s]=gn.default.get(e,r.tmpCreate||gn.default.create,r.tmpPurge!==!1);const c=yt.IS_POSIX&&er.default.isUndefined(r.chown),l=er.default.isUndefined(r.mode);if(c||l){const u=Ae.default.statSyncAttempt(e);u&&(r={...r},c&&(r.chown={uid:u.uid,gid:u.gid}),l&&(r.mode=u.mode))}const f=Km.dirname(e);Ae.default.mkdirSyncAttempt(f,{mode:yt.DEFAULT_FOLDER_MODE,recursive:!0}),a=Ae.default.openSyncRetry(i)(o,"w",r.mode||yt.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),er.default.isString(t)?Ae.default.writeSyncRetry(i)(a,t,0,r.encoding||yt.DEFAULT_ENCODING):er.default.isUndefined(t)||Ae.default.writeSyncRetry(i)(a,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Ae.default.fsyncSyncRetry(i)(a):Ae.default.fsyncAttempt(a)),Ae.default.closeSyncRetry(i)(a),a=null,r.chown&&Ae.default.chownSyncAttempt(o,r.chown.uid,r.chown.gid),r.mode&&Ae.default.chmodSyncAttempt(o,r.mode);try{Ae.default.renameSyncRetry(i)(o,e)}catch(u){if(u.code!=="ENAMETOOLONG")throw u;Ae.default.renameSyncRetry(i)(o,gn.default.truncate(e))}s(),o=null}finally{a&&Ae.default.closeSyncAttempt(a),o&&gn.default.purge(o)}};Dr.writeFileSync=Zm;var Rl={exports:{}},eg={},Sr={},Vi={},po={},ve={},eo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,N)=>`${S}${N}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,N)=>(N instanceof r&&(S[N.str]=(S[N.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(g,...p){const S=[g[0]];let N=0;for(;N<p.length;)a(S,p[N]),S.push(g[++N]);return new n(S)}e._=i;const s=new n("+");function o(g,...p){const S=[m(g[0])];let N=0;for(;N<p.length;)S.push(s),a(S,p[N]),S.push(s,m(g[++N]));return c(S),new n(S)}e.str=o;function a(g,p){p instanceof n?g.push(...p._items):p instanceof r?g.push(p):g.push(u(p))}e.addCodeArg=a;function c(g){let p=1;for(;p<g.length-1;){if(g[p]===s){const S=l(g[p-1],g[p+1]);if(S!==void 0){g.splice(p-1,3,S);continue}g[p++]="+"}p++}}function l(g,p){if(p==='""')return g;if(g==='""')return p;if(typeof g=="string")return p instanceof r||g[g.length-1]!=='"'?void 0:typeof p!="string"?`${g.slice(0,-1)}${p}"`:p[0]==='"'?g.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(g instanceof r))return`"${g}${p.slice(1)}`}function f(g,p){return p.emptyStr()?g:g.emptyStr()?p:o`${g}${p}`}e.strConcat=f;function u(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:m(Array.isArray(g)?g.join(","):g)}function h(g){return new n(m(g))}e.stringify=h;function m(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function y(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new n(`.${g}`):i`[${g}]`}e.getProperty=y;function E(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=E;function v(g){return new n(g.toString())}e.regexpCode=v})(eo);var Il={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=eo;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:f}={}){this._names={},this._prefixes=l,this._parent=f}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const f=this._names[l]||this._nameGroup(l);return`${l}${f.index++}`}_nameGroup(l){var f,u;if(!((u=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||u===void 0)&&u.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,f){super(f),this.prefix=l}setValue(l,{property:f,itemIndex:u}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(f)}[${u}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,f){var u;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(l),{prefix:m}=h,y=(u=f.key)!==null&&u!==void 0?u:f.ref;let E=this._values[m];if(E){const p=E.get(y);if(p)return p}else E=this._values[m]=new Map;E.set(y,h);const v=this._scope[m]||(this._scope[m]=[]),g=v.length;return v[g]=f.ref,h.setValue(f,{property:m,itemIndex:g}),h}getValue(l,f){const u=this._values[l];if(u)return u.get(f)}scopeRefs(l,f=this._values){return this._reduceValues(f,u=>{if(u.scopePath===void 0)throw new Error(`CodeGen: name "${u}" has no value`);return(0,t._)`${l}${u.scopePath}`})}scopeCode(l=this._values,f,u){return this._reduceValues(l,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},f,u)}_reduceValues(l,f,u={},h){let m=t.nil;for(const y in l){const E=l[y];if(!E)continue;const v=u[y]=u[y]||new Map;E.forEach(g=>{if(v.has(g))return;v.set(g,n.Started);let p=f(g);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${S} ${g} = ${p};${this.opts._n}`}else if(p=h==null?void 0:h(g))m=(0,t._)`${m}${p}${this.opts._n}`;else throw new r(g);v.set(g,n.Completed)})}return m}}e.ValueScope=a})(Il);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=eo,r=Il;var n=eo;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Il;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(d,$){return this}}class o extends s{constructor(d,$,L){super(),this.varKind=d,this.name=$,this.rhs=L}render({es5:d,_n:$}){const L=d?r.varKinds.var:this.varKind,P=this.rhs===void 0?"":` = ${this.rhs}`;return`${L} ${this.name}${P};`+$}optimizeNames(d,$){if(d[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,d,$)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(d,$,L){super(),this.lhs=d,this.rhs=$,this.sideEffects=L}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,$){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=G(this.rhs,d,$),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(d,this.rhs)}}class c extends a{constructor(d,$,L,P){super(d,L,P),this.op=$}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class l extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class f extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class u extends s{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends s{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,$){return this.code=G(this.code,d,$),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce(($,L)=>$+L.render(d),"")}optimizeNodes(){const{nodes:d}=this;let $=d.length;for(;$--;){const L=d[$].optimizeNodes();Array.isArray(L)?d.splice($,1,...L):L?d[$]=L:d.splice($,1)}return d.length>0?this:void 0}optimizeNames(d,$){const{nodes:L}=this;let P=L.length;for(;P--;){const _=L[P];_.optimizeNames(d,$)||(Q(d,_.names),L.splice(P,1))}return L.length>0?this:void 0}get names(){return this.nodes.reduce((d,$)=>H(d,$.names),{})}}class y extends m{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class E extends m{}class v extends y{}v.kind="else";class g extends y{constructor(d,$){super($),this.condition=d}render(d){let $=`if(${this.condition})`+super.render(d);return this.else&&($+="else "+this.else.render(d)),$}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let $=this.else;if($){const L=$.optimizeNodes();$=this.else=Array.isArray(L)?new v(L):L}if($)return d===!1?$ instanceof g?$:$.nodes:this.nodes.length?this:new g(Z(d),$ instanceof g?[$]:$.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,$){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(d,$),!!(super.optimizeNames(d,$)||this.else))return this.condition=G(this.condition,d,$),this}get names(){const d=super.names;return W(d,this.condition),this.else&&H(d,this.else.names),d}}g.kind="if";class p extends y{}p.kind="for";class S extends p{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iteration=G(this.iteration,d,$),this}get names(){return H(super.names,this.iteration.names)}}class N extends p{constructor(d,$,L,P){super(),this.varKind=d,this.name=$,this.from=L,this.to=P}render(d){const $=d.es5?r.varKinds.var:this.varKind,{name:L,from:P,to:_}=this;return`for(${$} ${L}=${P}; ${L}<${_}; ${L}++)`+super.render(d)}get names(){const d=W(super.names,this.from);return W(d,this.to)}}class M extends p{constructor(d,$,L,P){super(),this.loop=d,this.varKind=$,this.name=L,this.iterable=P}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iterable=G(this.iterable,d,$),this}get names(){return H(super.names,this.iterable.names)}}class T extends y{constructor(d,$,L){super(),this.name=d,this.args=$,this.async=L}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}T.kind="func";class b extends m{render(d){return"return "+super.render(d)}}b.kind="return";class D extends y{render(d){let $="try"+super.render(d);return this.catch&&($+=this.catch.render(d)),this.finally&&($+=this.finally.render(d)),$}optimizeNodes(){var d,$;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(d,$){var L,P;return super.optimizeNames(d,$),(L=this.catch)===null||L===void 0||L.optimizeNames(d,$),(P=this.finally)===null||P===void 0||P.optimizeNames(d,$),this}get names(){const d=super.names;return this.catch&&H(d,this.catch.names),this.finally&&H(d,this.finally.names),d}}class O extends y{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}O.kind="catch";class V extends y{render(d){return"finally"+super.render(d)}}V.kind="finally";class Y{constructor(d,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,$){const L=this._extScope.value(d,$);return(this._values[L.prefix]||(this._values[L.prefix]=new Set)).add(L),L}getScopeValue(d,$){return this._extScope.getValue(d,$)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,$,L,P){const _=this._scope.toName($);return L!==void 0&&P&&(this._constants[_.str]=L),this._leafNode(new o(d,_,L)),_}const(d,$,L){return this._def(r.varKinds.const,d,$,L)}let(d,$,L){return this._def(r.varKinds.let,d,$,L)}var(d,$,L){return this._def(r.varKinds.var,d,$,L)}assign(d,$,L){return this._leafNode(new a(d,$,L))}add(d,$){return this._leafNode(new c(d,e.operators.ADD,$))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const $=["{"];for(const[L,P]of d)$.length>1&&$.push(","),$.push(L),(L!==P||this.opts.es5)&&($.push(":"),(0,t.addCodeArg)($,P));return $.push("}"),new t._Code($)}if(d,$,L){if(this._blockNode(new g(d)),$&&L)this.code($).else().code(L).endIf();else if($)this.code($).endIf();else if(L)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new g(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(d,$){return this._blockNode(d),$&&this.code($).endFor(),this}for(d,$){return this._for(new S(d),$)}forRange(d,$,L,P,_=this.opts.es5?r.varKinds.var:r.varKinds.let){const z=this._scope.toName(d);return this._for(new N(_,z,$,L),()=>P(z))}forOf(d,$,L,P=r.varKinds.const){const _=this._scope.toName(d);if(this.opts.es5){const z=$ instanceof t.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,t._)`${z}.length`,U=>{this.var(_,(0,t._)`${z}[${U}]`),L(_)})}return this._for(new M("of",P,_,$),()=>L(_))}forIn(d,$,L,P=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${$})`,L);const _=this._scope.toName(d);return this._for(new M("in",P,_,$),()=>L(_))}endFor(){return this._endBlockNode(p)}label(d){return this._leafNode(new l(d))}break(d){return this._leafNode(new f(d))}return(d){const $=new b;if(this._blockNode($),this.code(d),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,$,L){if(!$&&!L)throw new Error('CodeGen: "try" without "catch" and "finally"');const P=new D;if(this._blockNode(P),this.code(d),$){const _=this.name("e");this._currNode=P.catch=new O(_),$(_)}return L&&(this._currNode=P.finally=new V,this.code(L)),this._endBlockNode(O,V)}throw(d){return this._leafNode(new u(d))}block(d,$){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock($),this}endBlock(d){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const L=this._nodes.length-$;if(L<0||d!==void 0&&L!==d)throw new Error(`CodeGen: wrong number of nodes: ${L} vs ${d} expected`);return this._nodes.length=$,this}func(d,$=t.nil,L,P){return this._blockNode(new T(d,$,L)),P&&this.code(P).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,$){const L=this._currNode;if(L instanceof d||$&&L instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${d.kind}/${$.kind}`:d.kind}"`)}_elseNode(d){const $=this._currNode;if(!($ instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const $=this._nodes;$[$.length-1]=d}}e.CodeGen=Y;function H(C,d){for(const $ in d)C[$]=(C[$]||0)+(d[$]||0);return C}function W(C,d){return d instanceof t._CodeOrName?H(C,d.names):C}function G(C,d,$){if(C instanceof t.Name)return L(C);if(!P(C))return C;return new t._Code(C._items.reduce((_,z)=>(z instanceof t.Name&&(z=L(z)),z instanceof t._Code?_.push(...z._items):_.push(z),_),[]));function L(_){const z=$[_.str];return z===void 0||d[_.str]!==1?_:(delete d[_.str],z)}function P(_){return _ instanceof t._Code&&_._items.some(z=>z instanceof t.Name&&d[z.str]===1&&$[z.str]!==void 0)}}function Q(C,d){for(const $ in d)C[$]=(C[$]||0)-(d[$]||0)}function Z(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${R(C)}`}e.not=Z;const K=w(e.operators.AND);function I(...C){return C.reduce(K)}e.and=I;const j=w(e.operators.OR);function A(...C){return C.reduce(j)}e.or=A;function w(C){return(d,$)=>d===t.nil?$:$===t.nil?d:(0,t._)`${R(d)} ${C} ${R($)}`}function R(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(ve);var be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=ve,r=eo;function n(T){const b={};for(const D of T)b[D]=!0;return b}e.toHash=n;function i(T,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(T,b),!o(b,T.self.RULES.all))}e.alwaysValidSchema=i;function s(T,b=T.schema){const{opts:D,self:O}=T;if(!D.strictSchema||typeof b=="boolean")return;const V=O.RULES.keywords;for(const Y in b)V[Y]||M(T,`unknown keyword: "${Y}"`)}e.checkUnknownRules=s;function o(T,b){if(typeof T=="boolean")return!T;for(const D in T)if(b[D])return!0;return!1}e.schemaHasRules=o;function a(T,b){if(typeof T=="boolean")return!T;for(const D in T)if(D!=="$ref"&&b.all[D])return!0;return!1}e.schemaHasRulesButRef=a;function c({topSchemaRef:T,schemaPath:b},D,O,V){if(!V){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${T}${b}${(0,t.getProperty)(O)}`}e.schemaRefOrVal=c;function l(T){return h(decodeURIComponent(T))}e.unescapeFragment=l;function f(T){return encodeURIComponent(u(T))}e.escapeFragment=f;function u(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=u;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(T,b){if(Array.isArray(T))for(const D of T)b(D);else b(T)}e.eachItem=m;function y({mergeNames:T,mergeToName:b,mergeValues:D,resultToName:O}){return(V,Y,H,W)=>{const G=H===void 0?Y:H instanceof t.Name?(Y instanceof t.Name?T(V,Y,H):b(V,Y,H),H):Y instanceof t.Name?(b(V,H,Y),Y):D(Y,H);return W===t.Name&&!(G instanceof t.Name)?O(V,G):G}}e.mergeEvaluated={props:y({mergeNames:(T,b,D)=>T.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>{T.if((0,t._)`${b} === true`,()=>T.assign(D,!0),()=>T.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${b})`))}),mergeToName:(T,b,D)=>T.if((0,t._)`${D} !== true`,()=>{b===!0?T.assign(D,!0):(T.assign(D,(0,t._)`${D} || {}`),v(T,D,b))}),mergeValues:(T,b)=>T===!0?!0:{...T,...b},resultToName:E}),items:y({mergeNames:(T,b,D)=>T.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>T.assign(D,(0,t._)`${b} === true ? true : ${D} > ${b} ? ${D} : ${b}`)),mergeToName:(T,b,D)=>T.if((0,t._)`${D} !== true`,()=>T.assign(D,b===!0?!0:(0,t._)`${D} > ${b} ? ${D} : ${b}`)),mergeValues:(T,b)=>T===!0?!0:Math.max(T,b),resultToName:(T,b)=>T.var("items",b)})};function E(T,b){if(b===!0)return T.var("props",!0);const D=T.var("props",(0,t._)`{}`);return b!==void 0&&v(T,D,b),D}e.evaluatedPropsToName=E;function v(T,b,D){Object.keys(D).forEach(O=>T.assign((0,t._)`${b}${(0,t.getProperty)(O)}`,!0))}e.setEvaluated=v;const g={};function p(T,b){return T.scopeValue("func",{ref:b,code:g[b.code]||(g[b.code]=new r._Code(b.code))})}e.useFunc=p;var S;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(S=e.Type||(e.Type={}));function N(T,b,D){if(T instanceof t.Name){const O=b===S.Num;return D?O?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:O?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(T).toString():"/"+u(T)}e.getErrorPath=N;function M(T,b,D=T.opts.strictSchema){if(D){if(b=`strict mode: ${b}`,D===!0)throw new Error(b);T.self.logger.warn(b)}}e.checkStrictMode=M})(be);var jr={};Object.defineProperty(jr,"__esModule",{value:!0});const St=ve,Y_={data:new St.Name("data"),valCxt:new St.Name("valCxt"),instancePath:new St.Name("instancePath"),parentData:new St.Name("parentData"),parentDataProperty:new St.Name("parentDataProperty"),rootData:new St.Name("rootData"),dynamicAnchors:new St.Name("dynamicAnchors"),vErrors:new St.Name("vErrors"),errors:new St.Name("errors"),this:new St.Name("this"),self:new St.Name("self"),scope:new St.Name("scope"),json:new St.Name("json"),jsonPos:new St.Name("jsonPos"),jsonLen:new St.Name("jsonLen"),jsonPart:new St.Name("jsonPart")};jr.default=Y_;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ve,r=be,n=jr;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:g})=>g?(0,t.str)`"${v}" keyword must be ${g} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,g=e.keywordError,p,S){const{it:N}=v,{gen:M,compositeRule:T,allErrors:b}=N,D=u(v,g,p);S??(T||b)?c(M,D):l(N,(0,t._)`[${D}]`)}e.reportError=i;function s(v,g=e.keywordError,p){const{it:S}=v,{gen:N,compositeRule:M,allErrors:T}=S,b=u(v,g,p);c(N,b),M||T||l(S,n.default.vErrors)}e.reportExtraError=s;function o(v,g){v.assign(n.default.errors,g),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(g,()=>v.assign((0,t._)`${n.default.vErrors}.length`,g),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:g,schemaValue:p,data:S,errsCount:N,it:M}){if(N===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",N,n.default.errors,b=>{v.const(T,(0,t._)`${n.default.vErrors}[${b}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${g}`),M.opts.verbose&&(v.assign((0,t._)`${T}.schema`,p),v.assign((0,t._)`${T}.data`,S))})}e.extendErrors=a;function c(v,g){const p=v.const("err",g);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${p}]`),(0,t._)`${n.default.vErrors}.push(${p})`),v.code((0,t._)`${n.default.errors}++`)}function l(v,g){const{gen:p,validateName:S,schemaEnv:N}=v;N.$async?p.throw((0,t._)`new ${v.ValidationError}(${g})`):(p.assign((0,t._)`${S}.errors`,g),p.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function u(v,g,p){const{createErrors:S}=v.it;return S===!1?(0,t._)`{}`:h(v,g,p)}function h(v,g,p={}){const{gen:S,it:N}=v,M=[m(N,p),y(v,p)];return E(v,g,M),S.object(...M)}function m({errorPath:v},{instancePath:g}){const p=g?(0,t.str)`${v}${(0,r.getErrorPath)(g,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,p)]}function y({keyword:v,it:{errSchemaPath:g}},{schemaPath:p,parentSchema:S}){let N=S?g:(0,t.str)`${g}/${v}`;return p&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(p,r.Type.Str)}`),[f.schemaPath,N]}function E(v,{params:g,message:p},S){const{keyword:N,data:M,schemaValue:T,it:b}=v,{opts:D,propertyName:O,topSchemaRef:V,schemaPath:Y}=b;S.push([f.keyword,N],[f.params,typeof g=="function"?g(v):g||(0,t._)`{}`]),D.messages&&S.push([f.message,typeof p=="function"?p(v):p]),D.verbose&&S.push([f.schema,T],[f.parentSchema,(0,t._)`${V}${Y}`],[n.default.data,M]),O&&S.push([f.propertyName,O])}})(po);Object.defineProperty(Vi,"__esModule",{value:!0});Vi.boolOrEmptySchema=Vi.topBoolOrEmptySchema=void 0;const J_=po,X_=ve,Q_=jr,Z_={message:"boolean schema is false"};function e$(e){const{gen:t,schema:r,validateName:n}=e;r===!1?tg(e,!1):typeof r=="object"&&r.$async===!0?t.return(Q_.default.data):(t.assign((0,X_._)`${n}.errors`,null),t.return(!0))}Vi.topBoolOrEmptySchema=e$;function t$(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),tg(e)):r.var(t,!0)}Vi.boolOrEmptySchema=t$;function tg(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,J_.reportError)(i,Z_,void 0,t)}var mo={},ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.getRules=ri.isJSONType=void 0;const r$=["string","number","integer","boolean","null","object","array"],n$=new Set(r$);function i$(e){return typeof e=="string"&&n$.has(e)}ri.isJSONType=i$;function s$(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ri.getRules=s$;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.shouldUseRule=Jr.shouldUseGroup=Jr.schemaHasRulesForType=void 0;function o$({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&rg(e,n)}Jr.schemaHasRulesForType=o$;function rg(e,t){return t.rules.some(r=>ng(e,r))}Jr.shouldUseGroup=rg;function ng(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Jr.shouldUseRule=ng;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ri,r=Jr,n=po,i=ve,s=be;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const N=c(S.type);if(N.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!N.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&N.push("null")}return N}e.getSchemaTypes=a;function c(S){const N=Array.isArray(S)?S:S?[S]:[];if(N.every(t.isJSONType))return N;throw new Error("type must be JSONType or JSONType[]: "+N.join(","))}e.getJSONTypes=c;function l(S,N){const{gen:M,data:T,opts:b}=S,D=u(N,b.coerceTypes),O=N.length>0&&!(D.length===0&&N.length===1&&(0,r.schemaHasRulesForType)(S,N[0]));if(O){const V=E(N,T,b.strictNumbers,o.Wrong);M.if(V,()=>{D.length?h(S,N,D):g(S)})}return O}e.coerceAndCheckDataType=l;const f=new Set(["string","number","integer","boolean","null"]);function u(S,N){return N?S.filter(M=>f.has(M)||N==="array"&&M==="array"):[]}function h(S,N,M){const{gen:T,data:b,opts:D}=S,O=T.let("dataType",(0,i._)`typeof ${b}`),V=T.let("coerced",(0,i._)`undefined`);D.coerceTypes==="array"&&T.if((0,i._)`${O} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>T.assign(b,(0,i._)`${b}[0]`).assign(O,(0,i._)`typeof ${b}`).if(E(N,b,D.strictNumbers),()=>T.assign(V,b))),T.if((0,i._)`${V} !== undefined`);for(const H of M)(f.has(H)||H==="array"&&D.coerceTypes==="array")&&Y(H);T.else(),g(S),T.endIf(),T.if((0,i._)`${V} !== undefined`,()=>{T.assign(b,V),m(S,V)});function Y(H){switch(H){case"string":T.elseIf((0,i._)`${O} == "number" || ${O} == "boolean"`).assign(V,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(V,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${O} == "boolean" || ${b} === null
              || (${O} == "string" && ${b} && ${b} == +${b})`).assign(V,(0,i._)`+${b}`);return;case"integer":T.elseIf((0,i._)`${O} === "boolean" || ${b} === null
              || (${O} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(V,(0,i._)`+${b}`);return;case"boolean":T.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(V,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(V,!0);return;case"null":T.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),T.assign(V,null);return;case"array":T.elseIf((0,i._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${b} === null`).assign(V,(0,i._)`[${b}]`)}}}function m({gen:S,parentData:N,parentDataProperty:M},T){S.if((0,i._)`${N} !== undefined`,()=>S.assign((0,i._)`${N}[${M}]`,T))}function y(S,N,M,T=o.Correct){const b=T===o.Correct?i.operators.EQ:i.operators.NEQ;let D;switch(S){case"null":return(0,i._)`${N} ${b} null`;case"array":D=(0,i._)`Array.isArray(${N})`;break;case"object":D=(0,i._)`${N} && typeof ${N} == "object" && !Array.isArray(${N})`;break;case"integer":D=O((0,i._)`!(${N} % 1) && !isNaN(${N})`);break;case"number":D=O();break;default:return(0,i._)`typeof ${N} ${b} ${S}`}return T===o.Correct?D:(0,i.not)(D);function O(V=i.nil){return(0,i.and)((0,i._)`typeof ${N} == "number"`,V,M?(0,i._)`isFinite(${N})`:i.nil)}}e.checkDataType=y;function E(S,N,M,T){if(S.length===1)return y(S[0],N,M,T);let b;const D=(0,s.toHash)(S);if(D.array&&D.object){const O=(0,i._)`typeof ${N} != "object"`;b=D.null?O:(0,i._)`!${N} || ${O}`,delete D.null,delete D.array,delete D.object}else b=i.nil;D.number&&delete D.integer;for(const O in D)b=(0,i.and)(b,y(O,N,M,T));return b}e.checkDataTypes=E;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:N})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${N}}`};function g(S){const N=p(S);(0,n.reportError)(N,v)}e.reportTypeError=g;function p(S){const{gen:N,data:M,schema:T}=S,b=(0,s.schemaRefOrVal)(S,T,"type");return{gen:N,keyword:"type",data:M,schema:T.type,schemaCode:b,schemaValue:b,parentSchema:T,params:{},it:S}}})(mo);var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.assignDefaults=void 0;const gi=ve,a$=be;function c$(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Dd(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Dd(e,s,i.default))}Xa.assignDefaults=c$;function Dd(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const a=(0,gi._)`${s}${(0,gi.getProperty)(t)}`;if(i){(0,a$.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,gi._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,gi._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,gi._)`${a} = ${(0,gi.stringify)(r)}`)}var Fr={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.validateUnion=ge.validateArray=ge.usePattern=ge.callValidateCode=ge.schemaProperties=ge.allSchemaProperties=ge.noPropertyInData=ge.propertyInData=ge.isOwnProperty=ge.hasPropFunc=ge.reportMissingProp=ge.checkMissingProp=ge.checkReportMissingProp=void 0;const Ue=ve,wu=be,an=jr,l$=be;function u$(e,t){const{gen:r,data:n,it:i}=e;r.if(bu(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ue._)`${t}`},!0),e.error()})}ge.checkReportMissingProp=u$;function f$({gen:e,data:t,it:{opts:r}},n,i){return(0,Ue.or)(...n.map(s=>(0,Ue.and)(bu(e,t,s,r.ownProperties),(0,Ue._)`${i} = ${s}`)))}ge.checkMissingProp=f$;function d$(e,t){e.setParams({missingProperty:t},!0),e.error()}ge.reportMissingProp=d$;function ig(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ue._)`Object.prototype.hasOwnProperty`})}ge.hasPropFunc=ig;function Su(e,t,r){return(0,Ue._)`${ig(e)}.call(${t}, ${r})`}ge.isOwnProperty=Su;function h$(e,t,r,n){const i=(0,Ue._)`${t}${(0,Ue.getProperty)(r)} !== undefined`;return n?(0,Ue._)`${i} && ${Su(e,t,r)}`:i}ge.propertyInData=h$;function bu(e,t,r,n){const i=(0,Ue._)`${t}${(0,Ue.getProperty)(r)} === undefined`;return n?(0,Ue.or)(i,(0,Ue.not)(Su(e,t,r))):i}ge.noPropertyInData=bu;function sg(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ge.allSchemaProperties=sg;function p$(e,t){return sg(t).filter(r=>!(0,wu.alwaysValidSchema)(e,t[r]))}ge.schemaProperties=p$;function m$({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,c,l){const f=l?(0,Ue._)`${e}, ${t}, ${n}${i}`:t,u=[[an.default.instancePath,(0,Ue.strConcat)(an.default.instancePath,s)],[an.default.parentData,o.parentData],[an.default.parentDataProperty,o.parentDataProperty],[an.default.rootData,an.default.rootData]];o.opts.dynamicRef&&u.push([an.default.dynamicAnchors,an.default.dynamicAnchors]);const h=(0,Ue._)`${f}, ${r.object(...u)}`;return c!==Ue.nil?(0,Ue._)`${a}.call(${c}, ${h})`:(0,Ue._)`${a}(${h})`}ge.callValidateCode=m$;const g$=(0,Ue._)`new RegExp`;function y$({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ue._)`${i.code==="new RegExp"?g$:(0,l$.useFunc)(e,i)}(${r}, ${n})`})}ge.usePattern=y$;function v$(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const c=t.const("len",(0,Ue._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:wu.Type.Num},s),t.if((0,Ue.not)(s),a)})}}ge.validateArray=v$;function _$(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,wu.alwaysValidSchema)(i,c))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,l)=>{const f=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Ue._)`${o} || ${a}`),e.mergeValidEvaluated(f,a)||t.if((0,Ue.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ge.validateUnion=_$;Object.defineProperty(Fr,"__esModule",{value:!0});Fr.validateKeywordUsage=Fr.validSchemaType=Fr.funcKeywordCode=Fr.macroKeywordCode=void 0;const Dt=ve,Vn=jr,$$=ge,E$=po;function w$(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),c=og(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=r.name("valid");e.subschema({schema:a,schemaPath:Dt.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Fr.macroKeywordCode=w$;function S$(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:c}=e;P$(c,t);const l=!a&&t.compile?t.compile.call(c.self,s,o,c):t.validate,f=og(n,i,l),u=n.let("valid");e.block$data(u,h),e.ok((r=t.valid)!==null&&r!==void 0?r:u);function h(){if(t.errors===!1)E(),t.modifying&&Fd(e),v(()=>e.error());else{const g=t.async?m():y();t.modifying&&Fd(e),v(()=>b$(e,g))}}function m(){const g=n.let("ruleErrs",null);return n.try(()=>E((0,Dt._)`await `),p=>n.assign(u,!1).if((0,Dt._)`${p} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,Dt._)`${p}.errors`),()=>n.throw(p))),g}function y(){const g=(0,Dt._)`${f}.errors`;return n.assign(g,null),E(Dt.nil),g}function E(g=t.async?(0,Dt._)`await `:Dt.nil){const p=c.opts.passContext?Vn.default.this:Vn.default.self,S=!("compile"in t&&!a||t.schema===!1);n.assign(u,(0,Dt._)`${g}${(0,$$.callValidateCode)(e,f,p,S)}`,t.modifying)}function v(g){var p;n.if((0,Dt.not)((p=t.valid)!==null&&p!==void 0?p:u),g)}}Fr.funcKeywordCode=S$;function Fd(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Dt._)`${n.parentData}[${n.parentDataProperty}]`))}function b$(e,t){const{gen:r}=e;r.if((0,Dt._)`Array.isArray(${t})`,()=>{r.assign(Vn.default.vErrors,(0,Dt._)`${Vn.default.vErrors} === null ? ${t} : ${Vn.default.vErrors}.concat(${t})`).assign(Vn.default.errors,(0,Dt._)`${Vn.default.vErrors}.length`),(0,E$.extendErrors)(e)},()=>e.error())}function P$({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function og(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Dt.stringify)(r)})}function O$(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Fr.validSchemaType=O$;function T$({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const c=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Fr.validateKeywordUsage=T$;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.extendSubschemaMode=wn.extendSubschemaData=wn.getSubschema=void 0;const Nr=ve,ag=be;function A$(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Nr._)`${e.schemaPath}${(0,Nr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Nr._)`${e.schemaPath}${(0,Nr.getProperty)(t)}${(0,Nr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ag.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}wn.getSubschema=A$;function C$(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:l,dataPathArr:f,opts:u}=t,h=a.let("data",(0,Nr._)`${t.data}${(0,Nr.getProperty)(r)}`,!0);c(h),e.errorPath=(0,Nr.str)`${l}${(0,ag.getErrorPath)(r,n,u.jsPropertySyntax)}`,e.parentDataProperty=(0,Nr._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Nr.Name?i:a.let("data",i,!0);c(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}wn.extendSubschemaData=C$;function N$(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}wn.extendSubschemaMode=N$;var vt={},Qa=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},cg={exports:{}},yn=cg.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};pa(t,n,i,e,"",e)};yn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};yn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};yn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};yn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function pa(e,t,r,n,i,s,o,a,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,c,l);for(var f in n){var u=n[f];if(Array.isArray(u)){if(f in yn.arrayKeywords)for(var h=0;h<u.length;h++)pa(e,t,r,u[h],i+"/"+f+"/"+h,s,i,f,n,h)}else if(f in yn.propsKeywords){if(u&&typeof u=="object")for(var m in u)pa(e,t,r,u[m],i+"/"+f+"/"+R$(m),s,i,f,n,m)}else(f in yn.keywords||e.allKeys&&!(f in yn.skipKeywords))&&pa(e,t,r,u,i+"/"+f,s,i,f,n)}r(n,i,s,o,a,c,l)}}function R$(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var I$=cg.exports;Object.defineProperty(vt,"__esModule",{value:!0});vt.getSchemaRefs=vt.resolveUrl=vt.normalizeId=vt._getFullPath=vt.getFullPath=vt.inlineRef=void 0;const D$=be,F$=Qa,k$=I$,L$=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function j$(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Dl(e):t?lg(e)<=t:!1}vt.inlineRef=j$;const M$=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Dl(e){for(const t in e){if(M$.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Dl)||typeof r=="object"&&Dl(r))return!0}return!1}function lg(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!L$.has(r)&&(typeof e[r]=="object"&&(0,D$.eachItem)(e[r],n=>t+=lg(n)),t===1/0))return 1/0}return t}function ug(e,t="",r){r!==!1&&(t=Li(t));const n=e.parse(t);return fg(e,n)}vt.getFullPath=ug;function fg(e,t){return e.serialize(t).split("#")[0]+"#"}vt._getFullPath=fg;const U$=/#\/?$/;function Li(e){return e?e.replace(U$,""):""}vt.normalizeId=Li;function x$(e,t,r){return r=Li(r),e.resolve(t,r)}vt.resolveUrl=x$;const q$=/^[a-z_][-a-z0-9._]*$/i;function V$(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=Li(e[r]||t),s={"":i},o=ug(n,i,!1),a={},c=new Set;return k$(e,{allKeys:!0},(u,h,m,y)=>{if(y===void 0)return;const E=o+h;let v=s[y];typeof u[r]=="string"&&(v=g.call(this,u[r])),p.call(this,u.$anchor),p.call(this,u.$dynamicAnchor),s[h]=v;function g(S){const N=this.opts.uriResolver.resolve;if(S=Li(v?N(v,S):S),c.has(S))throw f(S);c.add(S);let M=this.refs[S];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?l(u,M.schema,S):S!==Li(E)&&(S[0]==="#"?(l(u,a[S],S),a[S]=u):this.refs[S]=E),S}function p(S){if(typeof S=="string"){if(!q$.test(S))throw new Error(`invalid anchor "${S}"`);g.call(this,`#${S}`)}}}),a;function l(u,h,m){if(h!==void 0&&!F$(u,h))throw f(m)}function f(u){return new Error(`reference "${u}" resolves to more than one schema`)}}vt.getSchemaRefs=V$;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.getData=Sr.KeywordCxt=Sr.validateFunctionCode=void 0;const dg=Vi,kd=mo,Pu=Jr,Ta=mo,B$=Xa,Us=Fr,Mc=wn,ie=ve,le=jr,z$=vt,Xr=be,_s=po;function H$(e){if(mg(e)&&(gg(e),pg(e))){K$(e);return}hg(e,()=>(0,dg.topBoolOrEmptySchema)(e))}Sr.validateFunctionCode=H$;function hg({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,ie._)`${le.default.data}, ${le.default.valCxt}`,n.$async,()=>{e.code((0,ie._)`"use strict"; ${Ld(r,i)}`),W$(e,i),e.code(s)}):e.func(t,(0,ie._)`${le.default.data}, ${G$(i)}`,n.$async,()=>e.code(Ld(r,i)).code(s))}function G$(e){return(0,ie._)`{${le.default.instancePath}="", ${le.default.parentData}, ${le.default.parentDataProperty}, ${le.default.rootData}=${le.default.data}${e.dynamicRef?(0,ie._)`, ${le.default.dynamicAnchors}={}`:ie.nil}}={}`}function W$(e,t){e.if(le.default.valCxt,()=>{e.var(le.default.instancePath,(0,ie._)`${le.default.valCxt}.${le.default.instancePath}`),e.var(le.default.parentData,(0,ie._)`${le.default.valCxt}.${le.default.parentData}`),e.var(le.default.parentDataProperty,(0,ie._)`${le.default.valCxt}.${le.default.parentDataProperty}`),e.var(le.default.rootData,(0,ie._)`${le.default.valCxt}.${le.default.rootData}`),t.dynamicRef&&e.var(le.default.dynamicAnchors,(0,ie._)`${le.default.valCxt}.${le.default.dynamicAnchors}`)},()=>{e.var(le.default.instancePath,(0,ie._)`""`),e.var(le.default.parentData,(0,ie._)`undefined`),e.var(le.default.parentDataProperty,(0,ie._)`undefined`),e.var(le.default.rootData,le.default.data),t.dynamicRef&&e.var(le.default.dynamicAnchors,(0,ie._)`{}`)})}function K$(e){const{schema:t,opts:r,gen:n}=e;hg(e,()=>{r.$comment&&t.$comment&&vg(e),Z$(e),n.let(le.default.vErrors,null),n.let(le.default.errors,0),r.unevaluated&&Y$(e),yg(e),rE(e)})}function Y$(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,ie._)`${r}.evaluated`),t.if((0,ie._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,ie._)`${e.evaluated}.props`,(0,ie._)`undefined`)),t.if((0,ie._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,ie._)`${e.evaluated}.items`,(0,ie._)`undefined`))}function Ld(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,ie._)`/*# sourceURL=${r} */`:ie.nil}function J$(e,t){if(mg(e)&&(gg(e),pg(e))){X$(e,t);return}(0,dg.boolOrEmptySchema)(e,t)}function pg({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function mg(e){return typeof e.schema!="boolean"}function X$(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&vg(e),eE(e),tE(e);const s=n.const("_errs",le.default.errors);yg(e,s),n.var(t,(0,ie._)`${s} === ${le.default.errors}`)}function gg(e){(0,Xr.checkUnknownRules)(e),Q$(e)}function yg(e,t){if(e.opts.jtd)return jd(e,[],!1,t);const r=(0,kd.getSchemaTypes)(e.schema),n=(0,kd.coerceAndCheckDataType)(e,r);jd(e,r,!n,t)}function Q$(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Xr.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Z$(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Xr.checkStrictMode)(e,"default is ignored in the schema root")}function eE(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,z$.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function tE(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function vg({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,ie._)`${le.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,ie.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,ie._)`${le.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function rE(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,ie._)`${le.default.errors} === 0`,()=>t.return(le.default.data),()=>t.throw((0,ie._)`new ${i}(${le.default.vErrors})`)):(t.assign((0,ie._)`${n}.errors`,le.default.vErrors),s.unevaluated&&nE(e),t.return((0,ie._)`${le.default.errors} === 0`))}function nE({gen:e,evaluated:t,props:r,items:n}){r instanceof ie.Name&&e.assign((0,ie._)`${t}.props`,r),n instanceof ie.Name&&e.assign((0,ie._)`${t}.items`,n)}function jd(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:a,opts:c,self:l}=e,{RULES:f}=l;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,Xr.schemaHasRulesButRef)(s,f))){i.block(()=>Eg(e,"$ref",f.all.$ref.definition));return}c.jtd||iE(e,t),i.block(()=>{for(const h of f.rules)u(h);u(f.post)});function u(h){(0,Pu.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Ta.checkDataType)(h.type,o,c.strictNumbers)),Md(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Ta.reportTypeError)(e)),i.endIf()):Md(e,h),a||i.if((0,ie._)`${le.default.errors} === ${n||0}`))}}function Md(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,B$.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,Pu.shouldUseRule)(n,s)&&Eg(e,s.keyword,s.definition,t.type)})}function iE(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(sE(e,t),e.opts.allowUnionTypes||oE(e,t),aE(e,e.dataTypes))}function sE(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{_g(e.dataTypes,r)||Ou(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),lE(e,t)}}function oE(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Ou(e,"use allowUnionTypes to allow union type keyword")}function aE(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,Pu.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>cE(t,o))&&Ou(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function cE(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function _g(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function lE(e,t){const r=[];for(const n of e.dataTypes)_g(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Ou(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Xr.checkStrictMode)(e,t,e.opts.strictTypes)}let $g=class{constructor(t,r,n){if((0,Us.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Xr.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",wg(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Us.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",le.default.errors))}result(t,r,n){this.failResult((0,ie.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,ie.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,ie._)`${r} !== undefined && (${(0,ie.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?_s.reportExtraError:_s.reportError)(this,this.def.error,r)}$dataError(){(0,_s.reportError)(this,this.def.$dataError||_s.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,_s.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=ie.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=ie.nil,r=ie.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,ie.or)((0,ie._)`${i} === undefined`,r)),t!==ie.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==ie.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,ie.or)(o(),a());function o(){if(n.length){if(!(r instanceof ie.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,ie._)`${(0,Ta.checkDataTypes)(c,r,s.opts.strictNumbers,Ta.DataType.Wrong)}`}return ie.nil}function a(){if(i.validateSchema){const c=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,ie._)`!${c}(${r})`}return ie.nil}}subschema(t,r){const n=(0,Mc.getSubschema)(this.it,t);(0,Mc.extendSubschemaData)(n,this.it,t),(0,Mc.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return J$(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Xr.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Xr.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,ie.Name)),!0}};Sr.KeywordCxt=$g;function Eg(e,t,r,n){const i=new $g(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Us.funcKeywordCode)(i,r):"macro"in r?(0,Us.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Us.funcKeywordCode)(i,r)}const uE=/^\/(?:[^~]|~0|~1)*$/,fE=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function wg(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return le.default.rootData;if(e[0]==="/"){if(!uE.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=le.default.rootData}else{const l=fE.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+l[1];if(i=l[2],i==="#"){if(f>=t)throw new Error(c("property/index",f));return n[t-f]}if(f>t)throw new Error(c("data",f));if(s=r[t-f],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,ie._)`${s}${(0,ie.getProperty)((0,Xr.unescapeJsonPointer)(l))}`,o=(0,ie._)`${o} && ${s}`);return o;function c(l,f){return`Cannot access ${l} ${f} levels up, current level is ${t}`}}Sr.getData=wg;var go={};Object.defineProperty(go,"__esModule",{value:!0});let dE=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};go.default=dE;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});const Uc=vt;let hE=class extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Uc.resolveUrl)(t,r,n),this.missingSchema=(0,Uc.normalizeId)((0,Uc.getFullPath)(t,this.missingRef))}};yo.default=hE;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.resolveSchema=Wt.getCompilingSchema=Wt.resolveRef=Wt.compileSchema=Wt.SchemaEnv=void 0;const mr=ve,pE=go,kn=jr,Er=vt,Ud=be,mE=Sr;let Za=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Er.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Wt.SchemaEnv=Za;function Tu(e){const t=Sg.call(this,e);if(t)return t;const r=(0,Er.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new mr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:pE.default,code:(0,mr._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const l={gen:o,allErrors:this.opts.allErrors,data:kn.default.data,parentData:kn.default.parentData,parentDataProperty:kn.default.parentDataProperty,dataNames:[kn.default.data],dataPathArr:[mr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,mr.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:mr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,mr._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,mE.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const u=o.toString();f=`${o.scopeRefs(kn.default.scope)}return ${u}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const m=new Function(`${kn.default.self}`,`${kn.default.scope}`,f)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:u,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:E}=l;m.evaluated={props:y instanceof mr.Name?void 0:y,items:E instanceof mr.Name?void 0:E,dynamicProps:y instanceof mr.Name,dynamicItems:E instanceof mr.Name},m.source&&(m.source.evaluated=(0,mr.stringify)(m.evaluated))}return e.validate=m,e}catch(u){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),u}finally{this._compilations.delete(e)}}Wt.compileSchema=Tu;function gE(e,t,r){var n;r=(0,Er.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=_E.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new Za({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=yE.call(this,s)}Wt.resolveRef=gE;function yE(e){return(0,Er.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Tu.call(this,e)}function Sg(e){for(const t of this._compilations)if(vE(t,e))return t}Wt.getCompilingSchema=Sg;function vE(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function _E(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ec.call(this,e,t)}function ec(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Er._getFullPath)(this.opts.uriResolver,r);let i=(0,Er.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return xc.call(this,r,e);const s=(0,Er.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=ec.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:xc.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Tu.call(this,o),s===(0,Er.normalizeId)(t)){const{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(i=(0,Er.resolveUrl)(this.opts.uriResolver,i,l)),new Za({schema:a,schemaId:c,root:e,baseId:i})}return xc.call(this,r,o)}}Wt.resolveSchema=ec;const $E=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function xc(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Ud.unescapeFragment)(a)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!$E.has(a)&&l&&(t=(0,Er.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Ud.schemaHasRulesButRef)(r,this.RULES)){const a=(0,Er.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=ec.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new Za({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const EE="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",wE="Meta-schema for $data reference (JSON AnySchema extension proposal)",SE="object",bE=["$data"],PE={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},OE=!1,TE={$id:EE,description:wE,type:SE,required:bE,properties:PE,additionalProperties:OE};var Au={},Fl={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(st,function(r){function n(){for(var x=arguments.length,F=Array(x),q=0;q<x;q++)F[q]=arguments[q];if(F.length>1){F[0]=F[0].slice(0,-1);for(var X=F.length-1,J=1;J<X;++J)F[J]=F[J].slice(1,-1);return F[X]=F[X].slice(1),F.join("")}else return F[0]}function i(x){return"(?:"+x+")"}function s(x){return x===void 0?"undefined":x===null?"null":Object.prototype.toString.call(x).split(" ").pop().split("]").shift().toLowerCase()}function o(x){return x.toUpperCase()}function a(x){return x!=null?x instanceof Array?x:typeof x.length!="number"||x.split||x.setInterval||x.call?[x]:Array.prototype.slice.call(x):[]}function c(x,F){var q=x;if(F)for(var X in F)q[X]=F[X];return q}function l(x){var F="[A-Za-z]",q="[0-9]",X=n(q,"[A-Fa-f]"),J=i(i("%[EFef]"+X+"%"+X+X+"%"+X+X)+"|"+i("%[89A-Fa-f]"+X+"%"+X+X)+"|"+i("%"+X+X)),ne="[\\:\\/\\?\\#\\[\\]\\@]",oe="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",$e=n(ne,oe),Ee=x?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ve=x?"[\\uE000-\\uF8FF]":"[]",me=n(F,q,"[\\-\\.\\_\\~]",Ee);i(F+n(F,q,"[\\+\\-\\.]")+"*"),i(i(J+"|"+n(me,oe,"[\\:]"))+"*");var Ie=i(i("25[0-5]")+"|"+i("2[0-4]"+q)+"|"+i("1"+q+q)+"|"+i("0?[1-9]"+q)+"|0?0?"+q),Be=i(Ie+"\\."+Ie+"\\."+Ie+"\\."+Ie),ce=i(X+"{1,4}"),Oe=i(i(ce+"\\:"+ce)+"|"+Be),Je=i(i(ce+"\\:")+"{6}"+Oe),Le=i("\\:\\:"+i(ce+"\\:")+"{5}"+Oe),Ar=i(i(ce)+"?\\:\\:"+i(ce+"\\:")+"{4}"+Oe),nr=i(i(i(ce+"\\:")+"{0,1}"+ce)+"?\\:\\:"+i(ce+"\\:")+"{3}"+Oe),ir=i(i(i(ce+"\\:")+"{0,2}"+ce)+"?\\:\\:"+i(ce+"\\:")+"{2}"+Oe),dr=i(i(i(ce+"\\:")+"{0,3}"+ce)+"?\\:\\:"+ce+"\\:"+Oe),Vr=i(i(i(ce+"\\:")+"{0,4}"+ce)+"?\\:\\:"+Oe),Vt=i(i(i(ce+"\\:")+"{0,5}"+ce)+"?\\:\\:"+ce),ct=i(i(i(ce+"\\:")+"{0,6}"+ce)+"?\\:\\:"),Br=i([Je,Le,Ar,nr,ir,dr,Vr,Vt,ct].join("|")),hr=i(i(me+"|"+J)+"+");i("[vV]"+X+"+\\."+n(me,oe,"[\\:]")+"+"),i(i(J+"|"+n(me,oe))+"*");var Rn=i(J+"|"+n(me,oe,"[\\:\\@]"));return i(i(J+"|"+n(me,oe,"[\\@]"))+"+"),i(i(Rn+"|"+n("[\\/\\?]",Ve))+"*"),{NOT_SCHEME:new RegExp(n("[^]",F,q,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",me,oe),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",me,oe),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",me,oe),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",me,oe),"g"),NOT_QUERY:new RegExp(n("[^\\%]",me,oe,"[\\:\\@\\/\\?]",Ve),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",me,oe,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",me,oe),"g"),UNRESERVED:new RegExp(me,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",me,$e),"g"),PCT_ENCODED:new RegExp(J,"g"),IPV4ADDRESS:new RegExp("^("+Be+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Br+")"+i(i("\\%25|\\%(?!"+X+"{2})")+"("+hr+")")+"?\\]?$")}}var f=l(!1),u=l(!0),h=function(){function x(F,q){var X=[],J=!0,ne=!1,oe=void 0;try{for(var $e=F[Symbol.iterator](),Ee;!(J=(Ee=$e.next()).done)&&(X.push(Ee.value),!(q&&X.length===q));J=!0);}catch(Ve){ne=!0,oe=Ve}finally{try{!J&&$e.return&&$e.return()}finally{if(ne)throw oe}}return X}return function(F,q){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return x(F,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(x){if(Array.isArray(x)){for(var F=0,q=Array(x.length);F<x.length;F++)q[F]=x[F];return q}else return Array.from(x)},y=2147483647,E=36,v=1,g=26,p=38,S=700,N=72,M=128,T="-",b=/^xn--/,D=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Y=E-v,H=Math.floor,W=String.fromCharCode;function G(x){throw new RangeError(V[x])}function Q(x,F){for(var q=[],X=x.length;X--;)q[X]=F(x[X]);return q}function Z(x,F){var q=x.split("@"),X="";q.length>1&&(X=q[0]+"@",x=q[1]),x=x.replace(O,".");var J=x.split("."),ne=Q(J,F).join(".");return X+ne}function K(x){for(var F=[],q=0,X=x.length;q<X;){var J=x.charCodeAt(q++);if(J>=55296&&J<=56319&&q<X){var ne=x.charCodeAt(q++);(ne&64512)==56320?F.push(((J&1023)<<10)+(ne&1023)+65536):(F.push(J),q--)}else F.push(J)}return F}var I=function(F){return String.fromCodePoint.apply(String,m(F))},j=function(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:E},A=function(F,q){return F+22+75*(F<26)-((q!=0)<<5)},w=function(F,q,X){var J=0;for(F=X?H(F/S):F>>1,F+=H(F/q);F>Y*g>>1;J+=E)F=H(F/Y);return H(J+(Y+1)*F/(F+p))},R=function(F){var q=[],X=F.length,J=0,ne=M,oe=N,$e=F.lastIndexOf(T);$e<0&&($e=0);for(var Ee=0;Ee<$e;++Ee)F.charCodeAt(Ee)>=128&&G("not-basic"),q.push(F.charCodeAt(Ee));for(var Ve=$e>0?$e+1:0;Ve<X;){for(var me=J,Ie=1,Be=E;;Be+=E){Ve>=X&&G("invalid-input");var ce=j(F.charCodeAt(Ve++));(ce>=E||ce>H((y-J)/Ie))&&G("overflow"),J+=ce*Ie;var Oe=Be<=oe?v:Be>=oe+g?g:Be-oe;if(ce<Oe)break;var Je=E-Oe;Ie>H(y/Je)&&G("overflow"),Ie*=Je}var Le=q.length+1;oe=w(J-me,Le,me==0),H(J/Le)>y-ne&&G("overflow"),ne+=H(J/Le),J%=Le,q.splice(J++,0,ne)}return String.fromCodePoint.apply(String,q)},C=function(F){var q=[];F=K(F);var X=F.length,J=M,ne=0,oe=N,$e=!0,Ee=!1,Ve=void 0;try{for(var me=F[Symbol.iterator](),Ie;!($e=(Ie=me.next()).done);$e=!0){var Be=Ie.value;Be<128&&q.push(W(Be))}}catch(nn){Ee=!0,Ve=nn}finally{try{!$e&&me.return&&me.return()}finally{if(Ee)throw Ve}}var ce=q.length,Oe=ce;for(ce&&q.push(T);Oe<X;){var Je=y,Le=!0,Ar=!1,nr=void 0;try{for(var ir=F[Symbol.iterator](),dr;!(Le=(dr=ir.next()).done);Le=!0){var Vr=dr.value;Vr>=J&&Vr<Je&&(Je=Vr)}}catch(nn){Ar=!0,nr=nn}finally{try{!Le&&ir.return&&ir.return()}finally{if(Ar)throw nr}}var Vt=Oe+1;Je-J>H((y-ne)/Vt)&&G("overflow"),ne+=(Je-J)*Vt,J=Je;var ct=!0,Br=!1,hr=void 0;try{for(var Rn=F[Symbol.iterator](),jo;!(ct=(jo=Rn.next()).done);ct=!0){var Mo=jo.value;if(Mo<J&&++ne>y&&G("overflow"),Mo==J){for(var hi=ne,zr=E;;zr+=E){var pi=zr<=oe?v:zr>=oe+g?g:zr-oe;if(hi<pi)break;var rn=hi-pi,ys=E-pi;q.push(W(A(pi+rn%ys,0))),hi=H(rn/ys)}q.push(W(A(hi,0))),oe=w(ne,Vt,Oe==ce),ne=0,++Oe}}}catch(nn){Br=!0,hr=nn}finally{try{!ct&&Rn.return&&Rn.return()}finally{if(Br)throw hr}}++ne,++J}return q.join("")},d=function(F){return Z(F,function(q){return b.test(q)?R(q.slice(4).toLowerCase()):q})},$=function(F){return Z(F,function(q){return D.test(q)?"xn--"+C(q):q})},L={version:"2.1.0",ucs2:{decode:K,encode:I},decode:R,encode:C,toASCII:$,toUnicode:d},P={};function _(x){var F=x.charCodeAt(0),q=void 0;return F<16?q="%0"+F.toString(16).toUpperCase():F<128?q="%"+F.toString(16).toUpperCase():F<2048?q="%"+(F>>6|192).toString(16).toUpperCase()+"%"+(F&63|128).toString(16).toUpperCase():q="%"+(F>>12|224).toString(16).toUpperCase()+"%"+(F>>6&63|128).toString(16).toUpperCase()+"%"+(F&63|128).toString(16).toUpperCase(),q}function z(x){for(var F="",q=0,X=x.length;q<X;){var J=parseInt(x.substr(q+1,2),16);if(J<128)F+=String.fromCharCode(J),q+=3;else if(J>=194&&J<224){if(X-q>=6){var ne=parseInt(x.substr(q+4,2),16);F+=String.fromCharCode((J&31)<<6|ne&63)}else F+=x.substr(q,6);q+=6}else if(J>=224){if(X-q>=9){var oe=parseInt(x.substr(q+4,2),16),$e=parseInt(x.substr(q+7,2),16);F+=String.fromCharCode((J&15)<<12|(oe&63)<<6|$e&63)}else F+=x.substr(q,9);q+=9}else F+=x.substr(q,3),q+=3}return F}function U(x,F){function q(X){var J=z(X);return J.match(F.UNRESERVED)?J:X}return x.scheme&&(x.scheme=String(x.scheme).replace(F.PCT_ENCODED,q).toLowerCase().replace(F.NOT_SCHEME,"")),x.userinfo!==void 0&&(x.userinfo=String(x.userinfo).replace(F.PCT_ENCODED,q).replace(F.NOT_USERINFO,_).replace(F.PCT_ENCODED,o)),x.host!==void 0&&(x.host=String(x.host).replace(F.PCT_ENCODED,q).toLowerCase().replace(F.NOT_HOST,_).replace(F.PCT_ENCODED,o)),x.path!==void 0&&(x.path=String(x.path).replace(F.PCT_ENCODED,q).replace(x.scheme?F.NOT_PATH:F.NOT_PATH_NOSCHEME,_).replace(F.PCT_ENCODED,o)),x.query!==void 0&&(x.query=String(x.query).replace(F.PCT_ENCODED,q).replace(F.NOT_QUERY,_).replace(F.PCT_ENCODED,o)),x.fragment!==void 0&&(x.fragment=String(x.fragment).replace(F.PCT_ENCODED,q).replace(F.NOT_FRAGMENT,_).replace(F.PCT_ENCODED,o)),x}function te(x){return x.replace(/^0*(.*)/,"$1")||"0"}function fe(x,F){var q=x.match(F.IPV4ADDRESS)||[],X=h(q,2),J=X[1];return J?J.split(".").map(te).join("."):x}function Se(x,F){var q=x.match(F.IPV6ADDRESS)||[],X=h(q,3),J=X[1],ne=X[2];if(J){for(var oe=J.toLowerCase().split("::").reverse(),$e=h(oe,2),Ee=$e[0],Ve=$e[1],me=Ve?Ve.split(":").map(te):[],Ie=Ee.split(":").map(te),Be=F.IPV4ADDRESS.test(Ie[Ie.length-1]),ce=Be?7:8,Oe=Ie.length-ce,Je=Array(ce),Le=0;Le<ce;++Le)Je[Le]=me[Le]||Ie[Oe+Le]||"";Be&&(Je[ce-1]=fe(Je[ce-1],F));var Ar=Je.reduce(function(Vt,ct,Br){if(!ct||ct==="0"){var hr=Vt[Vt.length-1];hr&&hr.index+hr.length===Br?hr.length++:Vt.push({index:Br,length:1})}return Vt},[]),nr=Ar.sort(function(Vt,ct){return ct.length-Vt.length})[0],ir=void 0;if(nr&&nr.length>1){var dr=Je.slice(0,nr.index),Vr=Je.slice(nr.index+nr.length);ir=dr.join(":")+"::"+Vr.join(":")}else ir=Je.join(":");return ne&&(ir+="%"+ne),ir}else return x}var De=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,qe="".match(/(){0}/)[1]===void 0;function ke(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q={},X=F.iri!==!1?u:f;F.reference==="suffix"&&(x=(F.scheme?F.scheme+":":"")+"//"+x);var J=x.match(De);if(J){qe?(q.scheme=J[1],q.userinfo=J[3],q.host=J[4],q.port=parseInt(J[5],10),q.path=J[6]||"",q.query=J[7],q.fragment=J[8],isNaN(q.port)&&(q.port=J[5])):(q.scheme=J[1]||void 0,q.userinfo=x.indexOf("@")!==-1?J[3]:void 0,q.host=x.indexOf("//")!==-1?J[4]:void 0,q.port=parseInt(J[5],10),q.path=J[6]||"",q.query=x.indexOf("?")!==-1?J[7]:void 0,q.fragment=x.indexOf("#")!==-1?J[8]:void 0,isNaN(q.port)&&(q.port=x.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?J[4]:void 0)),q.host&&(q.host=Se(fe(q.host,X),X)),q.scheme===void 0&&q.userinfo===void 0&&q.host===void 0&&q.port===void 0&&!q.path&&q.query===void 0?q.reference="same-document":q.scheme===void 0?q.reference="relative":q.fragment===void 0?q.reference="absolute":q.reference="uri",F.reference&&F.reference!=="suffix"&&F.reference!==q.reference&&(q.error=q.error||"URI is not a "+F.reference+" reference.");var ne=P[(F.scheme||q.scheme||"").toLowerCase()];if(!F.unicodeSupport&&(!ne||!ne.unicodeSupport)){if(q.host&&(F.domainHost||ne&&ne.domainHost))try{q.host=L.toASCII(q.host.replace(X.PCT_ENCODED,z).toLowerCase())}catch(oe){q.error=q.error||"Host's domain name can not be converted to ASCII via punycode: "+oe}U(q,f)}else U(q,X);ne&&ne.parse&&ne.parse(q,F)}else q.error=q.error||"URI can not be parsed.";return q}function Ne(x,F){var q=F.iri!==!1?u:f,X=[];return x.userinfo!==void 0&&(X.push(x.userinfo),X.push("@")),x.host!==void 0&&X.push(Se(fe(String(x.host),q),q).replace(q.IPV6ADDRESS,function(J,ne,oe){return"["+ne+(oe?"%25"+oe:"")+"]"})),(typeof x.port=="number"||typeof x.port=="string")&&(X.push(":"),X.push(String(x.port))),X.length?X.join(""):void 0}var Ye=/^\.\.?\//,xt=/^\/\.(\/|$)/,At=/^\/\.\.(\/|$)/,Ct=/^\/?(?:.|\n)*?(?=\/|$)/;function at(x){for(var F=[];x.length;)if(x.match(Ye))x=x.replace(Ye,"");else if(x.match(xt))x=x.replace(xt,"/");else if(x.match(At))x=x.replace(At,"/"),F.pop();else if(x==="."||x==="..")x="";else{var q=x.match(Ct);if(q){var X=q[0];x=x.slice(X.length),F.push(X)}else throw new Error("Unexpected dot segment condition")}return F.join("")}function rt(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=F.iri?u:f,X=[],J=P[(F.scheme||x.scheme||"").toLowerCase()];if(J&&J.serialize&&J.serialize(x,F),x.host&&!q.IPV6ADDRESS.test(x.host)){if(F.domainHost||J&&J.domainHost)try{x.host=F.iri?L.toUnicode(x.host):L.toASCII(x.host.replace(q.PCT_ENCODED,z).toLowerCase())}catch($e){x.error=x.error||"Host's domain name can not be converted to "+(F.iri?"Unicode":"ASCII")+" via punycode: "+$e}}U(x,q),F.reference!=="suffix"&&x.scheme&&(X.push(x.scheme),X.push(":"));var ne=Ne(x,F);if(ne!==void 0&&(F.reference!=="suffix"&&X.push("//"),X.push(ne),x.path&&x.path.charAt(0)!=="/"&&X.push("/")),x.path!==void 0){var oe=x.path;!F.absolutePath&&(!J||!J.absolutePath)&&(oe=at(oe)),ne===void 0&&(oe=oe.replace(/^\/\//,"/%2F")),X.push(oe)}return x.query!==void 0&&(X.push("?"),X.push(x.query)),x.fragment!==void 0&&(X.push("#"),X.push(x.fragment)),X.join("")}function tr(x,F){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=arguments[3],J={};return X||(x=ke(rt(x,q),q),F=ke(rt(F,q),q)),q=q||{},!q.tolerant&&F.scheme?(J.scheme=F.scheme,J.userinfo=F.userinfo,J.host=F.host,J.port=F.port,J.path=at(F.path||""),J.query=F.query):(F.userinfo!==void 0||F.host!==void 0||F.port!==void 0?(J.userinfo=F.userinfo,J.host=F.host,J.port=F.port,J.path=at(F.path||""),J.query=F.query):(F.path?(F.path.charAt(0)==="/"?J.path=at(F.path):((x.userinfo!==void 0||x.host!==void 0||x.port!==void 0)&&!x.path?J.path="/"+F.path:x.path?J.path=x.path.slice(0,x.path.lastIndexOf("/")+1)+F.path:J.path=F.path,J.path=at(J.path)),J.query=F.query):(J.path=x.path,F.query!==void 0?J.query=F.query:J.query=x.query),J.userinfo=x.userinfo,J.host=x.host,J.port=x.port),J.scheme=x.scheme),J.fragment=F.fragment,J}function ur(x,F,q){var X=c({scheme:"null"},q);return rt(tr(ke(x,X),ke(F,X),X,!0),X)}function Nt(x,F){return typeof x=="string"?x=rt(ke(x,F),F):s(x)==="object"&&(x=ke(rt(x,F),F)),x}function qt(x,F,q){return typeof x=="string"?x=rt(ke(x,q),q):s(x)==="object"&&(x=rt(x,q)),typeof F=="string"?F=rt(ke(F,q),q):s(F)==="object"&&(F=rt(F,q)),x===F}function fr(x,F){return x&&x.toString().replace(!F||!F.iri?f.ESCAPE:u.ESCAPE,_)}function lt(x,F){return x&&x.toString().replace(!F||!F.iri?f.PCT_ENCODED:u.PCT_ENCODED,z)}var nt={scheme:"http",domainHost:!0,parse:function(F,q){return F.host||(F.error=F.error||"HTTP URIs must have a host."),F},serialize:function(F,q){var X=String(F.scheme).toLowerCase()==="https";return(F.port===(X?443:80)||F.port==="")&&(F.port=void 0),F.path||(F.path="/"),F}},us={scheme:"https",domainHost:nt.domainHost,parse:nt.parse,serialize:nt.serialize};function fs(x){return typeof x.secure=="boolean"?x.secure:String(x.scheme).toLowerCase()==="wss"}var Nn={scheme:"ws",domainHost:!0,parse:function(F,q){var X=F;return X.secure=fs(X),X.resourceName=(X.path||"/")+(X.query?"?"+X.query:""),X.path=void 0,X.query=void 0,X},serialize:function(F,q){if((F.port===(fs(F)?443:80)||F.port==="")&&(F.port=void 0),typeof F.secure=="boolean"&&(F.scheme=F.secure?"wss":"ws",F.secure=void 0),F.resourceName){var X=F.resourceName.split("?"),J=h(X,2),ne=J[0],oe=J[1];F.path=ne&&ne!=="/"?ne:void 0,F.query=oe,F.resourceName=void 0}return F.fragment=void 0,F}},ds={scheme:"wss",domainHost:Nn.domainHost,parse:Nn.parse,serialize:Nn.serialize},fi={},hs="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Xt="[0-9A-Fa-f]",Rc=i(i("%[EFef]"+Xt+"%"+Xt+Xt+"%"+Xt+Xt)+"|"+i("%[89A-Fa-f]"+Xt+"%"+Xt+Xt)+"|"+i("%"+Xt+Xt)),xr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Do="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ic=n(Do,'[\\"\\\\]'),Dc="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ps=new RegExp(hs,"g"),rr=new RegExp(Rc,"g"),ms=new RegExp(n("[^]",xr,"[\\.]",'[\\"]',Ic),"g"),di=new RegExp(n("[^]",hs,Dc),"g"),gs=di;function qr(x){var F=z(x);return F.match(ps)?F:x}var Fo={scheme:"mailto",parse:function(F,q){var X=F,J=X.to=X.path?X.path.split(","):[];if(X.path=void 0,X.query){for(var ne=!1,oe={},$e=X.query.split("&"),Ee=0,Ve=$e.length;Ee<Ve;++Ee){var me=$e[Ee].split("=");switch(me[0]){case"to":for(var Ie=me[1].split(","),Be=0,ce=Ie.length;Be<ce;++Be)J.push(Ie[Be]);break;case"subject":X.subject=lt(me[1],q);break;case"body":X.body=lt(me[1],q);break;default:ne=!0,oe[lt(me[0],q)]=lt(me[1],q);break}}ne&&(X.headers=oe)}X.query=void 0;for(var Oe=0,Je=J.length;Oe<Je;++Oe){var Le=J[Oe].split("@");if(Le[0]=lt(Le[0]),q.unicodeSupport)Le[1]=lt(Le[1],q).toLowerCase();else try{Le[1]=L.toASCII(lt(Le[1],q).toLowerCase())}catch(Ar){X.error=X.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ar}J[Oe]=Le.join("@")}return X},serialize:function(F,q){var X=F,J=a(F.to);if(J){for(var ne=0,oe=J.length;ne<oe;++ne){var $e=String(J[ne]),Ee=$e.lastIndexOf("@"),Ve=$e.slice(0,Ee).replace(rr,qr).replace(rr,o).replace(ms,_),me=$e.slice(Ee+1);try{me=q.iri?L.toUnicode(me):L.toASCII(lt(me,q).toLowerCase())}catch(Oe){X.error=X.error||"Email address's domain name can not be converted to "+(q.iri?"Unicode":"ASCII")+" via punycode: "+Oe}J[ne]=Ve+"@"+me}X.path=J.join(",")}var Ie=F.headers=F.headers||{};F.subject&&(Ie.subject=F.subject),F.body&&(Ie.body=F.body);var Be=[];for(var ce in Ie)Ie[ce]!==fi[ce]&&Be.push(ce.replace(rr,qr).replace(rr,o).replace(di,_)+"="+Ie[ce].replace(rr,qr).replace(rr,o).replace(gs,_));return Be.length&&(X.query=Be.join("&")),X}},Fc=/^([^\:]+)\:(.*)/,ko={scheme:"urn",parse:function(F,q){var X=F.path&&F.path.match(Fc),J=F;if(X){var ne=q.scheme||J.scheme||"urn",oe=X[1].toLowerCase(),$e=X[2],Ee=ne+":"+(q.nid||oe),Ve=P[Ee];J.nid=oe,J.nss=$e,J.path=void 0,Ve&&(J=Ve.parse(J,q))}else J.error=J.error||"URN can not be parsed.";return J},serialize:function(F,q){var X=q.scheme||F.scheme||"urn",J=F.nid,ne=X+":"+(q.nid||J),oe=P[ne];oe&&(F=oe.serialize(F,q));var $e=F,Ee=F.nss;return $e.path=(J||q.nid)+":"+Ee,$e}},kc=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Lo={scheme:"urn:uuid",parse:function(F,q){var X=F;return X.uuid=X.nss,X.nss=void 0,!q.tolerant&&(!X.uuid||!X.uuid.match(kc))&&(X.error=X.error||"UUID is not valid."),X},serialize:function(F,q){var X=F;return X.nss=(F.uuid||"").toLowerCase(),X}};P[nt.scheme]=nt,P[us.scheme]=us,P[Nn.scheme]=Nn,P[ds.scheme]=ds,P[Fo.scheme]=Fo,P[ko.scheme]=ko,P[Lo.scheme]=Lo,r.SCHEMES=P,r.pctEncChar=_,r.pctDecChars=z,r.parse=ke,r.removeDotSegments=at,r.serialize=rt,r.resolveComponents=tr,r.resolve=ur,r.normalize=Nt,r.equal=qt,r.escapeComponent=fr,r.unescapeComponent=lt,Object.defineProperty(r,"__esModule",{value:!0})})})(Fl,Fl.exports);var bg=Fl.exports;Object.defineProperty(Au,"__esModule",{value:!0});const Pg=bg;Pg.code='require("ajv/dist/runtime/uri").default';Au.default=Pg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Sr;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ve;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=go,i=yo,s=ri,o=Wt,a=ve,c=vt,l=mo,f=be,u=TE,h=Au,m=(A,w)=>new RegExp(A,w);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function S(A){var w,R,C,d,$,L,P,_,z,U,te,fe,Se,De,qe,ke,Ne,Ye,xt,At,Ct,at,rt,tr,ur;const Nt=A.strict,qt=(w=A.code)===null||w===void 0?void 0:w.optimize,fr=qt===!0||qt===void 0?1:qt||0,lt=(C=(R=A.code)===null||R===void 0?void 0:R.regExp)!==null&&C!==void 0?C:m,nt=(d=A.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(L=($=A.strictSchema)!==null&&$!==void 0?$:Nt)!==null&&L!==void 0?L:!0,strictNumbers:(_=(P=A.strictNumbers)!==null&&P!==void 0?P:Nt)!==null&&_!==void 0?_:!0,strictTypes:(U=(z=A.strictTypes)!==null&&z!==void 0?z:Nt)!==null&&U!==void 0?U:"log",strictTuples:(fe=(te=A.strictTuples)!==null&&te!==void 0?te:Nt)!==null&&fe!==void 0?fe:"log",strictRequired:(De=(Se=A.strictRequired)!==null&&Se!==void 0?Se:Nt)!==null&&De!==void 0?De:!1,code:A.code?{...A.code,optimize:fr,regExp:lt}:{optimize:fr,regExp:lt},loopRequired:(qe=A.loopRequired)!==null&&qe!==void 0?qe:p,loopEnum:(ke=A.loopEnum)!==null&&ke!==void 0?ke:p,meta:(Ne=A.meta)!==null&&Ne!==void 0?Ne:!0,messages:(Ye=A.messages)!==null&&Ye!==void 0?Ye:!0,inlineRefs:(xt=A.inlineRefs)!==null&&xt!==void 0?xt:!0,schemaId:(At=A.schemaId)!==null&&At!==void 0?At:"$id",addUsedSchema:(Ct=A.addUsedSchema)!==null&&Ct!==void 0?Ct:!0,validateSchema:(at=A.validateSchema)!==null&&at!==void 0?at:!0,validateFormats:(rt=A.validateFormats)!==null&&rt!==void 0?rt:!0,unicodeRegExp:(tr=A.unicodeRegExp)!==null&&tr!==void 0?tr:!0,int32range:(ur=A.int32range)!==null&&ur!==void 0?ur:!0,uriResolver:nt}}class N{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...S(w)};const{es5:R,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:R,lines:C}),this.logger=H(w.logger);const d=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,w,"NOT SUPPORTED"),M.call(this,g,w,"DEPRECATED","warn"),this._metaOpts=V.call(this),w.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&O.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),b.call(this),w.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:R,schemaId:C}=this.opts;let d=u;C==="id"&&(d={...u},d.id=d.$id,delete d.$id),R&&w&&this.addMetaSchema(d,d[C],!1)}defaultMeta(){const{meta:w,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[R]||w:void 0}validate(w,R){let C;if(typeof w=="string"){if(C=this.getSchema(w),!C)throw new Error(`no schema with key or ref "${w}"`)}else C=this.compile(w);const d=C(R);return"$async"in C||(this.errors=C.errors),d}compile(w,R){const C=this._addSchema(w,R);return C.validate||this._compileSchemaEnv(C)}compileAsync(w,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return d.call(this,w,R);async function d(U,te){await $.call(this,U.$schema);const fe=this._addSchema(U,te);return fe.validate||L.call(this,fe)}async function $(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function L(U){try{return this._compileSchemaEnv(U)}catch(te){if(!(te instanceof i.default))throw te;return P.call(this,te),await _.call(this,te.missingSchema),L.call(this,U)}}function P({missingSchema:U,missingRef:te}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${te} cannot be resolved`)}async function _(U){const te=await z.call(this,U);this.refs[U]||await $.call(this,te.$schema),this.refs[U]||this.addSchema(te,U,R)}async function z(U){const te=this._loading[U];if(te)return te;try{return await(this._loading[U]=C(U))}finally{delete this._loading[U]}}}addSchema(w,R,C,d=this.opts.validateSchema){if(Array.isArray(w)){for(const L of w)this.addSchema(L,void 0,C,d);return this}let $;if(typeof w=="object"){const{schemaId:L}=this.opts;if($=w[L],$!==void 0&&typeof $!="string")throw new Error(`schema ${L} must be string`)}return R=(0,c.normalizeId)(R||$),this._checkUnique(R),this.schemas[R]=this._addSchema(w,C,R,d,!0),this}addMetaSchema(w,R,C=this.opts.validateSchema){return this.addSchema(w,R,!0,C),this}validateSchema(w,R){if(typeof w=="boolean")return!0;let C;if(C=w.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(C,w);if(!d&&R){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return d}getSchema(w){let R;for(;typeof(R=T.call(this,w))=="string";)w=R;if(R===void 0){const{schemaId:C}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:C});if(R=o.resolveSchema.call(this,d,w),!R)return;this.refs[w]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=T.call(this,w);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const R=w;this._cache.delete(R);let C=w[this.opts.schemaId];return C&&(C=(0,c.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const R of w)this.addKeyword(R);return this}addKeyword(w,R){let C;if(typeof w=="string")C=w,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=C);else if(typeof w=="object"&&R===void 0){if(R=w,C=R.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,C,R),!R)return(0,f.eachItem)(C,$=>Q.call(this,$)),this;K.call(this,R);const d={...R,type:(0,l.getJSONTypes)(R.type),schemaType:(0,l.getJSONTypes)(R.schemaType)};return(0,f.eachItem)(C,d.type.length===0?$=>Q.call(this,$,d):$=>d.type.forEach(L=>Q.call(this,$,d,L))),this}getKeyword(w){const R=this.RULES.all[w];return typeof R=="object"?R.definition:!!R}removeKeyword(w){const{RULES:R}=this;delete R.keywords[w],delete R.all[w];for(const C of R.rules){const d=C.rules.findIndex($=>$.keyword===w);d>=0&&C.rules.splice(d,1)}return this}addFormat(w,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[w]=R,this}errorsText(w=this.errors,{separator:R=", ",dataVar:C="data"}={}){return!w||w.length===0?"No errors":w.map(d=>`${C}${d.instancePath} ${d.message}`).reduce((d,$)=>d+R+$)}$dataMetaSchema(w,R){const C=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const d of R){const $=d.split("/").slice(1);let L=w;for(const P of $)L=L[P];for(const P in C){const _=C[P];if(typeof _!="object")continue;const{$data:z}=_.definition,U=L[P];z&&U&&(L[P]=j(U))}}return w}_removeAllSchemas(w,R){for(const C in w){const d=w[C];(!R||R.test(C))&&(typeof d=="string"?delete w[C]:d&&!d.meta&&(this._cache.delete(d.schema),delete w[C]))}}_addSchema(w,R,C,d=this.opts.validateSchema,$=this.opts.addUsedSchema){let L;const{schemaId:P}=this.opts;if(typeof w=="object")L=w[P];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let _=this._cache.get(w);if(_!==void 0)return _;C=(0,c.normalizeId)(L||C);const z=c.getSchemaRefs.call(this,w,C);return _=new o.SchemaEnv({schema:w,schemaId:P,meta:R,baseId:C,localRefs:z}),this._cache.set(_.schema,_),$&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=_),d&&this.validateSchema(w,!0),_}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=R}}}e.default=N,N.ValidationError=n.default,N.MissingRefError=i.default;function M(A,w,R,C="error"){for(const d in A){const $=d;$ in w&&this.logger[C](`${R}: option ${d}. ${A[$]}`)}}function T(A){return A=(0,c.normalizeId)(A),this.schemas[A]||this.refs[A]}function b(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const w in A)this.addSchema(A[w],w)}function D(){for(const A in this.opts.formats){const w=this.opts.formats[A];w&&this.addFormat(A,w)}}function O(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in A){const R=A[w];R.keyword||(R.keyword=w),this.addKeyword(R)}}function V(){const A={...this.opts};for(const w of y)delete A[w];return A}const Y={log(){},warn(){},error(){}};function H(A){if(A===!1)return Y;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function G(A,w){const{RULES:R}=this;if((0,f.eachItem)(A,C=>{if(R.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!W.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function Q(A,w,R){var C;const d=w==null?void 0:w.post;if(R&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let L=d?$.post:$.rules.find(({type:_})=>_===R);if(L||(L={type:R,rules:[]},$.rules.push(L)),$.keywords[A]=!0,!w)return;const P={keyword:A,definition:{...w,type:(0,l.getJSONTypes)(w.type),schemaType:(0,l.getJSONTypes)(w.schemaType)}};w.before?Z.call(this,L,P,w.before):L.rules.push(P),$.all[A]=P,(C=w.implements)===null||C===void 0||C.forEach(_=>this.addKeyword(_))}function Z(A,w,R){const C=A.rules.findIndex(d=>d.keyword===R);C>=0?A.rules.splice(C,0,w):(A.rules.push(w),this.logger.warn(`rule ${R} is not defined`))}function K(A){let{metaSchema:w}=A;w!==void 0&&(A.$data&&this.opts.$data&&(w=j(w)),A.validateSchema=this.compile(w,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(A){return{anyOf:[A,I]}}})(eg);var Cu={},Nu={},Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});const AE={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Ru.default=AE;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.callRef=ni.getValidate=void 0;const CE=yo,xd=ge,Ht=ve,yi=jr,qd=Wt,Ho=be,NE={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:c}=n,{root:l}=s;if((r==="#"||r==="#/")&&i===l.baseId)return u();const f=qd.resolveRef.call(c,l,i,r);if(f===void 0)throw new CE.default(n.opts.uriResolver,i,r);if(f instanceof qd.SchemaEnv)return h(f);return m(f);function u(){if(s===l)return ma(e,o,s,s.$async);const y=t.scopeValue("root",{ref:l});return ma(e,(0,Ht._)`${y}.validate`,l,l.$async)}function h(y){const E=Og(e,y);ma(e,E,y,y.$async)}function m(y){const E=t.scopeValue("schema",a.code.source===!0?{ref:y,code:(0,Ht.stringify)(y)}:{ref:y}),v=t.name("valid"),g=e.subschema({schema:y,dataTypes:[],schemaPath:Ht.nil,topSchemaRef:E,errSchemaPath:r},v);e.mergeEvaluated(g),e.ok(v)}}};function Og(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ht._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ni.getValidate=Og;function ma(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:c}=s,l=c.passContext?yi.default.this:Ht.nil;n?f():u();function f(){if(!a.$async)throw new Error("async schema referenced by sync schema");const y=i.let("valid");i.try(()=>{i.code((0,Ht._)`await ${(0,xd.callValidateCode)(e,t,l)}`),m(t),o||i.assign(y,!0)},E=>{i.if((0,Ht._)`!(${E} instanceof ${s.ValidationError})`,()=>i.throw(E)),h(E),o||i.assign(y,!1)}),e.ok(y)}function u(){e.result((0,xd.callValidateCode)(e,t,l),()=>m(t),()=>h(t))}function h(y){const E=(0,Ht._)`${y}.errors`;i.assign(yi.default.vErrors,(0,Ht._)`${yi.default.vErrors} === null ? ${E} : ${yi.default.vErrors}.concat(${E})`),i.assign(yi.default.errors,(0,Ht._)`${yi.default.vErrors}.length`)}function m(y){var E;if(!s.opts.unevaluated)return;const v=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Ho.mergeEvaluated.props(i,v.props,s.props));else{const g=i.var("props",(0,Ht._)`${y}.evaluated.props`);s.props=Ho.mergeEvaluated.props(i,g,s.props,Ht.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Ho.mergeEvaluated.items(i,v.items,s.items));else{const g=i.var("items",(0,Ht._)`${y}.evaluated.items`);s.items=Ho.mergeEvaluated.items(i,g,s.items,Ht.Name)}}}ni.callRef=ma;ni.default=NE;Object.defineProperty(Nu,"__esModule",{value:!0});const RE=Ru,IE=ni,DE=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",RE.default,IE.default];Nu.default=DE;var Iu={},Du={};Object.defineProperty(Du,"__esModule",{value:!0});const Aa=ve,cn=Aa.operators,Ca={maximum:{okStr:"<=",ok:cn.LTE,fail:cn.GT},minimum:{okStr:">=",ok:cn.GTE,fail:cn.LT},exclusiveMaximum:{okStr:"<",ok:cn.LT,fail:cn.GTE},exclusiveMinimum:{okStr:">",ok:cn.GT,fail:cn.LTE}},FE={message:({keyword:e,schemaCode:t})=>(0,Aa.str)`must be ${Ca[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Aa._)`{comparison: ${Ca[e].okStr}, limit: ${t}}`},kE={keyword:Object.keys(Ca),type:"number",schemaType:"number",$data:!0,error:FE,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Aa._)`${r} ${Ca[t].fail} ${n} || isNaN(${r})`)}};Du.default=kE;var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});const xs=ve,LE={message:({schemaCode:e})=>(0,xs.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,xs._)`{multipleOf: ${e}}`},jE={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:LE,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,xs._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,xs._)`${o} !== parseInt(${o})`;e.fail$data((0,xs._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Fu.default=jE;var ku={},Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});function Tg(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Lu.default=Tg;Tg.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ku,"__esModule",{value:!0});const Bn=ve,ME=be,UE=Lu,xE={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Bn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Bn._)`{limit: ${e}}`},qE={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:xE,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?Bn.operators.GT:Bn.operators.LT,o=i.opts.unicode===!1?(0,Bn._)`${r}.length`:(0,Bn._)`${(0,ME.useFunc)(e.gen,UE.default)}(${r})`;e.fail$data((0,Bn._)`${o} ${s} ${n}`)}};ku.default=qE;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});const VE=ge,Na=ve,BE={message:({schemaCode:e})=>(0,Na.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Na._)`{pattern: ${e}}`},zE={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:BE,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,Na._)`(new RegExp(${i}, ${o}))`:(0,VE.usePattern)(e,n);e.fail$data((0,Na._)`!${a}.test(${t})`)}};ju.default=zE;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});const qs=ve,HE={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,qs.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,qs._)`{limit: ${e}}`},GE={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:HE,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?qs.operators.GT:qs.operators.LT;e.fail$data((0,qs._)`Object.keys(${r}).length ${i} ${n}`)}};Mu.default=GE;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});const $s=ge,Vs=ve,WE=be,KE={message:({params:{missingProperty:e}})=>(0,Vs.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Vs._)`{missingProperty: ${e}}`},YE={keyword:"required",type:"object",schemaType:"array",$data:!0,error:KE,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const c=r.length>=a.loopRequired;if(o.allErrors?l():f(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:y}=e.it;for(const E of r)if((m==null?void 0:m[E])===void 0&&!y.has(E)){const v=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${E}" is not defined at "${v}" (strictRequired)`;(0,WE.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(c||s)e.block$data(Vs.nil,u);else for(const m of r)(0,$s.checkReportMissingProp)(e,m)}function f(){const m=t.let("missing");if(c||s){const y=t.let("valid",!0);e.block$data(y,()=>h(m,y)),e.ok(y)}else t.if((0,$s.checkMissingProp)(e,r,m)),(0,$s.reportMissingProp)(e,m),t.else()}function u(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,$s.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function h(m,y){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(y,(0,$s.propertyInData)(t,i,m,a.ownProperties)),t.if((0,Vs.not)(y),()=>{e.error(),t.break()})},Vs.nil)}}};Uu.default=YE;var xu={};Object.defineProperty(xu,"__esModule",{value:!0});const Bs=ve,JE={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Bs.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Bs._)`{limit: ${e}}`},XE={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:JE,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Bs.operators.GT:Bs.operators.LT;e.fail$data((0,Bs._)`${r}.length ${i} ${n}`)}};xu.default=XE;var qu={},vo={};Object.defineProperty(vo,"__esModule",{value:!0});const Ag=Qa;Ag.code='require("ajv/dist/runtime/equal").default';vo.default=Ag;Object.defineProperty(qu,"__esModule",{value:!0});const qc=mo,mt=ve,QE=be,ZE=vo,ew={message:({params:{i:e,j:t}})=>(0,mt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,mt._)`{i: ${e}, j: ${t}}`},tw={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:ew,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;const c=t.let("valid"),l=s.items?(0,qc.getSchemaTypes)(s.items):[];e.block$data(c,f,(0,mt._)`${o} === false`),e.ok(c);function f(){const y=t.let("i",(0,mt._)`${r}.length`),E=t.let("j");e.setParams({i:y,j:E}),t.assign(c,!0),t.if((0,mt._)`${y} > 1`,()=>(u()?h:m)(y,E))}function u(){return l.length>0&&!l.some(y=>y==="object"||y==="array")}function h(y,E){const v=t.name("item"),g=(0,qc.checkDataTypes)(l,v,a.opts.strictNumbers,qc.DataType.Wrong),p=t.const("indices",(0,mt._)`{}`);t.for((0,mt._)`;${y}--;`,()=>{t.let(v,(0,mt._)`${r}[${y}]`),t.if(g,(0,mt._)`continue`),l.length>1&&t.if((0,mt._)`typeof ${v} == "string"`,(0,mt._)`${v} += "_"`),t.if((0,mt._)`typeof ${p}[${v}] == "number"`,()=>{t.assign(E,(0,mt._)`${p}[${v}]`),e.error(),t.assign(c,!1).break()}).code((0,mt._)`${p}[${v}] = ${y}`)})}function m(y,E){const v=(0,QE.useFunc)(t,ZE.default),g=t.name("outer");t.label(g).for((0,mt._)`;${y}--;`,()=>t.for((0,mt._)`${E} = ${y}; ${E}--;`,()=>t.if((0,mt._)`${v}(${r}[${y}], ${r}[${E}])`,()=>{e.error(),t.assign(c,!1).break(g)})))}}};qu.default=tw;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});const kl=ve,rw=be,nw=vo,iw={message:"must be equal to constant",params:({schemaCode:e})=>(0,kl._)`{allowedValue: ${e}}`},sw={keyword:"const",$data:!0,error:iw,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,kl._)`!${(0,rw.useFunc)(t,nw.default)}(${r}, ${i})`):e.fail((0,kl._)`${s} !== ${r}`)}};Vu.default=sw;var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});const Fs=ve,ow=be,aw=vo,cw={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Fs._)`{allowedValues: ${e}}`},lw={keyword:"enum",schemaType:"array",$data:!0,error:cw,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let c;const l=()=>c??(c=(0,ow.useFunc)(t,aw.default));let f;if(a||n)f=t.let("valid"),e.block$data(f,u);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);f=(0,Fs.or)(...i.map((y,E)=>h(m,E)))}e.pass(f);function u(){t.assign(f,!1),t.forOf("v",s,m=>t.if((0,Fs._)`${l()}(${r}, ${m})`,()=>t.assign(f,!0).break()))}function h(m,y){const E=i[y];return typeof E=="object"&&E!==null?(0,Fs._)`${l()}(${r}, ${m}[${y}])`:(0,Fs._)`${r} === ${E}`}}};Bu.default=lw;Object.defineProperty(Iu,"__esModule",{value:!0});const uw=Du,fw=Fu,dw=ku,hw=ju,pw=Mu,mw=Uu,gw=xu,yw=qu,vw=Vu,_w=Bu,$w=[uw.default,fw.default,dw.default,hw.default,pw.default,mw.default,gw.default,yw.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},vw.default,_w.default];Iu.default=$w;var zu={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.validateAdditionalItems=void 0;const zn=ve,Ll=be,Ew={message:({params:{len:e}})=>(0,zn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,zn._)`{limit: ${e}}`},ww={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ew,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Ll.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Cg(e,n)}};function Cg(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,zn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,zn._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,Ll.alwaysValidSchema)(o,n)){const l=r.var("valid",(0,zn._)`${a} <= ${t.length}`);r.if((0,zn.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,a,f=>{e.subschema({keyword:s,dataProp:f,dataPropType:Ll.Type.Num},l),o.allErrors||r.if((0,zn.not)(l),()=>r.break())})}}ns.validateAdditionalItems=Cg;ns.default=ww;var Hu={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.validateTuple=void 0;const Vd=ve,ga=be,Sw=ge,bw={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Ng(e,"additionalItems",t);r.items=!0,!(0,ga.alwaysValidSchema)(r,t)&&e.ok((0,Sw.validateArray)(e))}};function Ng(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;f(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=ga.mergeEvaluated.items(n,r.length,a.items));const c=n.name("valid"),l=n.const("len",(0,Vd._)`${s}.length`);r.forEach((u,h)=>{(0,ga.alwaysValidSchema)(a,u)||(n.if((0,Vd._)`${l} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},c)),e.ok(c))});function f(u){const{opts:h,errSchemaPath:m}=a,y=r.length,E=y===u.minItems&&(y===u.maxItems||u[t]===!1);if(h.strictTuples&&!E){const v=`"${o}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,ga.checkStrictMode)(a,v,h.strictTuples)}}}is.validateTuple=Ng;is.default=bw;Object.defineProperty(Hu,"__esModule",{value:!0});const Pw=is,Ow={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Pw.validateTuple)(e,"items")};Hu.default=Ow;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});const Bd=ve,Tw=be,Aw=ge,Cw=ns,Nw={message:({params:{len:e}})=>(0,Bd.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Bd._)`{limit: ${e}}`},Rw={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Nw,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,Tw.alwaysValidSchema)(n,t)&&(i?(0,Cw.validateAdditionalItems)(e,i):e.ok((0,Aw.validateArray)(e)))}};Gu.default=Rw;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});const cr=ve,Go=be,Iw={message:({params:{min:e,max:t}})=>t===void 0?(0,cr.str)`must contain at least ${e} valid item(s)`:(0,cr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,cr._)`{minContains: ${e}}`:(0,cr._)`{minContains: ${e}, maxContains: ${t}}`},Dw={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Iw,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,a;const{minContains:c,maxContains:l}=n;s.opts.next?(o=c===void 0?1:c,a=l):o=1;const f=t.const("len",(0,cr._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Go.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Go.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Go.alwaysValidSchema)(s,r)){let E=(0,cr._)`${f} >= ${o}`;a!==void 0&&(E=(0,cr._)`${E} && ${f} <= ${a}`),e.pass(E);return}s.items=!0;const u=t.name("valid");a===void 0&&o===1?m(u,()=>t.if(u,()=>t.break())):o===0?(t.let(u,!0),a!==void 0&&t.if((0,cr._)`${i}.length > 0`,h)):(t.let(u,!1),h()),e.result(u,()=>e.reset());function h(){const E=t.name("_valid"),v=t.let("count",0);m(E,()=>t.if(E,()=>y(v)))}function m(E,v){t.forRange("i",0,f,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:Go.Type.Num,compositeRule:!0},E),v()})}function y(E){t.code((0,cr._)`${E}++`),a===void 0?t.if((0,cr._)`${E} >= ${o}`,()=>t.assign(u,!0).break()):(t.if((0,cr._)`${E} > ${a}`,()=>t.assign(u,!1).break()),o===1?t.assign(u,!0):t.if((0,cr._)`${E} >= ${o}`,()=>t.assign(u,!0)))}}};Wu.default=Dw;var Rg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ve,r=be,n=ge;e.error={message:({params:{property:c,depsCount:l,deps:f}})=>{const u=l===1?"property":"properties";return(0,t.str)`must have ${u} ${f} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:f,missingProperty:u}})=>(0,t._)`{property: ${c},
    missingProperty: ${u},
    depsCount: ${l},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,f]=s(c);o(c,l),a(c,f)}};function s({schema:c}){const l={},f={};for(const u in c){if(u==="__proto__")continue;const h=Array.isArray(c[u])?l:f;h[u]=c[u]}return[l,f]}function o(c,l=c.schema){const{gen:f,data:u,it:h}=c;if(Object.keys(l).length===0)return;const m=f.let("missing");for(const y in l){const E=l[y];if(E.length===0)continue;const v=(0,n.propertyInData)(f,u,y,h.opts.ownProperties);c.setParams({property:y,depsCount:E.length,deps:E.join(", ")}),h.allErrors?f.if(v,()=>{for(const g of E)(0,n.checkReportMissingProp)(c,g)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(c,E,m)})`),(0,n.reportMissingProp)(c,m),f.else())}}e.validatePropertyDeps=o;function a(c,l=c.schema){const{gen:f,data:u,keyword:h,it:m}=c,y=f.name("valid");for(const E in l)(0,r.alwaysValidSchema)(m,l[E])||(f.if((0,n.propertyInData)(f,u,E,m.opts.ownProperties),()=>{const v=c.subschema({keyword:h,schemaProp:E},y);c.mergeValidEvaluated(v,y)},()=>f.var(y,!0)),c.ok(y))}e.validateSchemaDeps=a,e.default=i})(Rg);var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});const Ig=ve,Fw=be,kw={message:"property name must be valid",params:({params:e})=>(0,Ig._)`{propertyName: ${e.propertyName}}`},Lw={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:kw,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,Fw.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,Ig.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Ku.default=Lw;var tc={};Object.defineProperty(tc,"__esModule",{value:!0});const Wo=ge,yr=ve,jw=jr,Ko=be,Mw={message:"must NOT have additional properties",params:({params:e})=>(0,yr._)`{additionalProperty: ${e.additionalProperty}}`},Uw={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Mw,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Ko.alwaysValidSchema)(o,r))return;const l=(0,Wo.allSchemaProperties)(n.properties),f=(0,Wo.allSchemaProperties)(n.patternProperties);u(),e.ok((0,yr._)`${s} === ${jw.default.errors}`);function u(){t.forIn("key",i,v=>{!l.length&&!f.length?y(v):t.if(h(v),()=>y(v))})}function h(v){let g;if(l.length>8){const p=(0,Ko.schemaRefOrVal)(o,n.properties,"properties");g=(0,Wo.isOwnProperty)(t,p,v)}else l.length?g=(0,yr.or)(...l.map(p=>(0,yr._)`${v} === ${p}`)):g=yr.nil;return f.length&&(g=(0,yr.or)(g,...f.map(p=>(0,yr._)`${(0,Wo.usePattern)(e,p)}.test(${v})`))),(0,yr.not)(g)}function m(v){t.code((0,yr._)`delete ${i}[${v}]`)}function y(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Ko.alwaysValidSchema)(o,r)){const g=t.name("valid");c.removeAdditional==="failing"?(E(v,g,!1),t.if((0,yr.not)(g),()=>{e.reset(),m(v)})):(E(v,g),a||t.if((0,yr.not)(g),()=>t.break()))}}function E(v,g,p){const S={keyword:"additionalProperties",dataProp:v,dataPropType:Ko.Type.Str};p===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,g)}}};tc.default=Uw;var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});const xw=Sr,zd=ge,Vc=be,Hd=tc,qw={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Hd.default.code(new xw.KeywordCxt(s,Hd.default,"additionalProperties"));const o=(0,zd.allSchemaProperties)(r);for(const u of o)s.definedProperties.add(u);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Vc.mergeEvaluated.props(t,(0,Vc.toHash)(o),s.props));const a=o.filter(u=>!(0,Vc.alwaysValidSchema)(s,r[u]));if(a.length===0)return;const c=t.name("valid");for(const u of a)l(u)?f(u):(t.if((0,zd.propertyInData)(t,i,u,s.opts.ownProperties)),f(u),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(u),e.ok(c);function l(u){return s.opts.useDefaults&&!s.compositeRule&&r[u].default!==void 0}function f(u){e.subschema({keyword:"properties",schemaProp:u,dataProp:u},c)}}};Yu.default=qw;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});const Gd=ge,Yo=ve,Wd=be,Kd=be,Vw={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,Gd.allSchemaProperties)(r),c=a.filter(E=>(0,Wd.alwaysValidSchema)(s,r[E]));if(a.length===0||c.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,f=t.name("valid");s.props!==!0&&!(s.props instanceof Yo.Name)&&(s.props=(0,Kd.evaluatedPropsToName)(t,s.props));const{props:u}=s;h();function h(){for(const E of a)l&&m(E),s.allErrors?y(E):(t.var(f,!0),y(E),t.if(f))}function m(E){for(const v in l)new RegExp(E).test(v)&&(0,Wd.checkStrictMode)(s,`property ${v} matches pattern ${E} (use allowMatchingProperties)`)}function y(E){t.forIn("key",n,v=>{t.if((0,Yo._)`${(0,Gd.usePattern)(e,E)}.test(${v})`,()=>{const g=c.includes(E);g||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:v,dataPropType:Kd.Type.Str},f),s.opts.unevaluated&&u!==!0?t.assign((0,Yo._)`${u}[${v}]`,!0):!g&&!s.allErrors&&t.if((0,Yo.not)(f),()=>t.break())})})}}};Ju.default=Vw;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});const Bw=be,zw={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Bw.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Xu.default=zw;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});const Hw=ge,Gw={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Hw.validateUnion,error:{message:"must match a schema in anyOf"}};Qu.default=Gw;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});const ya=ve,Ww=be,Kw={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ya._)`{passingSchemas: ${e.passing}}`},Yw={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Kw,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((f,u)=>{let h;(0,Ww.alwaysValidSchema)(i,f)?t.var(c,!0):h=e.subschema({keyword:"oneOf",schemaProp:u,compositeRule:!0},c),u>0&&t.if((0,ya._)`${c} && ${o}`).assign(o,!1).assign(a,(0,ya._)`[${a}, ${u}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(a,u),h&&e.mergeEvaluated(h,ya.Name)})})}}};Zu.default=Yw;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});const Jw=be,Xw={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,Jw.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};ef.default=Xw;var tf={};Object.defineProperty(tf,"__esModule",{value:!0});const Ra=ve,Dg=be,Qw={message:({params:e})=>(0,Ra.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Ra._)`{failingKeyword: ${e.ifClause}}`},Zw={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Qw,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Dg.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Yd(n,"then"),s=Yd(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),i&&s){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(a,l("then",f),l("else",f))}else i?t.if(a,l("then")):t.if((0,Ra.not)(a),l("else"));e.pass(o,()=>e.error(!0));function c(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(f)}function l(f,u){return()=>{const h=e.subschema({keyword:f},a);t.assign(o,a),e.mergeValidEvaluated(h,o),u?t.assign(u,(0,Ra._)`${f}`):e.setParams({ifClause:f})}}}};function Yd(e,t){const r=e.schema[t];return r!==void 0&&!(0,Dg.alwaysValidSchema)(e,r)}tf.default=Zw;var rf={};Object.defineProperty(rf,"__esModule",{value:!0});const eS=be,tS={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,eS.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};rf.default=tS;Object.defineProperty(zu,"__esModule",{value:!0});const rS=ns,nS=Hu,iS=is,sS=Gu,oS=Wu,aS=Rg,cS=Ku,lS=tc,uS=Yu,fS=Ju,dS=Xu,hS=Qu,pS=Zu,mS=ef,gS=tf,yS=rf;function vS(e=!1){const t=[dS.default,hS.default,pS.default,mS.default,gS.default,yS.default,cS.default,lS.default,aS.default,uS.default,fS.default];return e?t.push(nS.default,sS.default):t.push(rS.default,iS.default),t.push(oS.default),t}zu.default=vS;var nf={},sf={};Object.defineProperty(sf,"__esModule",{value:!0});const et=ve,_S={message:({schemaCode:e})=>(0,et.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,et._)`{format: ${e}}`},$S={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:_S,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:c,errSchemaPath:l,schemaEnv:f,self:u}=a;if(!c.validateFormats)return;i?h():m();function h(){const y=r.scopeValue("formats",{ref:u.formats,code:c.code.formats}),E=r.const("fDef",(0,et._)`${y}[${o}]`),v=r.let("fType"),g=r.let("format");r.if((0,et._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(v,(0,et._)`${E}.type || "string"`).assign(g,(0,et._)`${E}.validate`),()=>r.assign(v,(0,et._)`"string"`).assign(g,E)),e.fail$data((0,et.or)(p(),S()));function p(){return c.strictSchema===!1?et.nil:(0,et._)`${o} && !${g}`}function S(){const N=f.$async?(0,et._)`(${E}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,et._)`${g}(${n})`,M=(0,et._)`(typeof ${g} == "function" ? ${N} : ${g}.test(${n}))`;return(0,et._)`${g} && ${g} !== true && ${v} === ${t} && !${M}`}}function m(){const y=u.formats[s];if(!y){p();return}if(y===!0)return;const[E,v,g]=S(y);E===t&&e.pass(N());function p(){if(c.strictSchema===!1){u.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function S(M){const T=M instanceof RegExp?(0,et.regexpCode)(M):c.code.formats?(0,et._)`${c.code.formats}${(0,et.getProperty)(s)}`:void 0,b=r.scopeValue("formats",{key:s,ref:M,code:T});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,et._)`${b}.validate`]:["string",M,b]}function N(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!f.$async)throw new Error("async format in sync schema");return(0,et._)`await ${g}(${n})`}return typeof v=="function"?(0,et._)`${g}(${n})`:(0,et._)`${g}.test(${n})`}}}};sf.default=$S;Object.defineProperty(nf,"__esModule",{value:!0});const ES=sf,wS=[ES.default];nf.default=wS;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.contentVocabulary=Bi.metadataVocabulary=void 0;Bi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Bi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Cu,"__esModule",{value:!0});const SS=Nu,bS=Iu,PS=zu,OS=nf,Jd=Bi,TS=[SS.default,bS.default,(0,PS.default)(),OS.default,Jd.metadataVocabulary,Jd.contentVocabulary];Cu.default=TS;var of={},Fg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Fg);Object.defineProperty(of,"__esModule",{value:!0});const Ti=ve,jl=Fg,Xd=Wt,AS=be,CS={message:({params:{discrError:e,tagName:t}})=>e===jl.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ti._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},NS={keyword:"discriminator",type:"object",schemaType:"object",error:CS,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",(0,Ti._)`${r}${(0,Ti.getProperty)(a)}`);t.if((0,Ti._)`typeof ${l} == "string"`,()=>f(),()=>e.error(!1,{discrError:jl.DiscrError.Tag,tag:l,tagName:a})),e.ok(c);function f(){const m=h();t.if(!1);for(const y in m)t.elseIf((0,Ti._)`${l} === ${y}`),t.assign(c,u(m[y]));t.else(),e.error(!1,{discrError:jl.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function u(m){const y=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:m},y);return e.mergeEvaluated(E,Ti.Name),y}function h(){var m;const y={},E=g(i);let v=!0;for(let N=0;N<o.length;N++){let M=o[N];M!=null&&M.$ref&&!(0,AS.schemaHasRulesButRef)(M,s.self.RULES)&&(M=Xd.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,M==null?void 0:M.$ref),M instanceof Xd.SchemaEnv&&(M=M.schema));const T=(m=M==null?void 0:M.properties)===null||m===void 0?void 0:m[a];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(E||g(M)),p(T,N)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return y;function g({required:N}){return Array.isArray(N)&&N.includes(a)}function p(N,M){if(N.const)S(N.const,M);else if(N.enum)for(const T of N.enum)S(T,M);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(N,M){if(typeof N!="string"||N in y)throw new Error(`discriminator: "${a}" values must be unique strings`);y[N]=M}}}};of.default=NS;const RS="http://json-schema.org/draft-07/schema#",IS="http://json-schema.org/draft-07/schema#",DS="Core schema meta-schema",FS={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},kS=["object","boolean"],LS={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},jS={$schema:RS,$id:IS,title:DS,definitions:FS,type:kS,properties:LS,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=eg,n=Cu,i=of,s=jS,o=["/properties"],a="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(y,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=Sr;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var f=ve;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var u=go;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return u.default}});var h=yo;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Rl,Rl.exports);var MS=Rl.exports,Ml={exports:{}},kg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(O,V){return{validate:O,compare:V}}e.fullFormats={date:t(s,o),time:t(c,l),"date-time":t(u,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:E,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:D,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:N},int64:{type:"number",validate:M},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(O){return O%4===0&&(O%100!==0||O%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(O){const V=n.exec(O);if(!V)return!1;const Y=+V[1],H=+V[2],W=+V[3];return H>=1&&H<=12&&W>=1&&W<=(H===2&&r(Y)?29:i[H])}function o(O,V){if(O&&V)return O>V?1:O<V?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(O,V){const Y=a.exec(O);if(!Y)return!1;const H=+Y[1],W=+Y[2],G=+Y[3],Q=Y[5];return(H<=23&&W<=59&&G<=59||H===23&&W===59&&G===60)&&(!V||Q!=="")}function l(O,V){if(!(O&&V))return;const Y=a.exec(O),H=a.exec(V);if(Y&&H)return O=Y[1]+Y[2]+Y[3]+(Y[4]||""),V=H[1]+H[2]+H[3]+(H[4]||""),O>V?1:O<V?-1:0}const f=/t|\s/i;function u(O){const V=O.split(f);return V.length===2&&s(V[0])&&c(V[1],!0)}function h(O,V){if(!(O&&V))return;const[Y,H]=O.split(f),[W,G]=V.split(f),Q=o(Y,W);if(Q!==void 0)return Q||l(H,G)}const m=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function E(O){return m.test(O)&&y.test(O)}const v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(O){return v.lastIndex=0,v.test(O)}const p=-(2**31),S=2**31-1;function N(O){return Number.isInteger(O)&&O<=S&&O>=p}function M(O){return Number.isInteger(O)}function T(){return!0}const b=/[^\\]\\Z/;function D(O){if(b.test(O))return!1;try{return new RegExp(O),!0}catch{return!1}}})(kg);var Lg={},Ul={exports:{}},jg={},br={},zi={},_o={},pe={},to={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,N)=>`${S}${N}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,N)=>(N instanceof r&&(S[N.str]=(S[N.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(g,...p){const S=[g[0]];let N=0;for(;N<p.length;)a(S,p[N]),S.push(g[++N]);return new n(S)}e._=i;const s=new n("+");function o(g,...p){const S=[m(g[0])];let N=0;for(;N<p.length;)S.push(s),a(S,p[N]),S.push(s,m(g[++N]));return c(S),new n(S)}e.str=o;function a(g,p){p instanceof n?g.push(...p._items):p instanceof r?g.push(p):g.push(u(p))}e.addCodeArg=a;function c(g){let p=1;for(;p<g.length-1;){if(g[p]===s){const S=l(g[p-1],g[p+1]);if(S!==void 0){g.splice(p-1,3,S);continue}g[p++]="+"}p++}}function l(g,p){if(p==='""')return g;if(g==='""')return p;if(typeof g=="string")return p instanceof r||g[g.length-1]!=='"'?void 0:typeof p!="string"?`${g.slice(0,-1)}${p}"`:p[0]==='"'?g.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(g instanceof r))return`"${g}${p.slice(1)}`}function f(g,p){return p.emptyStr()?g:g.emptyStr()?p:o`${g}${p}`}e.strConcat=f;function u(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:m(Array.isArray(g)?g.join(","):g)}function h(g){return new n(m(g))}e.stringify=h;function m(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function y(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new n(`.${g}`):i`[${g}]`}e.getProperty=y;function E(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=E;function v(g){return new n(g.toString())}e.regexpCode=v})(to);var xl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=to;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:f}={}){this._names={},this._prefixes=l,this._parent=f}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const f=this._names[l]||this._nameGroup(l);return`${l}${f.index++}`}_nameGroup(l){var f,u;if(!((u=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||u===void 0)&&u.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,f){super(f),this.prefix=l}setValue(l,{property:f,itemIndex:u}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(f)}[${u}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,f){var u;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(l),{prefix:m}=h,y=(u=f.key)!==null&&u!==void 0?u:f.ref;let E=this._values[m];if(E){const p=E.get(y);if(p)return p}else E=this._values[m]=new Map;E.set(y,h);const v=this._scope[m]||(this._scope[m]=[]),g=v.length;return v[g]=f.ref,h.setValue(f,{property:m,itemIndex:g}),h}getValue(l,f){const u=this._values[l];if(u)return u.get(f)}scopeRefs(l,f=this._values){return this._reduceValues(f,u=>{if(u.scopePath===void 0)throw new Error(`CodeGen: name "${u}" has no value`);return(0,t._)`${l}${u.scopePath}`})}scopeCode(l=this._values,f,u){return this._reduceValues(l,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},f,u)}_reduceValues(l,f,u={},h){let m=t.nil;for(const y in l){const E=l[y];if(!E)continue;const v=u[y]=u[y]||new Map;E.forEach(g=>{if(v.has(g))return;v.set(g,n.Started);let p=f(g);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${S} ${g} = ${p};${this.opts._n}`}else if(p=h==null?void 0:h(g))m=(0,t._)`${m}${p}${this.opts._n}`;else throw new r(g);v.set(g,n.Completed)})}return m}}e.ValueScope=a})(xl);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=to,r=xl;var n=to;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=xl;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(d,$){return this}}class o extends s{constructor(d,$,L){super(),this.varKind=d,this.name=$,this.rhs=L}render({es5:d,_n:$}){const L=d?r.varKinds.var:this.varKind,P=this.rhs===void 0?"":` = ${this.rhs}`;return`${L} ${this.name}${P};`+$}optimizeNames(d,$){if(d[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,d,$)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(d,$,L){super(),this.lhs=d,this.rhs=$,this.sideEffects=L}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,$){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=G(this.rhs,d,$),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(d,this.rhs)}}class c extends a{constructor(d,$,L,P){super(d,L,P),this.op=$}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class l extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class f extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class u extends s{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends s{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,$){return this.code=G(this.code,d,$),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce(($,L)=>$+L.render(d),"")}optimizeNodes(){const{nodes:d}=this;let $=d.length;for(;$--;){const L=d[$].optimizeNodes();Array.isArray(L)?d.splice($,1,...L):L?d[$]=L:d.splice($,1)}return d.length>0?this:void 0}optimizeNames(d,$){const{nodes:L}=this;let P=L.length;for(;P--;){const _=L[P];_.optimizeNames(d,$)||(Q(d,_.names),L.splice(P,1))}return L.length>0?this:void 0}get names(){return this.nodes.reduce((d,$)=>H(d,$.names),{})}}class y extends m{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class E extends m{}class v extends y{}v.kind="else";class g extends y{constructor(d,$){super($),this.condition=d}render(d){let $=`if(${this.condition})`+super.render(d);return this.else&&($+="else "+this.else.render(d)),$}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let $=this.else;if($){const L=$.optimizeNodes();$=this.else=Array.isArray(L)?new v(L):L}if($)return d===!1?$ instanceof g?$:$.nodes:this.nodes.length?this:new g(Z(d),$ instanceof g?[$]:$.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,$){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(d,$),!!(super.optimizeNames(d,$)||this.else))return this.condition=G(this.condition,d,$),this}get names(){const d=super.names;return W(d,this.condition),this.else&&H(d,this.else.names),d}}g.kind="if";class p extends y{}p.kind="for";class S extends p{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iteration=G(this.iteration,d,$),this}get names(){return H(super.names,this.iteration.names)}}class N extends p{constructor(d,$,L,P){super(),this.varKind=d,this.name=$,this.from=L,this.to=P}render(d){const $=d.es5?r.varKinds.var:this.varKind,{name:L,from:P,to:_}=this;return`for(${$} ${L}=${P}; ${L}<${_}; ${L}++)`+super.render(d)}get names(){const d=W(super.names,this.from);return W(d,this.to)}}class M extends p{constructor(d,$,L,P){super(),this.loop=d,this.varKind=$,this.name=L,this.iterable=P}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iterable=G(this.iterable,d,$),this}get names(){return H(super.names,this.iterable.names)}}class T extends y{constructor(d,$,L){super(),this.name=d,this.args=$,this.async=L}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}T.kind="func";class b extends m{render(d){return"return "+super.render(d)}}b.kind="return";class D extends y{render(d){let $="try"+super.render(d);return this.catch&&($+=this.catch.render(d)),this.finally&&($+=this.finally.render(d)),$}optimizeNodes(){var d,$;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(d,$){var L,P;return super.optimizeNames(d,$),(L=this.catch)===null||L===void 0||L.optimizeNames(d,$),(P=this.finally)===null||P===void 0||P.optimizeNames(d,$),this}get names(){const d=super.names;return this.catch&&H(d,this.catch.names),this.finally&&H(d,this.finally.names),d}}class O extends y{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}O.kind="catch";class V extends y{render(d){return"finally"+super.render(d)}}V.kind="finally";class Y{constructor(d,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,$){const L=this._extScope.value(d,$);return(this._values[L.prefix]||(this._values[L.prefix]=new Set)).add(L),L}getScopeValue(d,$){return this._extScope.getValue(d,$)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,$,L,P){const _=this._scope.toName($);return L!==void 0&&P&&(this._constants[_.str]=L),this._leafNode(new o(d,_,L)),_}const(d,$,L){return this._def(r.varKinds.const,d,$,L)}let(d,$,L){return this._def(r.varKinds.let,d,$,L)}var(d,$,L){return this._def(r.varKinds.var,d,$,L)}assign(d,$,L){return this._leafNode(new a(d,$,L))}add(d,$){return this._leafNode(new c(d,e.operators.ADD,$))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const $=["{"];for(const[L,P]of d)$.length>1&&$.push(","),$.push(L),(L!==P||this.opts.es5)&&($.push(":"),(0,t.addCodeArg)($,P));return $.push("}"),new t._Code($)}if(d,$,L){if(this._blockNode(new g(d)),$&&L)this.code($).else().code(L).endIf();else if($)this.code($).endIf();else if(L)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new g(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(d,$){return this._blockNode(d),$&&this.code($).endFor(),this}for(d,$){return this._for(new S(d),$)}forRange(d,$,L,P,_=this.opts.es5?r.varKinds.var:r.varKinds.let){const z=this._scope.toName(d);return this._for(new N(_,z,$,L),()=>P(z))}forOf(d,$,L,P=r.varKinds.const){const _=this._scope.toName(d);if(this.opts.es5){const z=$ instanceof t.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,t._)`${z}.length`,U=>{this.var(_,(0,t._)`${z}[${U}]`),L(_)})}return this._for(new M("of",P,_,$),()=>L(_))}forIn(d,$,L,P=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${$})`,L);const _=this._scope.toName(d);return this._for(new M("in",P,_,$),()=>L(_))}endFor(){return this._endBlockNode(p)}label(d){return this._leafNode(new l(d))}break(d){return this._leafNode(new f(d))}return(d){const $=new b;if(this._blockNode($),this.code(d),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,$,L){if(!$&&!L)throw new Error('CodeGen: "try" without "catch" and "finally"');const P=new D;if(this._blockNode(P),this.code(d),$){const _=this.name("e");this._currNode=P.catch=new O(_),$(_)}return L&&(this._currNode=P.finally=new V,this.code(L)),this._endBlockNode(O,V)}throw(d){return this._leafNode(new u(d))}block(d,$){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock($),this}endBlock(d){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const L=this._nodes.length-$;if(L<0||d!==void 0&&L!==d)throw new Error(`CodeGen: wrong number of nodes: ${L} vs ${d} expected`);return this._nodes.length=$,this}func(d,$=t.nil,L,P){return this._blockNode(new T(d,$,L)),P&&this.code(P).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,$){const L=this._currNode;if(L instanceof d||$&&L instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${d.kind}/${$.kind}`:d.kind}"`)}_elseNode(d){const $=this._currNode;if(!($ instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const $=this._nodes;$[$.length-1]=d}}e.CodeGen=Y;function H(C,d){for(const $ in d)C[$]=(C[$]||0)+(d[$]||0);return C}function W(C,d){return d instanceof t._CodeOrName?H(C,d.names):C}function G(C,d,$){if(C instanceof t.Name)return L(C);if(!P(C))return C;return new t._Code(C._items.reduce((_,z)=>(z instanceof t.Name&&(z=L(z)),z instanceof t._Code?_.push(...z._items):_.push(z),_),[]));function L(_){const z=$[_.str];return z===void 0||d[_.str]!==1?_:(delete d[_.str],z)}function P(_){return _ instanceof t._Code&&_._items.some(z=>z instanceof t.Name&&d[z.str]===1&&$[z.str]!==void 0)}}function Q(C,d){for(const $ in d)C[$]=(C[$]||0)-(d[$]||0)}function Z(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${R(C)}`}e.not=Z;const K=w(e.operators.AND);function I(...C){return C.reduce(K)}e.and=I;const j=w(e.operators.OR);function A(...C){return C.reduce(j)}e.or=A;function w(C){return(d,$)=>d===t.nil?$:$===t.nil?d:(0,t._)`${R(d)} ${C} ${R($)}`}function R(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(pe);var Pe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=pe,r=to;function n(T){const b={};for(const D of T)b[D]=!0;return b}e.toHash=n;function i(T,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(T,b),!o(b,T.self.RULES.all))}e.alwaysValidSchema=i;function s(T,b=T.schema){const{opts:D,self:O}=T;if(!D.strictSchema||typeof b=="boolean")return;const V=O.RULES.keywords;for(const Y in b)V[Y]||M(T,`unknown keyword: "${Y}"`)}e.checkUnknownRules=s;function o(T,b){if(typeof T=="boolean")return!T;for(const D in T)if(b[D])return!0;return!1}e.schemaHasRules=o;function a(T,b){if(typeof T=="boolean")return!T;for(const D in T)if(D!=="$ref"&&b.all[D])return!0;return!1}e.schemaHasRulesButRef=a;function c({topSchemaRef:T,schemaPath:b},D,O,V){if(!V){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${T}${b}${(0,t.getProperty)(O)}`}e.schemaRefOrVal=c;function l(T){return h(decodeURIComponent(T))}e.unescapeFragment=l;function f(T){return encodeURIComponent(u(T))}e.escapeFragment=f;function u(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=u;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(T,b){if(Array.isArray(T))for(const D of T)b(D);else b(T)}e.eachItem=m;function y({mergeNames:T,mergeToName:b,mergeValues:D,resultToName:O}){return(V,Y,H,W)=>{const G=H===void 0?Y:H instanceof t.Name?(Y instanceof t.Name?T(V,Y,H):b(V,Y,H),H):Y instanceof t.Name?(b(V,H,Y),Y):D(Y,H);return W===t.Name&&!(G instanceof t.Name)?O(V,G):G}}e.mergeEvaluated={props:y({mergeNames:(T,b,D)=>T.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>{T.if((0,t._)`${b} === true`,()=>T.assign(D,!0),()=>T.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${b})`))}),mergeToName:(T,b,D)=>T.if((0,t._)`${D} !== true`,()=>{b===!0?T.assign(D,!0):(T.assign(D,(0,t._)`${D} || {}`),v(T,D,b))}),mergeValues:(T,b)=>T===!0?!0:{...T,...b},resultToName:E}),items:y({mergeNames:(T,b,D)=>T.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>T.assign(D,(0,t._)`${b} === true ? true : ${D} > ${b} ? ${D} : ${b}`)),mergeToName:(T,b,D)=>T.if((0,t._)`${D} !== true`,()=>T.assign(D,b===!0?!0:(0,t._)`${D} > ${b} ? ${D} : ${b}`)),mergeValues:(T,b)=>T===!0?!0:Math.max(T,b),resultToName:(T,b)=>T.var("items",b)})};function E(T,b){if(b===!0)return T.var("props",!0);const D=T.var("props",(0,t._)`{}`);return b!==void 0&&v(T,D,b),D}e.evaluatedPropsToName=E;function v(T,b,D){Object.keys(D).forEach(O=>T.assign((0,t._)`${b}${(0,t.getProperty)(O)}`,!0))}e.setEvaluated=v;const g={};function p(T,b){return T.scopeValue("func",{ref:b,code:g[b.code]||(g[b.code]=new r._Code(b.code))})}e.useFunc=p;var S;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(S=e.Type||(e.Type={}));function N(T,b,D){if(T instanceof t.Name){const O=b===S.Num;return D?O?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:O?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(T).toString():"/"+u(T)}e.getErrorPath=N;function M(T,b,D=T.opts.strictSchema){if(D){if(b=`strict mode: ${b}`,D===!0)throw new Error(b);T.self.logger.warn(b)}}e.checkStrictMode=M})(Pe);var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});const bt=pe,US={data:new bt.Name("data"),valCxt:new bt.Name("valCxt"),instancePath:new bt.Name("instancePath"),parentData:new bt.Name("parentData"),parentDataProperty:new bt.Name("parentDataProperty"),rootData:new bt.Name("rootData"),dynamicAnchors:new bt.Name("dynamicAnchors"),vErrors:new bt.Name("vErrors"),errors:new bt.Name("errors"),this:new bt.Name("this"),self:new bt.Name("self"),scope:new bt.Name("scope"),json:new bt.Name("json"),jsonPos:new bt.Name("jsonPos"),jsonLen:new bt.Name("jsonLen"),jsonPart:new bt.Name("jsonPart")};Mr.default=US;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=pe,r=Pe,n=Mr;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:g})=>g?(0,t.str)`"${v}" keyword must be ${g} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,g=e.keywordError,p,S){const{it:N}=v,{gen:M,compositeRule:T,allErrors:b}=N,D=u(v,g,p);S??(T||b)?c(M,D):l(N,(0,t._)`[${D}]`)}e.reportError=i;function s(v,g=e.keywordError,p){const{it:S}=v,{gen:N,compositeRule:M,allErrors:T}=S,b=u(v,g,p);c(N,b),M||T||l(S,n.default.vErrors)}e.reportExtraError=s;function o(v,g){v.assign(n.default.errors,g),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(g,()=>v.assign((0,t._)`${n.default.vErrors}.length`,g),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:g,schemaValue:p,data:S,errsCount:N,it:M}){if(N===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",N,n.default.errors,b=>{v.const(T,(0,t._)`${n.default.vErrors}[${b}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${g}`),M.opts.verbose&&(v.assign((0,t._)`${T}.schema`,p),v.assign((0,t._)`${T}.data`,S))})}e.extendErrors=a;function c(v,g){const p=v.const("err",g);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${p}]`),(0,t._)`${n.default.vErrors}.push(${p})`),v.code((0,t._)`${n.default.errors}++`)}function l(v,g){const{gen:p,validateName:S,schemaEnv:N}=v;N.$async?p.throw((0,t._)`new ${v.ValidationError}(${g})`):(p.assign((0,t._)`${S}.errors`,g),p.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function u(v,g,p){const{createErrors:S}=v.it;return S===!1?(0,t._)`{}`:h(v,g,p)}function h(v,g,p={}){const{gen:S,it:N}=v,M=[m(N,p),y(v,p)];return E(v,g,M),S.object(...M)}function m({errorPath:v},{instancePath:g}){const p=g?(0,t.str)`${v}${(0,r.getErrorPath)(g,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,p)]}function y({keyword:v,it:{errSchemaPath:g}},{schemaPath:p,parentSchema:S}){let N=S?g:(0,t.str)`${g}/${v}`;return p&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(p,r.Type.Str)}`),[f.schemaPath,N]}function E(v,{params:g,message:p},S){const{keyword:N,data:M,schemaValue:T,it:b}=v,{opts:D,propertyName:O,topSchemaRef:V,schemaPath:Y}=b;S.push([f.keyword,N],[f.params,typeof g=="function"?g(v):g||(0,t._)`{}`]),D.messages&&S.push([f.message,typeof p=="function"?p(v):p]),D.verbose&&S.push([f.schema,T],[f.parentSchema,(0,t._)`${V}${Y}`],[n.default.data,M]),O&&S.push([f.propertyName,O])}})(_o);Object.defineProperty(zi,"__esModule",{value:!0});zi.boolOrEmptySchema=zi.topBoolOrEmptySchema=void 0;const xS=_o,qS=pe,VS=Mr,BS={message:"boolean schema is false"};function zS(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Mg(e,!1):typeof r=="object"&&r.$async===!0?t.return(VS.default.data):(t.assign((0,qS._)`${n}.errors`,null),t.return(!0))}zi.topBoolOrEmptySchema=zS;function HS(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Mg(e)):r.var(t,!0)}zi.boolOrEmptySchema=HS;function Mg(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,xS.reportError)(i,BS,void 0,t)}var $o={},ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.getRules=ii.isJSONType=void 0;const GS=["string","number","integer","boolean","null","object","array"],WS=new Set(GS);function KS(e){return typeof e=="string"&&WS.has(e)}ii.isJSONType=KS;function YS(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ii.getRules=YS;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.shouldUseRule=Qr.shouldUseGroup=Qr.schemaHasRulesForType=void 0;function JS({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Ug(e,n)}Qr.schemaHasRulesForType=JS;function Ug(e,t){return t.rules.some(r=>xg(e,r))}Qr.shouldUseGroup=Ug;function xg(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Qr.shouldUseRule=xg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ii,r=Qr,n=_o,i=pe,s=Pe;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const N=c(S.type);if(N.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!N.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&N.push("null")}return N}e.getSchemaTypes=a;function c(S){const N=Array.isArray(S)?S:S?[S]:[];if(N.every(t.isJSONType))return N;throw new Error("type must be JSONType or JSONType[]: "+N.join(","))}e.getJSONTypes=c;function l(S,N){const{gen:M,data:T,opts:b}=S,D=u(N,b.coerceTypes),O=N.length>0&&!(D.length===0&&N.length===1&&(0,r.schemaHasRulesForType)(S,N[0]));if(O){const V=E(N,T,b.strictNumbers,o.Wrong);M.if(V,()=>{D.length?h(S,N,D):g(S)})}return O}e.coerceAndCheckDataType=l;const f=new Set(["string","number","integer","boolean","null"]);function u(S,N){return N?S.filter(M=>f.has(M)||N==="array"&&M==="array"):[]}function h(S,N,M){const{gen:T,data:b,opts:D}=S,O=T.let("dataType",(0,i._)`typeof ${b}`),V=T.let("coerced",(0,i._)`undefined`);D.coerceTypes==="array"&&T.if((0,i._)`${O} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>T.assign(b,(0,i._)`${b}[0]`).assign(O,(0,i._)`typeof ${b}`).if(E(N,b,D.strictNumbers),()=>T.assign(V,b))),T.if((0,i._)`${V} !== undefined`);for(const H of M)(f.has(H)||H==="array"&&D.coerceTypes==="array")&&Y(H);T.else(),g(S),T.endIf(),T.if((0,i._)`${V} !== undefined`,()=>{T.assign(b,V),m(S,V)});function Y(H){switch(H){case"string":T.elseIf((0,i._)`${O} == "number" || ${O} == "boolean"`).assign(V,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(V,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${O} == "boolean" || ${b} === null
              || (${O} == "string" && ${b} && ${b} == +${b})`).assign(V,(0,i._)`+${b}`);return;case"integer":T.elseIf((0,i._)`${O} === "boolean" || ${b} === null
              || (${O} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(V,(0,i._)`+${b}`);return;case"boolean":T.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(V,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(V,!0);return;case"null":T.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),T.assign(V,null);return;case"array":T.elseIf((0,i._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${b} === null`).assign(V,(0,i._)`[${b}]`)}}}function m({gen:S,parentData:N,parentDataProperty:M},T){S.if((0,i._)`${N} !== undefined`,()=>S.assign((0,i._)`${N}[${M}]`,T))}function y(S,N,M,T=o.Correct){const b=T===o.Correct?i.operators.EQ:i.operators.NEQ;let D;switch(S){case"null":return(0,i._)`${N} ${b} null`;case"array":D=(0,i._)`Array.isArray(${N})`;break;case"object":D=(0,i._)`${N} && typeof ${N} == "object" && !Array.isArray(${N})`;break;case"integer":D=O((0,i._)`!(${N} % 1) && !isNaN(${N})`);break;case"number":D=O();break;default:return(0,i._)`typeof ${N} ${b} ${S}`}return T===o.Correct?D:(0,i.not)(D);function O(V=i.nil){return(0,i.and)((0,i._)`typeof ${N} == "number"`,V,M?(0,i._)`isFinite(${N})`:i.nil)}}e.checkDataType=y;function E(S,N,M,T){if(S.length===1)return y(S[0],N,M,T);let b;const D=(0,s.toHash)(S);if(D.array&&D.object){const O=(0,i._)`typeof ${N} != "object"`;b=D.null?O:(0,i._)`!${N} || ${O}`,delete D.null,delete D.array,delete D.object}else b=i.nil;D.number&&delete D.integer;for(const O in D)b=(0,i.and)(b,y(O,N,M,T));return b}e.checkDataTypes=E;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:N})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${N}}`};function g(S){const N=p(S);(0,n.reportError)(N,v)}e.reportTypeError=g;function p(S){const{gen:N,data:M,schema:T}=S,b=(0,s.schemaRefOrVal)(S,T,"type");return{gen:N,keyword:"type",data:M,schema:T.type,schemaCode:b,schemaValue:b,parentSchema:T,params:{},it:S}}})($o);var rc={};Object.defineProperty(rc,"__esModule",{value:!0});rc.assignDefaults=void 0;const vi=pe,XS=Pe;function QS(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Qd(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Qd(e,s,i.default))}rc.assignDefaults=QS;function Qd(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const a=(0,vi._)`${s}${(0,vi.getProperty)(t)}`;if(i){(0,XS.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,vi._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,vi._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,vi._)`${a} = ${(0,vi.stringify)(r)}`)}var kr={},ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.validateUnion=ye.validateArray=ye.usePattern=ye.callValidateCode=ye.schemaProperties=ye.allSchemaProperties=ye.noPropertyInData=ye.propertyInData=ye.isOwnProperty=ye.hasPropFunc=ye.reportMissingProp=ye.checkMissingProp=ye.checkReportMissingProp=void 0;const xe=pe,af=Pe,ln=Mr,ZS=Pe;function eb(e,t){const{gen:r,data:n,it:i}=e;r.if(lf(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,xe._)`${t}`},!0),e.error()})}ye.checkReportMissingProp=eb;function tb({gen:e,data:t,it:{opts:r}},n,i){return(0,xe.or)(...n.map(s=>(0,xe.and)(lf(e,t,s,r.ownProperties),(0,xe._)`${i} = ${s}`)))}ye.checkMissingProp=tb;function rb(e,t){e.setParams({missingProperty:t},!0),e.error()}ye.reportMissingProp=rb;function qg(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,xe._)`Object.prototype.hasOwnProperty`})}ye.hasPropFunc=qg;function cf(e,t,r){return(0,xe._)`${qg(e)}.call(${t}, ${r})`}ye.isOwnProperty=cf;function nb(e,t,r,n){const i=(0,xe._)`${t}${(0,xe.getProperty)(r)} !== undefined`;return n?(0,xe._)`${i} && ${cf(e,t,r)}`:i}ye.propertyInData=nb;function lf(e,t,r,n){const i=(0,xe._)`${t}${(0,xe.getProperty)(r)} === undefined`;return n?(0,xe.or)(i,(0,xe.not)(cf(e,t,r))):i}ye.noPropertyInData=lf;function Vg(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ye.allSchemaProperties=Vg;function ib(e,t){return Vg(t).filter(r=>!(0,af.alwaysValidSchema)(e,t[r]))}ye.schemaProperties=ib;function sb({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,c,l){const f=l?(0,xe._)`${e}, ${t}, ${n}${i}`:t,u=[[ln.default.instancePath,(0,xe.strConcat)(ln.default.instancePath,s)],[ln.default.parentData,o.parentData],[ln.default.parentDataProperty,o.parentDataProperty],[ln.default.rootData,ln.default.rootData]];o.opts.dynamicRef&&u.push([ln.default.dynamicAnchors,ln.default.dynamicAnchors]);const h=(0,xe._)`${f}, ${r.object(...u)}`;return c!==xe.nil?(0,xe._)`${a}.call(${c}, ${h})`:(0,xe._)`${a}(${h})`}ye.callValidateCode=sb;const ob=(0,xe._)`new RegExp`;function ab({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,xe._)`${i.code==="new RegExp"?ob:(0,ZS.useFunc)(e,i)}(${r}, ${n})`})}ye.usePattern=ab;function cb(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const c=t.const("len",(0,xe._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:af.Type.Num},s),t.if((0,xe.not)(s),a)})}}ye.validateArray=cb;function lb(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,af.alwaysValidSchema)(i,c))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,l)=>{const f=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,xe._)`${o} || ${a}`),e.mergeValidEvaluated(f,a)||t.if((0,xe.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ye.validateUnion=lb;Object.defineProperty(kr,"__esModule",{value:!0});kr.validateKeywordUsage=kr.validSchemaType=kr.funcKeywordCode=kr.macroKeywordCode=void 0;const Ft=pe,Hn=Mr,ub=ye,fb=_o;function db(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),c=Bg(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=r.name("valid");e.subschema({schema:a,schemaPath:Ft.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}kr.macroKeywordCode=db;function hb(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:c}=e;mb(c,t);const l=!a&&t.compile?t.compile.call(c.self,s,o,c):t.validate,f=Bg(n,i,l),u=n.let("valid");e.block$data(u,h),e.ok((r=t.valid)!==null&&r!==void 0?r:u);function h(){if(t.errors===!1)E(),t.modifying&&Zd(e),v(()=>e.error());else{const g=t.async?m():y();t.modifying&&Zd(e),v(()=>pb(e,g))}}function m(){const g=n.let("ruleErrs",null);return n.try(()=>E((0,Ft._)`await `),p=>n.assign(u,!1).if((0,Ft._)`${p} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,Ft._)`${p}.errors`),()=>n.throw(p))),g}function y(){const g=(0,Ft._)`${f}.errors`;return n.assign(g,null),E(Ft.nil),g}function E(g=t.async?(0,Ft._)`await `:Ft.nil){const p=c.opts.passContext?Hn.default.this:Hn.default.self,S=!("compile"in t&&!a||t.schema===!1);n.assign(u,(0,Ft._)`${g}${(0,ub.callValidateCode)(e,f,p,S)}`,t.modifying)}function v(g){var p;n.if((0,Ft.not)((p=t.valid)!==null&&p!==void 0?p:u),g)}}kr.funcKeywordCode=hb;function Zd(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ft._)`${n.parentData}[${n.parentDataProperty}]`))}function pb(e,t){const{gen:r}=e;r.if((0,Ft._)`Array.isArray(${t})`,()=>{r.assign(Hn.default.vErrors,(0,Ft._)`${Hn.default.vErrors} === null ? ${t} : ${Hn.default.vErrors}.concat(${t})`).assign(Hn.default.errors,(0,Ft._)`${Hn.default.vErrors}.length`),(0,fb.extendErrors)(e)},()=>e.error())}function mb({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Bg(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ft.stringify)(r)})}function gb(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}kr.validSchemaType=gb;function yb({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const c=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}kr.validateKeywordUsage=yb;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.extendSubschemaMode=Sn.extendSubschemaData=Sn.getSubschema=void 0;const Rr=pe,zg=Pe;function vb(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Rr._)`${e.schemaPath}${(0,Rr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Rr._)`${e.schemaPath}${(0,Rr.getProperty)(t)}${(0,Rr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,zg.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Sn.getSubschema=vb;function _b(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:l,dataPathArr:f,opts:u}=t,h=a.let("data",(0,Rr._)`${t.data}${(0,Rr.getProperty)(r)}`,!0);c(h),e.errorPath=(0,Rr.str)`${l}${(0,zg.getErrorPath)(r,n,u.jsPropertySyntax)}`,e.parentDataProperty=(0,Rr._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Rr.Name?i:a.let("data",i,!0);c(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Sn.extendSubschemaData=_b;function $b(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Sn.extendSubschemaMode=$b;var _t={},Hg={exports:{}},vn=Hg.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};va(t,n,i,e,"",e)};vn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};vn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};vn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};vn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function va(e,t,r,n,i,s,o,a,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,c,l);for(var f in n){var u=n[f];if(Array.isArray(u)){if(f in vn.arrayKeywords)for(var h=0;h<u.length;h++)va(e,t,r,u[h],i+"/"+f+"/"+h,s,i,f,n,h)}else if(f in vn.propsKeywords){if(u&&typeof u=="object")for(var m in u)va(e,t,r,u[m],i+"/"+f+"/"+Eb(m),s,i,f,n,m)}else(f in vn.keywords||e.allKeys&&!(f in vn.skipKeywords))&&va(e,t,r,u,i+"/"+f,s,i,f,n)}r(n,i,s,o,a,c,l)}}function Eb(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var wb=Hg.exports;Object.defineProperty(_t,"__esModule",{value:!0});_t.getSchemaRefs=_t.resolveUrl=_t.normalizeId=_t._getFullPath=_t.getFullPath=_t.inlineRef=void 0;const Sb=Pe,bb=Qa,Pb=wb,Ob=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Tb(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ql(e):t?Gg(e)<=t:!1}_t.inlineRef=Tb;const Ab=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ql(e){for(const t in e){if(Ab.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(ql)||typeof r=="object"&&ql(r))return!0}return!1}function Gg(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Ob.has(r)&&(typeof e[r]=="object"&&(0,Sb.eachItem)(e[r],n=>t+=Gg(n)),t===1/0))return 1/0}return t}function Wg(e,t="",r){r!==!1&&(t=ji(t));const n=e.parse(t);return Kg(e,n)}_t.getFullPath=Wg;function Kg(e,t){return e.serialize(t).split("#")[0]+"#"}_t._getFullPath=Kg;const Cb=/#\/?$/;function ji(e){return e?e.replace(Cb,""):""}_t.normalizeId=ji;function Nb(e,t,r){return r=ji(r),e.resolve(t,r)}_t.resolveUrl=Nb;const Rb=/^[a-z_][-a-z0-9._]*$/i;function Ib(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=ji(e[r]||t),s={"":i},o=Wg(n,i,!1),a={},c=new Set;return Pb(e,{allKeys:!0},(u,h,m,y)=>{if(y===void 0)return;const E=o+h;let v=s[y];typeof u[r]=="string"&&(v=g.call(this,u[r])),p.call(this,u.$anchor),p.call(this,u.$dynamicAnchor),s[h]=v;function g(S){const N=this.opts.uriResolver.resolve;if(S=ji(v?N(v,S):S),c.has(S))throw f(S);c.add(S);let M=this.refs[S];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?l(u,M.schema,S):S!==ji(E)&&(S[0]==="#"?(l(u,a[S],S),a[S]=u):this.refs[S]=E),S}function p(S){if(typeof S=="string"){if(!Rb.test(S))throw new Error(`invalid anchor "${S}"`);g.call(this,`#${S}`)}}}),a;function l(u,h,m){if(h!==void 0&&!bb(u,h))throw f(m)}function f(u){return new Error(`reference "${u}" resolves to more than one schema`)}}_t.getSchemaRefs=Ib;Object.defineProperty(br,"__esModule",{value:!0});br.getData=br.KeywordCxt=br.validateFunctionCode=void 0;const Yg=zi,eh=$o,uf=Qr,Ia=$o,Db=rc,zs=kr,Bc=Sn,se=pe,ue=Mr,Fb=_t,Zr=Pe,Es=_o;function kb(e){if(Qg(e)&&(Zg(e),Xg(e))){Mb(e);return}Jg(e,()=>(0,Yg.topBoolOrEmptySchema)(e))}br.validateFunctionCode=kb;function Jg({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,se._)`${ue.default.data}, ${ue.default.valCxt}`,n.$async,()=>{e.code((0,se._)`"use strict"; ${th(r,i)}`),jb(e,i),e.code(s)}):e.func(t,(0,se._)`${ue.default.data}, ${Lb(i)}`,n.$async,()=>e.code(th(r,i)).code(s))}function Lb(e){return(0,se._)`{${ue.default.instancePath}="", ${ue.default.parentData}, ${ue.default.parentDataProperty}, ${ue.default.rootData}=${ue.default.data}${e.dynamicRef?(0,se._)`, ${ue.default.dynamicAnchors}={}`:se.nil}}={}`}function jb(e,t){e.if(ue.default.valCxt,()=>{e.var(ue.default.instancePath,(0,se._)`${ue.default.valCxt}.${ue.default.instancePath}`),e.var(ue.default.parentData,(0,se._)`${ue.default.valCxt}.${ue.default.parentData}`),e.var(ue.default.parentDataProperty,(0,se._)`${ue.default.valCxt}.${ue.default.parentDataProperty}`),e.var(ue.default.rootData,(0,se._)`${ue.default.valCxt}.${ue.default.rootData}`),t.dynamicRef&&e.var(ue.default.dynamicAnchors,(0,se._)`${ue.default.valCxt}.${ue.default.dynamicAnchors}`)},()=>{e.var(ue.default.instancePath,(0,se._)`""`),e.var(ue.default.parentData,(0,se._)`undefined`),e.var(ue.default.parentDataProperty,(0,se._)`undefined`),e.var(ue.default.rootData,ue.default.data),t.dynamicRef&&e.var(ue.default.dynamicAnchors,(0,se._)`{}`)})}function Mb(e){const{schema:t,opts:r,gen:n}=e;Jg(e,()=>{r.$comment&&t.$comment&&ty(e),Bb(e),n.let(ue.default.vErrors,null),n.let(ue.default.errors,0),r.unevaluated&&Ub(e),ey(e),Gb(e)})}function Ub(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,se._)`${r}.evaluated`),t.if((0,se._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,se._)`${e.evaluated}.props`,(0,se._)`undefined`)),t.if((0,se._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,se._)`${e.evaluated}.items`,(0,se._)`undefined`))}function th(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,se._)`/*# sourceURL=${r} */`:se.nil}function xb(e,t){if(Qg(e)&&(Zg(e),Xg(e))){qb(e,t);return}(0,Yg.boolOrEmptySchema)(e,t)}function Xg({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Qg(e){return typeof e.schema!="boolean"}function qb(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&ty(e),zb(e),Hb(e);const s=n.const("_errs",ue.default.errors);ey(e,s),n.var(t,(0,se._)`${s} === ${ue.default.errors}`)}function Zg(e){(0,Zr.checkUnknownRules)(e),Vb(e)}function ey(e,t){if(e.opts.jtd)return rh(e,[],!1,t);const r=(0,eh.getSchemaTypes)(e.schema),n=(0,eh.coerceAndCheckDataType)(e,r);rh(e,r,!n,t)}function Vb(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Zr.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Bb(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Zr.checkStrictMode)(e,"default is ignored in the schema root")}function zb(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Fb.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Hb(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ty({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,se._)`${ue.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,se.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,se._)`${ue.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function Gb(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,se._)`${ue.default.errors} === 0`,()=>t.return(ue.default.data),()=>t.throw((0,se._)`new ${i}(${ue.default.vErrors})`)):(t.assign((0,se._)`${n}.errors`,ue.default.vErrors),s.unevaluated&&Wb(e),t.return((0,se._)`${ue.default.errors} === 0`))}function Wb({gen:e,evaluated:t,props:r,items:n}){r instanceof se.Name&&e.assign((0,se._)`${t}.props`,r),n instanceof se.Name&&e.assign((0,se._)`${t}.items`,n)}function rh(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:a,opts:c,self:l}=e,{RULES:f}=l;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,Zr.schemaHasRulesButRef)(s,f))){i.block(()=>iy(e,"$ref",f.all.$ref.definition));return}c.jtd||Kb(e,t),i.block(()=>{for(const h of f.rules)u(h);u(f.post)});function u(h){(0,uf.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Ia.checkDataType)(h.type,o,c.strictNumbers)),nh(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Ia.reportTypeError)(e)),i.endIf()):nh(e,h),a||i.if((0,se._)`${ue.default.errors} === ${n||0}`))}}function nh(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,Db.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,uf.shouldUseRule)(n,s)&&iy(e,s.keyword,s.definition,t.type)})}function Kb(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Yb(e,t),e.opts.allowUnionTypes||Jb(e,t),Xb(e,e.dataTypes))}function Yb(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{ry(e.dataTypes,r)||ff(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Zb(e,t)}}function Jb(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ff(e,"use allowUnionTypes to allow union type keyword")}function Xb(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,uf.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>Qb(t,o))&&ff(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function Qb(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function ry(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Zb(e,t){const r=[];for(const n of e.dataTypes)ry(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function ff(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Zr.checkStrictMode)(e,t,e.opts.strictTypes)}class ny{constructor(t,r,n){if((0,zs.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Zr.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",sy(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,zs.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ue.default.errors))}result(t,r,n){this.failResult((0,se.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,se.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,se._)`${r} !== undefined && (${(0,se.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Es.reportExtraError:Es.reportError)(this,this.def.error,r)}$dataError(){(0,Es.reportError)(this,this.def.$dataError||Es.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Es.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=se.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=se.nil,r=se.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,se.or)((0,se._)`${i} === undefined`,r)),t!==se.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==se.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,se.or)(o(),a());function o(){if(n.length){if(!(r instanceof se.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,se._)`${(0,Ia.checkDataTypes)(c,r,s.opts.strictNumbers,Ia.DataType.Wrong)}`}return se.nil}function a(){if(i.validateSchema){const c=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,se._)`!${c}(${r})`}return se.nil}}subschema(t,r){const n=(0,Bc.getSubschema)(this.it,t);(0,Bc.extendSubschemaData)(n,this.it,t),(0,Bc.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return xb(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Zr.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Zr.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,se.Name)),!0}}br.KeywordCxt=ny;function iy(e,t,r,n){const i=new ny(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,zs.funcKeywordCode)(i,r):"macro"in r?(0,zs.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,zs.funcKeywordCode)(i,r)}const e1=/^\/(?:[^~]|~0|~1)*$/,t1=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function sy(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return ue.default.rootData;if(e[0]==="/"){if(!e1.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=ue.default.rootData}else{const l=t1.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+l[1];if(i=l[2],i==="#"){if(f>=t)throw new Error(c("property/index",f));return n[t-f]}if(f>t)throw new Error(c("data",f));if(s=r[t-f],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,se._)`${s}${(0,se.getProperty)((0,Zr.unescapeJsonPointer)(l))}`,o=(0,se._)`${o} && ${s}`);return o;function c(l,f){return`Cannot access ${l} ${f} levels up, current level is ${t}`}}br.getData=sy;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});class r1 extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Eo.default=r1;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});const zc=_t;class n1 extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,zc.resolveUrl)(t,r,n),this.missingSchema=(0,zc.normalizeId)((0,zc.getFullPath)(t,this.missingRef))}}wo.default=n1;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.resolveSchema=Kt.getCompilingSchema=Kt.resolveRef=Kt.compileSchema=Kt.SchemaEnv=void 0;const gr=pe,i1=Eo,Ln=Mr,wr=_t,ih=Pe,s1=br;class nc{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,wr.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Kt.SchemaEnv=nc;function df(e){const t=oy.call(this,e);if(t)return t;const r=(0,wr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new gr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:i1.default,code:(0,gr._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const l={gen:o,allErrors:this.opts.allErrors,data:Ln.default.data,parentData:Ln.default.parentData,parentDataProperty:Ln.default.parentDataProperty,dataNames:[Ln.default.data],dataPathArr:[gr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,gr.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:gr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,gr._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,s1.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const u=o.toString();f=`${o.scopeRefs(Ln.default.scope)}return ${u}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const m=new Function(`${Ln.default.self}`,`${Ln.default.scope}`,f)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:u,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:E}=l;m.evaluated={props:y instanceof gr.Name?void 0:y,items:E instanceof gr.Name?void 0:E,dynamicProps:y instanceof gr.Name,dynamicItems:E instanceof gr.Name},m.source&&(m.source.evaluated=(0,gr.stringify)(m.evaluated))}return e.validate=m,e}catch(u){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),u}finally{this._compilations.delete(e)}}Kt.compileSchema=df;function o1(e,t,r){var n;r=(0,wr.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=l1.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new nc({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=a1.call(this,s)}Kt.resolveRef=o1;function a1(e){return(0,wr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:df.call(this,e)}function oy(e){for(const t of this._compilations)if(c1(t,e))return t}Kt.getCompilingSchema=oy;function c1(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function l1(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ic.call(this,e,t)}function ic(e,t){const r=this.opts.uriResolver.parse(t),n=(0,wr._getFullPath)(this.opts.uriResolver,r);let i=(0,wr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Hc.call(this,r,e);const s=(0,wr.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=ic.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:Hc.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||df.call(this,o),s===(0,wr.normalizeId)(t)){const{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(i=(0,wr.resolveUrl)(this.opts.uriResolver,i,l)),new nc({schema:a,schemaId:c,root:e,baseId:i})}return Hc.call(this,r,o)}}Kt.resolveSchema=ic;const u1=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Hc(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,ih.unescapeFragment)(a)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!u1.has(a)&&l&&(t=(0,wr.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,ih.schemaHasRulesButRef)(r,this.RULES)){const a=(0,wr.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=ic.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new nc({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const f1="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",d1="Meta-schema for $data reference (JSON AnySchema extension proposal)",h1="object",p1=["$data"],m1={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},g1=!1,y1={$id:f1,description:d1,type:h1,required:p1,properties:m1,additionalProperties:g1};var hf={};Object.defineProperty(hf,"__esModule",{value:!0});const ay=bg;ay.code='require("ajv/dist/runtime/uri").default';hf.default=ay;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=br;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=pe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Eo,i=wo,s=ii,o=Kt,a=pe,c=_t,l=$o,f=Pe,u=y1,h=hf,m=(A,w)=>new RegExp(A,w);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function S(A){var w,R,C,d,$,L,P,_,z,U,te,fe,Se,De,qe,ke,Ne,Ye,xt,At,Ct,at,rt,tr,ur;const Nt=A.strict,qt=(w=A.code)===null||w===void 0?void 0:w.optimize,fr=qt===!0||qt===void 0?1:qt||0,lt=(C=(R=A.code)===null||R===void 0?void 0:R.regExp)!==null&&C!==void 0?C:m,nt=(d=A.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(L=($=A.strictSchema)!==null&&$!==void 0?$:Nt)!==null&&L!==void 0?L:!0,strictNumbers:(_=(P=A.strictNumbers)!==null&&P!==void 0?P:Nt)!==null&&_!==void 0?_:!0,strictTypes:(U=(z=A.strictTypes)!==null&&z!==void 0?z:Nt)!==null&&U!==void 0?U:"log",strictTuples:(fe=(te=A.strictTuples)!==null&&te!==void 0?te:Nt)!==null&&fe!==void 0?fe:"log",strictRequired:(De=(Se=A.strictRequired)!==null&&Se!==void 0?Se:Nt)!==null&&De!==void 0?De:!1,code:A.code?{...A.code,optimize:fr,regExp:lt}:{optimize:fr,regExp:lt},loopRequired:(qe=A.loopRequired)!==null&&qe!==void 0?qe:p,loopEnum:(ke=A.loopEnum)!==null&&ke!==void 0?ke:p,meta:(Ne=A.meta)!==null&&Ne!==void 0?Ne:!0,messages:(Ye=A.messages)!==null&&Ye!==void 0?Ye:!0,inlineRefs:(xt=A.inlineRefs)!==null&&xt!==void 0?xt:!0,schemaId:(At=A.schemaId)!==null&&At!==void 0?At:"$id",addUsedSchema:(Ct=A.addUsedSchema)!==null&&Ct!==void 0?Ct:!0,validateSchema:(at=A.validateSchema)!==null&&at!==void 0?at:!0,validateFormats:(rt=A.validateFormats)!==null&&rt!==void 0?rt:!0,unicodeRegExp:(tr=A.unicodeRegExp)!==null&&tr!==void 0?tr:!0,int32range:(ur=A.int32range)!==null&&ur!==void 0?ur:!0,uriResolver:nt}}class N{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...S(w)};const{es5:R,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:R,lines:C}),this.logger=H(w.logger);const d=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,w,"NOT SUPPORTED"),M.call(this,g,w,"DEPRECATED","warn"),this._metaOpts=V.call(this),w.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&O.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),b.call(this),w.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:R,schemaId:C}=this.opts;let d=u;C==="id"&&(d={...u},d.id=d.$id,delete d.$id),R&&w&&this.addMetaSchema(d,d[C],!1)}defaultMeta(){const{meta:w,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[R]||w:void 0}validate(w,R){let C;if(typeof w=="string"){if(C=this.getSchema(w),!C)throw new Error(`no schema with key or ref "${w}"`)}else C=this.compile(w);const d=C(R);return"$async"in C||(this.errors=C.errors),d}compile(w,R){const C=this._addSchema(w,R);return C.validate||this._compileSchemaEnv(C)}compileAsync(w,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return d.call(this,w,R);async function d(U,te){await $.call(this,U.$schema);const fe=this._addSchema(U,te);return fe.validate||L.call(this,fe)}async function $(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function L(U){try{return this._compileSchemaEnv(U)}catch(te){if(!(te instanceof i.default))throw te;return P.call(this,te),await _.call(this,te.missingSchema),L.call(this,U)}}function P({missingSchema:U,missingRef:te}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${te} cannot be resolved`)}async function _(U){const te=await z.call(this,U);this.refs[U]||await $.call(this,te.$schema),this.refs[U]||this.addSchema(te,U,R)}async function z(U){const te=this._loading[U];if(te)return te;try{return await(this._loading[U]=C(U))}finally{delete this._loading[U]}}}addSchema(w,R,C,d=this.opts.validateSchema){if(Array.isArray(w)){for(const L of w)this.addSchema(L,void 0,C,d);return this}let $;if(typeof w=="object"){const{schemaId:L}=this.opts;if($=w[L],$!==void 0&&typeof $!="string")throw new Error(`schema ${L} must be string`)}return R=(0,c.normalizeId)(R||$),this._checkUnique(R),this.schemas[R]=this._addSchema(w,C,R,d,!0),this}addMetaSchema(w,R,C=this.opts.validateSchema){return this.addSchema(w,R,!0,C),this}validateSchema(w,R){if(typeof w=="boolean")return!0;let C;if(C=w.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(C,w);if(!d&&R){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return d}getSchema(w){let R;for(;typeof(R=T.call(this,w))=="string";)w=R;if(R===void 0){const{schemaId:C}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:C});if(R=o.resolveSchema.call(this,d,w),!R)return;this.refs[w]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=T.call(this,w);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const R=w;this._cache.delete(R);let C=w[this.opts.schemaId];return C&&(C=(0,c.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const R of w)this.addKeyword(R);return this}addKeyword(w,R){let C;if(typeof w=="string")C=w,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=C);else if(typeof w=="object"&&R===void 0){if(R=w,C=R.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,C,R),!R)return(0,f.eachItem)(C,$=>Q.call(this,$)),this;K.call(this,R);const d={...R,type:(0,l.getJSONTypes)(R.type),schemaType:(0,l.getJSONTypes)(R.schemaType)};return(0,f.eachItem)(C,d.type.length===0?$=>Q.call(this,$,d):$=>d.type.forEach(L=>Q.call(this,$,d,L))),this}getKeyword(w){const R=this.RULES.all[w];return typeof R=="object"?R.definition:!!R}removeKeyword(w){const{RULES:R}=this;delete R.keywords[w],delete R.all[w];for(const C of R.rules){const d=C.rules.findIndex($=>$.keyword===w);d>=0&&C.rules.splice(d,1)}return this}addFormat(w,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[w]=R,this}errorsText(w=this.errors,{separator:R=", ",dataVar:C="data"}={}){return!w||w.length===0?"No errors":w.map(d=>`${C}${d.instancePath} ${d.message}`).reduce((d,$)=>d+R+$)}$dataMetaSchema(w,R){const C=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const d of R){const $=d.split("/").slice(1);let L=w;for(const P of $)L=L[P];for(const P in C){const _=C[P];if(typeof _!="object")continue;const{$data:z}=_.definition,U=L[P];z&&U&&(L[P]=j(U))}}return w}_removeAllSchemas(w,R){for(const C in w){const d=w[C];(!R||R.test(C))&&(typeof d=="string"?delete w[C]:d&&!d.meta&&(this._cache.delete(d.schema),delete w[C]))}}_addSchema(w,R,C,d=this.opts.validateSchema,$=this.opts.addUsedSchema){let L;const{schemaId:P}=this.opts;if(typeof w=="object")L=w[P];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let _=this._cache.get(w);if(_!==void 0)return _;C=(0,c.normalizeId)(L||C);const z=c.getSchemaRefs.call(this,w,C);return _=new o.SchemaEnv({schema:w,schemaId:P,meta:R,baseId:C,localRefs:z}),this._cache.set(_.schema,_),$&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=_),d&&this.validateSchema(w,!0),_}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=R}}}e.default=N,N.ValidationError=n.default,N.MissingRefError=i.default;function M(A,w,R,C="error"){for(const d in A){const $=d;$ in w&&this.logger[C](`${R}: option ${d}. ${A[$]}`)}}function T(A){return A=(0,c.normalizeId)(A),this.schemas[A]||this.refs[A]}function b(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const w in A)this.addSchema(A[w],w)}function D(){for(const A in this.opts.formats){const w=this.opts.formats[A];w&&this.addFormat(A,w)}}function O(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in A){const R=A[w];R.keyword||(R.keyword=w),this.addKeyword(R)}}function V(){const A={...this.opts};for(const w of y)delete A[w];return A}const Y={log(){},warn(){},error(){}};function H(A){if(A===!1)return Y;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function G(A,w){const{RULES:R}=this;if((0,f.eachItem)(A,C=>{if(R.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!W.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function Q(A,w,R){var C;const d=w==null?void 0:w.post;if(R&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let L=d?$.post:$.rules.find(({type:_})=>_===R);if(L||(L={type:R,rules:[]},$.rules.push(L)),$.keywords[A]=!0,!w)return;const P={keyword:A,definition:{...w,type:(0,l.getJSONTypes)(w.type),schemaType:(0,l.getJSONTypes)(w.schemaType)}};w.before?Z.call(this,L,P,w.before):L.rules.push(P),$.all[A]=P,(C=w.implements)===null||C===void 0||C.forEach(_=>this.addKeyword(_))}function Z(A,w,R){const C=A.rules.findIndex(d=>d.keyword===R);C>=0?A.rules.splice(C,0,w):(A.rules.push(w),this.logger.warn(`rule ${R} is not defined`))}function K(A){let{metaSchema:w}=A;w!==void 0&&(A.$data&&this.opts.$data&&(w=j(w)),A.validateSchema=this.compile(w,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(A){return{anyOf:[A,I]}}})(jg);var pf={},mf={},gf={};Object.defineProperty(gf,"__esModule",{value:!0});const v1={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};gf.default=v1;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.callRef=si.getValidate=void 0;const _1=wo,sh=ye,Gt=pe,_i=Mr,oh=Kt,Jo=Pe,$1={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:c}=n,{root:l}=s;if((r==="#"||r==="#/")&&i===l.baseId)return u();const f=oh.resolveRef.call(c,l,i,r);if(f===void 0)throw new _1.default(n.opts.uriResolver,i,r);if(f instanceof oh.SchemaEnv)return h(f);return m(f);function u(){if(s===l)return _a(e,o,s,s.$async);const y=t.scopeValue("root",{ref:l});return _a(e,(0,Gt._)`${y}.validate`,l,l.$async)}function h(y){const E=cy(e,y);_a(e,E,y,y.$async)}function m(y){const E=t.scopeValue("schema",a.code.source===!0?{ref:y,code:(0,Gt.stringify)(y)}:{ref:y}),v=t.name("valid"),g=e.subschema({schema:y,dataTypes:[],schemaPath:Gt.nil,topSchemaRef:E,errSchemaPath:r},v);e.mergeEvaluated(g),e.ok(v)}}};function cy(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Gt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}si.getValidate=cy;function _a(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:c}=s,l=c.passContext?_i.default.this:Gt.nil;n?f():u();function f(){if(!a.$async)throw new Error("async schema referenced by sync schema");const y=i.let("valid");i.try(()=>{i.code((0,Gt._)`await ${(0,sh.callValidateCode)(e,t,l)}`),m(t),o||i.assign(y,!0)},E=>{i.if((0,Gt._)`!(${E} instanceof ${s.ValidationError})`,()=>i.throw(E)),h(E),o||i.assign(y,!1)}),e.ok(y)}function u(){e.result((0,sh.callValidateCode)(e,t,l),()=>m(t),()=>h(t))}function h(y){const E=(0,Gt._)`${y}.errors`;i.assign(_i.default.vErrors,(0,Gt._)`${_i.default.vErrors} === null ? ${E} : ${_i.default.vErrors}.concat(${E})`),i.assign(_i.default.errors,(0,Gt._)`${_i.default.vErrors}.length`)}function m(y){var E;if(!s.opts.unevaluated)return;const v=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Jo.mergeEvaluated.props(i,v.props,s.props));else{const g=i.var("props",(0,Gt._)`${y}.evaluated.props`);s.props=Jo.mergeEvaluated.props(i,g,s.props,Gt.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Jo.mergeEvaluated.items(i,v.items,s.items));else{const g=i.var("items",(0,Gt._)`${y}.evaluated.items`);s.items=Jo.mergeEvaluated.items(i,g,s.items,Gt.Name)}}}si.callRef=_a;si.default=$1;Object.defineProperty(mf,"__esModule",{value:!0});const E1=gf,w1=si,S1=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",E1.default,w1.default];mf.default=S1;var yf={},vf={};Object.defineProperty(vf,"__esModule",{value:!0});const Da=pe,un=Da.operators,Fa={maximum:{okStr:"<=",ok:un.LTE,fail:un.GT},minimum:{okStr:">=",ok:un.GTE,fail:un.LT},exclusiveMaximum:{okStr:"<",ok:un.LT,fail:un.GTE},exclusiveMinimum:{okStr:">",ok:un.GT,fail:un.LTE}},b1={message:({keyword:e,schemaCode:t})=>(0,Da.str)`must be ${Fa[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Da._)`{comparison: ${Fa[e].okStr}, limit: ${t}}`},P1={keyword:Object.keys(Fa),type:"number",schemaType:"number",$data:!0,error:b1,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Da._)`${r} ${Fa[t].fail} ${n} || isNaN(${r})`)}};vf.default=P1;var _f={};Object.defineProperty(_f,"__esModule",{value:!0});const Hs=pe,O1={message:({schemaCode:e})=>(0,Hs.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Hs._)`{multipleOf: ${e}}`},T1={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:O1,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Hs._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Hs._)`${o} !== parseInt(${o})`;e.fail$data((0,Hs._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};_f.default=T1;var $f={},Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});function ly(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Ef.default=ly;ly.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty($f,"__esModule",{value:!0});const Gn=pe,A1=Pe,C1=Ef,N1={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Gn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Gn._)`{limit: ${e}}`},R1={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:N1,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?Gn.operators.GT:Gn.operators.LT,o=i.opts.unicode===!1?(0,Gn._)`${r}.length`:(0,Gn._)`${(0,A1.useFunc)(e.gen,C1.default)}(${r})`;e.fail$data((0,Gn._)`${o} ${s} ${n}`)}};$f.default=R1;var wf={};Object.defineProperty(wf,"__esModule",{value:!0});const I1=ye,ka=pe,D1={message:({schemaCode:e})=>(0,ka.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,ka._)`{pattern: ${e}}`},F1={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:D1,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,ka._)`(new RegExp(${i}, ${o}))`:(0,I1.usePattern)(e,n);e.fail$data((0,ka._)`!${a}.test(${t})`)}};wf.default=F1;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});const Gs=pe,k1={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Gs.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Gs._)`{limit: ${e}}`},L1={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:k1,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Gs.operators.GT:Gs.operators.LT;e.fail$data((0,Gs._)`Object.keys(${r}).length ${i} ${n}`)}};Sf.default=L1;var bf={};Object.defineProperty(bf,"__esModule",{value:!0});const ws=ye,Ws=pe,j1=Pe,M1={message:({params:{missingProperty:e}})=>(0,Ws.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ws._)`{missingProperty: ${e}}`},U1={keyword:"required",type:"object",schemaType:"array",$data:!0,error:M1,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const c=r.length>=a.loopRequired;if(o.allErrors?l():f(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:y}=e.it;for(const E of r)if((m==null?void 0:m[E])===void 0&&!y.has(E)){const v=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${E}" is not defined at "${v}" (strictRequired)`;(0,j1.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(c||s)e.block$data(Ws.nil,u);else for(const m of r)(0,ws.checkReportMissingProp)(e,m)}function f(){const m=t.let("missing");if(c||s){const y=t.let("valid",!0);e.block$data(y,()=>h(m,y)),e.ok(y)}else t.if((0,ws.checkMissingProp)(e,r,m)),(0,ws.reportMissingProp)(e,m),t.else()}function u(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,ws.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function h(m,y){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(y,(0,ws.propertyInData)(t,i,m,a.ownProperties)),t.if((0,Ws.not)(y),()=>{e.error(),t.break()})},Ws.nil)}}};bf.default=U1;var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});const Ks=pe,x1={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Ks.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Ks._)`{limit: ${e}}`},q1={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:x1,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Ks.operators.GT:Ks.operators.LT;e.fail$data((0,Ks._)`${r}.length ${i} ${n}`)}};Pf.default=q1;var Of={},So={};Object.defineProperty(So,"__esModule",{value:!0});const uy=Qa;uy.code='require("ajv/dist/runtime/equal").default';So.default=uy;Object.defineProperty(Of,"__esModule",{value:!0});const Gc=$o,gt=pe,V1=Pe,B1=So,z1={message:({params:{i:e,j:t}})=>(0,gt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,gt._)`{i: ${e}, j: ${t}}`},H1={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:z1,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;const c=t.let("valid"),l=s.items?(0,Gc.getSchemaTypes)(s.items):[];e.block$data(c,f,(0,gt._)`${o} === false`),e.ok(c);function f(){const y=t.let("i",(0,gt._)`${r}.length`),E=t.let("j");e.setParams({i:y,j:E}),t.assign(c,!0),t.if((0,gt._)`${y} > 1`,()=>(u()?h:m)(y,E))}function u(){return l.length>0&&!l.some(y=>y==="object"||y==="array")}function h(y,E){const v=t.name("item"),g=(0,Gc.checkDataTypes)(l,v,a.opts.strictNumbers,Gc.DataType.Wrong),p=t.const("indices",(0,gt._)`{}`);t.for((0,gt._)`;${y}--;`,()=>{t.let(v,(0,gt._)`${r}[${y}]`),t.if(g,(0,gt._)`continue`),l.length>1&&t.if((0,gt._)`typeof ${v} == "string"`,(0,gt._)`${v} += "_"`),t.if((0,gt._)`typeof ${p}[${v}] == "number"`,()=>{t.assign(E,(0,gt._)`${p}[${v}]`),e.error(),t.assign(c,!1).break()}).code((0,gt._)`${p}[${v}] = ${y}`)})}function m(y,E){const v=(0,V1.useFunc)(t,B1.default),g=t.name("outer");t.label(g).for((0,gt._)`;${y}--;`,()=>t.for((0,gt._)`${E} = ${y}; ${E}--;`,()=>t.if((0,gt._)`${v}(${r}[${y}], ${r}[${E}])`,()=>{e.error(),t.assign(c,!1).break(g)})))}}};Of.default=H1;var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});const Vl=pe,G1=Pe,W1=So,K1={message:"must be equal to constant",params:({schemaCode:e})=>(0,Vl._)`{allowedValue: ${e}}`},Y1={keyword:"const",$data:!0,error:K1,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Vl._)`!${(0,G1.useFunc)(t,W1.default)}(${r}, ${i})`):e.fail((0,Vl._)`${s} !== ${r}`)}};Tf.default=Y1;var Af={};Object.defineProperty(Af,"__esModule",{value:!0});const ks=pe,J1=Pe,X1=So,Q1={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ks._)`{allowedValues: ${e}}`},Z1={keyword:"enum",schemaType:"array",$data:!0,error:Q1,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let c;const l=()=>c??(c=(0,J1.useFunc)(t,X1.default));let f;if(a||n)f=t.let("valid"),e.block$data(f,u);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);f=(0,ks.or)(...i.map((y,E)=>h(m,E)))}e.pass(f);function u(){t.assign(f,!1),t.forOf("v",s,m=>t.if((0,ks._)`${l()}(${r}, ${m})`,()=>t.assign(f,!0).break()))}function h(m,y){const E=i[y];return typeof E=="object"&&E!==null?(0,ks._)`${l()}(${r}, ${m}[${y}])`:(0,ks._)`${r} === ${E}`}}};Af.default=Z1;Object.defineProperty(yf,"__esModule",{value:!0});const eP=vf,tP=_f,rP=$f,nP=wf,iP=Sf,sP=bf,oP=Pf,aP=Of,cP=Tf,lP=Af,uP=[eP.default,tP.default,rP.default,nP.default,iP.default,sP.default,oP.default,aP.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},cP.default,lP.default];yf.default=uP;var Cf={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.validateAdditionalItems=void 0;const Wn=pe,Bl=Pe,fP={message:({params:{len:e}})=>(0,Wn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Wn._)`{limit: ${e}}`},dP={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:fP,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Bl.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}fy(e,n)}};function fy(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,Wn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Wn._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,Bl.alwaysValidSchema)(o,n)){const l=r.var("valid",(0,Wn._)`${a} <= ${t.length}`);r.if((0,Wn.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,a,f=>{e.subschema({keyword:s,dataProp:f,dataPropType:Bl.Type.Num},l),o.allErrors||r.if((0,Wn.not)(l),()=>r.break())})}}ss.validateAdditionalItems=fy;ss.default=dP;var Nf={},os={};Object.defineProperty(os,"__esModule",{value:!0});os.validateTuple=void 0;const ah=pe,$a=Pe,hP=ye,pP={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return dy(e,"additionalItems",t);r.items=!0,!(0,$a.alwaysValidSchema)(r,t)&&e.ok((0,hP.validateArray)(e))}};function dy(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;f(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=$a.mergeEvaluated.items(n,r.length,a.items));const c=n.name("valid"),l=n.const("len",(0,ah._)`${s}.length`);r.forEach((u,h)=>{(0,$a.alwaysValidSchema)(a,u)||(n.if((0,ah._)`${l} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},c)),e.ok(c))});function f(u){const{opts:h,errSchemaPath:m}=a,y=r.length,E=y===u.minItems&&(y===u.maxItems||u[t]===!1);if(h.strictTuples&&!E){const v=`"${o}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,$a.checkStrictMode)(a,v,h.strictTuples)}}}os.validateTuple=dy;os.default=pP;Object.defineProperty(Nf,"__esModule",{value:!0});const mP=os,gP={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,mP.validateTuple)(e,"items")};Nf.default=gP;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});const ch=pe,yP=Pe,vP=ye,_P=ss,$P={message:({params:{len:e}})=>(0,ch.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ch._)`{limit: ${e}}`},EP={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:$P,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,yP.alwaysValidSchema)(n,t)&&(i?(0,_P.validateAdditionalItems)(e,i):e.ok((0,vP.validateArray)(e)))}};Rf.default=EP;var If={};Object.defineProperty(If,"__esModule",{value:!0});const lr=pe,Xo=Pe,wP={message:({params:{min:e,max:t}})=>t===void 0?(0,lr.str)`must contain at least ${e} valid item(s)`:(0,lr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,lr._)`{minContains: ${e}}`:(0,lr._)`{minContains: ${e}, maxContains: ${t}}`},SP={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:wP,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,a;const{minContains:c,maxContains:l}=n;s.opts.next?(o=c===void 0?1:c,a=l):o=1;const f=t.const("len",(0,lr._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Xo.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Xo.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Xo.alwaysValidSchema)(s,r)){let E=(0,lr._)`${f} >= ${o}`;a!==void 0&&(E=(0,lr._)`${E} && ${f} <= ${a}`),e.pass(E);return}s.items=!0;const u=t.name("valid");a===void 0&&o===1?m(u,()=>t.if(u,()=>t.break())):o===0?(t.let(u,!0),a!==void 0&&t.if((0,lr._)`${i}.length > 0`,h)):(t.let(u,!1),h()),e.result(u,()=>e.reset());function h(){const E=t.name("_valid"),v=t.let("count",0);m(E,()=>t.if(E,()=>y(v)))}function m(E,v){t.forRange("i",0,f,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:Xo.Type.Num,compositeRule:!0},E),v()})}function y(E){t.code((0,lr._)`${E}++`),a===void 0?t.if((0,lr._)`${E} >= ${o}`,()=>t.assign(u,!0).break()):(t.if((0,lr._)`${E} > ${a}`,()=>t.assign(u,!1).break()),o===1?t.assign(u,!0):t.if((0,lr._)`${E} >= ${o}`,()=>t.assign(u,!0)))}}};If.default=SP;var hy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=pe,r=Pe,n=ye;e.error={message:({params:{property:c,depsCount:l,deps:f}})=>{const u=l===1?"property":"properties";return(0,t.str)`must have ${u} ${f} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:f,missingProperty:u}})=>(0,t._)`{property: ${c},
    missingProperty: ${u},
    depsCount: ${l},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,f]=s(c);o(c,l),a(c,f)}};function s({schema:c}){const l={},f={};for(const u in c){if(u==="__proto__")continue;const h=Array.isArray(c[u])?l:f;h[u]=c[u]}return[l,f]}function o(c,l=c.schema){const{gen:f,data:u,it:h}=c;if(Object.keys(l).length===0)return;const m=f.let("missing");for(const y in l){const E=l[y];if(E.length===0)continue;const v=(0,n.propertyInData)(f,u,y,h.opts.ownProperties);c.setParams({property:y,depsCount:E.length,deps:E.join(", ")}),h.allErrors?f.if(v,()=>{for(const g of E)(0,n.checkReportMissingProp)(c,g)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(c,E,m)})`),(0,n.reportMissingProp)(c,m),f.else())}}e.validatePropertyDeps=o;function a(c,l=c.schema){const{gen:f,data:u,keyword:h,it:m}=c,y=f.name("valid");for(const E in l)(0,r.alwaysValidSchema)(m,l[E])||(f.if((0,n.propertyInData)(f,u,E,m.opts.ownProperties),()=>{const v=c.subschema({keyword:h,schemaProp:E},y);c.mergeValidEvaluated(v,y)},()=>f.var(y,!0)),c.ok(y))}e.validateSchemaDeps=a,e.default=i})(hy);var Df={};Object.defineProperty(Df,"__esModule",{value:!0});const py=pe,bP=Pe,PP={message:"property name must be valid",params:({params:e})=>(0,py._)`{propertyName: ${e.propertyName}}`},OP={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:PP,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,bP.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,py.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Df.default=OP;var sc={};Object.defineProperty(sc,"__esModule",{value:!0});const Qo=ye,vr=pe,TP=Mr,Zo=Pe,AP={message:"must NOT have additional properties",params:({params:e})=>(0,vr._)`{additionalProperty: ${e.additionalProperty}}`},CP={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:AP,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Zo.alwaysValidSchema)(o,r))return;const l=(0,Qo.allSchemaProperties)(n.properties),f=(0,Qo.allSchemaProperties)(n.patternProperties);u(),e.ok((0,vr._)`${s} === ${TP.default.errors}`);function u(){t.forIn("key",i,v=>{!l.length&&!f.length?y(v):t.if(h(v),()=>y(v))})}function h(v){let g;if(l.length>8){const p=(0,Zo.schemaRefOrVal)(o,n.properties,"properties");g=(0,Qo.isOwnProperty)(t,p,v)}else l.length?g=(0,vr.or)(...l.map(p=>(0,vr._)`${v} === ${p}`)):g=vr.nil;return f.length&&(g=(0,vr.or)(g,...f.map(p=>(0,vr._)`${(0,Qo.usePattern)(e,p)}.test(${v})`))),(0,vr.not)(g)}function m(v){t.code((0,vr._)`delete ${i}[${v}]`)}function y(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Zo.alwaysValidSchema)(o,r)){const g=t.name("valid");c.removeAdditional==="failing"?(E(v,g,!1),t.if((0,vr.not)(g),()=>{e.reset(),m(v)})):(E(v,g),a||t.if((0,vr.not)(g),()=>t.break()))}}function E(v,g,p){const S={keyword:"additionalProperties",dataProp:v,dataPropType:Zo.Type.Str};p===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,g)}}};sc.default=CP;var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});const NP=br,lh=ye,Wc=Pe,uh=sc,RP={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&uh.default.code(new NP.KeywordCxt(s,uh.default,"additionalProperties"));const o=(0,lh.allSchemaProperties)(r);for(const u of o)s.definedProperties.add(u);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Wc.mergeEvaluated.props(t,(0,Wc.toHash)(o),s.props));const a=o.filter(u=>!(0,Wc.alwaysValidSchema)(s,r[u]));if(a.length===0)return;const c=t.name("valid");for(const u of a)l(u)?f(u):(t.if((0,lh.propertyInData)(t,i,u,s.opts.ownProperties)),f(u),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(u),e.ok(c);function l(u){return s.opts.useDefaults&&!s.compositeRule&&r[u].default!==void 0}function f(u){e.subschema({keyword:"properties",schemaProp:u,dataProp:u},c)}}};Ff.default=RP;var kf={};Object.defineProperty(kf,"__esModule",{value:!0});const fh=ye,ea=pe,dh=Pe,hh=Pe,IP={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,fh.allSchemaProperties)(r),c=a.filter(E=>(0,dh.alwaysValidSchema)(s,r[E]));if(a.length===0||c.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,f=t.name("valid");s.props!==!0&&!(s.props instanceof ea.Name)&&(s.props=(0,hh.evaluatedPropsToName)(t,s.props));const{props:u}=s;h();function h(){for(const E of a)l&&m(E),s.allErrors?y(E):(t.var(f,!0),y(E),t.if(f))}function m(E){for(const v in l)new RegExp(E).test(v)&&(0,dh.checkStrictMode)(s,`property ${v} matches pattern ${E} (use allowMatchingProperties)`)}function y(E){t.forIn("key",n,v=>{t.if((0,ea._)`${(0,fh.usePattern)(e,E)}.test(${v})`,()=>{const g=c.includes(E);g||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:v,dataPropType:hh.Type.Str},f),s.opts.unevaluated&&u!==!0?t.assign((0,ea._)`${u}[${v}]`,!0):!g&&!s.allErrors&&t.if((0,ea.not)(f),()=>t.break())})})}}};kf.default=IP;var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});const DP=Pe,FP={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,DP.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Lf.default=FP;var jf={};Object.defineProperty(jf,"__esModule",{value:!0});const kP=ye,LP={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:kP.validateUnion,error:{message:"must match a schema in anyOf"}};jf.default=LP;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});const Ea=pe,jP=Pe,MP={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Ea._)`{passingSchemas: ${e.passing}}`},UP={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:MP,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((f,u)=>{let h;(0,jP.alwaysValidSchema)(i,f)?t.var(c,!0):h=e.subschema({keyword:"oneOf",schemaProp:u,compositeRule:!0},c),u>0&&t.if((0,Ea._)`${c} && ${o}`).assign(o,!1).assign(a,(0,Ea._)`[${a}, ${u}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(a,u),h&&e.mergeEvaluated(h,Ea.Name)})})}}};Mf.default=UP;var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});const xP=Pe,qP={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,xP.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};Uf.default=qP;var xf={};Object.defineProperty(xf,"__esModule",{value:!0});const La=pe,my=Pe,VP={message:({params:e})=>(0,La.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,La._)`{failingKeyword: ${e.ifClause}}`},BP={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:VP,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,my.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=ph(n,"then"),s=ph(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),i&&s){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(a,l("then",f),l("else",f))}else i?t.if(a,l("then")):t.if((0,La.not)(a),l("else"));e.pass(o,()=>e.error(!0));function c(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(f)}function l(f,u){return()=>{const h=e.subschema({keyword:f},a);t.assign(o,a),e.mergeValidEvaluated(h,o),u?t.assign(u,(0,La._)`${f}`):e.setParams({ifClause:f})}}}};function ph(e,t){const r=e.schema[t];return r!==void 0&&!(0,my.alwaysValidSchema)(e,r)}xf.default=BP;var qf={};Object.defineProperty(qf,"__esModule",{value:!0});const zP=Pe,HP={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,zP.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};qf.default=HP;Object.defineProperty(Cf,"__esModule",{value:!0});const GP=ss,WP=Nf,KP=os,YP=Rf,JP=If,XP=hy,QP=Df,ZP=sc,eO=Ff,tO=kf,rO=Lf,nO=jf,iO=Mf,sO=Uf,oO=xf,aO=qf;function cO(e=!1){const t=[rO.default,nO.default,iO.default,sO.default,oO.default,aO.default,QP.default,ZP.default,XP.default,eO.default,tO.default];return e?t.push(WP.default,YP.default):t.push(GP.default,KP.default),t.push(JP.default),t}Cf.default=cO;var Vf={},Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});const tt=pe,lO={message:({schemaCode:e})=>(0,tt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,tt._)`{format: ${e}}`},uO={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:lO,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:c,errSchemaPath:l,schemaEnv:f,self:u}=a;if(!c.validateFormats)return;i?h():m();function h(){const y=r.scopeValue("formats",{ref:u.formats,code:c.code.formats}),E=r.const("fDef",(0,tt._)`${y}[${o}]`),v=r.let("fType"),g=r.let("format");r.if((0,tt._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(v,(0,tt._)`${E}.type || "string"`).assign(g,(0,tt._)`${E}.validate`),()=>r.assign(v,(0,tt._)`"string"`).assign(g,E)),e.fail$data((0,tt.or)(p(),S()));function p(){return c.strictSchema===!1?tt.nil:(0,tt._)`${o} && !${g}`}function S(){const N=f.$async?(0,tt._)`(${E}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,tt._)`${g}(${n})`,M=(0,tt._)`(typeof ${g} == "function" ? ${N} : ${g}.test(${n}))`;return(0,tt._)`${g} && ${g} !== true && ${v} === ${t} && !${M}`}}function m(){const y=u.formats[s];if(!y){p();return}if(y===!0)return;const[E,v,g]=S(y);E===t&&e.pass(N());function p(){if(c.strictSchema===!1){u.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function S(M){const T=M instanceof RegExp?(0,tt.regexpCode)(M):c.code.formats?(0,tt._)`${c.code.formats}${(0,tt.getProperty)(s)}`:void 0,b=r.scopeValue("formats",{key:s,ref:M,code:T});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,tt._)`${b}.validate`]:["string",M,b]}function N(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!f.$async)throw new Error("async format in sync schema");return(0,tt._)`await ${g}(${n})`}return typeof v=="function"?(0,tt._)`${g}(${n})`:(0,tt._)`${g}.test(${n})`}}}};Bf.default=uO;Object.defineProperty(Vf,"__esModule",{value:!0});const fO=Bf,dO=[fO.default];Vf.default=dO;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.contentVocabulary=Hi.metadataVocabulary=void 0;Hi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Hi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(pf,"__esModule",{value:!0});const hO=mf,pO=yf,mO=Cf,gO=Vf,mh=Hi,yO=[hO.default,pO.default,(0,mO.default)(),gO.default,mh.metadataVocabulary,mh.contentVocabulary];pf.default=yO;var zf={},gy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(gy);Object.defineProperty(zf,"__esModule",{value:!0});const Ai=pe,zl=gy,gh=Kt,vO=Pe,_O={message:({params:{discrError:e,tagName:t}})=>e===zl.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ai._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},$O={keyword:"discriminator",type:"object",schemaType:"object",error:_O,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",(0,Ai._)`${r}${(0,Ai.getProperty)(a)}`);t.if((0,Ai._)`typeof ${l} == "string"`,()=>f(),()=>e.error(!1,{discrError:zl.DiscrError.Tag,tag:l,tagName:a})),e.ok(c);function f(){const m=h();t.if(!1);for(const y in m)t.elseIf((0,Ai._)`${l} === ${y}`),t.assign(c,u(m[y]));t.else(),e.error(!1,{discrError:zl.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function u(m){const y=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:m},y);return e.mergeEvaluated(E,Ai.Name),y}function h(){var m;const y={},E=g(i);let v=!0;for(let N=0;N<o.length;N++){let M=o[N];M!=null&&M.$ref&&!(0,vO.schemaHasRulesButRef)(M,s.self.RULES)&&(M=gh.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,M==null?void 0:M.$ref),M instanceof gh.SchemaEnv&&(M=M.schema));const T=(m=M==null?void 0:M.properties)===null||m===void 0?void 0:m[a];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(E||g(M)),p(T,N)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return y;function g({required:N}){return Array.isArray(N)&&N.includes(a)}function p(N,M){if(N.const)S(N.const,M);else if(N.enum)for(const T of N.enum)S(T,M);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(N,M){if(typeof N!="string"||N in y)throw new Error(`discriminator: "${a}" values must be unique strings`);y[N]=M}}}};zf.default=$O;const EO="http://json-schema.org/draft-07/schema#",wO="http://json-schema.org/draft-07/schema#",SO="Core schema meta-schema",bO={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},PO=["object","boolean"],OO={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},TO={$schema:EO,$id:wO,title:SO,definitions:bO,type:PO,properties:OO,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=jg,n=pf,i=zf,s=TO,o=["/properties"],a="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(y,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=br;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var f=pe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var u=Eo;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return u.default}});var h=wo;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Ul,Ul.exports);var AO=Ul.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=AO,r=pe,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:a,schemaCode:c})=>r.str`should be ${i[a].okStr} ${c}`,params:({keyword:a,schemaCode:c})=>r._`{comparison: ${i[a].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(a){const{gen:c,data:l,schemaCode:f,keyword:u,it:h}=a,{opts:m,self:y}=h;if(!m.validateFormats)return;const E=new t.KeywordCxt(h,y.RULES.all.format.definition,"format");E.$data?v():g();function v(){const S=c.scopeValue("formats",{ref:y.formats,code:m.code.formats}),N=c.const("fmt",r._`${S}[${E.schemaCode}]`);a.fail$data(r.or(r._`typeof ${N} != "object"`,r._`${N} instanceof RegExp`,r._`typeof ${N}.compare != "function"`,p(N)))}function g(){const S=E.schema,N=y.formats[S];if(!N||N===!0)return;if(typeof N!="object"||N instanceof RegExp||typeof N.compare!="function")throw new Error(`"${u}": format "${S}" does not define "compare" function`);const M=c.scopeValue("formats",{key:S,ref:N,code:m.code.formats?r._`${m.code.formats}${r.getProperty(S)}`:void 0});a.fail$data(p(M))}function p(S){return r._`${S}.compare(${l}, ${f}) ${i[u].fail} 0`}},dependencies:["format"]};const o=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=o})(Lg);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=kg,n=Lg,i=pe,s=new i.Name("fullFormats"),o=new i.Name("fastFormats"),a=(l,f={keywords:!0})=>{if(Array.isArray(f))return c(l,f,r.fullFormats,s),l;const[u,h]=f.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],m=f.formats||r.formatNames;return c(l,m,u,h),f.keywords&&n.default(l),l};a.get=(l,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[l];if(!h)throw new Error(`Unknown format "${l}"`);return h};function c(l,f,u,h){var m,y;(m=(y=l.opts.code).formats)!==null&&m!==void 0||(y.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const E of f)l.addFormat(E,u[E])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(Ml,Ml.exports);var CO=Ml.exports;const NO=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!RO(i,s)&&n||Object.defineProperty(e,r,s)},RO=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},IO=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},DO=(e,t)=>`/* Wrapped ${e}*/
${t}`,FO=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),kO=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),LO=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=DO.bind(null,n,t.toString());Object.defineProperty(i,"name",kO),Object.defineProperty(e,"toString",{...FO,value:i})},jO=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const i of Reflect.ownKeys(t))NO(e,t,i,r);return IO(e,t),LO(e,t,n),e};var MO=jO;const UO=MO;var xO=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:i=!0}=t;if(!n&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,o;const a=function(...c){const l=this,f=()=>{s=void 0,i&&(o=e.apply(l,c))},u=n&&!s;return clearTimeout(s),s=setTimeout(f,r),u&&(o=e.apply(l,c)),o};return UO(a,e),a.cancel=()=>{s&&(clearTimeout(s),s=void 0)},a},Hl={exports:{}};const qO="2.0.0",yy=256,VO=Number.MAX_SAFE_INTEGER||9007199254740991,BO=16,zO=yy-6,HO=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var oc={MAX_LENGTH:yy,MAX_SAFE_COMPONENT_LENGTH:BO,MAX_SAFE_BUILD_LENGTH:zO,MAX_SAFE_INTEGER:VO,RELEASE_TYPES:HO,SEMVER_SPEC_VERSION:qO,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const GO=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ac=GO;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=oc,s=ac;t=e.exports={};const o=t.re=[],a=t.safeRe=[],c=t.src=[],l=t.t={};let f=0;const u="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[u,n]],m=E=>{for(const[v,g]of h)E=E.split(`${v}*`).join(`${v}{0,${g}}`).split(`${v}+`).join(`${v}{1,${g}}`);return E},y=(E,v,g)=>{const p=m(v),S=f++;s(E,S,v),l[E]=S,c[S]=v,o[S]=new RegExp(v,g?"g":void 0),a[S]=new RegExp(p,g?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${u}*`),y("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),y("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${u}+`),y("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),y("FULL",`^${c[l.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),y("LOOSE",`^${c[l.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),y("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),y("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",c[l.COERCE],!0),y("COERCERTLFULL",c[l.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Hl,Hl.exports);var bo=Hl.exports;const WO=Object.freeze({loose:!0}),KO=Object.freeze({}),YO=e=>e?typeof e!="object"?WO:e:KO;var Hf=YO;const yh=/^[0-9]+$/,vy=(e,t)=>{const r=yh.test(e),n=yh.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},JO=(e,t)=>vy(t,e);var _y={compareIdentifiers:vy,rcompareIdentifiers:JO};const ta=ac,{MAX_LENGTH:vh,MAX_SAFE_INTEGER:ra}=oc,{safeRe:_h,t:$h}=bo,XO=Hf,{compareIdentifiers:$i}=_y;let QO=class Cr{constructor(t,r){if(r=XO(r),t instanceof Cr){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>vh)throw new TypeError(`version is longer than ${vh} characters`);ta("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?_h[$h.LOOSE]:_h[$h.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ra||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ra||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ra||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<ra)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ta("SemVer.compare",this.version,this.options,t),!(t instanceof Cr)){if(typeof t=="string"&&t===this.version)return 0;t=new Cr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Cr||(t=new Cr(t,this.options)),$i(this.major,t.major)||$i(this.minor,t.minor)||$i(this.patch,t.patch)}comparePre(t){if(t instanceof Cr||(t=new Cr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(ta("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return $i(n,i)}while(++r)}compareBuild(t){t instanceof Cr||(t=new Cr(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(ta("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return $i(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),$i(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Lt=QO;const Eh=Lt,ZO=(e,t,r=!1)=>{if(e instanceof Eh)return e;try{return new Eh(e,t)}catch(n){if(!r)return null;throw n}};var as=ZO;const eT=as,tT=(e,t)=>{const r=eT(e,t);return r?r.version:null};var rT=tT;const nT=as,iT=(e,t)=>{const r=nT(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var sT=iT;const wh=Lt,oT=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new wh(e instanceof wh?e.version:e,r).inc(t,n,i).version}catch{return null}};var aT=oT;const Sh=as,cT=(e,t)=>{const r=Sh(e,null,!0),n=Sh(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"};var lT=cT;const uT=Lt,fT=(e,t)=>new uT(e,t).major;var dT=fT;const hT=Lt,pT=(e,t)=>new hT(e,t).minor;var mT=pT;const gT=Lt,yT=(e,t)=>new gT(e,t).patch;var vT=yT;const _T=as,$T=(e,t)=>{const r=_T(e,t);return r&&r.prerelease.length?r.prerelease:null};var ET=$T;const bh=Lt,wT=(e,t,r)=>new bh(e,r).compare(new bh(t,r));var Pr=wT;const ST=Pr,bT=(e,t,r)=>ST(t,e,r);var PT=bT;const OT=Pr,TT=(e,t)=>OT(e,t,!0);var AT=TT;const Ph=Lt,CT=(e,t,r)=>{const n=new Ph(e,r),i=new Ph(t,r);return n.compare(i)||n.compareBuild(i)};var Gf=CT;const NT=Gf,RT=(e,t)=>e.sort((r,n)=>NT(r,n,t));var IT=RT;const DT=Gf,FT=(e,t)=>e.sort((r,n)=>DT(n,r,t));var kT=FT;const LT=Pr,jT=(e,t,r)=>LT(e,t,r)>0;var cc=jT;const MT=Pr,UT=(e,t,r)=>MT(e,t,r)<0;var Wf=UT;const xT=Pr,qT=(e,t,r)=>xT(e,t,r)===0;var $y=qT;const VT=Pr,BT=(e,t,r)=>VT(e,t,r)!==0;var Ey=BT;const zT=Pr,HT=(e,t,r)=>zT(e,t,r)>=0;var Kf=HT;const GT=Pr,WT=(e,t,r)=>GT(e,t,r)<=0;var Yf=WT;const KT=$y,YT=Ey,JT=cc,XT=Kf,QT=Wf,ZT=Yf,eA=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return KT(e,r,n);case"!=":return YT(e,r,n);case">":return JT(e,r,n);case">=":return XT(e,r,n);case"<":return QT(e,r,n);case"<=":return ZT(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var wy=eA;const tA=Lt,rA=as,{safeRe:na,t:ia}=bo,nA=(e,t)=>{if(e instanceof tA)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?na[ia.COERCEFULL]:na[ia.COERCE]);else{const c=t.includePrerelease?na[ia.COERCERTLFULL]:na[ia.COERCERTL];let l;for(;(l=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return rA(`${n}.${i}.${s}${o}${a}`,t)};var iA=nA,Kc,Oh;function sA(){return Oh||(Oh=1,Kc=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Kc}var oA=Te;Te.Node=oi;Te.create=Te;function Te(e){var t=this;if(t instanceof Te||(t=new Te),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Te.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Te.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Te.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Te.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)cA(this,arguments[e]);return this.length};Te.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)lA(this,arguments[e]);return this.length};Te.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Te.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Te.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Te.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Te.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Te.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Te.prototype.map=function(e,t){t=t||this;for(var r=new Te,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Te.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Te,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Te.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Te.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Te.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Te.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Te.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Te;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Te.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Te;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Te.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=aA(this,i,r[n]);return s};Te.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function aA(e,t,r){var n=t===e.head?new oi(r,null,t,e):new oi(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function cA(e,t){e.tail=new oi(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function lA(e,t){e.head=new oi(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function oi(e,t,r,n){if(!(this instanceof oi))return new oi(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{sA()(Te)}catch{}const uA=oA,Kn=Symbol("max"),Yr=Symbol("length"),Ei=Symbol("lengthCalculator"),Ys=Symbol("allowStale"),Jn=Symbol("maxAge"),Wr=Symbol("dispose"),Th=Symbol("noDisposeOnSet"),dt=Symbol("lruList"),_r=Symbol("cache"),Sy=Symbol("updateAgeOnGet"),Yc=()=>1;class fA{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Kn]=t.max||1/0;const r=t.length||Yc;if(this[Ei]=typeof r!="function"?Yc:r,this[Ys]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Jn]=t.maxAge||0,this[Wr]=t.dispose,this[Th]=t.noDisposeOnSet||!1,this[Sy]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Kn]=t||1/0,Ss(this)}get max(){return this[Kn]}set allowStale(t){this[Ys]=!!t}get allowStale(){return this[Ys]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Jn]=t,Ss(this)}get maxAge(){return this[Jn]}set lengthCalculator(t){typeof t!="function"&&(t=Yc),t!==this[Ei]&&(this[Ei]=t,this[Yr]=0,this[dt].forEach(r=>{r.length=this[Ei](r.value,r.key),this[Yr]+=r.length})),Ss(this)}get lengthCalculator(){return this[Ei]}get length(){return this[Yr]}get itemCount(){return this[dt].length}rforEach(t,r){r=r||this;for(let n=this[dt].tail;n!==null;){const i=n.prev;Ah(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[dt].head;n!==null;){const i=n.next;Ah(this,t,n,r),n=i}}keys(){return this[dt].toArray().map(t=>t.key)}values(){return this[dt].toArray().map(t=>t.value)}reset(){this[Wr]&&this[dt]&&this[dt].length&&this[dt].forEach(t=>this[Wr](t.key,t.value)),this[_r]=new Map,this[dt]=new uA,this[Yr]=0}dump(){return this[dt].map(t=>ja(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[dt]}set(t,r,n){if(n=n||this[Jn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Ei](r,t);if(this[_r].has(t)){if(s>this[Kn])return Mi(this,this[_r].get(t)),!1;const c=this[_r].get(t).value;return this[Wr]&&(this[Th]||this[Wr](t,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Yr]+=s-c.length,c.length=s,this.get(t),Ss(this),!0}const o=new dA(t,r,s,i,n);return o.length>this[Kn]?(this[Wr]&&this[Wr](t,r),!1):(this[Yr]+=o.length,this[dt].unshift(o),this[_r].set(t,this[dt].head),Ss(this),!0)}has(t){if(!this[_r].has(t))return!1;const r=this[_r].get(t).value;return!ja(this,r)}get(t){return Jc(this,t,!0)}peek(t){return Jc(this,t,!1)}pop(){const t=this[dt].tail;return t?(Mi(this,t),t.value):null}del(t){Mi(this,this[_r].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[_r].forEach((t,r)=>Jc(this,r,!1))}}const Jc=(e,t,r)=>{const n=e[_r].get(t);if(n){const i=n.value;if(ja(e,i)){if(Mi(e,n),!e[Ys])return}else r&&(e[Sy]&&(n.value.now=Date.now()),e[dt].unshiftNode(n));return i.value}},ja=(e,t)=>{if(!t||!t.maxAge&&!e[Jn])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Jn]&&r>e[Jn]},Ss=e=>{if(e[Yr]>e[Kn])for(let t=e[dt].tail;e[Yr]>e[Kn]&&t!==null;){const r=t.prev;Mi(e,t),t=r}},Mi=(e,t)=>{if(t){const r=t.value;e[Wr]&&e[Wr](r.key,r.value),e[Yr]-=r.length,e[_r].delete(r.key),e[dt].removeNode(t)}};class dA{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Ah=(e,t,r,n)=>{let i=r.value;ja(e,i)&&(Mi(e,r),e[Ys]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var hA=fA,Xc,Ch;function Or(){if(Ch)return Xc;Ch=1;class e{constructor(G,Q){if(Q=n(Q),G instanceof e)return G.loose===!!Q.loose&&G.includePrerelease===!!Q.includePrerelease?G:new e(G.raw,Q);if(G instanceof i)return this.raw=G.value,this.set=[[G]],this.format(),this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=G.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(Z=>this.parseRange(Z.trim())).filter(Z=>Z.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Z=this.set[0];if(this.set=this.set.filter(K=>!y(K[0])),this.set.length===0)this.set=[Z];else if(this.set.length>1){for(const K of this.set)if(K.length===1&&E(K[0])){this.set=[K];break}}}this.format()}format(){return this.range=this.set.map(G=>G.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(G){const Z=((this.options.includePrerelease&&h)|(this.options.loose&&m))+":"+G,K=r.get(Z);if(K)return K;const I=this.options.loose,j=I?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];G=G.replace(j,Y(this.options.includePrerelease)),s("hyphen replace",G),G=G.replace(a[c.COMPARATORTRIM],l),s("comparator trim",G),G=G.replace(a[c.TILDETRIM],f),s("tilde trim",G),G=G.replace(a[c.CARETTRIM],u),s("caret trim",G);let A=G.split(" ").map(d=>g(d,this.options)).join(" ").split(/\s+/).map(d=>V(d,this.options));I&&(A=A.filter(d=>(s("loose invalid filter",d,this.options),!!d.match(a[c.COMPARATORLOOSE])))),s("range list",A);const w=new Map,R=A.map(d=>new i(d,this.options));for(const d of R){if(y(d))return[d];w.set(d.value,d)}w.size>1&&w.has("")&&w.delete("");const C=[...w.values()];return r.set(Z,C),C}intersects(G,Q){if(!(G instanceof e))throw new TypeError("a Range is required");return this.set.some(Z=>v(Z,Q)&&G.set.some(K=>v(K,Q)&&Z.every(I=>K.every(j=>I.intersects(j,Q)))))}test(G){if(!G)return!1;if(typeof G=="string")try{G=new o(G,this.options)}catch{return!1}for(let Q=0;Q<this.set.length;Q++)if(H(this.set[Q],G,this.options))return!0;return!1}}Xc=e;const t=hA,r=new t({max:1e3}),n=Hf,i=lc(),s=ac,o=Lt,{safeRe:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:f,caretTrimReplace:u}=bo,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:m}=oc,y=W=>W.value==="<0.0.0-0",E=W=>W.value==="",v=(W,G)=>{let Q=!0;const Z=W.slice();let K=Z.pop();for(;Q&&Z.length;)Q=Z.every(I=>K.intersects(I,G)),K=Z.pop();return Q},g=(W,G)=>(s("comp",W,G),W=M(W,G),s("caret",W),W=S(W,G),s("tildes",W),W=b(W,G),s("xrange",W),W=O(W,G),s("stars",W),W),p=W=>!W||W.toLowerCase()==="x"||W==="*",S=(W,G)=>W.trim().split(/\s+/).map(Q=>N(Q,G)).join(" "),N=(W,G)=>{const Q=G.loose?a[c.TILDELOOSE]:a[c.TILDE];return W.replace(Q,(Z,K,I,j,A)=>{s("tilde",W,Z,K,I,j,A);let w;return p(K)?w="":p(I)?w=`>=${K}.0.0 <${+K+1}.0.0-0`:p(j)?w=`>=${K}.${I}.0 <${K}.${+I+1}.0-0`:A?(s("replaceTilde pr",A),w=`>=${K}.${I}.${j}-${A} <${K}.${+I+1}.0-0`):w=`>=${K}.${I}.${j} <${K}.${+I+1}.0-0`,s("tilde return",w),w})},M=(W,G)=>W.trim().split(/\s+/).map(Q=>T(Q,G)).join(" "),T=(W,G)=>{s("caret",W,G);const Q=G.loose?a[c.CARETLOOSE]:a[c.CARET],Z=G.includePrerelease?"-0":"";return W.replace(Q,(K,I,j,A,w)=>{s("caret",W,K,I,j,A,w);let R;return p(I)?R="":p(j)?R=`>=${I}.0.0${Z} <${+I+1}.0.0-0`:p(A)?I==="0"?R=`>=${I}.${j}.0${Z} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.0${Z} <${+I+1}.0.0-0`:w?(s("replaceCaret pr",w),I==="0"?j==="0"?R=`>=${I}.${j}.${A}-${w} <${I}.${j}.${+A+1}-0`:R=`>=${I}.${j}.${A}-${w} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.${A}-${w} <${+I+1}.0.0-0`):(s("no pr"),I==="0"?j==="0"?R=`>=${I}.${j}.${A}${Z} <${I}.${j}.${+A+1}-0`:R=`>=${I}.${j}.${A}${Z} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.${A} <${+I+1}.0.0-0`),s("caret return",R),R})},b=(W,G)=>(s("replaceXRanges",W,G),W.split(/\s+/).map(Q=>D(Q,G)).join(" ")),D=(W,G)=>{W=W.trim();const Q=G.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return W.replace(Q,(Z,K,I,j,A,w)=>{s("xRange",W,Z,K,I,j,A,w);const R=p(I),C=R||p(j),d=C||p(A),$=d;return K==="="&&$&&(K=""),w=G.includePrerelease?"-0":"",R?K===">"||K==="<"?Z="<0.0.0-0":Z="*":K&&$?(C&&(j=0),A=0,K===">"?(K=">=",C?(I=+I+1,j=0,A=0):(j=+j+1,A=0)):K==="<="&&(K="<",C?I=+I+1:j=+j+1),K==="<"&&(w="-0"),Z=`${K+I}.${j}.${A}${w}`):C?Z=`>=${I}.0.0${w} <${+I+1}.0.0-0`:d&&(Z=`>=${I}.${j}.0${w} <${I}.${+j+1}.0-0`),s("xRange return",Z),Z})},O=(W,G)=>(s("replaceStars",W,G),W.trim().replace(a[c.STAR],"")),V=(W,G)=>(s("replaceGTE0",W,G),W.trim().replace(a[G.includePrerelease?c.GTE0PRE:c.GTE0],"")),Y=W=>(G,Q,Z,K,I,j,A,w,R,C,d,$,L)=>(p(Z)?Q="":p(K)?Q=`>=${Z}.0.0${W?"-0":""}`:p(I)?Q=`>=${Z}.${K}.0${W?"-0":""}`:j?Q=`>=${Q}`:Q=`>=${Q}${W?"-0":""}`,p(R)?w="":p(C)?w=`<${+R+1}.0.0-0`:p(d)?w=`<${R}.${+C+1}.0-0`:$?w=`<=${R}.${C}.${d}-${$}`:W?w=`<${R}.${C}.${+d+1}-0`:w=`<=${w}`,`${Q} ${w}`.trim()),H=(W,G,Q)=>{for(let Z=0;Z<W.length;Z++)if(!W[Z].test(G))return!1;if(G.prerelease.length&&!Q.includePrerelease){for(let Z=0;Z<W.length;Z++)if(s(W[Z].semver),W[Z].semver!==i.ANY&&W[Z].semver.prerelease.length>0){const K=W[Z].semver;if(K.major===G.major&&K.minor===G.minor&&K.patch===G.patch)return!0}return!1}return!0};return Xc}var Qc,Nh;function lc(){if(Nh)return Qc;Nh=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(f,u){if(u=r(u),f instanceof t){if(f.loose===!!u.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),o("comparator",f,u),this.options=u,this.loose=!!u.loose,this.parse(f),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(f){const u=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=f.match(u);if(!h)throw new TypeError(`Invalid comparator: ${f}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(f){if(o("Comparator.test",f,this.options.loose),this.semver===e||f===e)return!0;if(typeof f=="string")try{f=new a(f,this.options)}catch{return!1}return s(f,this.operator,this.semver,this.options)}intersects(f,u){if(!(f instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(f.value,u).test(this.value):f.operator===""?f.value===""?!0:new c(this.value,u).test(f.semver):(u=r(u),u.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!u.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||s(this.semver,"<",f.semver,u)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||s(this.semver,">",f.semver,u)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}Qc=t;const r=Hf,{safeRe:n,t:i}=bo,s=wy,o=ac,a=Lt,c=Or();return Qc}const pA=Or(),mA=(e,t,r)=>{try{t=new pA(t,r)}catch{return!1}return t.test(e)};var uc=mA;const gA=Or(),yA=(e,t)=>new gA(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var vA=yA;const _A=Lt,$A=Or(),EA=(e,t,r)=>{let n=null,i=null,s=null;try{s=new $A(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new _A(n,r))}),n};var wA=EA;const SA=Lt,bA=Or(),PA=(e,t,r)=>{let n=null,i=null,s=null;try{s=new bA(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new SA(n,r))}),n};var OA=PA;const Zc=Lt,TA=Or(),Rh=cc,AA=(e,t)=>{e=new TA(e,t);let r=new Zc("0.0.0");if(e.test(r)||(r=new Zc("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const a=new Zc(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Rh(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Rh(r,s))&&(r=s)}return r&&e.test(r)?r:null};var CA=AA;const NA=Or(),RA=(e,t)=>{try{return new NA(e,t).range||"*"}catch{return null}};var IA=RA;const DA=Lt,by=lc(),{ANY:FA}=by,kA=Or(),LA=uc,Ih=cc,Dh=Wf,jA=Yf,MA=Kf,UA=(e,t,r,n)=>{e=new DA(e,n),t=new kA(t,n);let i,s,o,a,c;switch(r){case">":i=Ih,s=jA,o=Dh,a=">",c=">=";break;case"<":i=Dh,s=MA,o=Ih,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(LA(e,t,n))return!1;for(let l=0;l<t.set.length;++l){const f=t.set[l];let u=null,h=null;if(f.forEach(m=>{m.semver===FA&&(m=new by(">=0.0.0")),u=u||m,h=h||m,i(m.semver,u.semver,n)?u=m:o(m.semver,h.semver,n)&&(h=m)}),u.operator===a||u.operator===c||(!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===c&&o(e,h.semver))return!1}return!0};var Jf=UA;const xA=Jf,qA=(e,t,r)=>xA(e,t,">",r);var VA=qA;const BA=Jf,zA=(e,t,r)=>BA(e,t,"<",r);var HA=zA;const Fh=Or(),GA=(e,t,r)=>(e=new Fh(e,r),t=new Fh(t,r),e.intersects(t,r));var WA=GA;const KA=uc,YA=Pr;var JA=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((f,u)=>YA(f,u,r));for(const f of o)KA(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[f,u]of n)f===u?a.push(f):!u&&f===o[0]?a.push("*"):u?f===o[0]?a.push(`<=${u}`):a.push(`${f} - ${u}`):a.push(`>=${f}`);const c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t};const kh=Or(),Xf=lc(),{ANY:el}=Xf,bs=uc,Qf=Pr,XA=(e,t,r={})=>{if(e===t)return!0;e=new kh(e,r),t=new kh(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=ZA(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},QA=[new Xf(">=0.0.0-0")],Lh=[new Xf(">=0.0.0")],ZA=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===el){if(t.length===1&&t[0].semver===el)return!0;r.includePrerelease?e=QA:e=Lh}if(t.length===1&&t[0].semver===el){if(r.includePrerelease)return!0;t=Lh}const n=new Set;let i,s;for(const m of e)m.operator===">"||m.operator===">="?i=jh(i,m,r):m.operator==="<"||m.operator==="<="?s=Mh(s,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Qf(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const m of n){if(i&&!bs(m,String(i),r)||s&&!bs(m,String(s),r))return null;for(const y of t)if(!bs(m,String(y),r))return!1;return!0}let a,c,l,f,u=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;u&&u.prerelease.length===1&&s.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(const m of t){if(f=f||m.operator===">"||m.operator===">=",l=l||m.operator==="<"||m.operator==="<=",i){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(a=jh(i,m,r),a===m&&a!==i)return!1}else if(i.operator===">="&&!bs(i.semver,String(m),r))return!1}if(s){if(u&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===u.major&&m.semver.minor===u.minor&&m.semver.patch===u.patch&&(u=!1),m.operator==="<"||m.operator==="<="){if(c=Mh(s,m,r),c===m&&c!==s)return!1}else if(s.operator==="<="&&!bs(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&f&&!i&&o!==0||h||u)},jh=(e,t,r)=>{if(!e)return t;const n=Qf(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Mh=(e,t,r)=>{if(!e)return t;const n=Qf(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var eC=XA;const tl=bo,Uh=oc,tC=Lt,xh=_y,rC=as,nC=rT,iC=sT,sC=aT,oC=lT,aC=dT,cC=mT,lC=vT,uC=ET,fC=Pr,dC=PT,hC=AT,pC=Gf,mC=IT,gC=kT,yC=cc,vC=Wf,_C=$y,$C=Ey,EC=Kf,wC=Yf,SC=wy,bC=iA,PC=lc(),OC=Or(),TC=uc,AC=vA,CC=wA,NC=OA,RC=CA,IC=IA,DC=Jf,FC=VA,kC=HA,LC=WA,jC=JA,MC=eC;var Zf={parse:rC,valid:nC,clean:iC,inc:sC,diff:oC,major:aC,minor:cC,patch:lC,prerelease:uC,compare:fC,rcompare:dC,compareLoose:hC,compareBuild:pC,sort:mC,rsort:gC,gt:yC,lt:vC,eq:_C,neq:$C,gte:EC,lte:wC,cmp:SC,coerce:bC,Comparator:PC,Range:OC,satisfies:TC,toComparators:AC,maxSatisfying:CC,minSatisfying:NC,minVersion:RC,validRange:IC,outside:DC,gtr:FC,ltr:kC,intersects:LC,simplifyRange:jC,subset:MC,SemVer:tC,re:tl.re,src:tl.src,tokens:tl.t,SEMVER_SPEC_VERSION:Uh.SEMVER_SPEC_VERSION,RELEASE_TYPES:Uh.RELEASE_TYPES,compareIdentifiers:xh.compareIdentifiers,rcompareIdentifiers:xh.rcompareIdentifiers},fc={exports:{}},ed={exports:{}};const Py=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};ed.exports=Py;ed.exports.default=Py;var UC=ed.exports;const xC=UC,Ma=new WeakMap,Oy=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",s=function(...o){if(Ma.set(s,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return xC(s,e),Ma.set(s,n),s};fc.exports=Oy;fc.exports.default=Oy;fc.exports.callCount=e=>{if(!Ma.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Ma.get(e)};var qC=fc.exports;(function(e,t){var r=st&&st.__classPrivateFieldSet||function(K,I,j,A,w){if(A==="m")throw new TypeError("Private method is not writable");if(A==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof I=="function"?K!==I||!w:!I.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return A==="a"?w.call(K,j):w?w.value=j:I.set(K,j),j},n=st&&st.__classPrivateFieldGet||function(K,I,j,A){if(j==="a"&&!A)throw new TypeError("Private accessor was defined without a getter");if(typeof I=="function"?K!==I||!A:!I.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?A:j==="a"?A.call(K):A?A.value:I.get(K)},i,s,o,a,c,l;Object.defineProperty(t,"__esModule",{value:!0});const f=es,u=Qe,h=we,m=ts,y=ou,E=Zi,v=u_,g=E_,p=P_,S=Dr,N=MS,M=CO,T=xO,b=Zf,D=qC,O="aes-256-cbc",V=()=>Object.create(null),Y=K=>K!=null;let H="";try{delete require.cache[__filename],H=h.dirname((s=(i=e.parent)===null||i===void 0?void 0:i.filename)!==null&&s!==void 0?s:".")}catch{}const W=(K,I)=>{const j=new Set(["undefined","symbol","function"]),A=typeof I;if(j.has(A))throw new TypeError(`Setting a value of type \`${A}\` for key \`${K}\` is not allowed as it's not supported by JSON`)},G="__internal__",Q=`${G}.migrations.version`;class Z{constructor(I={}){var j;o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),l.set(this,{}),this._deserialize=$=>JSON.parse($),this._serialize=$=>JSON.stringify($,void 0,"	");const A={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...I},w=D(()=>{const $=g.sync({cwd:H}),L=$&&JSON.parse(u.readFileSync($,"utf8"));return L??{}});if(!A.cwd){if(A.projectName||(A.projectName=w().name),!A.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");A.cwd=p(A.projectName,{suffix:A.projectSuffix}).config}if(r(this,c,A,"f"),A.schema){if(typeof A.schema!="object")throw new TypeError("The `schema` option must be an object.");const $=new N.default({allErrors:!0,useDefaults:!0});(0,M.default)($);const L={type:"object",properties:A.schema};r(this,o,$.compile(L),"f");for(const[P,_]of Object.entries(A.schema))_!=null&&_.default&&(n(this,l,"f")[P]=_.default)}A.defaults&&r(this,l,{...n(this,l,"f"),...A.defaults},"f"),A.serialize&&(this._serialize=A.serialize),A.deserialize&&(this._deserialize=A.deserialize),this.events=new E.EventEmitter,r(this,a,A.encryptionKey,"f");const R=A.fileExtension?`.${A.fileExtension}`:"";this.path=h.resolve(A.cwd,`${(j=A.configName)!==null&&j!==void 0?j:"config"}${R}`);const C=this.store,d=Object.assign(V(),A.defaults,C);this._validate(d);try{y.deepEqual(C,d)}catch{this.store=d}if(A.watch&&this._watch(),A.migrations){if(A.projectVersion||(A.projectVersion=w().version),!A.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(A.migrations,A.projectVersion,A.beforeEachMigration)}}get(I,j){if(n(this,c,"f").accessPropertiesByDotNotation)return this._get(I,j);const{store:A}=this;return I in A?A[I]:j}set(I,j){if(typeof I!="string"&&typeof I!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof I}`);if(typeof I!="object"&&j===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(I))throw new TypeError(`Please don't use the ${G} key, as it's used to manage this module internal operations.`);const{store:A}=this,w=(R,C)=>{W(R,C),n(this,c,"f").accessPropertiesByDotNotation?v.set(A,R,C):A[R]=C};if(typeof I=="object"){const R=I;for(const[C,d]of Object.entries(R))w(C,d)}else w(I,j);this.store=A}has(I){return n(this,c,"f").accessPropertiesByDotNotation?v.has(this.store,I):I in this.store}reset(...I){for(const j of I)Y(n(this,l,"f")[j])&&this.set(j,n(this,l,"f")[j])}delete(I){const{store:j}=this;n(this,c,"f").accessPropertiesByDotNotation?v.delete(j,I):delete j[I],this.store=j}clear(){this.store=V();for(const I of Object.keys(n(this,l,"f")))this.reset(I)}onDidChange(I,j){if(typeof I!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof I}`);if(typeof j!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof j}`);return this._handleChange(()=>this.get(I),j)}onDidAnyChange(I){if(typeof I!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof I}`);return this._handleChange(()=>this.store,I)}get size(){return Object.keys(this.store).length}get store(){try{const I=u.readFileSync(this.path,n(this,a,"f")?null:"utf8"),j=this._encryptData(I),A=this._deserialize(j);return this._validate(A),Object.assign(V(),A)}catch(I){if((I==null?void 0:I.code)==="ENOENT")return this._ensureDirectory(),V();if(n(this,c,"f").clearInvalidConfig&&I.name==="SyntaxError")return V();throw I}}set store(I){this._ensureDirectory(),this._validate(I),this._write(I),this.events.emit("change")}*[(o=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,Symbol.iterator)](){for(const[I,j]of Object.entries(this.store))yield[I,j]}_encryptData(I){if(!n(this,a,"f"))return I.toString();try{if(n(this,a,"f"))try{if(I.slice(16,17).toString()===":"){const j=I.slice(0,16),A=m.pbkdf2Sync(n(this,a,"f"),j.toString(),1e4,32,"sha512"),w=m.createDecipheriv(O,A,j);I=Buffer.concat([w.update(Buffer.from(I.slice(17))),w.final()]).toString("utf8")}else{const j=m.createDecipher(O,n(this,a,"f"));I=Buffer.concat([j.update(Buffer.from(I)),j.final()]).toString("utf8")}}catch{}}catch{}return I.toString()}_handleChange(I,j){let A=I();const w=()=>{const R=A,C=I();(0,f.isDeepStrictEqual)(C,R)||(A=C,j.call(this,C,R))};return this.events.on("change",w),()=>this.events.removeListener("change",w)}_validate(I){if(!n(this,o,"f")||n(this,o,"f").call(this,I)||!n(this,o,"f").errors)return;const A=n(this,o,"f").errors.map(({instancePath:w,message:R=""})=>`\`${w.slice(1)}\` ${R}`);throw new Error("Config schema violation: "+A.join("; "))}_ensureDirectory(){u.mkdirSync(h.dirname(this.path),{recursive:!0})}_write(I){let j=this._serialize(I);if(n(this,a,"f")){const A=m.randomBytes(16),w=m.pbkdf2Sync(n(this,a,"f"),A.toString(),1e4,32,"sha512"),R=m.createCipheriv(O,w,A);j=Buffer.concat([A,Buffer.from(":"),R.update(Buffer.from(j)),R.final()])}if(process.env.SNAP)u.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode});else try{S.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode})}catch(A){if((A==null?void 0:A.code)==="EXDEV"){u.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode});return}throw A}}_watch(){this._ensureDirectory(),u.existsSync(this.path)||this._write(V()),process.platform==="win32"?u.watch(this.path,{persistent:!1},T(()=>{this.events.emit("change")},{wait:100})):u.watchFile(this.path,{persistent:!1},T(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(I,j,A){let w=this._get(Q,"0.0.0");const R=Object.keys(I).filter(d=>this._shouldPerformMigration(d,w,j));let C={...this.store};for(const d of R)try{A&&A(this,{fromVersion:w,toVersion:d,finalVersion:j,versions:R});const $=I[d];$(this),this._set(Q,d),w=d,C={...this.store}}catch($){throw this.store=C,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${$}`)}(this._isVersionInRangeFormat(w)||!b.eq(w,j))&&this._set(Q,j)}_containsReservedKey(I){return typeof I=="object"&&Object.keys(I)[0]===G?!0:typeof I!="string"?!1:n(this,c,"f").accessPropertiesByDotNotation?!!I.startsWith(`${G}.`):!1}_isVersionInRangeFormat(I){return b.clean(I)===null}_shouldPerformMigration(I,j,A){return this._isVersionInRangeFormat(I)?j!=="0.0.0"&&b.satisfies(j,I)?!1:b.satisfies(A,I):!(b.lte(I,j)||b.gt(I,A))}_get(I,j){return v.get(this.store,I,j)}_set(I,j){const{store:A}=this;v.set(A,I,j),this.store=A}}t.default=Z,e.exports=Z,e.exports.default=Z})(Cl,Cl.exports);var VC=Cl.exports;const qh=we,{app:wa,ipcMain:Gl,ipcRenderer:Vh,shell:BC}=he,zC=VC;let Bh=!1;const zh=()=>{if(!Gl||!wa)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:wa.getPath("userData"),appVersion:wa.getVersion()};return Bh||(Gl.on("electron-store-get-data",t=>{t.returnValue=e}),Bh=!0),e};class HC extends zC{constructor(t){let r,n;if(Vh){const i=Vh.sendSync("electron-store-get-data");if(!i)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=i)}else Gl&&wa&&({defaultCwd:r,appVersion:n}=zh());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=qh.isAbsolute(t.cwd)?t.cwd:qh.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){zh()}openInEditor(){BC.openPath(this.path)}}var GC=HC;const WC=Im(GC),Ty=Qe,Ls=we;var KC={findAndReadPackageJson:YC,tryReadJsonAt:Ci};function YC(){return Ci(QC())||Ci(XC())||Ci(process.resourcesPath,"app.asar")||Ci(process.resourcesPath,"app")||Ci(process.cwd())||{name:void 0,version:void 0}}function Ci(...e){if(e[0])try{const t=Ls.join(...e),r=JC("package.json",t);if(!r)return;const n=JSON.parse(Ty.readFileSync(r,"utf8")),i=(n==null?void 0:n.productName)||(n==null?void 0:n.name);return!i||i.toLowerCase()==="electron"?void 0:i?{name:i,version:n==null?void 0:n.version}:void 0}catch{return}}function JC(e,t){let r=t;for(;;){const n=Ls.parse(r),i=n.root,s=n.dir;if(Ty.existsSync(Ls.join(r,e)))return Ls.resolve(Ls.join(r,e));if(r===i)return null;r=s}}function XC(){const e=process.argv.filter(r=>r.indexOf("--user-data-dir=")===0);return e.length===0||typeof e[0]!="string"?null:e[0].replace("--user-data-dir=","")}function QC(){var e;try{return(e=require.main)==null?void 0:e.filename}catch{return}}const ZC=fo,jn=An,wi=we,eN=KC;let tN=class{constructor(){_e(this,"appName");_e(this,"appPackageJson");_e(this,"platform",process.platform)}getAppLogPath(t=this.getAppName()){return this.platform==="darwin"?wi.join(this.getSystemPathHome(),"Library/Logs",t):wi.join(this.getAppUserDataPath(t),"logs")}getAppName(){var t;return this.appName||((t=this.getAppPackageJson())==null?void 0:t.name)}getAppPackageJson(){return typeof this.appPackageJson!="object"&&(this.appPackageJson=eN.findAndReadPackageJson()),this.appPackageJson}getAppUserDataPath(t=this.getAppName()){return t?wi.join(this.getSystemPathAppData(),t):void 0}getAppVersion(){var t;return(t=this.getAppPackageJson())==null?void 0:t.version}getElectronLogPath(){return this.getAppLogPath()}getMacOsVersion(){const t=Number(jn.release().split(".")[0]);return t<=19?`10.${t-4}`:t-9}getOsVersion(){let t=jn.type().replace("_"," "),r=jn.release();return t==="Darwin"&&(t="macOS",r=this.getMacOsVersion()),`${t} ${r}`}getPathVariables(){const t=this.getAppName(),r=this.getAppVersion(),n=this;return{appData:this.getSystemPathAppData(),appName:t,appVersion:r,get electronDefaultDir(){return n.getElectronLogPath()},home:this.getSystemPathHome(),libraryDefaultDir:this.getAppLogPath(t),libraryTemplate:this.getAppLogPath("{appName}"),temp:this.getSystemPathTemp(),userData:this.getAppUserDataPath(t)}}getSystemPathAppData(){const t=this.getSystemPathHome();switch(this.platform){case"darwin":return wi.join(t,"Library/Application Support");case"win32":return process.env.APPDATA||wi.join(t,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||wi.join(t,".config")}}getSystemPathHome(){var t;return((t=jn.homedir)==null?void 0:t.call(jn))||process.env.HOME}getSystemPathTemp(){return jn.tmpdir()}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:void 0,os:this.getOsVersion()}}isDev(){return process.env.NODE_ENV==="development"||process.env.ELECTRON_IS_DEV==="1"}isElectron(){return!!process.versions.electron}onAppEvent(t,r){}onAppReady(t){t()}onEveryWebContentsEvent(t,r){}onIpc(t,r){}onIpcInvoke(t,r){}openUrl(t,r=console.error){const i={darwin:"open",win32:"start",linux:"xdg-open"}[process.platform]||"xdg-open";ZC.exec(`${i} ${t}`,{},s=>{s&&r(s)})}setPlatform(t){this.platform=t}setPreloadFileForSessions({filePath:t,includeFutureSession:r=!0,getSessions:n=()=>[]}){}sendIpc(t,r){}showErrorBox(t,r){}};var rN=tN;const nN=we,iN=rN;let sN=class extends iN{constructor({electron:r}={}){super();_e(this,"electron");this.electron=r}getAppName(){var n,i;let r;try{r=((n=this.electron.app)==null?void 0:n.name)||((i=this.electron.app)==null?void 0:i.getName())}catch{}return r||super.getAppName()}getAppUserDataPath(r){return this.getPath("userData")||super.getAppUserDataPath(r)}getAppVersion(){var n;let r;try{r=(n=this.electron.app)==null?void 0:n.getVersion()}catch{}return r||super.getAppVersion()}getElectronLogPath(){return this.getPath("logs")||super.getElectronLogPath()}getPath(r){var n;try{return(n=this.electron.app)==null?void 0:n.getPath(r)}catch{return}}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:`Electron ${process.versions.electron}`,os:this.getOsVersion()}}getSystemPathAppData(){return this.getPath("appData")||super.getSystemPathAppData()}isDev(){var r;return((r=this.electron.app)==null?void 0:r.isPackaged)!==void 0?!this.electron.app.isPackaged:typeof process.execPath=="string"?nN.basename(process.execPath).toLowerCase().startsWith("electron"):super.isDev()}onAppEvent(r,n){var i;return(i=this.electron.app)==null||i.on(r,n),()=>{var s;(s=this.electron.app)==null||s.off(r,n)}}onAppReady(r){var n,i,s;(n=this.electron.app)!=null&&n.isReady()?r():(i=this.electron.app)!=null&&i.once?(s=this.electron.app)==null||s.once("ready",r):r()}onEveryWebContentsEvent(r,n){var s,o,a;return(o=(s=this.electron.webContents)==null?void 0:s.getAllWebContents())==null||o.forEach(c=>{c.on(r,n)}),(a=this.electron.app)==null||a.on("web-contents-created",i),()=>{var c,l;(c=this.electron.webContents)==null||c.getAllWebContents().forEach(f=>{f.off(r,n)}),(l=this.electron.app)==null||l.off("web-contents-created",i)};function i(c,l){l.on(r,n)}}onIpc(r,n){var i;(i=this.electron.ipcMain)==null||i.on(r,n)}onIpcInvoke(r,n){var i,s;(s=(i=this.electron.ipcMain)==null?void 0:i.handle)==null||s.call(i,r,n)}openUrl(r,n=console.error){var i;(i=this.electron.shell)==null||i.openExternal(r).catch(n)}setPreloadFileForSessions({filePath:r,includeFutureSession:n=!0,getSessions:i=()=>{var s;return[(s=this.electron.session)==null?void 0:s.defaultSession]}}){for(const o of i().filter(Boolean))s(o);n&&this.onAppEvent("session-created",o=>{s(o)});function s(o){o.setPreloads([...o.getPreloads(),r])}}sendIpc(r,n){var i,s;(s=(i=this.electron.BrowserWindow)==null?void 0:i.getAllWindows())==null||s.forEach(o=>{var a;((a=o.webContents)==null?void 0:a.isDestroyed())===!1&&o.webContents.send(r,n)})}showErrorBox(r,n){var i;(i=this.electron.dialog)==null||i.showErrorBox(r,n)}};var oN=sN,Ay={exports:{}};(function(e){let t={};try{t=require("electron")}catch{}t.ipcRenderer&&r(t),e.exports=r;function r({contextBridge:n,ipcRenderer:i}){if(!i)return;i.on("__ELECTRON_LOG_IPC__",(o,a)=>{window.postMessage({cmd:"message",...a})}),i.invoke("__ELECTRON_LOG__",{cmd:"getOptions"}).catch(o=>console.error(new Error(`electron-log isn't initialized in the main process. Please call log.initialize() before. ${o.message}`)));const s={sendToMain(o){try{i.send("__ELECTRON_LOG__",o)}catch(a){console.error("electronLog.sendToMain ",a,"data:",o),i.send("__ELECTRON_LOG__",{cmd:"errorHandler",error:{message:a==null?void 0:a.message,stack:a==null?void 0:a.stack},errorName:"sendToMain"})}},log(...o){s.sendToMain({data:o,level:"info"})}};for(const o of["error","warn","info","verbose","debug","silly"])s[o]=(...a)=>s.sendToMain({data:a,level:o});if(n&&process.contextIsolated)try{n.exposeInMainWorld("__electronLog",s)}catch{}typeof window=="object"?window.__electronLog=s:__electronLog=s}})(Ay);var aN=Ay.exports;const Hh=Qe,cN=An,Gh=we,lN=aN;var uN={initialize({externalApi:e,getSessions:t,includeFutureSession:r,logger:n,preload:i=!0,spyRendererConsole:s=!1}){e.onAppReady(()=>{try{i&&fN({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:i}),s&&dN({externalApi:e,logger:n})}catch(o){n.warn(o)}})}};function fN({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:n}){let i=typeof n=="string"?n:void 0;try{i=Gh.resolve(__dirname,"../renderer/electron-log-preload.js")}catch{}if(!i||!Hh.existsSync(i)){i=Gh.join(e.getAppUserDataPath()||cN.tmpdir(),"electron-log-preload.js");const s=`
      try {
        (${lN.toString()})(require('electron'));
      } catch(e) {
        console.error(e);
      }
    `;Hh.writeFileSync(i,s,"utf8")}e.setPreloadFileForSessions({filePath:i,includeFutureSession:r,getSessions:t})}function dN({externalApi:e,logger:t}){const r=["verbose","info","warning","error"];e.onEveryWebContentsEvent("console-message",(n,i,s)=>{t.processMessage({data:[s],level:r[i],variables:{processType:"renderer"}})})}var hN=pN;function pN(e){return Object.defineProperties(t,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof t.labelPadding){case"boolean":return t.labelPadding?t.maxLabelLength:0;case"number":return t.labelPadding;default:return 0}}}});function t(r){t.maxLabelLength=Math.max(t.maxLabelLength,r.length);const n={};for(const i of[...e.levels,"log"])n[i]=(...s)=>e.logData(s,{level:i,scope:r});return n}}const mN=hN;var ti;let gN=(ti=class{constructor({allowUnknownLevel:t=!1,dependencies:r={},errorHandler:n,eventLogger:i,initializeFn:s,isDev:o=!1,levels:a=["error","warn","info","verbose","debug","silly"],logId:c,transportFactories:l={},variables:f}={}){_e(this,"dependencies",{});_e(this,"errorHandler",null);_e(this,"eventLogger",null);_e(this,"functions",{});_e(this,"hooks",[]);_e(this,"isDev",!1);_e(this,"levels",null);_e(this,"logId",null);_e(this,"scope",null);_e(this,"transports",{});_e(this,"variables",{});this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=t,this.dependencies=r,this.initializeFn=s,this.isDev=o,this.levels=a,this.logId=c,this.transportFactories=l,this.variables=f||{},this.scope=mN(this),this.addLevel("log",!1);for(const u of this.levels)this.addLevel(u,!1);this.errorHandler=n,n==null||n.setOptions({...r,logFn:this.error}),this.eventLogger=i,i==null||i.setOptions({...r,logger:this});for(const[u,h]of Object.entries(l))this.transports[u]=h(this,r);ti.instances[c]=this}static getInstance({logId:t}){return this.instances[t]||this.instances.default}addLevel(t,r=this.levels.length){r!==!1&&this.levels.splice(r,0,t),this[t]=(...n)=>this.logData(n,{level:t}),this.functions[t]=this[t]}catchErrors(t){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(t)}create(t){return typeof t=="string"&&(t={logId:t}),new ti({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...t})}compareLevels(t,r,n=this.levels){const i=n.indexOf(t),s=n.indexOf(r);return s===-1||i===-1?!0:s<=i}initialize(t={}){this.initializeFn({logger:this,...this.dependencies,...t})}logData(t,r={}){this.processMessage({data:t,...r})}processMessage(t,{transports:r=this.transports}={}){if(t.cmd==="errorHandler"){this.errorHandler.handle(t.error,{errorName:t.errorName,processType:"renderer",showDialog:!!t.showDialog});return}let n=t.level;this.allowUnknownLevel||(n=this.levels.includes(t.level)?t.level:"info");const i={date:new Date,...t,level:n,variables:{...this.variables,...t.variables}};for(const[s,o]of this.transportEntries(r))if(!(typeof o!="function"||o.level===!1)&&this.compareLevels(o.level,t.level))try{const a=this.hooks.reduce((c,l)=>c&&l(c,o,s),i);a&&o({...a,data:[...a.data]})}catch(a){this.processInternalErrorFn(a)}}processInternalErrorFn(t){}transportEntries(t=this.transports){return(Array.isArray(t)?t:Object.entries(t)).map(n=>{switch(typeof n){case"string":return this.transports[n]?[n,this.transports[n]]:null;case"function":return[n.name,n];default:return Array.isArray(n)?n:null}}).filter(Boolean)}},_e(ti,"instances",{}),ti);var yN=gN;let vN=class{constructor({externalApi:t,logFn:r=void 0,onError:n=void 0,showDialog:i=void 0}={}){_e(this,"externalApi");_e(this,"isActive",!1);_e(this,"logFn");_e(this,"onError");_e(this,"showDialog",!0);this.createIssue=this.createIssue.bind(this),this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.setOptions({externalApi:t,logFn:r,onError:n,showDialog:i}),this.startCatching=this.startCatching.bind(this),this.stopCatching=this.stopCatching.bind(this)}handle(t,{logFn:r=this.logFn,onError:n=this.onError,processType:i="browser",showDialog:s=this.showDialog,errorName:o=""}={}){var a;t=_N(t);try{if(typeof n=="function"){const c=((a=this.externalApi)==null?void 0:a.getVersions())||{},l=this.createIssue;if(n({createIssue:l,error:t,errorName:o,processType:i,versions:c})===!1)return}o?r(o,t):r(t),s&&!o.includes("rejection")&&this.externalApi&&this.externalApi.showErrorBox(`A JavaScript error occurred in the ${i} process`,t.stack)}catch{console.error(t)}}setOptions({externalApi:t,logFn:r,onError:n,showDialog:i}){typeof t=="object"&&(this.externalApi=t),typeof r=="function"&&(this.logFn=r),typeof n=="function"&&(this.onError=n),typeof i=="boolean"&&(this.showDialog=i)}startCatching({onError:t,showDialog:r}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:t,showDialog:r}),process.on("uncaughtException",this.handleError),process.on("unhandledRejection",this.handleRejection))}stopCatching(){this.isActive=!1,process.removeListener("uncaughtException",this.handleError),process.removeListener("unhandledRejection",this.handleRejection)}createIssue(t,r){var n;(n=this.externalApi)==null||n.openUrl(`${t}?${new URLSearchParams(r).toString()}`)}handleError(t){this.handle(t,{errorName:"Unhandled"})}handleRejection(t){const r=t instanceof Error?t:new Error(JSON.stringify(t));this.handle(r,{errorName:"Unhandled rejection"})}};function _N(e){if(e instanceof Error)return e;if(e&&typeof e=="object"){if(e.message)return Object.assign(new Error(e.message),e);try{return new Error(JSON.stringify(e))}catch(t){return new Error(`Couldn't normalize error ${String(e)}: ${t}`)}}return new Error(`Can't normalize error ${String(e)}`)}var $N=vN;let EN=class{constructor(t={}){_e(this,"disposers",[]);_e(this,"format","{eventSource}#{eventName}:");_e(this,"formatters",{app:{"certificate-error":({args:t})=>this.arrayToObject(t.slice(1,4),["url","error","certificate"]),"child-process-gone":({args:t})=>t.length===1?t[0]:t,"render-process-gone":({args:[t,r]})=>r&&typeof r=="object"?{...r,...this.getWebContentsDetails(t)}:[]},webContents:{"console-message":({args:[t,r,n,i]})=>{if(!(t<3))return{message:r,source:`${i}:${n}`}},"did-fail-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"did-fail-provisional-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"plugin-crashed":({args:t})=>this.arrayToObject(t,["name","version"]),"preload-error":({args:t})=>this.arrayToObject(t,["preloadPath","error"])}});_e(this,"events",{app:{"certificate-error":!0,"child-process-gone":!0,"render-process-gone":!0},webContents:{"did-fail-load":!0,"did-fail-provisional-load":!0,"plugin-crashed":!0,"preload-error":!0,unresponsive:!0}});_e(this,"externalApi");_e(this,"level","error");_e(this,"scope","");this.setOptions(t)}setOptions({events:t,externalApi:r,level:n,logger:i,format:s,formatters:o,scope:a}){typeof t=="object"&&(this.events=t),typeof r=="object"&&(this.externalApi=r),typeof n=="string"&&(this.level=n),typeof i=="object"&&(this.logger=i),(typeof s=="string"||typeof s=="function")&&(this.format=s),typeof o=="object"&&(this.formatters=o),typeof a=="string"&&(this.scope=a)}startLogging(t={}){this.setOptions(t),this.disposeListeners();for(const r of this.getEventNames(this.events.app))this.disposers.push(this.externalApi.onAppEvent(r,(...n)=>{this.handleEvent({eventSource:"app",eventName:r,handlerArgs:n})}));for(const r of this.getEventNames(this.events.webContents))this.disposers.push(this.externalApi.onEveryWebContentsEvent(r,(...n)=>{this.handleEvent({eventSource:"webContents",eventName:r,handlerArgs:n})}))}stopLogging(){this.disposeListeners()}arrayToObject(t,r){const n={};return r.forEach((i,s)=>{n[i]=t[s]}),t.length>r.length&&(n.unknownArgs=t.slice(r.length)),n}disposeListeners(){this.disposers.forEach(t=>t()),this.disposers=[]}formatEventLog({eventName:t,eventSource:r,handlerArgs:n}){var f;const[i,...s]=n;if(typeof this.format=="function")return this.format({args:s,event:i,eventName:t,eventSource:r});const o=(f=this.formatters[r])==null?void 0:f[t];let a=s;if(typeof o=="function"&&(a=o({args:s,event:i,eventName:t,eventSource:r})),!a)return;const c={};return Array.isArray(a)?c.args=a:typeof a=="object"&&Object.assign(c,a),r==="webContents"&&Object.assign(c,this.getWebContentsDetails(i==null?void 0:i.sender)),[this.format.replace("{eventSource}",r==="app"?"App":"WebContents").replace("{eventName}",t),c]}getEventNames(t){return!t||typeof t!="object"?[]:Object.entries(t).filter(([r,n])=>n).map(([r])=>r)}getWebContentsDetails(t){if(!(t!=null&&t.loadURL))return{};try{return{webContents:{id:t.id,url:t.getURL()}}}catch{return{}}}handleEvent({eventName:t,eventSource:r,handlerArgs:n}){var s;const i=this.formatEventLog({eventName:t,eventSource:r,handlerArgs:n});if(i){const o=this.scope?this.logger.scope(this.scope):this.logger;(s=o==null?void 0:o[this.level])==null||s.call(o,...i)}}};var wN=EN,Po={transform:SN};function SN({logger:e,message:t,transport:r,initialData:n=(t==null?void 0:t.data)||[],transforms:i=r==null?void 0:r.transforms}){return i.reduce((s,o)=>typeof o=="function"?o({data:s,logger:e,message:t,transport:r}):s,n)}const{transform:bN}=Po;var Cy={concatFirstStringElements:PN,formatScope:Wh,formatText:Yh,formatVariables:Kh,timeZoneFromOffset:Ny,format({message:e,logger:t,transport:r,data:n=e==null?void 0:e.data}){switch(typeof r.format){case"string":return bN({message:e,logger:t,transforms:[Kh,Wh,Yh],transport:r,initialData:[r.format,...n]});case"function":return r.format({data:n,level:(e==null?void 0:e.level)||"info",logger:t,message:e,transport:r});default:return n}}};function PN({data:e}){return typeof e[0]!="string"||typeof e[1]!="string"||e[0].match(/%[1cdfiOos]/)?e:[`${e[0]} ${e[1]}`,...e.slice(2)]}function Ny(e){const t=Math.abs(e),r=e>=0?"-":"+",n=Math.floor(t/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return`${r}${n}:${i}`}function Wh({data:e,logger:t,message:r}){const{defaultLabel:n,labelLength:i}=(t==null?void 0:t.scope)||{},s=e[0];let o=r.scope;o||(o=n);let a;return o===""?a=i>0?"".padEnd(i+3):"":typeof o=="string"?a=` (${o})`.padEnd(i+3):a="",e[0]=s.replace("{scope}",a),e}function Kh({data:e,message:t}){let r=e[0];if(typeof r!="string")return e;r=r.replace("{level}]",`${t.level}]`.padEnd(6," "));const n=t.date||new Date;return e[0]=r.replace(/\{(\w+)}/g,(i,s)=>{var o;switch(s){case"level":return t.level||"info";case"logId":return t.logId;case"y":return n.getFullYear().toString(10);case"m":return(n.getMonth()+1).toString(10).padStart(2,"0");case"d":return n.getDate().toString(10).padStart(2,"0");case"h":return n.getHours().toString(10).padStart(2,"0");case"i":return n.getMinutes().toString(10).padStart(2,"0");case"s":return n.getSeconds().toString(10).padStart(2,"0");case"ms":return n.getMilliseconds().toString(10).padStart(3,"0");case"z":return Ny(n.getTimezoneOffset());case"iso":return n.toISOString();default:return((o=t.variables)==null?void 0:o[s])||i}}).trim(),e}function Yh({data:e}){const t=e[0];if(typeof t!="string")return e;if(t.lastIndexOf("{text}")===t.length-6)return e[0]=t.replace(/\s?{text}/,""),e[0]===""&&e.shift(),e;const n=t.split("{text}");let i=[];return n[0]!==""&&i.push(n[0]),i=i.concat(e.slice(1)),n[1]!==""&&i.push(n[1]),i}var Ry={exports:{}};(function(e){const t=es;e.exports={serialize:n,maxDepth({data:i,transport:s,depth:o=(s==null?void 0:s.depth)??6}){if(!i)return i;if(o<1)return Array.isArray(i)?"[array]":typeof i=="object"&&i?"[object]":i;if(Array.isArray(i))return i.map(c=>e.exports.maxDepth({data:c,depth:o-1}));if(typeof i!="object"||i&&typeof i.toISOString=="function")return i;if(i===null)return null;if(i instanceof Error)return i;const a={};for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&(a[c]=e.exports.maxDepth({data:i[c],depth:o-1}));return a},toJSON({data:i}){return JSON.parse(JSON.stringify(i,r()))},toString({data:i,transport:s}){const o=(s==null?void 0:s.inspectOptions)||{},a=i.map(c=>{if(c!==void 0)try{const l=JSON.stringify(c,r(),"  ");return l===void 0?void 0:JSON.parse(l)}catch{return c}});return t.formatWithOptions(o,...a)}};function r(i={}){const s=new WeakSet;return function(o,a){if(typeof a=="object"&&a!==null){if(s.has(a))return;s.add(a)}return n(o,a,i)}}function n(i,s,o={}){const a=(o==null?void 0:o.serializeMapAndSet)!==!1;return s instanceof Error?s.stack:s&&(typeof s=="function"?`[function] ${s.toString()}`:s instanceof Date?s.toISOString():a&&s instanceof Map&&Object.fromEntries?Object.fromEntries(s):a&&s instanceof Set&&Array.from?Array.from(s):s)}})(Ry);var dc=Ry.exports,td={transformStyles:rl,applyAnsiStyles({data:e}){return rl(e,ON,TN)},removeStyles({data:e}){return rl(e,()=>"")}};const Iy={unset:"\x1B[0m",black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"};function ON(e){const t=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return Iy[t]||""}function TN(e){return e+Iy.unset}function rl(e,t,r){const n={};return e.reduce((i,s,o,a)=>{if(n[o])return i;if(typeof s=="string"){let c=o,l=!1;s=s.replace(/%[1cdfiOos]/g,f=>{if(c+=1,f!=="%c")return f;const u=a[c];return typeof u=="string"?(n[c]=!0,l=!0,t(u,s)):f}),l&&r&&(s=r(s))}return i.push(s),i},[])}const{concatFirstStringElements:AN,format:CN}=Cy,{maxDepth:NN,toJSON:RN}=dc,{applyAnsiStyles:IN,removeStyles:DN}=td,{transform:FN}=Po,Jh={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};var kN=Dy;const LN=process.platform==="win32"?">":"›",rd=`%c{h}:{i}:{s}.{ms}{scope}%c ${LN} {text}`;Object.assign(Dy,{DEFAULT_FORMAT:rd});function Dy(e){return Object.assign(t,{format:rd,level:"silly",transforms:[jN,CN,UN,AN,NN,RN],useStyles:process.env.FORCE_STYLES,writeFn({message:r}){(Jh[r.level]||Jh.info)(...r.data)}});function t(r){const n=FN({logger:e,message:r,transport:t});t.writeFn({message:{...r,data:n}})}}function jN({data:e,message:t,transport:r}){return r.format!==rd?e:[`color:${xN(t.level)}`,"color:unset",...e]}function MN(e,t){if(typeof e=="boolean")return e;const n=t==="error"||t==="warn"?process.stderr:process.stdout;return n&&n.isTTY}function UN(e){const{message:t,transport:r}=e;return(MN(r.useStyles,t.level)?IN:DN)(e)}function xN(e){const t={error:"red",warn:"yellow",info:"cyan",default:"unset"};return t[e]||t.default}const qN=Zi,_n=Qe,Xh=An;let VN=class extends qN{constructor({path:r,writeOptions:n={encoding:"utf8",flag:"a",mode:438},writeAsync:i=!1}){super();_e(this,"asyncWriteQueue",[]);_e(this,"bytesWritten",0);_e(this,"hasActiveAsyncWriting",!1);_e(this,"path",null);_e(this,"initialSize");_e(this,"writeOptions",null);_e(this,"writeAsync",!1);this.path=r,this.writeOptions=n,this.writeAsync=i}get size(){return this.getSize()}clear(){try{return _n.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(r){return r.code==="ENOENT"?!0:(this.emit("error",r,this),!1)}}crop(r){try{const n=BN(this.path,r||4096);this.clear(),this.writeLine(`[log cropped]${Xh.EOL}${n}`)}catch(n){this.emit("error",new Error(`Couldn't crop file ${this.path}. ${n.message}`),this)}}getSize(){if(this.initialSize===void 0)try{const r=_n.statSync(this.path);this.initialSize=r.size}catch{this.initialSize=0}return this.initialSize+this.bytesWritten}increaseBytesWrittenCounter(r){this.bytesWritten+=Buffer.byteLength(r,this.writeOptions.encoding)}isNull(){return!1}nextAsyncWrite(){const r=this;if(this.hasActiveAsyncWriting||this.asyncWriteQueue.length===0)return;const n=this.asyncWriteQueue.join("");this.asyncWriteQueue=[],this.hasActiveAsyncWriting=!0,_n.writeFile(this.path,n,this.writeOptions,i=>{r.hasActiveAsyncWriting=!1,i?r.emit("error",new Error(`Couldn't write to ${r.path}. ${i.message}`),this):r.increaseBytesWrittenCounter(n),r.nextAsyncWrite()})}reset(){this.initialSize=void 0,this.bytesWritten=0}toString(){return this.path}writeLine(r){if(r+=Xh.EOL,this.writeAsync){this.asyncWriteQueue.push(r),this.nextAsyncWrite();return}try{_n.writeFileSync(this.path,r,this.writeOptions),this.increaseBytesWrittenCounter(r)}catch(n){this.emit("error",new Error(`Couldn't write to ${this.path}. ${n.message}`),this)}}};var Fy=VN;function BN(e,t){const r=Buffer.alloc(t),n=_n.statSync(e),i=Math.min(n.size,t),s=Math.max(0,n.size-t),o=_n.openSync(e,"r"),a=_n.readSync(o,r,0,i,s);return _n.closeSync(o),r.toString("utf8",0,a)}const zN=Fy;let HN=class extends zN{clear(){}crop(){}getSize(){return 0}isNull(){return!0}writeLine(){}};var GN=HN;const WN=Zi,Qh=Qe,Zh=we,KN=Fy,YN=GN;let JN=class extends WN{constructor(){super();_e(this,"store",{});this.emitError=this.emitError.bind(this)}provide({filePath:r,writeOptions:n,writeAsync:i=!1}){let s;try{if(r=Zh.resolve(r),this.store[r])return this.store[r];s=this.createFile({filePath:r,writeOptions:n,writeAsync:i})}catch(o){s=new YN({path:r}),this.emitError(o,s)}return s.on("error",this.emitError),this.store[r]=s,s}createFile({filePath:r,writeOptions:n,writeAsync:i}){return this.testFileWriting(r),new KN({path:r,writeOptions:n,writeAsync:i})}emitError(r,n){this.emit("error",r,n)}testFileWriting(r){Qh.mkdirSync(Zh.dirname(r),{recursive:!0}),Qh.writeFileSync(r,"",{flag:"a"})}};var XN=JN;const nl=Qe,QN=An,Ps=we,ZN=XN,{transform:eR}=Po,{removeStyles:tR}=td,{format:rR}=Cy,{toString:nR}=dc;var iR=oR;const sR=new ZN;function oR(e,{registry:t=sR,externalApi:r}={}){let n;return t.listenerCount("error")<1&&t.on("error",(l,f)=>{o(`Can't write to ${f}`,l)}),Object.assign(i,{fileName:aR(e.variables.processType),format:"[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",getFile:a,inspectOptions:{depth:5},level:"silly",maxSize:1024**2,readAllLogs:c,sync:!0,transforms:[tR,rR,nR],writeOptions:{flag:"a",mode:438,encoding:"utf8"},archiveLogFn(l){const f=l.toString(),u=Ps.parse(f);try{nl.renameSync(f,Ps.join(u.dir,`${u.name}.old${u.ext}`))}catch(h){o("Could not rotate log",h);const m=Math.round(i.maxSize/4);l.crop(Math.min(m,256*1024))}},resolvePathFn(l){return Ps.join(l.libraryDefaultDir,l.fileName)}});function i(l){const f=a(l);i.maxSize>0&&f.size>i.maxSize&&(i.archiveLogFn(f),f.reset());const h=eR({logger:e,message:l,transport:i});f.writeLine(h)}function s(){n||(n=Object.create(Object.prototype,{...Object.getOwnPropertyDescriptors(r.getPathVariables()),fileName:{get(){return i.fileName},enumerable:!0}}),typeof i.archiveLog=="function"&&(i.archiveLogFn=i.archiveLog,o("archiveLog is deprecated. Use archiveLogFn instead")),typeof i.resolvePath=="function"&&(i.resolvePathFn=i.resolvePath,o("resolvePath is deprecated. Use resolvePathFn instead")))}function o(l,f=null,u="error"){const h=[`electron-log.transports.file: ${l}`];f&&h.push(f),e.transports.console({data:h,date:new Date,level:u})}function a(l){s();const f=i.resolvePathFn(n,l);return t.provide({filePath:f,writeAsync:!i.sync,writeOptions:i.writeOptions})}function c({fileFilter:l=f=>f.endsWith(".log")}={}){const f=Ps.dirname(i.resolvePathFn(n));return nl.readdirSync(f).map(u=>Ps.join(f,u)).filter(l).map(u=>{try{return{path:u,lines:nl.readFileSync(u,"utf8").split(QN.EOL)}}catch{return null}}).filter(Boolean)}}function aR(e=process.type){switch(e){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}const{maxDepth:cR,toJSON:lR}=dc,{transform:uR}=Po;var fR=dR;function dR(e,{externalApi:t}){return Object.assign(r,{depth:3,eventId:"__ELECTRON_LOG_IPC__",level:e.isDev?"silly":!1,transforms:[lR,cR]}),t!=null&&t.isElectron()?r:void 0;function r(n){t==null||t.sendIpc(r.eventId,{...n,data:uR({logger:e,message:n,transport:r})})}}const hR=Nm,pR=Yv,{transform:mR}=Po,{removeStyles:gR}=td,{toJSON:yR,maxDepth:vR}=dc;var _R=$R;function $R(e){return Object.assign(t,{client:{name:"electron-application"},depth:6,level:!1,requestOptions:{},transforms:[gR,yR,vR],makeBodyFn({message:r}){return JSON.stringify({client:t.client,data:r.data,date:r.date.getTime(),level:r.level,scope:r.scope,variables:r.variables})},processErrorFn({error:r}){e.processMessage({data:[`electron-log: can't POST ${t.url}`,r],level:"warn"},{transports:["console","file"]})},sendRequestFn({serverUrl:r,requestOptions:n,body:i}){const o=(r.startsWith("https:")?pR:hR).request(r,{method:"POST",...n,headers:{"Content-Type":"application/json","Content-Length":i.length,...n.headers}});return o.write(i),o.end(),o}});function t(r){if(!t.url)return;const n=t.makeBodyFn({logger:e,message:{...r,data:mR({logger:e,message:r,transport:t})},transport:t}),i=t.sendRequestFn({serverUrl:t.url,requestOptions:t.requestOptions,body:Buffer.from(n,"utf8")});i.on("error",s=>t.processErrorFn({error:s,logger:e,message:r,request:i,transport:t}))}}const ep=yN,ER=$N,wR=wN,SR=kN,bR=iR,PR=fR,OR=_R;var TR=AR;function AR({dependencies:e,initializeFn:t}){var n;const r=new ep({dependencies:e,errorHandler:new ER,eventLogger:new wR,initializeFn:t,isDev:(n=e.externalApi)==null?void 0:n.isDev(),logId:"default",transportFactories:{console:SR,file:bR,ipc:PR,remote:OR},variables:{processType:"main"}});return r.default=r,r.Logger=ep,r.processInternalErrorFn=i=>{r.transports.console.writeFn({message:{data:["Unhandled electron-log error",i],level:"error"}})},r}const CR=he,NR=oN,{initialize:RR}=uN,IR=TR,nd=new NR({electron:CR}),hc=IR({dependencies:{externalApi:nd},initializeFn:RR});var DR=hc;nd.onIpc("__ELECTRON_LOG__",(e,t)=>{t.scope&&hc.Logger.getInstance(t).scope(t.scope);const r=new Date(t.date);ky({...t,date:r.getTime()?r:new Date})});nd.onIpcInvoke("__ELECTRON_LOG__",(e,{cmd:t="",logId:r})=>{switch(t){case"getOptions":return{levels:hc.Logger.getInstance({logId:r}).levels,logId:r};default:return ky({data:[`Unknown cmd '${t}'`],level:"error"}),{}}});function ky(e){var t;(t=hc.Logger.getInstance(e))==null||t.processMessage(e)}const FR=DR;var kR=FR;const sa=Im(kR);var il={},sl={},ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.CancellationError=ai.CancellationToken=void 0;const LR=Zi;class jR extends LR.EventEmitter{get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new Wl);const r=()=>{if(n!=null)try{this.removeListener("cancel",n),n=null}catch{}};let n=null;return new Promise((i,s)=>{let o=null;if(n=()=>{try{o!=null&&(o(),o=null)}finally{s(new Wl)}},this.cancelled){n();return}this.onCancel(n),t(i,s,a=>{o=a})}).then(i=>(r(),i)).catch(i=>{throw r(),i})}removeParentCancelHandler(){const t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}ai.CancellationToken=jR;class Wl extends Error{constructor(){super("cancelled")}}ai.CancellationError=Wl;var He={},Kl={exports:{}},oa={exports:{}},ol,tp;function MR(){if(tp)return ol;tp=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;ol=function(f,u){u=u||{};var h=typeof f;if(h==="string"&&f.length>0)return o(f);if(h==="number"&&isFinite(f))return u.long?c(f):a(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(u){var h=parseFloat(u[1]),m=(u[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(f){var u=Math.abs(f);return u>=n?Math.round(f/n)+"d":u>=r?Math.round(f/r)+"h":u>=t?Math.round(f/t)+"m":u>=e?Math.round(f/e)+"s":f+"ms"}function c(f){var u=Math.abs(f);return u>=n?l(f,u,n,"day"):u>=r?l(f,u,r,"hour"):u>=t?l(f,u,t,"minute"):u>=e?l(f,u,e,"second"):f+" ms"}function l(f,u,h,m){var y=u>=h*1.5;return Math.round(f/h)+" "+m+(y?"s":"")}return ol}var al,rp;function Ly(){if(rp)return al;rp=1;function e(t){n.debug=n,n.default=n,n.coerce=l,n.disable=o,n.enable=s,n.enabled=a,n.humanize=MR(),n.destroy=f,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function r(u){let h=0;for(let m=0;m<u.length;m++)h=(h<<5)-h+u.charCodeAt(m),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=r;function n(u){let h,m=null,y,E;function v(...g){if(!v.enabled)return;const p=v,S=Number(new Date),N=S-(h||S);p.diff=N,p.prev=h,p.curr=S,h=S,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let M=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(b,D)=>{if(b==="%%")return"%";M++;const O=n.formatters[D];if(typeof O=="function"){const V=g[M];b=O.call(p,V),g.splice(M,1),M--}return b}),n.formatArgs.call(p,g),(p.log||n.log).apply(p,g)}return v.namespace=u,v.useColors=n.useColors(),v.color=n.selectColor(u),v.extend=i,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(y!==n.namespaces&&(y=n.namespaces,E=n.enabled(u)),E),set:g=>{m=g}}),typeof n.init=="function"&&n.init(v),v}function i(u,h){const m=n(this.namespace+(typeof h>"u"?":":h)+u);return m.log=this.log,m}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let h;const m=(typeof u=="string"?u:"").split(/[\s,]+/),y=m.length;for(h=0;h<y;h++)m[h]&&(u=m[h].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function o(){const u=[...n.names.map(c),...n.skips.map(c).map(h=>"-"+h)].join(",");return n.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let h,m;for(h=0,m=n.skips.length;h<m;h++)if(n.skips[h].test(u))return!1;for(h=0,m=n.names.length;h<m;h++)if(n.names[h].test(u))return!0;return!1}function c(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return al=e,al}var np;function UR(){return np||(np=1,function(e,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=o(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let f=0,u=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(f++,h==="%c"&&(u=f))}),c.splice(u,0,l)}t.log=console.debug||console.log||(()=>{});function i(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function s(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function o(){try{return localStorage}catch{}}e.exports=Ly()(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}(oa,oa.exports)),oa.exports}var aa={exports:{}},cl,ip;function xR(){return ip||(ip=1,cl=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}),cl}var ll,sp;function qR(){if(sp)return ll;sp=1;const e=An,t=xR(),r=process.env;let n;t("no-color")||t("no-colors")||t("color=false")?n=!1:(t("color")||t("colors")||t("color=true")||t("color=always"))&&(n=!0),"FORCE_COLOR"in r&&(n=r.FORCE_COLOR.length===0||parseInt(r.FORCE_COLOR,10)!==0);function i(a){return a===0?!1:{level:a,hasBasic:!0,has256:a>=2,has16m:a>=3}}function s(a){if(n===!1)return 0;if(t("color=16m")||t("color=full")||t("color=truecolor"))return 3;if(t("color=256"))return 2;if(a&&!a.isTTY&&n!==!0)return 0;const c=n?1:0;if(process.platform==="win32"){const l=e.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(l=>l in r)||r.CI_NAME==="codeship"?1:c;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if(r.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in r){const l=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:(r.TERM==="dumb",c)}function o(a){const c=s(a);return i(c)}return ll={supportsColor:o,stdout:o(process.stdout),stderr:o(process.stderr)},ll}var op;function VR(){return op||(op=1,function(e,t){const r=Jv,n=es;t.init=f,t.log=a,t.formatArgs=s,t.save=c,t.load=l,t.useColors=i,t.destroy=n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const h=qR();h&&(h.stderr||h).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(process.env).filter(h=>/^debug_/i.test(h)).reduce((h,m)=>{const y=m.substring(6).toLowerCase().replace(/_([a-z])/g,(v,g)=>g.toUpperCase());let E=process.env[m];return/^(yes|on|true|enabled)$/i.test(E)?E=!0:/^(no|off|false|disabled)$/i.test(E)?E=!1:E==="null"?E=null:E=Number(E),h[y]=E,h},{});function i(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:r.isatty(process.stderr.fd)}function s(h){const{namespace:m,useColors:y}=this;if(y){const E=this.color,v="\x1B[3"+(E<8?E:"8;5;"+E),g=`  ${v};1m${m} \x1B[0m`;h[0]=g+h[0].split(`
`).join(`
`+g),h.push(v+"m+"+e.exports.humanize(this.diff)+"\x1B[0m")}else h[0]=o()+m+" "+h[0]}function o(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function a(...h){return process.stderr.write(n.format(...h)+`
`)}function c(h){h?process.env.DEBUG=h:delete process.env.DEBUG}function l(){return process.env.DEBUG}function f(h){h.inspectOpts={};const m=Object.keys(t.inspectOpts);for(let y=0;y<m.length;y++)h.inspectOpts[m[y]]=t.inspectOpts[m[y]]}e.exports=Ly()(t);const{formatters:u}=e.exports;u.o=function(h){return this.inspectOpts.colors=this.useColors,n.inspect(h,this.inspectOpts).split(`
`).map(m=>m.trim()).join(" ")},u.O=function(h){return this.inspectOpts.colors=this.useColors,n.inspect(h,this.inspectOpts)}}(aa,aa.exports)),aa.exports}typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Kl.exports=UR():Kl.exports=VR();var BR=Kl.exports,Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.ProgressCallbackTransform=void 0;const zR=ho;class HR extends zR.Transform{constructor(t,r,n){super(),this.total=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}}Oo.ProgressCallbackTransform=HR;var ap;function GR(){if(ap)return He;ap=1,Object.defineProperty(He,"__esModule",{value:!0}),He.safeStringifyJson=He.configureRequestOptions=He.safeGetHeader=He.DigestTransform=He.configureRequestUrl=He.configureRequestOptionsFromUrl=He.HttpExecutor=He.parseJson=He.HttpError=He.createHttpError=void 0;const e=ts,t=BR,r=Qe,n=ho,i=rs,s=ai,o=ot(),a=Oo,c=(0,t.default)("electron-builder");function l(T,b=null){return new u(T.statusCode||-1,`${T.statusCode} ${T.statusMessage}`+(b==null?"":`
`+JSON.stringify(b,null,"  "))+`
Headers: `+M(T.headers),b)}He.createHttpError=l;const f=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class u extends Error{constructor(b,D=`HTTP error: ${f.get(b)||b}`,O=null){super(D),this.statusCode=b,this.description=O,this.name="HttpError",this.code=`HTTP_ERROR_${b}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}He.HttpError=u;function h(T){return T.then(b=>b==null||b.length===0?null:JSON.parse(b))}He.parseJson=h;class m{constructor(){this.maxRedirects=10}request(b,D=new s.CancellationToken,O){N(b);const V=O==null?void 0:JSON.stringify(O),Y=V?Buffer.from(V):void 0;if(Y!=null){c(V);const{headers:H,...W}=b;b={method:"post",headers:{"Content-Type":"application/json","Content-Length":Y.length,...H},...W}}return this.doApiRequest(b,D,H=>H.end(Y))}doApiRequest(b,D,O,V=0){return c.enabled&&c(`Request: ${M(b)}`),D.createPromise((Y,H,W)=>{const G=this.createRequest(b,Q=>{try{this.handleResponse(Q,b,D,Y,H,V,O)}catch(Z){H(Z)}});this.addErrorAndTimeoutHandlers(G,H,b.timeout),this.addRedirectHandlers(G,b,H,V,Q=>{this.doApiRequest(Q,D,O,V).then(Y).catch(H)}),O(G,H),W(()=>G.abort())})}addRedirectHandlers(b,D,O,V,Y){}addErrorAndTimeoutHandlers(b,D,O=60*1e3){this.addTimeOutHandler(b,D,O),b.on("error",D),b.on("aborted",()=>{D(new Error("Request has been aborted by the server"))})}handleResponse(b,D,O,V,Y,H,W){var G;if(c.enabled&&c(`Response: ${b.statusCode} ${b.statusMessage}, request options: ${M(D)}`),b.statusCode===404){Y(l(b,`method: ${D.method||"GET"} url: ${D.protocol||"https:"}//${D.hostname}${D.port?`:${D.port}`:""}${D.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(b.statusCode===204){V();return}const Q=(G=b.statusCode)!==null&&G!==void 0?G:0,Z=Q>=300&&Q<400,K=p(b,"location");if(Z&&K!=null){if(H>this.maxRedirects){Y(this.createMaxRedirectError());return}this.doApiRequest(m.prepareRedirectUrlOptions(K,D),O,W,H).then(V).catch(Y);return}b.setEncoding("utf8");let I="";b.on("error",Y),b.on("data",j=>I+=j),b.on("end",()=>{try{if(b.statusCode!=null&&b.statusCode>=400){const j=p(b,"content-type"),A=j!=null&&(Array.isArray(j)?j.find(w=>w.includes("json"))!=null:j.includes("json"));Y(l(b,`method: ${D.method||"GET"} url: ${D.protocol||"https:"}//${D.hostname}${D.port?`:${D.port}`:""}${D.path}

          Data:
          ${A?JSON.stringify(JSON.parse(I)):I}
          `))}else V(I.length===0?null:I)}catch(j){Y(j)}})}async downloadToBuffer(b,D){return await D.cancellationToken.createPromise((O,V,Y)=>{const H=[],W={headers:D.headers||void 0,redirect:"manual"};E(b,W),N(W),this.doDownload(W,{destination:null,options:D,onCancel:Y,callback:G=>{G==null?O(Buffer.concat(H)):V(G)},responseHandler:(G,Q)=>{let Z=0;G.on("data",K=>{if(Z+=K.length,Z>524288e3){Q(new Error("Maximum allowed size is 500 MB"));return}H.push(K)}),G.on("end",()=>{Q(null)})}},0)})}doDownload(b,D,O){const V=this.createRequest(b,Y=>{if(Y.statusCode>=400){D.callback(new Error(`Cannot download "${b.protocol||"https:"}//${b.hostname}${b.path}", status ${Y.statusCode}: ${Y.statusMessage}`));return}Y.on("error",D.callback);const H=p(Y,"location");if(H!=null){O<this.maxRedirects?this.doDownload(m.prepareRedirectUrlOptions(H,b),D,O++):D.callback(this.createMaxRedirectError());return}D.responseHandler==null?S(D,Y):D.responseHandler(Y,D.callback)});this.addErrorAndTimeoutHandlers(V,D.callback,b.timeout),this.addRedirectHandlers(V,b,D.callback,O,Y=>{this.doDownload(Y,D,O++)}),V.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(b,D,O){b.on("socket",V=>{V.setTimeout(O,()=>{b.abort(),D(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(b,D){const O=y(b,{...D}),V=O.headers;if(V!=null&&V.authorization){const Y=new i.URL(b);(Y.hostname.endsWith(".amazonaws.com")||Y.searchParams.has("X-Amz-Credential"))&&delete V.authorization}return O}static retryOnServerError(b,D=3){for(let O=0;;O++)try{return b()}catch(V){if(O<D&&(V instanceof u&&V.isServerError()||V.code==="EPIPE"))continue;throw V}}}He.HttpExecutor=m;function y(T,b){const D=N(b);return E(new i.URL(T),D),D}He.configureRequestOptionsFromUrl=y;function E(T,b){b.protocol=T.protocol,b.hostname=T.hostname,T.port?b.port=T.port:b.port&&delete b.port,b.path=T.pathname+T.search}He.configureRequestUrl=E;class v extends n.Transform{get actual(){return this._actual}constructor(b,D="sha512",O="base64"){super(),this.expected=b,this.algorithm=D,this.encoding=O,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,e.createHash)(D)}_transform(b,D,O){this.digester.update(b),O(null,b)}_flush(b){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(D){b(D);return}b(null)}validate(){if(this._actual==null)throw(0,o.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,o.newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}He.DigestTransform=v;function g(T,b,D){return T!=null&&b!=null&&T!==b?(D(new Error(`checksum mismatch: expected ${b} but got ${T} (X-Checksum-Sha2 header)`)),!1):!0}function p(T,b){const D=T.headers[b];return D==null?null:Array.isArray(D)?D.length===0?null:D[D.length-1]:D}He.safeGetHeader=p;function S(T,b){if(!g(p(b,"X-Checksum-Sha2"),T.options.sha2,T.callback))return;const D=[];if(T.options.onProgress!=null){const H=p(b,"content-length");H!=null&&D.push(new a.ProgressCallbackTransform(parseInt(H,10),T.options.cancellationToken,T.options.onProgress))}const O=T.options.sha512;O!=null?D.push(new v(O,"sha512",O.length===128&&!O.includes("+")&&!O.includes("Z")&&!O.includes("=")?"hex":"base64")):T.options.sha2!=null&&D.push(new v(T.options.sha2,"sha256","hex"));const V=(0,r.createWriteStream)(T.destination);D.push(V);let Y=b;for(const H of D)H.on("error",W=>{V.close(),T.options.cancellationToken.cancelled||T.callback(W)}),Y=Y.pipe(H);V.on("finish",()=>{V.close(T.callback)})}function N(T,b,D){D!=null&&(T.method=D),T.headers={...T.headers};const O=T.headers;return b!=null&&(O.authorization=b.startsWith("Basic")||b.startsWith("Bearer")?b:`token ${b}`),O["User-Agent"]==null&&(O["User-Agent"]="electron-builder"),(D==null||D==="GET"||O["Cache-Control"]==null)&&(O["Cache-Control"]="no-cache"),T.protocol==null&&process.versions.electron!=null&&(T.protocol="https:"),T}He.configureRequestOptions=N;function M(T,b){return JSON.stringify(T,(D,O)=>D.endsWith("Authorization")||D.endsWith("authorization")||D.endsWith("Password")||D.endsWith("PASSWORD")||D.endsWith("Token")||D.includes("password")||D.includes("token")||b!=null&&b.has(D)?"<stripped sensitive data>":O,2)}return He.safeStringifyJson=M,He}var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.getS3LikeProviderBaseUrl=Gi.githubUrl=void 0;function WR(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`}Gi.githubUrl=WR;function KR(e){const t=e.provider;if(t==="s3")return YR(e);if(t==="spaces")return JR(e);throw new Error(`Not supported provider: ${t}`)}Gi.getS3LikeProviderBaseUrl=KR;function YR(e){let t;if(e.accelerate==!0)t=`https://${e.bucket}.s3-accelerate.amazonaws.com`;else if(e.endpoint!=null)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(e.region==null)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);e.region==="us-east-1"?t=`https://s3.amazonaws.com/${e.bucket}`:t=`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else e.region==="cn-north-1"?t=`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:t=`https://${e.bucket}.s3.amazonaws.com`;return jy(t,e.path)}function jy(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function JR(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return jy(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.parseDn=void 0;function XR(e){let t=!1,r=null,n="",i=0;e=e.trim();const s=new Map;for(let o=0;o<=e.length;o++){if(o===e.length){r!==null&&s.set(r,n);break}const a=e[o];if(t){if(a==='"'){t=!1;continue}}else{if(a==='"'){t=!0;continue}if(a==="\\"){o++;const c=parseInt(e.slice(o,o+2),16);Number.isNaN(c)?n+=e[o]:(o++,n+=String.fromCharCode(c));continue}if(r===null&&a==="="){r=n,n="";continue}if(a===","||a===";"||a==="+"){r!==null&&s.set(r,n),r=null,n="";continue}}if(a===" "&&!t){if(n.length===0)continue;if(o>i){let c=o;for(;e[c]===" ";)c++;i=c}if(i>=e.length||e[i]===","||e[i]===";"||r===null&&e[i]==="="||r!==null&&e[i]==="+"){o=i-1;continue}}n+=a}return s}pc.parseDn=XR;var Mn={},cp;function QR(){if(cp)return Mn;cp=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.nil=Mn.UUID=void 0;const e=ts,t=ot(),r="options.name must be either a string or a Buffer",n=(0,e.randomBytes)(16);n[0]=n[0]|1;const i={},s=[];for(let u=0;u<256;u++){const h=(u+256).toString(16).substr(1);i[h]=u,s[u]=h}class o{constructor(h){this.ascii=null,this.binary=null;const m=o.check(h);if(!m)throw new Error("not a UUID");this.version=m.version,m.format==="ascii"?this.ascii=h:this.binary=h}static v5(h,m){return l(h,"sha1",80,m)}toString(){return this.ascii==null&&(this.ascii=f(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(h,m=0){if(typeof h=="string")return h=h.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(h)?h==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(i[h[14]+h[15]]&240)>>4,variant:a((i[h[19]+h[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(h)){if(h.length<m+16)return!1;let y=0;for(;y<16&&h[m+y]===0;y++);return y===16?{version:void 0,variant:"nil",format:"binary"}:{version:(h[m+6]&240)>>4,variant:a((h[m+8]&224)>>5),format:"binary"}}throw(0,t.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(h){const m=Buffer.allocUnsafe(16);let y=0;for(let E=0;E<16;E++)m[E]=i[h[y++]+h[y++]],(E===3||E===5||E===7||E===9)&&(y+=1);return m}}Mn.UUID=o,o.OID=o.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function a(u){switch(u){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var c;(function(u){u[u.ASCII=0]="ASCII",u[u.BINARY=1]="BINARY",u[u.OBJECT=2]="OBJECT"})(c||(c={}));function l(u,h,m,y,E=c.ASCII){const v=(0,e.createHash)(h);if(typeof u!="string"&&!Buffer.isBuffer(u))throw(0,t.newError)(r,"ERR_INVALID_UUID_NAME");v.update(y),v.update(u);const p=v.digest();let S;switch(E){case c.BINARY:p[6]=p[6]&15|m,p[8]=p[8]&63|128,S=p;break;case c.OBJECT:p[6]=p[6]&15|m,p[8]=p[8]&63|128,S=new o(p);break;default:S=s[p[0]]+s[p[1]]+s[p[2]]+s[p[3]]+"-"+s[p[4]]+s[p[5]]+"-"+s[p[6]&15|m]+s[p[7]]+"-"+s[p[8]&63|128]+s[p[9]]+"-"+s[p[10]]+s[p[11]]+s[p[12]]+s[p[13]]+s[p[14]]+s[p[15]];break}return S}function f(u){return s[u[0]]+s[u[1]]+s[u[2]]+s[u[3]]+"-"+s[u[4]]+s[u[5]]+"-"+s[u[6]]+s[u[7]]+"-"+s[u[8]]+s[u[9]]+"-"+s[u[10]]+s[u[11]]+s[u[12]]+s[u[13]]+s[u[14]]+s[u[15]]}return Mn.nil=new o("00000000-0000-0000-0000-000000000000"),Mn}var Un={},My={};(function(e){(function(t){t.parser=function(P,_){return new n(P,_)},t.SAXParser=n,t.SAXStream=f,t.createStream=l,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(P,_){if(!(this instanceof n))return new n(P,_);var z=this;s(z),z.q=z.c="",z.bufferCheckPosition=t.MAX_BUFFER_LENGTH,z.opt=_||{},z.opt.lowercase=z.opt.lowercase||z.opt.lowercasetags,z.looseCase=z.opt.lowercase?"toLowerCase":"toUpperCase",z.tags=[],z.closed=z.closedRoot=z.sawRoot=!1,z.tag=z.error=null,z.strict=!!P,z.noscript=!!(P||z.opt.noscript),z.state=O.BEGIN,z.strictEntities=z.opt.strictEntities,z.ENTITIES=z.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),z.attribList=[],z.opt.xmlns&&(z.ns=Object.create(E)),z.trackPosition=z.opt.position!==!1,z.trackPosition&&(z.position=z.line=z.column=0),Y(z,"onready")}Object.create||(Object.create=function(P){function _(){}_.prototype=P;var z=new _;return z}),Object.keys||(Object.keys=function(P){var _=[];for(var z in P)P.hasOwnProperty(z)&&_.push(z);return _});function i(P){for(var _=Math.max(t.MAX_BUFFER_LENGTH,10),z=0,U=0,te=r.length;U<te;U++){var fe=P[r[U]].length;if(fe>_)switch(r[U]){case"textNode":W(P);break;case"cdata":H(P,"oncdata",P.cdata),P.cdata="";break;case"script":H(P,"onscript",P.script),P.script="";break;default:Q(P,"Max buffer length exceeded: "+r[U])}z=Math.max(z,fe)}var Se=t.MAX_BUFFER_LENGTH-z;P.bufferCheckPosition=Se+P.position}function s(P){for(var _=0,z=r.length;_<z;_++)P[r[_]]=""}function o(P){W(P),P.cdata!==""&&(H(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(H(P,"onscript",P.script),P.script="")}n.prototype={end:function(){Z(this)},write:L,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=require("stream").Stream}catch{a=function(){}}a||(a=function(){});var c=t.EVENTS.filter(function(P){return P!=="error"&&P!=="end"});function l(P,_){return new f(P,_)}function f(P,_){if(!(this instanceof f))return new f(P,_);a.apply(this),this._parser=new n(P,_),this.writable=!0,this.readable=!0;var z=this;this._parser.onend=function(){z.emit("end")},this._parser.onerror=function(U){z.emit("error",U),z._parser.error=null},this._decoder=null,c.forEach(function(U){Object.defineProperty(z,"on"+U,{get:function(){return z._parser["on"+U]},set:function(te){if(!te)return z.removeAllListeners(U),z._parser["on"+U]=te,te;z.on(U,te)},enumerable:!0,configurable:!1})})}f.prototype=Object.create(a.prototype,{constructor:{value:f}}),f.prototype.write=function(P){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(P)){if(!this._decoder){var _=Xv.StringDecoder;this._decoder=new _("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},f.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},f.prototype.on=function(P,_){var z=this;return!z._parser["on"+P]&&c.indexOf(P)!==-1&&(z._parser["on"+P]=function(){var U=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);U.splice(0,0,P),z.emit.apply(z,U)}),a.prototype.on.call(z,P,_)};var u="[CDATA[",h="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",E={xml:m,xmlns:y},v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(P){return P===" "||P===`
`||P==="\r"||P==="	"}function M(P){return P==='"'||P==="'"}function T(P){return P===">"||N(P)}function b(P,_){return P.test(_)}function D(P,_){return!b(P,_)}var O=0;t.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(P){var _=t.ENTITIES[P],z=typeof _=="number"?String.fromCharCode(_):_;t.ENTITIES[P]=z});for(var V in t.STATE)t.STATE[t.STATE[V]]=V;O=t.STATE;function Y(P,_,z){P[_]&&P[_](z)}function H(P,_,z){P.textNode&&W(P),Y(P,_,z)}function W(P){P.textNode=G(P.opt,P.textNode),P.textNode&&Y(P,"ontext",P.textNode),P.textNode=""}function G(P,_){return P.trim&&(_=_.trim()),P.normalize&&(_=_.replace(/\s+/g," ")),_}function Q(P,_){return W(P),P.trackPosition&&(_+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),_=new Error(_),P.error=_,Y(P,"onerror",_),P}function Z(P){return P.sawRoot&&!P.closedRoot&&K(P,"Unclosed root tag"),P.state!==O.BEGIN&&P.state!==O.BEGIN_WHITESPACE&&P.state!==O.TEXT&&Q(P,"Unexpected end"),W(P),P.c="",P.closed=!0,Y(P,"onend"),n.call(P,P.strict,P.opt),P}function K(P,_){if(typeof P!="object"||!(P instanceof n))throw new Error("bad call to strictFail");P.strict&&Q(P,_)}function I(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var _=P.tags[P.tags.length-1]||P,z=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(z.ns=_.ns),P.attribList.length=0,H(P,"onopentagstart",z)}function j(P,_){var z=P.indexOf(":"),U=z<0?["",P]:P.split(":"),te=U[0],fe=U[1];return _&&P==="xmlns"&&(te="xmlns",fe=""),{prefix:te,local:fe}}function A(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName)){P.attribName=P.attribValue="";return}if(P.opt.xmlns){var _=j(P.attribName,!0),z=_.prefix,U=_.local;if(z==="xmlns")if(U==="xml"&&P.attribValue!==m)K(P,"xml: prefix must be bound to "+m+`
Actual: `+P.attribValue);else if(U==="xmlns"&&P.attribValue!==y)K(P,"xmlns: prefix must be bound to "+y+`
Actual: `+P.attribValue);else{var te=P.tag,fe=P.tags[P.tags.length-1]||P;te.ns===fe.ns&&(te.ns=Object.create(fe.ns)),te.ns[U]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,H(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}function w(P,_){if(P.opt.xmlns){var z=P.tag,U=j(P.tagName);z.prefix=U.prefix,z.local=U.local,z.uri=z.ns[U.prefix]||"",z.prefix&&!z.uri&&(K(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),z.uri=U.prefix);var te=P.tags[P.tags.length-1]||P;z.ns&&te.ns!==z.ns&&Object.keys(z.ns).forEach(function(at){H(P,"onopennamespace",{prefix:at,uri:z.ns[at]})});for(var fe=0,Se=P.attribList.length;fe<Se;fe++){var De=P.attribList[fe],qe=De[0],ke=De[1],Ne=j(qe,!0),Ye=Ne.prefix,xt=Ne.local,At=Ye===""?"":z.ns[Ye]||"",Ct={name:qe,value:ke,prefix:Ye,local:xt,uri:At};Ye&&Ye!=="xmlns"&&!At&&(K(P,"Unbound namespace prefix: "+JSON.stringify(Ye)),Ct.uri=Ye),P.tag.attributes[qe]=Ct,H(P,"onattribute",Ct)}P.attribList.length=0}P.tag.isSelfClosing=!!_,P.sawRoot=!0,P.tags.push(P.tag),H(P,"onopentag",P.tag),_||(!P.noscript&&P.tagName.toLowerCase()==="script"?P.state=O.SCRIPT:P.state=O.TEXT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function R(P){if(!P.tagName){K(P,"Weird empty close tag."),P.textNode+="</>",P.state=O.TEXT;return}if(P.script){if(P.tagName!=="script"){P.script+="</"+P.tagName+">",P.tagName="",P.state=O.SCRIPT;return}H(P,"onscript",P.script),P.script=""}var _=P.tags.length,z=P.tagName;P.strict||(z=z[P.looseCase]());for(var U=z;_--;){var te=P.tags[_];if(te.name!==U)K(P,"Unexpected close tag");else break}if(_<0){K(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",P.state=O.TEXT;return}P.tagName=z;for(var fe=P.tags.length;fe-- >_;){var Se=P.tag=P.tags.pop();P.tagName=P.tag.name,H(P,"onclosetag",P.tagName);var De={};for(var qe in Se.ns)De[qe]=Se.ns[qe];var ke=P.tags[P.tags.length-1]||P;P.opt.xmlns&&Se.ns!==ke.ns&&Object.keys(Se.ns).forEach(function(Ne){var Ye=Se.ns[Ne];H(P,"onclosenamespace",{prefix:Ne,uri:Ye})})}_===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=O.TEXT}function C(P){var _=P.entity,z=_.toLowerCase(),U,te="";return P.ENTITIES[_]?P.ENTITIES[_]:P.ENTITIES[z]?P.ENTITIES[z]:(_=z,_.charAt(0)==="#"&&(_.charAt(1)==="x"?(_=_.slice(2),U=parseInt(_,16),te=U.toString(16)):(_=_.slice(1),U=parseInt(_,10),te=U.toString(10))),_=_.replace(/^0+/,""),isNaN(U)||te.toLowerCase()!==_?(K(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint(U))}function d(P,_){_==="<"?(P.state=O.OPEN_WAKA,P.startTagPosition=P.position):N(_)||(K(P,"Non-whitespace before first tag."),P.textNode=_,P.state=O.TEXT)}function $(P,_){var z="";return _<P.length&&(z=P.charAt(_)),z}function L(P){var _=this;if(this.error)throw this.error;if(_.closed)return Q(_,"Cannot write after close. Assign an onready handler.");if(P===null)return Z(_);typeof P=="object"&&(P=P.toString());for(var z=0,U="";U=$(P,z++),_.c=U,!!U;)switch(_.trackPosition&&(_.position++,U===`
`?(_.line++,_.column=0):_.column++),_.state){case O.BEGIN:if(_.state=O.BEGIN_WHITESPACE,U==="\uFEFF")continue;d(_,U);continue;case O.BEGIN_WHITESPACE:d(_,U);continue;case O.TEXT:if(_.sawRoot&&!_.closedRoot){for(var te=z-1;U&&U!=="<"&&U!=="&";)U=$(P,z++),U&&_.trackPosition&&(_.position++,U===`
`?(_.line++,_.column=0):_.column++);_.textNode+=P.substring(te,z-1)}U==="<"&&!(_.sawRoot&&_.closedRoot&&!_.strict)?(_.state=O.OPEN_WAKA,_.startTagPosition=_.position):(!N(U)&&(!_.sawRoot||_.closedRoot)&&K(_,"Text data outside of root node."),U==="&"?_.state=O.TEXT_ENTITY:_.textNode+=U);continue;case O.SCRIPT:U==="<"?_.state=O.SCRIPT_ENDING:_.script+=U;continue;case O.SCRIPT_ENDING:U==="/"?_.state=O.CLOSE_TAG:(_.script+="<"+U,_.state=O.SCRIPT);continue;case O.OPEN_WAKA:if(U==="!")_.state=O.SGML_DECL,_.sgmlDecl="";else if(!N(U))if(b(v,U))_.state=O.OPEN_TAG,_.tagName=U;else if(U==="/")_.state=O.CLOSE_TAG,_.tagName="";else if(U==="?")_.state=O.PROC_INST,_.procInstName=_.procInstBody="";else{if(K(_,"Unencoded <"),_.startTagPosition+1<_.position){var fe=_.position-_.startTagPosition;U=new Array(fe).join(" ")+U}_.textNode+="<"+U,_.state=O.TEXT}continue;case O.SGML_DECL:(_.sgmlDecl+U).toUpperCase()===u?(H(_,"onopencdata"),_.state=O.CDATA,_.sgmlDecl="",_.cdata=""):_.sgmlDecl+U==="--"?(_.state=O.COMMENT,_.comment="",_.sgmlDecl=""):(_.sgmlDecl+U).toUpperCase()===h?(_.state=O.DOCTYPE,(_.doctype||_.sawRoot)&&K(_,"Inappropriately located doctype declaration"),_.doctype="",_.sgmlDecl=""):U===">"?(H(_,"onsgmldeclaration",_.sgmlDecl),_.sgmlDecl="",_.state=O.TEXT):(M(U)&&(_.state=O.SGML_DECL_QUOTED),_.sgmlDecl+=U);continue;case O.SGML_DECL_QUOTED:U===_.q&&(_.state=O.SGML_DECL,_.q=""),_.sgmlDecl+=U;continue;case O.DOCTYPE:U===">"?(_.state=O.TEXT,H(_,"ondoctype",_.doctype),_.doctype=!0):(_.doctype+=U,U==="["?_.state=O.DOCTYPE_DTD:M(U)&&(_.state=O.DOCTYPE_QUOTED,_.q=U));continue;case O.DOCTYPE_QUOTED:_.doctype+=U,U===_.q&&(_.q="",_.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:_.doctype+=U,U==="]"?_.state=O.DOCTYPE:M(U)&&(_.state=O.DOCTYPE_DTD_QUOTED,_.q=U);continue;case O.DOCTYPE_DTD_QUOTED:_.doctype+=U,U===_.q&&(_.state=O.DOCTYPE_DTD,_.q="");continue;case O.COMMENT:U==="-"?_.state=O.COMMENT_ENDING:_.comment+=U;continue;case O.COMMENT_ENDING:U==="-"?(_.state=O.COMMENT_ENDED,_.comment=G(_.opt,_.comment),_.comment&&H(_,"oncomment",_.comment),_.comment=""):(_.comment+="-"+U,_.state=O.COMMENT);continue;case O.COMMENT_ENDED:U!==">"?(K(_,"Malformed comment"),_.comment+="--"+U,_.state=O.COMMENT):_.state=O.TEXT;continue;case O.CDATA:U==="]"?_.state=O.CDATA_ENDING:_.cdata+=U;continue;case O.CDATA_ENDING:U==="]"?_.state=O.CDATA_ENDING_2:(_.cdata+="]"+U,_.state=O.CDATA);continue;case O.CDATA_ENDING_2:U===">"?(_.cdata&&H(_,"oncdata",_.cdata),H(_,"onclosecdata"),_.cdata="",_.state=O.TEXT):U==="]"?_.cdata+="]":(_.cdata+="]]"+U,_.state=O.CDATA);continue;case O.PROC_INST:U==="?"?_.state=O.PROC_INST_ENDING:N(U)?_.state=O.PROC_INST_BODY:_.procInstName+=U;continue;case O.PROC_INST_BODY:if(!_.procInstBody&&N(U))continue;U==="?"?_.state=O.PROC_INST_ENDING:_.procInstBody+=U;continue;case O.PROC_INST_ENDING:U===">"?(H(_,"onprocessinginstruction",{name:_.procInstName,body:_.procInstBody}),_.procInstName=_.procInstBody="",_.state=O.TEXT):(_.procInstBody+="?"+U,_.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:b(g,U)?_.tagName+=U:(I(_),U===">"?w(_):U==="/"?_.state=O.OPEN_TAG_SLASH:(N(U)||K(_,"Invalid character in tag name"),_.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:U===">"?(w(_,!0),R(_)):(K(_,"Forward-slash in opening tag not followed by >"),_.state=O.ATTRIB);continue;case O.ATTRIB:if(N(U))continue;U===">"?w(_):U==="/"?_.state=O.OPEN_TAG_SLASH:b(v,U)?(_.attribName=U,_.attribValue="",_.state=O.ATTRIB_NAME):K(_,"Invalid attribute name");continue;case O.ATTRIB_NAME:U==="="?_.state=O.ATTRIB_VALUE:U===">"?(K(_,"Attribute without value"),_.attribValue=_.attribName,A(_),w(_)):N(U)?_.state=O.ATTRIB_NAME_SAW_WHITE:b(g,U)?_.attribName+=U:K(_,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if(U==="=")_.state=O.ATTRIB_VALUE;else{if(N(U))continue;K(_,"Attribute without value"),_.tag.attributes[_.attribName]="",_.attribValue="",H(_,"onattribute",{name:_.attribName,value:""}),_.attribName="",U===">"?w(_):b(v,U)?(_.attribName=U,_.state=O.ATTRIB_NAME):(K(_,"Invalid attribute name"),_.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:if(N(U))continue;M(U)?(_.q=U,_.state=O.ATTRIB_VALUE_QUOTED):(K(_,"Unquoted attribute value"),_.state=O.ATTRIB_VALUE_UNQUOTED,_.attribValue=U);continue;case O.ATTRIB_VALUE_QUOTED:if(U!==_.q){U==="&"?_.state=O.ATTRIB_VALUE_ENTITY_Q:_.attribValue+=U;continue}A(_),_.q="",_.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:N(U)?_.state=O.ATTRIB:U===">"?w(_):U==="/"?_.state=O.OPEN_TAG_SLASH:b(v,U)?(K(_,"No whitespace between attributes"),_.attribName=U,_.attribValue="",_.state=O.ATTRIB_NAME):K(_,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(!T(U)){U==="&"?_.state=O.ATTRIB_VALUE_ENTITY_U:_.attribValue+=U;continue}A(_),U===">"?w(_):_.state=O.ATTRIB;continue;case O.CLOSE_TAG:if(_.tagName)U===">"?R(_):b(g,U)?_.tagName+=U:_.script?(_.script+="</"+_.tagName,_.tagName="",_.state=O.SCRIPT):(N(U)||K(_,"Invalid tagname in closing tag"),_.state=O.CLOSE_TAG_SAW_WHITE);else{if(N(U))continue;D(v,U)?_.script?(_.script+="</"+U,_.state=O.SCRIPT):K(_,"Invalid tagname in closing tag."):_.tagName=U}continue;case O.CLOSE_TAG_SAW_WHITE:if(N(U))continue;U===">"?R(_):K(_,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:var Se,De;switch(_.state){case O.TEXT_ENTITY:Se=O.TEXT,De="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:Se=O.ATTRIB_VALUE_QUOTED,De="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:Se=O.ATTRIB_VALUE_UNQUOTED,De="attribValue";break}if(U===";")if(_.opt.unparsedEntities){var qe=C(_);_.entity="",_.state=Se,_.write(qe)}else _[De]+=C(_),_.entity="",_.state=Se;else b(_.entity.length?S:p,U)?_.entity+=U:(K(_,"Invalid character in entity name"),_[De]+="&"+_.entity+U,_.entity="",_.state=Se);continue;default:throw new Error(_,"Unknown state: "+_.state)}return _.position>=_.bufferCheckPosition&&i(_),_}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var P=String.fromCharCode,_=Math.floor,z=function(){var U=16384,te=[],fe,Se,De=-1,qe=arguments.length;if(!qe)return"";for(var ke="";++De<qe;){var Ne=Number(arguments[De]);if(!isFinite(Ne)||Ne<0||Ne>1114111||_(Ne)!==Ne)throw RangeError("Invalid code point: "+Ne);Ne<=65535?te.push(Ne):(Ne-=65536,fe=(Ne>>10)+55296,Se=Ne%1024+56320,te.push(fe,Se)),(De+1===qe||te.length>U)&&(ke+=P.apply(null,te),te.length=0)}return ke};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:z,configurable:!0,writable:!0}):String.fromCodePoint=z}()})(e)})(My);var lp;function ZR(){if(lp)return Un;lp=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.parseXml=Un.XElement=void 0;const e=My,t=ot();class r{constructor(c){if(this.name=c,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!c)throw(0,t.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!i(c))throw(0,t.newError)(`Invalid element name: ${c}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(c){const l=this.attributes===null?null:this.attributes[c];if(l==null)throw(0,t.newError)(`No attribute "${c}"`,"ERR_XML_MISSED_ATTRIBUTE");return l}removeAttribute(c){this.attributes!==null&&delete this.attributes[c]}element(c,l=!1,f=null){const u=this.elementOrNull(c,l);if(u===null)throw(0,t.newError)(f||`No element "${c}"`,"ERR_XML_MISSED_ELEMENT");return u}elementOrNull(c,l=!1){if(this.elements===null)return null;for(const f of this.elements)if(s(f,c,l))return f;return null}getElements(c,l=!1){return this.elements===null?[]:this.elements.filter(f=>s(f,c,l))}elementValueOrEmpty(c,l=!1){const f=this.elementOrNull(c,l);return f===null?"":f.value}}Un.XElement=r;const n=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function i(a){return n.test(a)}function s(a,c,l){const f=a.name;return f===c||l===!0&&f.length===c.length&&f.toLowerCase()===c.toLowerCase()}function o(a){let c=null;const l=e.parser(!0,{}),f=[];return l.onopentag=u=>{const h=new r(u.name);if(h.attributes=u.attributes,c===null)c=h;else{const m=f[f.length-1];m.elements==null&&(m.elements=[]),m.elements.push(h)}f.push(h)},l.onclosetag=()=>{f.pop()},l.ontext=u=>{f.length>0&&(f[f.length-1].value=u)},l.oncdata=u=>{const h=f[f.length-1];h.value=u,h.isCData=!0},l.onerror=u=>{throw u},l.write(a),c}return Un.parseXml=o,Un}var up;function ot(){return up||(up=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.newError=e.asArray=e.CURRENT_APP_PACKAGE_FILE_NAME=e.CURRENT_APP_INSTALLER_FILE_NAME=e.XElement=e.parseXml=e.ProgressCallbackTransform=e.UUID=e.parseDn=e.githubUrl=e.getS3LikeProviderBaseUrl=e.configureRequestUrl=e.parseJson=e.safeStringifyJson=e.configureRequestOptionsFromUrl=e.configureRequestOptions=e.safeGetHeader=e.DigestTransform=e.HttpExecutor=e.createHttpError=e.HttpError=e.CancellationError=e.CancellationToken=void 0;var t=ai;Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}}),Object.defineProperty(e,"CancellationError",{enumerable:!0,get:function(){return t.CancellationError}});var r=GR();Object.defineProperty(e,"HttpError",{enumerable:!0,get:function(){return r.HttpError}}),Object.defineProperty(e,"createHttpError",{enumerable:!0,get:function(){return r.createHttpError}}),Object.defineProperty(e,"HttpExecutor",{enumerable:!0,get:function(){return r.HttpExecutor}}),Object.defineProperty(e,"DigestTransform",{enumerable:!0,get:function(){return r.DigestTransform}}),Object.defineProperty(e,"safeGetHeader",{enumerable:!0,get:function(){return r.safeGetHeader}}),Object.defineProperty(e,"configureRequestOptions",{enumerable:!0,get:function(){return r.configureRequestOptions}}),Object.defineProperty(e,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return r.configureRequestOptionsFromUrl}}),Object.defineProperty(e,"safeStringifyJson",{enumerable:!0,get:function(){return r.safeStringifyJson}}),Object.defineProperty(e,"parseJson",{enumerable:!0,get:function(){return r.parseJson}}),Object.defineProperty(e,"configureRequestUrl",{enumerable:!0,get:function(){return r.configureRequestUrl}});var n=Gi;Object.defineProperty(e,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return n.getS3LikeProviderBaseUrl}}),Object.defineProperty(e,"githubUrl",{enumerable:!0,get:function(){return n.githubUrl}});var i=pc;Object.defineProperty(e,"parseDn",{enumerable:!0,get:function(){return i.parseDn}});var s=QR();Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return s.UUID}});var o=Oo;Object.defineProperty(e,"ProgressCallbackTransform",{enumerable:!0,get:function(){return o.ProgressCallbackTransform}});var a=ZR();Object.defineProperty(e,"parseXml",{enumerable:!0,get:function(){return a.parseXml}}),Object.defineProperty(e,"XElement",{enumerable:!0,get:function(){return a.XElement}}),e.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",e.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function c(f){return f==null?[]:Array.isArray(f)?f:[f]}e.asArray=c;function l(f,u){const h=new Error(f);return h.code=u,h}e.newError=l}(sl)),sl}var li={},jt={};jt.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,s)=>i!=null?n(i):r(s)),e.apply(this,t)})},"name",{value:e.name})};jt.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var fn=Qv,eI=process.cwd,Sa=null,tI=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Sa||(Sa=eI.call(process)),Sa};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var fp=process.chdir;process.chdir=function(e){Sa=null,fp.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,fp)}var rI=nI;function nI(e){fn.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(f,u,h){h&&process.nextTick(h)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(f,u,h,m){m&&process.nextTick(m)},e.lchownSync=function(){}),tI==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(f){function u(h,m,y){var E=Date.now(),v=0;f(h,m,function g(p){if(p&&(p.code==="EACCES"||p.code==="EPERM"||p.code==="EBUSY")&&Date.now()-E<6e4){setTimeout(function(){e.stat(m,function(S,N){S&&S.code==="ENOENT"?f(h,m,g):y(p)})},v),v<100&&(v+=10);return}y&&y(p)})}return Object.setPrototypeOf&&Object.setPrototypeOf(u,f),u}(e.rename)),e.read=typeof e.read!="function"?e.read:function(f){function u(h,m,y,E,v,g){var p;if(g&&typeof g=="function"){var S=0;p=function(N,M,T){if(N&&N.code==="EAGAIN"&&S<10)return S++,f.call(e,h,m,y,E,v,p);g.apply(this,arguments)}}return f.call(e,h,m,y,E,v,p)}return Object.setPrototypeOf&&Object.setPrototypeOf(u,f),u}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(f){return function(u,h,m,y,E){for(var v=0;;)try{return f.call(e,u,h,m,y,E)}catch(g){if(g.code==="EAGAIN"&&v<10){v++;continue}throw g}}}(e.readSync);function t(f){f.lchmod=function(u,h,m){f.open(u,fn.O_WRONLY|fn.O_SYMLINK,h,function(y,E){if(y){m&&m(y);return}f.fchmod(E,h,function(v){f.close(E,function(g){m&&m(v||g)})})})},f.lchmodSync=function(u,h){var m=f.openSync(u,fn.O_WRONLY|fn.O_SYMLINK,h),y=!0,E;try{E=f.fchmodSync(m,h),y=!1}finally{if(y)try{f.closeSync(m)}catch{}else f.closeSync(m)}return E}}function r(f){fn.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(u,h,m,y){f.open(u,fn.O_SYMLINK,function(E,v){if(E){y&&y(E);return}f.futimes(v,h,m,function(g){f.close(v,function(p){y&&y(g||p)})})})},f.lutimesSync=function(u,h,m){var y=f.openSync(u,fn.O_SYMLINK),E,v=!0;try{E=f.futimesSync(y,h,m),v=!1}finally{if(v)try{f.closeSync(y)}catch{}else f.closeSync(y)}return E}):f.futimes&&(f.lutimes=function(u,h,m,y){y&&process.nextTick(y)},f.lutimesSync=function(){})}function n(f){return f&&function(u,h,m){return f.call(e,u,h,function(y){l(y)&&(y=null),m&&m.apply(this,arguments)})}}function i(f){return f&&function(u,h){try{return f.call(e,u,h)}catch(m){if(!l(m))throw m}}}function s(f){return f&&function(u,h,m,y){return f.call(e,u,h,m,function(E){l(E)&&(E=null),y&&y.apply(this,arguments)})}}function o(f){return f&&function(u,h,m){try{return f.call(e,u,h,m)}catch(y){if(!l(y))throw y}}}function a(f){return f&&function(u,h,m){typeof h=="function"&&(m=h,h=null);function y(E,v){v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),m&&m.apply(this,arguments)}return h?f.call(e,u,h,y):f.call(e,u,y)}}function c(f){return f&&function(u,h){var m=h?f.call(e,u,h):f.call(e,u);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function l(f){if(!f||f.code==="ENOSYS")return!0;var u=!process.getuid||process.getuid()!==0;return!!(u&&(f.code==="EINVAL"||f.code==="EPERM"))}}var dp=ho.Stream,iI=sI;function sI(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);dp.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,c=o.length;a<c;a++){var l=o[a];this[l]=i[l]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(f,u){if(f){s.emit("error",f),s.readable=!1;return}s.fd=u,s.emit("open",u),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);dp.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var oI=cI,aI=Object.getPrototypeOf||function(e){return e.__proto__};function cI(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:aI(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var Ke=Qe,lI=rI,uI=iI,fI=oI,ca=es,$t,Ua;typeof Symbol=="function"&&typeof Symbol.for=="function"?($t=Symbol.for("graceful-fs.queue"),Ua=Symbol.for("graceful-fs.previous")):($t="___graceful-fs.queue",Ua="___graceful-fs.previous");function dI(){}function Uy(e,t){Object.defineProperty(e,$t,{get:function(){return t}})}var Zn=dI;ca.debuglog?Zn=ca.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Zn=function(){var e=ca.format.apply(ca,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!Ke[$t]){var hI=st[$t]||[];Uy(Ke,hI),Ke.close=function(e){function t(r,n){return e.call(Ke,r,function(i){i||hp(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Ua,{value:e}),t}(Ke.close),Ke.closeSync=function(e){function t(r){e.apply(Ke,arguments),hp()}return Object.defineProperty(t,Ua,{value:e}),t}(Ke.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Zn(Ke[$t]),ou.equal(Ke[$t].length,0)})}st[$t]||Uy(st,Ke[$t]);var Mt=id(fI(Ke));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Ke.__patched&&(Mt=id(Ke),Ke.__patched=!0);function id(e){lI(e),e.gracefulify=id,e.createReadStream=M,e.createWriteStream=T;var t=e.readFile;e.readFile=r;function r(O,V,Y){return typeof V=="function"&&(Y=V,V=null),H(O,V,Y);function H(W,G,Q,Z){return t(W,G,function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?Si([H,[W,G,Q],K,Z||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(O,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(O,V,Y,H);function W(G,Q,Z,K,I){return n(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Si([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(O,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(O,V,Y,H);function W(G,Q,Z,K,I){return s(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Si([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=c);function c(O,V,Y,H){return typeof Y=="function"&&(H=Y,Y=0),W(O,V,Y,H);function W(G,Q,Z,K,I){return a(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Si([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var l=e.readdir;e.readdir=u;var f=/^v[0-5]\./;function u(O,V,Y){typeof V=="function"&&(Y=V,V=null);var H=f.test(process.version)?function(Q,Z,K,I){return l(Q,W(Q,Z,K,I))}:function(Q,Z,K,I){return l(Q,Z,W(Q,Z,K,I))};return H(O,V,Y);function W(G,Q,Z,K){return function(I,j){I&&(I.code==="EMFILE"||I.code==="ENFILE")?Si([H,[G,Q,Z],I,K||Date.now(),Date.now()]):(j&&j.sort&&j.sort(),typeof Z=="function"&&Z.call(this,I,j))}}}if(process.version.substr(0,4)==="v0.8"){var h=uI(e);g=h.ReadStream,S=h.WriteStream}var m=e.ReadStream;m&&(g.prototype=Object.create(m.prototype),g.prototype.open=p);var y=e.WriteStream;y&&(S.prototype=Object.create(y.prototype),S.prototype.open=N),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(O){g=O},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return S},set:function(O){S=O},enumerable:!0,configurable:!0});var E=g;Object.defineProperty(e,"FileReadStream",{get:function(){return E},set:function(O){E=O},enumerable:!0,configurable:!0});var v=S;Object.defineProperty(e,"FileWriteStream",{get:function(){return v},set:function(O){v=O},enumerable:!0,configurable:!0});function g(O,V){return this instanceof g?(m.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function p(){var O=this;D(O.path,O.flags,O.mode,function(V,Y){V?(O.autoClose&&O.destroy(),O.emit("error",V)):(O.fd=Y,O.emit("open",Y),O.read())})}function S(O,V){return this instanceof S?(y.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function N(){var O=this;D(O.path,O.flags,O.mode,function(V,Y){V?(O.destroy(),O.emit("error",V)):(O.fd=Y,O.emit("open",Y))})}function M(O,V){return new e.ReadStream(O,V)}function T(O,V){return new e.WriteStream(O,V)}var b=e.open;e.open=D;function D(O,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(O,V,Y,H);function W(G,Q,Z,K,I){return b(G,Q,Z,function(j,A){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Si([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}return e}function Si(e){Zn("ENQUEUE",e[0].name,e[1]),Ke[$t].push(e),sd()}var la;function hp(){for(var e=Date.now(),t=0;t<Ke[$t].length;++t)Ke[$t][t].length>2&&(Ke[$t][t][3]=e,Ke[$t][t][4]=e);sd()}function sd(){if(clearTimeout(la),la=void 0,Ke[$t].length!==0){var e=Ke[$t].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)Zn("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){Zn("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,c=Math.max(s-i,1),l=Math.min(c*1.2,100);a>=l?(Zn("RETRY",t.name,r),t.apply(null,r.concat([i]))):Ke[$t].push(e)}la===void 0&&(la=setTimeout(sd,0))}}(function(e){const t=jt.fromCallback,r=Mt,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,s){return typeof s=="function"?r.exists(i,s):new Promise(o=>r.exists(i,o))},e.read=function(i,s,o,a,c,l){return typeof l=="function"?r.read(i,s,o,a,c,l):new Promise((f,u)=>{r.read(i,s,o,a,c,(h,m,y)=>{if(h)return u(h);f({bytesRead:m,buffer:y})})})},e.write=function(i,s,...o){return typeof o[o.length-1]=="function"?r.write(i,s,...o):new Promise((a,c)=>{r.write(i,s,...o,(l,f,u)=>{if(l)return c(l);a({bytesWritten:f,buffer:u})})})},typeof r.writev=="function"&&(e.writev=function(i,s,...o){return typeof o[o.length-1]=="function"?r.writev(i,s,...o):new Promise((a,c)=>{r.writev(i,s,...o,(l,f,u)=>{if(l)return c(l);a({bytesWritten:f,buffers:u})})})}),typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(li);var od={},xy={};const pI=we;xy.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(pI.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const qy=li,{checkPath:Vy}=xy,By=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};od.makeDir=async(e,t)=>(Vy(e),qy.mkdir(e,{mode:By(t),recursive:!0}));od.makeDirSync=(e,t)=>(Vy(e),qy.mkdirSync(e,{mode:By(t),recursive:!0}));const mI=jt.fromPromise,{makeDir:gI,makeDirSync:ul}=od,fl=mI(gI);var Ur={mkdirs:fl,mkdirsSync:ul,mkdirp:fl,mkdirpSync:ul,ensureDir:fl,ensureDirSync:ul};const yI=jt.fromPromise,zy=li;function vI(e){return zy.access(e).then(()=>!0).catch(()=>!1)}var ui={pathExists:yI(vI),pathExistsSync:zy.existsSync};const Ui=Mt;function _I(e,t,r,n){Ui.open(e,"r+",(i,s)=>{if(i)return n(i);Ui.futimes(s,t,r,o=>{Ui.close(s,a=>{n&&n(o||a)})})})}function $I(e,t,r){const n=Ui.openSync(e,"r+");return Ui.futimesSync(n,t,r),Ui.closeSync(n)}var Hy={utimesMillis:_I,utimesMillisSync:$I};const Wi=li,ht=we,EI=es;function wI(e,t,r){const n=r.dereference?i=>Wi.stat(i,{bigint:!0}):i=>Wi.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function SI(e,t,r){let n;const i=r.dereference?o=>Wi.statSync(o,{bigint:!0}):o=>Wi.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}function bI(e,t,r,n,i){EI.callbackify(wI)(e,t,n,(s,o)=>{if(s)return i(s);const{srcStat:a,destStat:c}=o;if(c){if(To(a,c)){const l=ht.basename(e),f=ht.basename(t);return r==="move"&&l!==f&&l.toLowerCase()===f.toLowerCase()?i(null,{srcStat:a,destStat:c,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!c.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!a.isDirectory()&&c.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return a.isDirectory()&&ad(e,t)?i(new Error(mc(e,t,r))):i(null,{srcStat:a,destStat:c})})}function PI(e,t,r,n){const{srcStat:i,destStat:s}=SI(e,t,n);if(s){if(To(i,s)){const o=ht.basename(e),a=ht.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&ad(e,t))throw new Error(mc(e,t,r));return{srcStat:i,destStat:s}}function Gy(e,t,r,n,i){const s=ht.resolve(ht.dirname(e)),o=ht.resolve(ht.dirname(r));if(o===s||o===ht.parse(o).root)return i();Wi.stat(o,{bigint:!0},(a,c)=>a?a.code==="ENOENT"?i():i(a):To(t,c)?i(new Error(mc(e,r,n))):Gy(e,t,o,n,i))}function Wy(e,t,r,n){const i=ht.resolve(ht.dirname(e)),s=ht.resolve(ht.dirname(r));if(s===i||s===ht.parse(s).root)return;let o;try{o=Wi.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(To(t,o))throw new Error(mc(e,r,n));return Wy(e,t,s,n)}function To(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function ad(e,t){const r=ht.resolve(e).split(ht.sep).filter(i=>i),n=ht.resolve(t).split(ht.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function mc(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var cs={checkPaths:bI,checkPathsSync:PI,checkParentPaths:Gy,checkParentPathsSync:Wy,isSrcSubdir:ad,areIdentical:To};const Yt=Mt,ro=we,OI=Ur.mkdirs,TI=ui.pathExists,AI=Hy.utimesMillis,no=cs;function CI(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),no.checkPaths(e,t,"copy",r,(i,s)=>{if(i)return n(i);const{srcStat:o,destStat:a}=s;no.checkParentPaths(e,o,t,"copy",c=>c?n(c):r.filter?Ky(pp,a,e,t,r,n):pp(a,e,t,r,n))})}function pp(e,t,r,n,i){const s=ro.dirname(r);TI(s,(o,a)=>{if(o)return i(o);if(a)return xa(e,t,r,n,i);OI(s,c=>c?i(c):xa(e,t,r,n,i))})}function Ky(e,t,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?e(t,r,n,i,s):s(),o=>s(o))}function NI(e,t,r,n,i){return n.filter?Ky(xa,e,t,r,n,i):xa(e,t,r,n,i)}function xa(e,t,r,n,i){(n.dereference?Yt.stat:Yt.lstat)(t,(o,a)=>o?i(o):a.isDirectory()?jI(a,e,t,r,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?RI(a,e,t,r,n,i):a.isSymbolicLink()?xI(e,t,r,n,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function RI(e,t,r,n,i,s){return t?II(e,r,n,i,s):Yy(e,r,n,i,s)}function II(e,t,r,n,i){if(n.overwrite)Yt.unlink(r,s=>s?i(s):Yy(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function Yy(e,t,r,n,i){Yt.copyFile(t,r,s=>s?i(s):n.preserveTimestamps?DI(e.mode,t,r,i):gc(r,e.mode,i))}function DI(e,t,r,n){return FI(e)?kI(r,e,i=>i?n(i):mp(e,t,r,n)):mp(e,t,r,n)}function FI(e){return(e&128)===0}function kI(e,t,r){return gc(e,t|128,r)}function mp(e,t,r,n){LI(t,r,i=>i?n(i):gc(r,e,n))}function gc(e,t,r){return Yt.chmod(e,t,r)}function LI(e,t,r){Yt.stat(e,(n,i)=>n?r(n):AI(t,i.atime,i.mtime,r))}function jI(e,t,r,n,i,s){return t?Jy(r,n,i,s):MI(e.mode,r,n,i,s)}function MI(e,t,r,n,i){Yt.mkdir(r,s=>{if(s)return i(s);Jy(t,r,n,o=>o?i(o):gc(r,e,i))})}function Jy(e,t,r,n){Yt.readdir(e,(i,s)=>i?n(i):Xy(s,e,t,r,n))}function Xy(e,t,r,n,i){const s=e.pop();return s?UI(e,s,t,r,n,i):i()}function UI(e,t,r,n,i,s){const o=ro.join(r,t),a=ro.join(n,t);no.checkPaths(o,a,"copy",i,(c,l)=>{if(c)return s(c);const{destStat:f}=l;NI(f,o,a,i,u=>u?s(u):Xy(e,r,n,i,s))})}function xI(e,t,r,n,i){Yt.readlink(t,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=ro.resolve(process.cwd(),o)),e)Yt.readlink(r,(a,c)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?Yt.symlink(o,r,i):i(a):(n.dereference&&(c=ro.resolve(process.cwd(),c)),no.isSrcSubdir(o,c)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${c}'.`)):e.isDirectory()&&no.isSrcSubdir(c,o)?i(new Error(`Cannot overwrite '${c}' with '${o}'.`)):qI(o,r,i)));else return Yt.symlink(o,r,i)})}function qI(e,t,r){Yt.unlink(t,n=>n?r(n):Yt.symlink(e,t,r))}var VI=CI;const Pt=Mt,io=we,BI=Ur.mkdirsSync,zI=Hy.utimesMillisSync,so=cs;function HI(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:i}=so.checkPathsSync(e,t,"copy",r);return so.checkParentPathsSync(e,n,t,"copy"),GI(i,e,t,r)}function GI(e,t,r,n){if(n.filter&&!n.filter(t,r))return;const i=io.dirname(r);return Pt.existsSync(i)||BI(i),Qy(e,t,r,n)}function WI(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return Qy(e,t,r,n)}function Qy(e,t,r,n){const s=(n.dereference?Pt.statSync:Pt.lstatSync)(t);if(s.isDirectory())return eD(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return KI(s,e,t,r,n);if(s.isSymbolicLink())return nD(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function KI(e,t,r,n,i){return t?YI(e,r,n,i):Zy(e,r,n,i)}function YI(e,t,r,n){if(n.overwrite)return Pt.unlinkSync(r),Zy(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Zy(e,t,r,n){return Pt.copyFileSync(t,r),n.preserveTimestamps&&JI(e.mode,t,r),cd(r,e.mode)}function JI(e,t,r){return XI(e)&&QI(r,e),ZI(t,r)}function XI(e){return(e&128)===0}function QI(e,t){return cd(e,t|128)}function cd(e,t){return Pt.chmodSync(e,t)}function ZI(e,t){const r=Pt.statSync(e);return zI(t,r.atime,r.mtime)}function eD(e,t,r,n,i){return t?e0(r,n,i):tD(e.mode,r,n,i)}function tD(e,t,r,n){return Pt.mkdirSync(r),e0(t,r,n),cd(r,e)}function e0(e,t,r){Pt.readdirSync(e).forEach(n=>rD(n,e,t,r))}function rD(e,t,r,n){const i=io.join(t,e),s=io.join(r,e),{destStat:o}=so.checkPathsSync(i,s,"copy",n);return WI(o,i,s,n)}function nD(e,t,r,n){let i=Pt.readlinkSync(t);if(n.dereference&&(i=io.resolve(process.cwd(),i)),e){let s;try{s=Pt.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Pt.symlinkSync(i,r);throw o}if(n.dereference&&(s=io.resolve(process.cwd(),s)),so.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(Pt.statSync(r).isDirectory()&&so.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return iD(i,r)}else return Pt.symlinkSync(i,r)}function iD(e,t){return Pt.unlinkSync(t),Pt.symlinkSync(e,t)}var sD=HI;const oD=jt.fromCallback;var ld={copy:oD(VI),copySync:sD};const gp=Mt,t0=we,Fe=ou,oo=process.platform==="win32";function r0(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||gp[r],r=r+"Sync",e[r]=e[r]||gp[r]}),e.maxBusyTries=e.maxBusyTries||3}function ud(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),Fe(e,"rimraf: missing path"),Fe.strictEqual(typeof e,"string","rimraf: path should be a string"),Fe.strictEqual(typeof r,"function","rimraf: callback function required"),Fe(t,"rimraf: invalid options argument provided"),Fe.strictEqual(typeof t,"object","rimraf: options should be object"),r0(t),yp(e,t,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<t.maxBusyTries){n++;const o=n*100;return setTimeout(()=>yp(e,t,i),o)}s.code==="ENOENT"&&(s=null)}r(s)})}function yp(e,t,r){Fe(e),Fe(t),Fe(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&oo)return vp(e,t,n,r);if(i&&i.isDirectory())return ba(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return oo?vp(e,t,s,r):ba(e,t,s,r);if(s.code==="EISDIR")return ba(e,t,s,r)}return r(s)})})}function vp(e,t,r,n){Fe(e),Fe(t),Fe(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?ba(e,t,r,n):t.unlink(e,n)})})}function _p(e,t,r){let n;Fe(e),Fe(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Pa(e,t,r):t.unlinkSync(e)}function ba(e,t,r,n){Fe(e),Fe(t),Fe(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?aD(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function aD(e,t,r){Fe(e),Fe(t),Fe(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return t.rmdir(e,r);i.forEach(a=>{ud(t0.join(e,a),t,c=>{if(!o){if(c)return r(o=c);--s===0&&t.rmdir(e,r)}})})})}function n0(e,t){let r;t=t||{},r0(t),Fe(e,"rimraf: missing path"),Fe.strictEqual(typeof e,"string","rimraf: path should be a string"),Fe(t,"rimraf: missing options"),Fe.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&oo&&_p(e,t,n)}try{r&&r.isDirectory()?Pa(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return oo?_p(e,t,n):Pa(e,t,n);if(n.code!=="EISDIR")throw n;Pa(e,t,n)}}function Pa(e,t,r){Fe(e),Fe(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")cD(e,t);else if(n.code!=="ENOENT")throw n}}function cD(e,t){if(Fe(e),Fe(t),t.readdirSync(e).forEach(r=>n0(t0.join(e,r),t)),oo){const r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}var lD=ud;ud.sync=n0;const qa=Mt,uD=jt.fromCallback,i0=lD;function fD(e,t){if(qa.rm)return qa.rm(e,{recursive:!0,force:!0},t);i0(e,t)}function dD(e){if(qa.rmSync)return qa.rmSync(e,{recursive:!0,force:!0});i0.sync(e)}var yc={remove:uD(fD),removeSync:dD};const hD=jt.fromPromise,s0=li,o0=we,a0=Ur,c0=yc,$p=hD(async function(t){let r;try{r=await s0.readdir(t)}catch{return a0.mkdirs(t)}return Promise.all(r.map(n=>c0.remove(o0.join(t,n))))});function Ep(e){let t;try{t=s0.readdirSync(e)}catch{return a0.mkdirsSync(e)}t.forEach(r=>{r=o0.join(e,r),c0.removeSync(r)})}var pD={emptyDirSync:Ep,emptydirSync:Ep,emptyDir:$p,emptydir:$p};const mD=jt.fromCallback,l0=we,$n=Mt,u0=Ur;function gD(e,t){function r(){$n.writeFile(e,"",n=>{if(n)return t(n);t()})}$n.stat(e,(n,i)=>{if(!n&&i.isFile())return t();const s=l0.dirname(e);$n.stat(s,(o,a)=>{if(o)return o.code==="ENOENT"?u0.mkdirs(s,c=>{if(c)return t(c);r()}):t(o);a.isDirectory()?r():$n.readdir(s,c=>{if(c)return t(c)})})})}function yD(e){let t;try{t=$n.statSync(e)}catch{}if(t&&t.isFile())return;const r=l0.dirname(e);try{$n.statSync(r).isDirectory()||$n.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")u0.mkdirsSync(r);else throw n}$n.writeFileSync(e,"")}var vD={createFile:mD(gD),createFileSync:yD};const _D=jt.fromCallback,f0=we,pn=Mt,d0=Ur,$D=ui.pathExists,{areIdentical:h0}=cs;function ED(e,t,r){function n(i,s){pn.link(i,s,o=>{if(o)return r(o);r(null)})}pn.lstat(t,(i,s)=>{pn.lstat(e,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(s&&h0(a,s))return r(null);const c=f0.dirname(t);$D(c,(l,f)=>{if(l)return r(l);if(f)return n(e,t);d0.mkdirs(c,u=>{if(u)return r(u);n(e,t)})})})})}function wD(e,t){let r;try{r=pn.lstatSync(t)}catch{}try{const s=pn.lstatSync(e);if(r&&h0(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}const n=f0.dirname(t);return pn.existsSync(n)||d0.mkdirsSync(n),pn.linkSync(e,t)}var SD={createLink:_D(ED),createLinkSync:wD};const En=we,Js=Mt,bD=ui.pathExists;function PD(e,t,r){if(En.isAbsolute(e))return Js.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{const n=En.dirname(t),i=En.join(n,e);return bD(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:e}):Js.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:e,toDst:En.relative(n,e)})))}}function OD(e,t){let r;if(En.isAbsolute(e)){if(r=Js.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const n=En.dirname(t),i=En.join(n,e);if(r=Js.existsSync(i),r)return{toCwd:i,toDst:e};if(r=Js.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:En.relative(n,e)}}}var TD={symlinkPaths:PD,symlinkPathsSync:OD};const p0=Mt;function AD(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);p0.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function CD(e,t){let r;if(t)return t;try{r=p0.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var ND={symlinkType:AD,symlinkTypeSync:CD};const RD=jt.fromCallback,m0=we,$r=li,g0=Ur,ID=g0.mkdirs,DD=g0.mkdirsSync,y0=TD,FD=y0.symlinkPaths,kD=y0.symlinkPathsSync,v0=ND,LD=v0.symlinkType,jD=v0.symlinkTypeSync,MD=ui.pathExists,{areIdentical:_0}=cs;function UD(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,$r.lstat(t,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([$r.stat(e),$r.stat(t)]).then(([o,a])=>{if(_0(o,a))return n(null);wp(e,t,r,n)}):wp(e,t,r,n)})}function wp(e,t,r,n){FD(e,t,(i,s)=>{if(i)return n(i);e=s.toDst,LD(s.toCwd,r,(o,a)=>{if(o)return n(o);const c=m0.dirname(t);MD(c,(l,f)=>{if(l)return n(l);if(f)return $r.symlink(e,t,a,n);ID(c,u=>{if(u)return n(u);$r.symlink(e,t,a,n)})})})})}function xD(e,t,r){let n;try{n=$r.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const a=$r.statSync(e),c=$r.statSync(t);if(_0(a,c))return}const i=kD(e,t);e=i.toDst,r=jD(i.toCwd,r);const s=m0.dirname(t);return $r.existsSync(s)||DD(s),$r.symlinkSync(e,t,r)}var qD={createSymlink:RD(UD),createSymlinkSync:xD};const{createFile:Sp,createFileSync:bp}=vD,{createLink:Pp,createLinkSync:Op}=SD,{createSymlink:Tp,createSymlinkSync:Ap}=qD;var VD={createFile:Sp,createFileSync:bp,ensureFile:Sp,ensureFileSync:bp,createLink:Pp,createLinkSync:Op,ensureLink:Pp,ensureLinkSync:Op,createSymlink:Tp,createSymlinkSync:Ap,ensureSymlink:Tp,ensureSymlinkSync:Ap};function BD(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){const s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function zD(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var fd={stringify:BD,stripBom:zD};let Ki;try{Ki=Mt}catch{Ki=Qe}const vc=jt,{stringify:$0,stripBom:E0}=fd;async function HD(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Ki,n="throws"in t?t.throws:!0;let i=await vc.fromCallback(r.readFile)(e,t);i=E0(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return s}const GD=vc.fromPromise(HD);function WD(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Ki,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=E0(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function KD(e,t,r={}){const n=r.fs||Ki,i=$0(t,r);await vc.fromCallback(n.writeFile)(e,i,r)}const YD=vc.fromPromise(KD);function JD(e,t,r={}){const n=r.fs||Ki,i=$0(t,r);return n.writeFileSync(e,i,r)}const XD={readFile:GD,readFileSync:WD,writeFile:YD,writeFileSync:JD};var QD=XD;const ua=QD;var ZD={readJson:ua.readFile,readJsonSync:ua.readFileSync,writeJson:ua.writeFile,writeJsonSync:ua.writeFileSync};const eF=jt.fromCallback,Xs=Mt,w0=we,S0=Ur,tF=ui.pathExists;function rF(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");const i=w0.dirname(e);tF(i,(s,o)=>{if(s)return n(s);if(o)return Xs.writeFile(e,t,r,n);S0.mkdirs(i,a=>{if(a)return n(a);Xs.writeFile(e,t,r,n)})})}function nF(e,...t){const r=w0.dirname(e);if(Xs.existsSync(r))return Xs.writeFileSync(e,...t);S0.mkdirsSync(r),Xs.writeFileSync(e,...t)}var dd={outputFile:eF(rF),outputFileSync:nF};const{stringify:iF}=fd,{outputFile:sF}=dd;async function oF(e,t,r={}){const n=iF(t,r);await sF(e,n,r)}var aF=oF;const{stringify:cF}=fd,{outputFileSync:lF}=dd;function uF(e,t,r){const n=cF(t,r);lF(e,n,r)}var fF=uF;const dF=jt.fromPromise,kt=ZD;kt.outputJson=dF(aF);kt.outputJsonSync=fF;kt.outputJSON=kt.outputJson;kt.outputJSONSync=kt.outputJsonSync;kt.writeJSON=kt.writeJson;kt.writeJSONSync=kt.writeJsonSync;kt.readJSON=kt.readJson;kt.readJSONSync=kt.readJsonSync;var hF=kt;const pF=Mt,Yl=we,mF=ld.copy,b0=yc.remove,gF=Ur.mkdirp,yF=ui.pathExists,Cp=cs;function vF(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};const i=r.overwrite||r.clobber||!1;Cp.checkPaths(e,t,"move",r,(s,o)=>{if(s)return n(s);const{srcStat:a,isChangingCase:c=!1}=o;Cp.checkParentPaths(e,a,t,"move",l=>{if(l)return n(l);if(_F(t))return Np(e,t,i,c,n);gF(Yl.dirname(t),f=>f?n(f):Np(e,t,i,c,n))})})}function _F(e){const t=Yl.dirname(e);return Yl.parse(t).root===t}function Np(e,t,r,n,i){if(n)return dl(e,t,r,i);if(r)return b0(t,s=>s?i(s):dl(e,t,r,i));yF(t,(s,o)=>s?i(s):o?i(new Error("dest already exists.")):dl(e,t,r,i))}function dl(e,t,r,n){pF.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):$F(e,t,r,n):n())}function $F(e,t,r,n){mF(e,t,{overwrite:r,errorOnExist:!0},s=>s?n(s):b0(e,n))}var EF=vF;const P0=Mt,Jl=we,wF=ld.copySync,O0=yc.removeSync,SF=Ur.mkdirpSync,Rp=cs;function bF(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=Rp.checkPathsSync(e,t,"move",r);return Rp.checkParentPathsSync(e,i,t,"move"),PF(t)||SF(Jl.dirname(t)),OF(e,t,n,s)}function PF(e){const t=Jl.dirname(e);return Jl.parse(t).root===t}function OF(e,t,r,n){if(n)return hl(e,t,r);if(r)return O0(t),hl(e,t,r);if(P0.existsSync(t))throw new Error("dest already exists.");return hl(e,t,r)}function hl(e,t,r){try{P0.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return TF(e,t,r)}}function TF(e,t,r){return wF(e,t,{overwrite:r,errorOnExist:!0}),O0(e)}var AF=bF;const CF=jt.fromCallback;var NF={move:CF(EF),moveSync:AF},Cn={...li,...ld,...pD,...VD,...hF,...Ur,...NF,...dd,...ui,...yc},xn={},Et={},hd={},Tr={};function T0(e){return typeof e>"u"||e===null}function RF(e){return typeof e=="object"&&e!==null}function IF(e){return Array.isArray(e)?e:T0(e)?[]:[e]}function DF(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function FF(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function kF(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Tr.isNothing=T0;Tr.isObject=RF;Tr.toArray=IF;Tr.repeat=FF;Tr.isNegativeZero=kF;Tr.extend=DF;function A0(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function ao(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=A0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ao.prototype=Object.create(Error.prototype);ao.prototype.constructor=ao;ao.prototype.toString=function(t){return this.name+": "+A0(this,t)};var Ao=ao,js=Tr;function pl(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"→")+o,pos:n-t+s.length}}function ml(e,t){return js.repeat(" ",t-e.length)+e}function LF(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",c,l,f=Math.min(e.line+t.linesAfter,i.length).toString().length,u=t.maxLength-(t.indent+f+3);for(c=1;c<=t.linesBefore&&!(o-c<0);c++)l=pl(e.buffer,n[o-c],i[o-c],e.position-(n[o]-n[o-c]),u),a=js.repeat(" ",t.indent)+ml((e.line-c+1).toString(),f)+" | "+l.str+`
`+a;for(l=pl(e.buffer,n[o],i[o],e.position,u),a+=js.repeat(" ",t.indent)+ml((e.line+1).toString(),f)+" | "+l.str+`
`,a+=js.repeat("-",t.indent+f+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(o+c>=i.length);c++)l=pl(e.buffer,n[o+c],i[o+c],e.position-(n[o]-n[o+c]),u),a+=js.repeat(" ",t.indent)+ml((e.line+c+1).toString(),f)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var jF=LF,Ip=Ao,MF=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],UF=["scalar","sequence","mapping"];function xF(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function qF(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(MF.indexOf(r)===-1)throw new Ip('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=xF(t.styleAliases||null),UF.indexOf(this.kind)===-1)throw new Ip('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Ut=qF,Os=Ao,gl=Ut;function Dp(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function VF(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Xl(e){return this.extend(e)}Xl.prototype.extend=function(t){var r=[],n=[];if(t instanceof gl)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Os("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof gl))throw new Os("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Os("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Os("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof gl))throw new Os("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Xl.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Dp(i,"implicit"),i.compiledExplicit=Dp(i,"explicit"),i.compiledTypeMap=VF(i.compiledImplicit,i.compiledExplicit),i};var C0=Xl,BF=Ut,N0=new BF("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),zF=Ut,R0=new zF("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),HF=Ut,I0=new HF("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),GF=C0,D0=new GF({explicit:[N0,R0,I0]}),WF=Ut;function KF(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function YF(){return null}function JF(e){return e===null}var F0=new WF("tag:yaml.org,2002:null",{kind:"scalar",resolve:KF,construct:YF,predicate:JF,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),XF=Ut;function QF(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function ZF(e){return e==="true"||e==="True"||e==="TRUE"}function ek(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var k0=new XF("tag:yaml.org,2002:bool",{kind:"scalar",resolve:QF,construct:ZF,predicate:ek,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),tk=Tr,rk=Ut;function nk(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function ik(e){return 48<=e&&e<=55}function sk(e){return 48<=e&&e<=57}function ok(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!nk(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!ik(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!sk(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function ak(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function ck(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!tk.isNegativeZero(e)}var L0=new rk("tag:yaml.org,2002:int",{kind:"scalar",resolve:ok,construct:ak,predicate:ck,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),j0=Tr,lk=Ut,uk=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function fk(e){return!(e===null||!uk.test(e)||e[e.length-1]==="_")}function dk(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var hk=/^[-+]?[0-9]+e/;function pk(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(j0.isNegativeZero(e))return"-0.0";return r=e.toString(10),hk.test(r)?r.replace("e",".e"):r}function mk(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||j0.isNegativeZero(e))}var M0=new lk("tag:yaml.org,2002:float",{kind:"scalar",resolve:fk,construct:dk,predicate:mk,represent:pk,defaultStyle:"lowercase"}),U0=D0.extend({implicit:[F0,k0,L0,M0]}),x0=U0,gk=Ut,q0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),V0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function yk(e){return e===null?!1:q0.exec(e)!==null||V0.exec(e)!==null}function vk(e){var t,r,n,i,s,o,a,c=0,l=null,f,u,h;if(t=q0.exec(e),t===null&&(t=V0.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(f=+t[10],u=+(t[11]||0),l=(f*60+u)*6e4,t[9]==="-"&&(l=-l)),h=new Date(Date.UTC(r,n,i,s,o,a,c)),l&&h.setTime(h.getTime()-l),h}function _k(e){return e.toISOString()}var B0=new gk("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:yk,construct:vk,instanceOf:Date,represent:_k}),$k=Ut;function Ek(e){return e==="<<"||e===null}var z0=new $k("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Ek}),wk=Ut,pd=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Sk(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=pd;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function bk(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=pd,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function Pk(e){var t="",r=0,n,i,s=e.length,o=pd;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function Ok(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var H0=new wk("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Sk,construct:bk,predicate:Ok,represent:Pk}),Tk=Ut,Ak=Object.prototype.hasOwnProperty,Ck=Object.prototype.toString;function Nk(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,Ck.call(i)!=="[object Object]")return!1;for(s in i)if(Ak.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function Rk(e){return e!==null?e:[]}var G0=new Tk("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Nk,construct:Rk}),Ik=Ut,Dk=Object.prototype.toString;function Fk(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],Dk.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function kk(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var W0=new Ik("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Fk,construct:kk}),Lk=Ut,jk=Object.prototype.hasOwnProperty;function Mk(e){if(e===null)return!0;var t,r=e;for(t in r)if(jk.call(r,t)&&r[t]!==null)return!1;return!0}function Uk(e){return e!==null?e:{}}var K0=new Lk("tag:yaml.org,2002:set",{kind:"mapping",resolve:Mk,construct:Uk}),md=x0.extend({implicit:[B0,z0],explicit:[H0,G0,W0,K0]}),Yn=Tr,Y0=Ao,xk=jF,qk=md,Pn=Object.prototype.hasOwnProperty,Va=1,J0=2,X0=3,Ba=4,yl=1,Vk=2,Fp=3,Bk=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,zk=/[\x85\u2028\u2029]/,Hk=/[,\[\]\{\}]/,Q0=/^(?:!|!!|![a-z\-]+!)$/i,Z0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function kp(e){return Object.prototype.toString.call(e)}function Lr(e){return e===10||e===13}function ei(e){return e===9||e===32}function Jt(e){return e===9||e===32||e===10||e===13}function Ii(e){return e===44||e===91||e===93||e===123||e===125}function Gk(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Wk(e){return e===120?2:e===117?4:e===85?8:0}function Kk(e){return 48<=e&&e<=57?e-48:-1}function Lp(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function Yk(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var ev=new Array(256),tv=new Array(256);for(var bi=0;bi<256;bi++)ev[bi]=Lp(bi)?1:0,tv[bi]=Lp(bi);function Jk(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||qk,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function rv(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=xk(r),new Y0(t,r)}function ae(e,t){throw rv(e,t)}function za(e,t){e.onWarning&&e.onWarning.call(null,rv(e,t))}var jp={YAML:function(t,r,n){var i,s,o;t.version!==null&&ae(t,"duplication of %YAML directive"),n.length!==1&&ae(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&ae(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&ae(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&za(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&ae(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],Q0.test(i)||ae(t,"ill-formed tag handle (first argument) of the TAG directive"),Pn.call(t.tagMap,i)&&ae(t,'there is a previously declared suffix for "'+i+'" tag handle'),Z0.test(s)||ae(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{ae(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function bn(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||ae(e,"expected valid JSON character");else Bk.test(a)&&ae(e,"the stream contains non-printable characters");e.result+=a}}function Mp(e,t,r,n){var i,s,o,a;for(Yn.isObject(r)||ae(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],Pn.call(t,s)||(t[s]=r[s],n[s]=!0)}function Di(e,t,r,n,i,s,o,a,c){var l,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,f=i.length;l<f;l+=1)Array.isArray(i[l])&&ae(e,"nested arrays are not supported inside keys"),typeof i=="object"&&kp(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&kp(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,f=s.length;l<f;l+=1)Mp(e,t,s[l],r);else Mp(e,t,s,r);else!e.json&&!Pn.call(r,i)&&Pn.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,ae(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function gd(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ae(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function it(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;ei(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Lr(i))for(gd(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&za(e,"deficient indentation"),n}function _c(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Jt(r)))}function yd(e,t){t===1?e.result+=" ":t>1&&(e.result+=Yn.repeat(`
`,t-1))}function Xk(e,t,r){var n,i,s,o,a,c,l,f,u=e.kind,h=e.result,m;if(m=e.input.charCodeAt(e.position),Jt(m)||Ii(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=e.input.charCodeAt(e.position+1),Jt(i)||r&&Ii(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;m!==0;){if(m===58){if(i=e.input.charCodeAt(e.position+1),Jt(i)||r&&Ii(i))break}else if(m===35){if(n=e.input.charCodeAt(e.position-1),Jt(n))break}else{if(e.position===e.lineStart&&_c(e)||r&&Ii(m))break;if(Lr(m))if(c=e.line,l=e.lineStart,f=e.lineIndent,it(e,!1,-1),e.lineIndent>=t){a=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=c,e.lineStart=l,e.lineIndent=f;break}}a&&(bn(e,s,o,!1),yd(e,e.line-c),s=o=e.position,a=!1),ei(m)||(o=e.position+1),m=e.input.charCodeAt(++e.position)}return bn(e,s,o,!1),e.result?!0:(e.kind=u,e.result=h,!1)}function Qk(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(bn(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Lr(r)?(bn(e,n,i,!0),yd(e,it(e,!1,t)),n=i=e.position):e.position===e.lineStart&&_c(e)?ae(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);ae(e,"unexpected end of the stream within a single quoted scalar")}function Zk(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return bn(e,r,e.position,!0),e.position++,!0;if(a===92){if(bn(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Lr(a))it(e,!1,t);else if(a<256&&ev[a])e.result+=tv[a],e.position++;else if((o=Wk(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=Gk(a))>=0?s=(s<<4)+o:ae(e,"expected hexadecimal character");e.result+=Yk(s),e.position++}else ae(e,"unknown escape sequence");r=n=e.position}else Lr(a)?(bn(e,r,n,!0),yd(e,it(e,!1,t)),r=n=e.position):e.position===e.lineStart&&_c(e)?ae(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}ae(e,"unexpected end of the stream within a double quoted scalar")}function eL(e,t){var r=!0,n,i,s,o=e.tag,a,c=e.anchor,l,f,u,h,m,y=Object.create(null),E,v,g,p;if(p=e.input.charCodeAt(e.position),p===91)f=93,m=!1,a=[];else if(p===123)f=125,m=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),p=e.input.charCodeAt(++e.position);p!==0;){if(it(e,!0,t),p=e.input.charCodeAt(e.position),p===f)return e.position++,e.tag=o,e.anchor=c,e.kind=m?"mapping":"sequence",e.result=a,!0;r?p===44&&ae(e,"expected the node content, but found ','"):ae(e,"missed comma between flow collection entries"),v=E=g=null,u=h=!1,p===63&&(l=e.input.charCodeAt(e.position+1),Jt(l)&&(u=h=!0,e.position++,it(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Yi(e,t,Va,!1,!0),v=e.tag,E=e.result,it(e,!0,t),p=e.input.charCodeAt(e.position),(h||e.line===n)&&p===58&&(u=!0,p=e.input.charCodeAt(++e.position),it(e,!0,t),Yi(e,t,Va,!1,!0),g=e.result),m?Di(e,a,y,v,E,g,n,i,s):u?a.push(Di(e,null,y,v,E,g,n,i,s)):a.push(E),it(e,!0,t),p=e.input.charCodeAt(e.position),p===44?(r=!0,p=e.input.charCodeAt(++e.position)):r=!1}ae(e,"unexpected end of the stream within a flow collection")}function tL(e,t){var r,n,i=yl,s=!1,o=!1,a=t,c=0,l=!1,f,u;if(u=e.input.charCodeAt(e.position),u===124)n=!1;else if(u===62)n=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)yl===i?i=u===43?Fp:Vk:ae(e,"repeat of a chomping mode identifier");else if((f=Kk(u))>=0)f===0?ae(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?ae(e,"repeat of an indentation width identifier"):(a=t+f-1,o=!0);else break;if(ei(u)){do u=e.input.charCodeAt(++e.position);while(ei(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!Lr(u)&&u!==0)}for(;u!==0;){for(gd(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),Lr(u)){c++;continue}if(e.lineIndent<a){i===Fp?e.result+=Yn.repeat(`
`,s?1+c:c):i===yl&&s&&(e.result+=`
`);break}for(n?ei(u)?(l=!0,e.result+=Yn.repeat(`
`,s?1+c:c)):l?(l=!1,e.result+=Yn.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=Yn.repeat(`
`,c):e.result+=Yn.repeat(`
`,s?1+c:c),s=!0,o=!0,c=0,r=e.position;!Lr(u)&&u!==0;)u=e.input.charCodeAt(++e.position);bn(e,r,e.position,!1)}return!0}function Up(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ae(e,"tab characters must not be used in indentation")),!(c!==45||(o=e.input.charCodeAt(e.position+1),!Jt(o))));){if(a=!0,e.position++,it(e,!0,-1)&&e.lineIndent<=t){s.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,Yi(e,t,X0,!1,!0),s.push(e.result),it(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)ae(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function rL(e,t,r){var n,i,s,o,a,c,l=e.tag,f=e.anchor,u={},h=Object.create(null),m=null,y=null,E=null,v=!1,g=!1,p;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),p=e.input.charCodeAt(e.position);p!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ae(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(p===63||p===58)&&Jt(n))p===63?(v&&(Di(e,u,h,m,y,null,o,a,c),m=y=E=null),g=!0,v=!0,i=!0):v?(v=!1,i=!0):ae(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=n;else{if(o=e.line,a=e.lineStart,c=e.position,!Yi(e,r,J0,!1,!0))break;if(e.line===s){for(p=e.input.charCodeAt(e.position);ei(p);)p=e.input.charCodeAt(++e.position);if(p===58)p=e.input.charCodeAt(++e.position),Jt(p)||ae(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Di(e,u,h,m,y,null,o,a,c),m=y=E=null),g=!0,v=!1,i=!1,m=e.tag,y=e.result;else if(g)ae(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=f,!0}else if(g)ae(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(v&&(o=e.line,a=e.lineStart,c=e.position),Yi(e,t,Ba,!0,i)&&(v?y=e.result:E=e.result),v||(Di(e,u,h,m,y,E,o,a,c),m=y=E=null),it(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&p!==0)ae(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&Di(e,u,h,m,y,null,o,a,c),g&&(e.tag=l,e.anchor=f,e.kind="mapping",e.result=u),g}function nL(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&ae(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):ae(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Jt(o);)o===33&&(n?ae(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Q0.test(i)||ae(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),Hk.test(s)&&ae(e,"tag suffix cannot contain flow indicator characters")}s&&!Z0.test(s)&&ae(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{ae(e,"tag name is malformed: "+s)}return r?e.tag=s:Pn.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:ae(e,'undeclared tag handle "'+i+'"'),!0}function iL(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&ae(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Jt(r)&&!Ii(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ae(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function sL(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Jt(n)&&!Ii(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&ae(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Pn.call(e.anchorMap,r)||ae(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],it(e,!0,-1),!0}function Yi(e,t,r,n,i){var s,o,a,c=1,l=!1,f=!1,u,h,m,y,E,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Ba===r||X0===r,n&&it(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;nL(e)||iL(e);)it(e,!0,-1)?(l=!0,a=s,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=l||i),(c===1||Ba===r)&&(Va===r||J0===r?E=t:E=t+1,v=e.position-e.lineStart,c===1?a&&(Up(e,v)||rL(e,v,E))||eL(e,E)?f=!0:(o&&tL(e,E)||Qk(e,E)||Zk(e,E)?f=!0:sL(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&ae(e,"alias node should not have any properties")):Xk(e,E,Va===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=a&&Up(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ae(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,h=e.implicitTypes.length;u<h;u+=1)if(y=e.implicitTypes[u],y.resolve(e.result)){e.result=y.construct(e.result),e.tag=y.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Pn.call(e.typeMap[e.kind||"fallback"],e.tag))y=e.typeMap[e.kind||"fallback"][e.tag];else for(y=null,m=e.typeMap.multi[e.kind||"fallback"],u=0,h=m.length;u<h;u+=1)if(e.tag.slice(0,m[u].tag.length)===m[u].tag){y=m[u];break}y||ae(e,"unknown tag !<"+e.tag+">"),e.result!==null&&y.kind!==e.kind&&ae(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+y.kind+'", not "'+e.kind+'"'),y.resolve(e.result,e.tag)?(e.result=y.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ae(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function oL(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(it(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Jt(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&ae(e,"directive name must not be less than one character in length");o!==0;){for(;ei(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Lr(o));break}if(Lr(o))break;for(r=e.position;o!==0&&!Jt(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&gd(e),Pn.call(jp,n)?jp[n](e,n,i):za(e,'unknown document directive "'+n+'"')}if(it(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,it(e,!0,-1)):s&&ae(e,"directives end mark is expected"),Yi(e,e.lineIndent-1,Ba,!1,!0),it(e,!0,-1),e.checkLineBreaks&&zk.test(e.input.slice(t,e.position))&&za(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&_c(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,it(e,!0,-1));return}if(e.position<e.length-1)ae(e,"end of the stream or a document separator is expected");else return}function nv(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Jk(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,ae(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)oL(r);return r.documents}function aL(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=nv(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function cL(e,t){var r=nv(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Y0("expected a single document in the stream, but found more")}}hd.loadAll=aL;hd.load=cL;var iv={},$c=Tr,Co=Ao,lL=md,sv=Object.prototype.toString,ov=Object.prototype.hasOwnProperty,vd=65279,uL=9,co=10,fL=13,dL=32,hL=33,pL=34,Ql=35,mL=37,gL=38,yL=39,vL=42,av=44,_L=45,Ha=58,$L=61,EL=62,wL=63,SL=64,cv=91,lv=93,bL=96,uv=123,PL=124,fv=125,Tt={};Tt[0]="\\0";Tt[7]="\\a";Tt[8]="\\b";Tt[9]="\\t";Tt[10]="\\n";Tt[11]="\\v";Tt[12]="\\f";Tt[13]="\\r";Tt[27]="\\e";Tt[34]='\\"';Tt[92]="\\\\";Tt[133]="\\N";Tt[160]="\\_";Tt[8232]="\\L";Tt[8233]="\\P";var OL=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],TL=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function AL(e,t){var r,n,i,s,o,a,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),c=e.compiledTypeMap.fallback[o],c&&ov.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[o]=a;return r}function CL(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Co("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+$c.repeat("0",n-t.length)+t}var NL=1,lo=2;function RL(e){this.schema=e.schema||lL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=$c.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=AL(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?lo:NL,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function xp(e,t){for(var r=$c.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Zl(e,t){return`
`+$c.repeat(" ",e.indent*t)}function IL(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Ga(e){return e===dL||e===uL}function uo(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==vd||65536<=e&&e<=1114111}function qp(e){return uo(e)&&e!==vd&&e!==fL&&e!==co}function Vp(e,t,r){var n=qp(e),i=n&&!Ga(e);return(r?n:n&&e!==av&&e!==cv&&e!==lv&&e!==uv&&e!==fv)&&e!==Ql&&!(t===Ha&&!i)||qp(t)&&!Ga(t)&&e===Ql||t===Ha&&i}function DL(e){return uo(e)&&e!==vd&&!Ga(e)&&e!==_L&&e!==wL&&e!==Ha&&e!==av&&e!==cv&&e!==lv&&e!==uv&&e!==fv&&e!==Ql&&e!==gL&&e!==vL&&e!==hL&&e!==PL&&e!==$L&&e!==EL&&e!==yL&&e!==pL&&e!==mL&&e!==SL&&e!==bL}function FL(e){return!Ga(e)&&e!==Ha}function Ms(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function dv(e){var t=/^\n* /;return t.test(e)}var hv=1,eu=2,pv=3,mv=4,Ni=5;function kL(e,t,r,n,i,s,o,a){var c,l=0,f=null,u=!1,h=!1,m=n!==-1,y=-1,E=DL(Ms(e,0))&&FL(Ms(e,e.length-1));if(t||o)for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=Ms(e,c),!uo(l))return Ni;E=E&&Vp(l,f,a),f=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=Ms(e,c),l===co)u=!0,m&&(h=h||c-y-1>n&&e[y+1]!==" ",y=c);else if(!uo(l))return Ni;E=E&&Vp(l,f,a),f=l}h=h||m&&c-y-1>n&&e[y+1]!==" "}return!u&&!h?E&&!o&&!i(e)?hv:s===lo?Ni:eu:r>9&&dv(e)?Ni:o?s===lo?Ni:eu:h?mv:pv}function LL(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===lo?'""':"''";if(!e.noCompatMode&&(OL.indexOf(t)!==-1||TL.test(t)))return e.quotingType===lo?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function c(l){return IL(e,l)}switch(kL(t,a,e.indent,o,c,e.quotingType,e.forceQuotes&&!n,i)){case hv:return t;case eu:return"'"+t.replace(/'/g,"''")+"'";case pv:return"|"+Bp(t,e.indent)+zp(xp(t,s));case mv:return">"+Bp(t,e.indent)+zp(xp(jL(t,o),s));case Ni:return'"'+ML(t)+'"';default:throw new Co("impossible error: invalid scalar style")}}()}function Bp(e,t){var r=dv(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function zp(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function jL(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,Hp(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],c=o[2];s=c[0]===" ",n+=a+(!i&&!s&&c!==""?`
`:"")+Hp(c,t),i=s}return n}function Hp(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,c="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,c+=`
`+e.slice(i,s),i=s+1),o=a;return c+=`
`,e.length-i>t&&o>i?c+=e.slice(i,o)+`
`+e.slice(o+1):c+=e.slice(i),c.slice(1)}function ML(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Ms(e,i),n=Tt[r],!n&&uo(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||CL(r);return t}function UL(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(tn(e,t,a,!1,!1)||typeof a>"u"&&tn(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Gp(e,t,r,n){var i="",s=e.tag,o,a,c;for(o=0,a=r.length;o<a;o+=1)c=r[o],e.replacer&&(c=e.replacer.call(r,String(o),c)),(tn(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&tn(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Zl(e,t)),e.dump&&co===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function xL(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,c,l,f;for(o=0,a=s.length;o<a;o+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),c=s[o],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),tn(e,t,c,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),tn(e,t,l,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}function qL(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,c,l,f,u,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Co("sortKeys must be a boolean or a function");for(a=0,c=o.length;a<c;a+=1)h="",(!n||i!=="")&&(h+=Zl(e,t)),l=o[a],f=r[l],e.replacer&&(f=e.replacer.call(r,l,f)),tn(e,t+1,l,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&co===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,u&&(h+=Zl(e,t)),tn(e,t+1,f,!0,u)&&(e.dump&&co===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}function Wp(e,t,r){var n,i,s,o,a,c;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,sv.call(a.represent)==="[object Function]")n=a.represent(t,c);else if(ov.call(a.represent,c))n=a.represent[c](t,c);else throw new Co("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}function tn(e,t,r,n,i,s,o){e.tag=null,e.dump=r,Wp(e,r,!1)||Wp(e,r,!0);var a=sv.call(e.dump),c=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=a==="[object Object]"||a==="[object Array]",u,h;if(f&&(u=e.duplicates.indexOf(r),h=u!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(f&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(qL(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(xL(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Gp(e,t-1,e.dump,i):Gp(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(UL(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&LL(e,e.dump,t,s,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Co("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function VL(e,t){var r=[],n=[],i,s;for(tu(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function tu(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)tu(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)tu(e[n[i]],t,r)}function BL(e,t){t=t||{};var r=new RL(t);r.noRefs||VL(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),tn(r,0,n,!0,!0)?r.dump+`
`:""}iv.dump=BL;var gv=hd,zL=iv;function _d(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Et.Type=Ut;Et.Schema=C0;Et.FAILSAFE_SCHEMA=D0;Et.JSON_SCHEMA=U0;Et.CORE_SCHEMA=x0;Et.DEFAULT_SCHEMA=md;Et.load=gv.load;Et.loadAll=gv.loadAll;Et.dump=zL.dump;Et.YAMLException=Ao;Et.types={binary:H0,float:M0,map:I0,null:F0,pairs:W0,set:K0,timestamp:B0,bool:k0,int:L0,merge:z0,omap:G0,seq:R0,str:N0};Et.safeLoad=_d("safeLoad","load");Et.safeLoadAll=_d("safeLoadAll","loadAll");Et.safeDump=_d("safeDump","dump");var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.Lazy=void 0;class HL{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;const t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}}Ec.Lazy=HL;var Ji={},Wa={exports:{}};Wa.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",f="[object Boolean]",u="[object Date]",h="[object Error]",m="[object Function]",y="[object GeneratorFunction]",E="[object Map]",v="[object Number]",g="[object Null]",p="[object Object]",S="[object Promise]",N="[object Proxy]",M="[object RegExp]",T="[object Set]",b="[object String]",D="[object Symbol]",O="[object Undefined]",V="[object WeakMap]",Y="[object ArrayBuffer]",H="[object DataView]",W="[object Float32Array]",G="[object Float64Array]",Q="[object Int8Array]",Z="[object Int16Array]",K="[object Int32Array]",I="[object Uint8Array]",j="[object Uint8ClampedArray]",A="[object Uint16Array]",w="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,C=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,$={};$[W]=$[G]=$[Q]=$[Z]=$[K]=$[I]=$[j]=$[A]=$[w]=!0,$[a]=$[c]=$[Y]=$[f]=$[H]=$[u]=$[h]=$[m]=$[E]=$[v]=$[p]=$[M]=$[T]=$[b]=$[V]=!1;var L=typeof st=="object"&&st&&st.Object===Object&&st,P=typeof self=="object"&&self&&self.Object===Object&&self,_=L||P||Function("return this")(),z=t&&!t.nodeType&&t,U=z&&!0&&e&&!e.nodeType&&e,te=U&&U.exports===z,fe=te&&L.process,Se=function(){try{return fe&&fe.binding&&fe.binding("util")}catch{}}(),De=Se&&Se.isTypedArray;function qe(k,B){for(var ee=-1,re=k==null?0:k.length,Me=0,de=[];++ee<re;){var Xe=k[ee];B(Xe,ee,k)&&(de[Me++]=Xe)}return de}function ke(k,B){for(var ee=-1,re=B.length,Me=k.length;++ee<re;)k[Me+ee]=B[ee];return k}function Ne(k,B){for(var ee=-1,re=k==null?0:k.length;++ee<re;)if(B(k[ee],ee,k))return!0;return!1}function Ye(k,B){for(var ee=-1,re=Array(k);++ee<k;)re[ee]=B(ee);return re}function xt(k){return function(B){return k(B)}}function At(k,B){return k.has(B)}function Ct(k,B){return k==null?void 0:k[B]}function at(k){var B=-1,ee=Array(k.size);return k.forEach(function(re,Me){ee[++B]=[Me,re]}),ee}function rt(k,B){return function(ee){return k(B(ee))}}function tr(k){var B=-1,ee=Array(k.size);return k.forEach(function(re){ee[++B]=re}),ee}var ur=Array.prototype,Nt=Function.prototype,qt=Object.prototype,fr=_["__core-js_shared__"],lt=Nt.toString,nt=qt.hasOwnProperty,us=function(){var k=/[^.]+$/.exec(fr&&fr.keys&&fr.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),fs=qt.toString,Nn=RegExp("^"+lt.call(nt).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ds=te?_.Buffer:void 0,fi=_.Symbol,hs=_.Uint8Array,Xt=qt.propertyIsEnumerable,Rc=ur.splice,xr=fi?fi.toStringTag:void 0,Do=Object.getOwnPropertySymbols,Ic=ds?ds.isBuffer:void 0,Dc=rt(Object.keys,Object),ps=mi(_,"DataView"),rr=mi(_,"Map"),ms=mi(_,"Promise"),di=mi(_,"Set"),gs=mi(_,"WeakMap"),qr=mi(Object,"create"),Fo=In(ps),Fc=In(rr),ko=In(ms),kc=In(di),Lo=In(gs),x=fi?fi.prototype:void 0,F=x?x.valueOf:void 0;function q(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var re=k[B];this.set(re[0],re[1])}}function X(){this.__data__=qr?qr(null):{},this.size=0}function J(k){var B=this.has(k)&&delete this.__data__[k];return this.size-=B?1:0,B}function ne(k){var B=this.__data__;if(qr){var ee=B[k];return ee===n?void 0:ee}return nt.call(B,k)?B[k]:void 0}function oe(k){var B=this.__data__;return qr?B[k]!==void 0:nt.call(B,k)}function $e(k,B){var ee=this.__data__;return this.size+=this.has(k)?0:1,ee[k]=qr&&B===void 0?n:B,this}q.prototype.clear=X,q.prototype.delete=J,q.prototype.get=ne,q.prototype.has=oe,q.prototype.set=$e;function Ee(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var re=k[B];this.set(re[0],re[1])}}function Ve(){this.__data__=[],this.size=0}function me(k){var B=this.__data__,ee=zr(B,k);if(ee<0)return!1;var re=B.length-1;return ee==re?B.pop():Rc.call(B,ee,1),--this.size,!0}function Ie(k){var B=this.__data__,ee=zr(B,k);return ee<0?void 0:B[ee][1]}function Be(k){return zr(this.__data__,k)>-1}function ce(k,B){var ee=this.__data__,re=zr(ee,k);return re<0?(++this.size,ee.push([k,B])):ee[re][1]=B,this}Ee.prototype.clear=Ve,Ee.prototype.delete=me,Ee.prototype.get=Ie,Ee.prototype.has=Be,Ee.prototype.set=ce;function Oe(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var re=k[B];this.set(re[0],re[1])}}function Je(){this.size=0,this.__data__={hash:new q,map:new(rr||Ee),string:new q}}function Le(k){var B=Uo(this,k).delete(k);return this.size-=B?1:0,B}function Ar(k){return Uo(this,k).get(k)}function nr(k){return Uo(this,k).has(k)}function ir(k,B){var ee=Uo(this,k),re=ee.size;return ee.set(k,B),this.size+=ee.size==re?0:1,this}Oe.prototype.clear=Je,Oe.prototype.delete=Le,Oe.prototype.get=Ar,Oe.prototype.has=nr,Oe.prototype.set=ir;function dr(k){var B=-1,ee=k==null?0:k.length;for(this.__data__=new Oe;++B<ee;)this.add(k[B])}function Vr(k){return this.__data__.set(k,n),this}function Vt(k){return this.__data__.has(k)}dr.prototype.add=dr.prototype.push=Vr,dr.prototype.has=Vt;function ct(k){var B=this.__data__=new Ee(k);this.size=B.size}function Br(){this.__data__=new Ee,this.size=0}function hr(k){var B=this.__data__,ee=B.delete(k);return this.size=B.size,ee}function Rn(k){return this.__data__.get(k)}function jo(k){return this.__data__.has(k)}function Mo(k,B){var ee=this.__data__;if(ee instanceof Ee){var re=ee.__data__;if(!rr||re.length<r-1)return re.push([k,B]),this.size=++ee.size,this;ee=this.__data__=new Oe(re)}return ee.set(k,B),this.size=ee.size,this}ct.prototype.clear=Br,ct.prototype.delete=hr,ct.prototype.get=Rn,ct.prototype.has=jo,ct.prototype.set=Mo;function hi(k,B){var ee=xo(k),re=!ee&&qv(k),Me=!ee&&!re&&Lc(k),de=!ee&&!re&&!Me&&Td(k),Xe=ee||re||Me||de,ut=Xe?Ye(k.length,String):[],pt=ut.length;for(var ze in k)(B||nt.call(k,ze))&&!(Xe&&(ze=="length"||Me&&(ze=="offset"||ze=="parent")||de&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||Lv(ze,pt)))&&ut.push(ze);return ut}function zr(k,B){for(var ee=k.length;ee--;)if(Sd(k[ee][0],B))return ee;return-1}function pi(k,B,ee){var re=B(k);return xo(k)?re:ke(re,ee(k))}function rn(k){return k==null?k===void 0?O:g:xr&&xr in Object(k)?Fv(k):xv(k)}function ys(k){return vs(k)&&rn(k)==a}function nn(k,B,ee,re,Me){return k===B?!0:k==null||B==null||!vs(k)&&!vs(B)?k!==k&&B!==B:Av(k,B,ee,re,nn,Me)}function Av(k,B,ee,re,Me,de){var Xe=xo(k),ut=xo(B),pt=Xe?c:sn(k),ze=ut?c:sn(B);pt=pt==a?p:pt,ze=ze==a?p:ze;var Qt=pt==p,pr=ze==p,wt=pt==ze;if(wt&&Lc(k)){if(!Lc(B))return!1;Xe=!0,Qt=!1}if(wt&&!Qt)return de||(de=new ct),Xe||Td(k)?Ed(k,B,ee,re,Me,de):Iv(k,B,pt,ee,re,Me,de);if(!(ee&i)){var sr=Qt&&nt.call(k,"__wrapped__"),or=pr&&nt.call(B,"__wrapped__");if(sr||or){var on=sr?k.value():k,Hr=or?B.value():B;return de||(de=new ct),Me(on,Hr,ee,re,de)}}return wt?(de||(de=new ct),Dv(k,B,ee,re,Me,de)):!1}function Cv(k){if(!Od(k)||Mv(k))return!1;var B=bd(k)?Nn:C;return B.test(In(k))}function Nv(k){return vs(k)&&Pd(k.length)&&!!$[rn(k)]}function Rv(k){if(!Uv(k))return Dc(k);var B=[];for(var ee in Object(k))nt.call(k,ee)&&ee!="constructor"&&B.push(ee);return B}function Ed(k,B,ee,re,Me,de){var Xe=ee&i,ut=k.length,pt=B.length;if(ut!=pt&&!(Xe&&pt>ut))return!1;var ze=de.get(k);if(ze&&de.get(B))return ze==B;var Qt=-1,pr=!0,wt=ee&s?new dr:void 0;for(de.set(k,B),de.set(B,k);++Qt<ut;){var sr=k[Qt],or=B[Qt];if(re)var on=Xe?re(or,sr,Qt,B,k,de):re(sr,or,Qt,k,B,de);if(on!==void 0){if(on)continue;pr=!1;break}if(wt){if(!Ne(B,function(Hr,Dn){if(!At(wt,Dn)&&(sr===Hr||Me(sr,Hr,ee,re,de)))return wt.push(Dn)})){pr=!1;break}}else if(!(sr===or||Me(sr,or,ee,re,de))){pr=!1;break}}return de.delete(k),de.delete(B),pr}function Iv(k,B,ee,re,Me,de,Xe){switch(ee){case H:if(k.byteLength!=B.byteLength||k.byteOffset!=B.byteOffset)return!1;k=k.buffer,B=B.buffer;case Y:return!(k.byteLength!=B.byteLength||!de(new hs(k),new hs(B)));case f:case u:case v:return Sd(+k,+B);case h:return k.name==B.name&&k.message==B.message;case M:case b:return k==B+"";case E:var ut=at;case T:var pt=re&i;if(ut||(ut=tr),k.size!=B.size&&!pt)return!1;var ze=Xe.get(k);if(ze)return ze==B;re|=s,Xe.set(k,B);var Qt=Ed(ut(k),ut(B),re,Me,de,Xe);return Xe.delete(k),Qt;case D:if(F)return F.call(k)==F.call(B)}return!1}function Dv(k,B,ee,re,Me,de){var Xe=ee&i,ut=wd(k),pt=ut.length,ze=wd(B),Qt=ze.length;if(pt!=Qt&&!Xe)return!1;for(var pr=pt;pr--;){var wt=ut[pr];if(!(Xe?wt in B:nt.call(B,wt)))return!1}var sr=de.get(k);if(sr&&de.get(B))return sr==B;var or=!0;de.set(k,B),de.set(B,k);for(var on=Xe;++pr<pt;){wt=ut[pr];var Hr=k[wt],Dn=B[wt];if(re)var Ad=Xe?re(Dn,Hr,wt,B,k,de):re(Hr,Dn,wt,k,B,de);if(!(Ad===void 0?Hr===Dn||Me(Hr,Dn,ee,re,de):Ad)){or=!1;break}on||(on=wt=="constructor")}if(or&&!on){var qo=k.constructor,Vo=B.constructor;qo!=Vo&&"constructor"in k&&"constructor"in B&&!(typeof qo=="function"&&qo instanceof qo&&typeof Vo=="function"&&Vo instanceof Vo)&&(or=!1)}return de.delete(k),de.delete(B),or}function wd(k){return pi(k,zv,kv)}function Uo(k,B){var ee=k.__data__;return jv(B)?ee[typeof B=="string"?"string":"hash"]:ee.map}function mi(k,B){var ee=Ct(k,B);return Cv(ee)?ee:void 0}function Fv(k){var B=nt.call(k,xr),ee=k[xr];try{k[xr]=void 0;var re=!0}catch{}var Me=fs.call(k);return re&&(B?k[xr]=ee:delete k[xr]),Me}var kv=Do?function(k){return k==null?[]:(k=Object(k),qe(Do(k),function(B){return Xt.call(k,B)}))}:Hv,sn=rn;(ps&&sn(new ps(new ArrayBuffer(1)))!=H||rr&&sn(new rr)!=E||ms&&sn(ms.resolve())!=S||di&&sn(new di)!=T||gs&&sn(new gs)!=V)&&(sn=function(k){var B=rn(k),ee=B==p?k.constructor:void 0,re=ee?In(ee):"";if(re)switch(re){case Fo:return H;case Fc:return E;case ko:return S;case kc:return T;case Lo:return V}return B});function Lv(k,B){return B=B??o,!!B&&(typeof k=="number"||d.test(k))&&k>-1&&k%1==0&&k<B}function jv(k){var B=typeof k;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?k!=="__proto__":k===null}function Mv(k){return!!us&&us in k}function Uv(k){var B=k&&k.constructor,ee=typeof B=="function"&&B.prototype||qt;return k===ee}function xv(k){return fs.call(k)}function In(k){if(k!=null){try{return lt.call(k)}catch{}try{return k+""}catch{}}return""}function Sd(k,B){return k===B||k!==k&&B!==B}var qv=ys(function(){return arguments}())?ys:function(k){return vs(k)&&nt.call(k,"callee")&&!Xt.call(k,"callee")},xo=Array.isArray;function Vv(k){return k!=null&&Pd(k.length)&&!bd(k)}var Lc=Ic||Gv;function Bv(k,B){return nn(k,B)}function bd(k){if(!Od(k))return!1;var B=rn(k);return B==m||B==y||B==l||B==N}function Pd(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=o}function Od(k){var B=typeof k;return k!=null&&(B=="object"||B=="function")}function vs(k){return k!=null&&typeof k=="object"}var Td=De?xt(De):Nv;function zv(k){return Vv(k)?hi(k):Rv(k)}function Hv(){return[]}function Gv(){return!1}e.exports=Bv})(Wa,Wa.exports);var GL=Wa.exports;Object.defineProperty(Ji,"__esModule",{value:!0});Ji.createTempUpdateFile=Ji.DownloadedUpdateHelper=void 0;const WL=ts,KL=Qe,Kp=GL,qn=Cn,Qs=we;class YL{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return Qs.join(this.cacheDir,"pending")}async validateDownloadedPath(t,r,n,i){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return Kp(this.versionInfo,r)&&Kp(this.fileInfo.info,n.info)&&await(0,qn.pathExists)(t)?t:null;const s=await this.getValidCachedUpdateFile(n,i);return s===null?null:(i.info(`Update has already been downloaded to ${t}).`),this._file=s,s)}async setDownloadedFile(t,r,n,i,s,o){this._file=t,this._packageFile=r,this.versionInfo=n,this.fileInfo=i,this._downloadedFileInfo={fileName:s,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},o&&await(0,qn.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,qn.emptyDir)(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,r){var n;const i=this.getUpdateInfoFile();if(!await(0,qn.pathExists)(i))return null;let o;try{o=await(0,qn.readJson)(i)}catch(f){let u="No cached update info available";return f.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),u+=` (error on read: ${f.message})`),r.info(u),null}if(!((n=(o==null?void 0:o.fileName)!==null)!==null&&n!==void 0?n:!1))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==o.sha512)return r.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${o.sha512}, expected: ${t.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const c=Qs.join(this.cacheDirForPendingUpdate,o.fileName);if(!await(0,qn.pathExists)(c))return r.info("Cached update file doesn't exist"),null;const l=await JL(c);return t.info.sha512!==l?(r.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${l}, expected: ${t.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=o,c)}getUpdateInfoFile(){return Qs.join(this.cacheDirForPendingUpdate,"update-info.json")}}Ji.DownloadedUpdateHelper=YL;function JL(e,t="sha512",r="base64",n){return new Promise((i,s)=>{const o=(0,WL.createHash)(t);o.on("error",s).setEncoding(r),(0,KL.createReadStream)(e,{...n,highWaterMark:1024*1024}).on("error",s).on("end",()=>{o.end(),i(o.read())}).pipe(o,{end:!1})})}async function XL(e,t,r){let n=0,i=Qs.join(t,e);for(let s=0;s<3;s++)try{return await(0,qn.unlink)(i),i}catch(o){if(o.code==="ENOENT")return i;r.warn(`Error on remove temp update file: ${o}`),i=Qs.join(t,`${n++}-${e}`)}return i}Ji.createTempUpdateFile=XL;var wc={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.getAppCacheDir=void 0;const vl=we,QL=An;function ZL(){const e=(0,QL.homedir)();let t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||vl.join(e,"AppData","Local"):process.platform==="darwin"?t=vl.join(e,"Library","Caches"):t=process.env.XDG_CACHE_HOME||vl.join(e,".cache"),t}Sc.getAppCacheDir=ZL;Object.defineProperty(wc,"__esModule",{value:!0});wc.ElectronAppAdapter=void 0;const Yp=we,ej=Sc;class tj{constructor(t=he.app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?Yp.join(process.resourcesPath,"app-update.yml"):Yp.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,ej.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(t){this.app.once("quit",(r,n)=>t(n))}}wc.ElectronAppAdapter=tj;var yv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronHttpExecutor=e.getNetSession=e.NET_SESSION_NAME=void 0;const t=ot();e.NET_SESSION_NAME="electron-updater";function r(){return he.session.fromPartition(e.NET_SESSION_NAME,{cache:!1})}e.getNetSession=r;class n extends t.HttpExecutor{constructor(s){super(),this.proxyLoginCallback=s,this.cachedSession=null}async download(s,o,a){return await a.cancellationToken.createPromise((c,l,f)=>{const u={headers:a.headers||void 0,redirect:"manual"};(0,t.configureRequestUrl)(s,u),(0,t.configureRequestOptions)(u),this.doDownload(u,{destination:o,options:a,onCancel:f,callback:h=>{h==null?c(o):l(h)},responseHandler:null},0)})}createRequest(s,o){s.headers&&s.headers.Host&&(s.host=s.headers.Host,delete s.headers.Host),this.cachedSession==null&&(this.cachedSession=r());const a=he.net.request({...s,session:this.cachedSession});return a.on("response",o),this.proxyLoginCallback!=null&&a.on("login",this.proxyLoginCallback),a}addRedirectHandlers(s,o,a,c,l){s.on("redirect",(f,u,h)=>{s.abort(),c>this.maxRedirects?a(this.createMaxRedirectError()):l(t.HttpExecutor.prepareRedirectUrlOptions(h,o))})}}e.ElectronHttpExecutor=n})(yv);var No={},Ot={},rj=1/0,nj="[object Symbol]",vv=/[\\^$.*+?()[\]{}|]/g,ij=RegExp(vv.source),sj=typeof st=="object"&&st&&st.Object===Object&&st,oj=typeof self=="object"&&self&&self.Object===Object&&self,aj=sj||oj||Function("return this")(),cj=Object.prototype,lj=cj.toString,Jp=aj.Symbol,Xp=Jp?Jp.prototype:void 0,Qp=Xp?Xp.toString:void 0;function uj(e){if(typeof e=="string")return e;if(dj(e))return Qp?Qp.call(e):"";var t=e+"";return t=="0"&&1/e==-rj?"-0":t}function fj(e){return!!e&&typeof e=="object"}function dj(e){return typeof e=="symbol"||fj(e)&&lj.call(e)==nj}function hj(e){return e==null?"":uj(e)}function pj(e){return e=hj(e),e&&ij.test(e)?e.replace(vv,"\\$&"):e}var mj=pj;Object.defineProperty(Ot,"__esModule",{value:!0});Ot.blockmapFiles=Ot.getChannelFilename=Ot.newUrlFromBase=Ot.newBaseUrl=void 0;const _v=rs,gj=mj;function yj(e){const t=new _v.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}Ot.newBaseUrl=yj;function ru(e,t,r=!1){const n=new _v.URL(e,t),i=t.search;return i!=null&&i.length!==0?n.search=i:r&&(n.search=`noCache=${Date.now().toString(32)}`),n}Ot.newUrlFromBase=ru;function vj(e){return`${e}.yml`}Ot.getChannelFilename=vj;function _j(e,t,r){const n=ru(`${e.pathname}.blockmap`,e);return[ru(`${e.pathname.replace(new RegExp(gj(r),"g"),t)}.blockmap`,e),n]}Ot.blockmapFiles=_j;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.resolveFiles=Ze.getFileList=Ze.parseUpdateInfo=Ze.findFile=Ze.Provider=void 0;const On=ot(),$j=Et,Zp=Ot;class Ej{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){const t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(t==="x64"?"":`-${t}`)}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return`${t}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,r,n){return this.executor.request(this.createRequestOptions(t,r),n)}createRequestOptions(t,r){const n={};return this.requestHeaders==null?r!=null&&(n.headers=r):n.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},(0,On.configureRequestUrl)(t,n),n}}Ze.Provider=Ej;function wj(e,t,r){if(e.length===0)throw(0,On.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const n=e.find(i=>i.url.pathname.toLowerCase().endsWith(`.${t}`));return n??(r==null?e[0]:e.find(i=>!r.some(s=>i.url.pathname.toLowerCase().endsWith(`.${s}`))))}Ze.findFile=wj;function Sj(e,t,r){if(e==null)throw(0,On.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let n;try{n=(0,$j.load)(e)}catch(i){throw(0,On.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): ${i.stack||i.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return n}Ze.parseUpdateInfo=Sj;function $v(e){const t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw(0,On.newError)(`No files provided: ${(0,On.safeStringifyJson)(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}Ze.getFileList=$v;function bj(e,t,r=n=>n){const i=$v(e).map(a=>{if(a.sha2==null&&a.sha512==null)throw(0,On.newError)(`Update info doesn't contain nor sha256 neither sha512 checksum: ${(0,On.safeStringifyJson)(a)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:(0,Zp.newUrlFromBase)(r(a.url),t),info:a}}),s=e.packages,o=s==null?null:s[process.arch]||s.ia32;return o!=null&&(i[0].packageInfo={...o,path:(0,Zp.newUrlFromBase)(r(o.path),t).href}),i}Ze.resolveFiles=bj;Object.defineProperty(No,"__esModule",{value:!0});No.GenericProvider=void 0;const em=ot(),_l=Ot,$l=Ze;class Pj extends $l.Provider{constructor(t,r,n){super(n),this.configuration=t,this.updater=r,this.baseUrl=(0,_l.newBaseUrl)(this.configuration.url)}get channel(){const t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){const t=(0,_l.getChannelFilename)(this.channel),r=(0,_l.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,$l.parseUpdateInfo)(await this.httpRequest(r),t,r)}catch(i){if(i instanceof em.HttpError&&i.statusCode===404)throw(0,em.newError)(`Cannot find channel "${t}" update info: ${i.stack||i.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&n<3){await new Promise((s,o)=>{try{setTimeout(s,1e3*n)}catch(a){o(a)}});continue}throw i}}resolveFiles(t){return(0,$l.resolveFiles)(t,this.baseUrl)}}No.GenericProvider=Pj;var Xi={},bc={};Object.defineProperty(bc,"__esModule",{value:!0});bc.BitbucketProvider=void 0;const tm=ot(),El=Ot,wl=Ze;class Oj extends wl.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r;const{owner:i,slug:s}=t;this.baseUrl=(0,El.newBaseUrl)(`https://api.bitbucket.org/2.0/repositories/${i}/${s}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const t=new tm.CancellationToken,r=(0,El.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,El.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,void 0,t);return(0,wl.parseUpdateInfo)(i,r,n)}catch(i){throw(0,tm.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,wl.resolveFiles)(t,this.baseUrl)}toString(){const{owner:t,slug:r}=this.configuration;return`Bitbucket (owner: ${t}, slug: ${r}, channel: ${this.channel})`}}bc.BitbucketProvider=Oj;var en={};Object.defineProperty(en,"__esModule",{value:!0});en.computeReleaseNotes=en.GitHubProvider=en.BaseGitHubProvider=void 0;const Kr=ot(),Zs=Zf,Tj=rs,Fi=Ot,nu=Ze,Sl=/\/tag\/([^/]+)$/;class Ev extends nu.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=(0,Fi.newBaseUrl)((0,Kr.githubUrl)(t,r));const i=r==="github.com"?"api.github.com":r;this.baseApiUrl=(0,Fi.newBaseUrl)((0,Kr.githubUrl)(t,i))}computeGithubBasePath(t){const r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?`/api/v3${t}`:t}}en.BaseGitHubProvider=Ev;class Aj extends Ev{constructor(t,r,n){super(t,"github.com",n),this.options=t,this.updater=r}async getLatestVersion(){var t,r,n,i;const s=new Kr.CancellationToken,o=await this.httpRequest((0,Fi.newUrlFromBase)(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},s),a=(0,Kr.parseXml)(o);let c=a.element("entry",!1,"No published versions on GitHub"),l=null;try{if(this.updater.allowPrerelease){const E=((t=this.updater)===null||t===void 0?void 0:t.channel)||((r=Zs.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if(E===null)l=Sl.exec(c.element("link").attribute("href"))[1];else for(const v of a.getElements("entry")){const g=Sl.exec(v.element("link").attribute("href"));if(g===null)continue;const p=g[1],S=((n=Zs.prerelease(p))===null||n===void 0?void 0:n[0])||null,N=!E||["alpha","beta"].includes(E),M=S!==null&&!["alpha","beta"].includes(String(S));if(N&&!M&&!(E==="beta"&&S==="alpha")){l=p;break}if(S&&S===E){l=p;break}}}else{l=await this.getLatestTagName(s);for(const E of a.getElements("entry"))if(Sl.exec(E.element("link").attribute("href"))[1]===l){c=E;break}}}catch(E){throw(0,Kr.newError)(`Cannot parse releases feed: ${E.stack||E.message},
XML:
${o}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(l==null)throw(0,Kr.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let f,u="",h="";const m=async E=>{u=(0,Fi.getChannelFilename)(E),h=(0,Fi.newUrlFromBase)(this.getBaseDownloadPath(String(l),u),this.baseUrl);const v=this.createRequestOptions(h);try{return await this.executor.request(v,s)}catch(g){throw g instanceof Kr.HttpError&&g.statusCode===404?(0,Kr.newError)(`Cannot find ${u} in the latest release artifacts (${h}): ${g.stack||g.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):g}};try{const E=this.updater.allowPrerelease?this.getCustomChannelName(String(((i=Zs.prerelease(l))===null||i===void 0?void 0:i[0])||"latest")):this.getDefaultChannelName();f=await m(E)}catch(E){if(this.updater.allowPrerelease)f=await m(this.getDefaultChannelName());else throw E}const y=(0,nu.parseUpdateInfo)(f,u,h);return y.releaseName==null&&(y.releaseName=c.elementValueOrEmpty("title")),y.releaseNotes==null&&(y.releaseNotes=wv(this.updater.currentVersion,this.updater.fullChangelog,a,c)),{tag:l,...y}}async getLatestTagName(t){const r=this.options,n=r.host==null||r.host==="github.com"?(0,Fi.newUrlFromBase)(`${this.basePath}/latest`,this.baseUrl):new Tj.URL(`${this.computeGithubBasePath(`/repos/${r.owner}/${r.repo}/releases`)}/latest`,this.baseApiUrl);try{const i=await this.httpRequest(n,{Accept:"application/json"},t);return i==null?null:JSON.parse(i).tag_name}catch(i){throw(0,Kr.newError)(`Unable to find latest version on GitHub (${n}), please ensure a production release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(t){return(0,nu.resolveFiles)(t,this.baseUrl,r=>this.getBaseDownloadPath(t.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(t,r){return`${this.basePath}/download/${t}/${r}`}}en.GitHubProvider=Aj;function rm(e){const t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function wv(e,t,r,n){if(!t)return rm(n);const i=[];for(const s of r.getElements("entry")){const o=/\/tag\/v?([^/]+)$/.exec(s.element("link").attribute("href"))[1];Zs.lt(e,o)&&i.push({version:o,note:rm(s)})}return i.sort((s,o)=>Zs.rcompare(s.version,o.version))}en.computeReleaseNotes=wv;var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.KeygenProvider=void 0;const nm=ot(),bl=Ot,Pl=Ze;class Cj extends Pl.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r,this.baseUrl=(0,bl.newBaseUrl)(`https://api.keygen.sh/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const t=new nm.CancellationToken,r=(0,bl.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,bl.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},t);return(0,Pl.parseUpdateInfo)(i,r,n)}catch(i){throw(0,nm.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,Pl.resolveFiles)(t,this.baseUrl)}toString(){const{account:t,product:r,platform:n}=this.configuration;return`Keygen (account: ${t}, product: ${r}, platform: ${n}, channel: ${this.channel})`}}Pc.KeygenProvider=Cj;var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.PrivateGitHubProvider=void 0;const Pi=ot(),Nj=Et,Rj=we,im=rs,sm=Ot,Ij=en,Dj=Ze;class Fj extends Ij.BaseGitHubProvider{constructor(t,r,n,i){super(t,"api.github.com",i),this.updater=r,this.token=n}createRequestOptions(t,r){const n=super.createRequestOptions(t,r);return n.redirect="manual",n}async getLatestVersion(){const t=new Pi.CancellationToken,r=(0,sm.getChannelFilename)(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(t),i=n.assets.find(a=>a.name===r);if(i==null)throw(0,Pi.newError)(`Cannot find ${r} in the release ${n.html_url||n.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const s=new im.URL(i.url);let o;try{o=(0,Nj.load)(await this.httpRequest(s,this.configureHeaders("application/octet-stream"),t))}catch(a){throw a instanceof Pi.HttpError&&a.statusCode===404?(0,Pi.newError)(`Cannot find ${r} in the latest release artifacts (${s}): ${a.stack||a.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):a}return o.assets=n.assets,o}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:`token ${this.token}`}}async getLatestVersionInfo(t){const r=this.updater.allowPrerelease;let n=this.basePath;r||(n=`${n}/latest`);const i=(0,sm.newUrlFromBase)(n,this.baseUrl);try{const s=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return r?s.find(o=>o.prerelease)||s[0]:s}catch(s){throw(0,Pi.newError)(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${s.stack||s.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(t){return(0,Dj.getFileList)(t).map(r=>{const n=Rj.posix.basename(r.url).replace(/ /g,"-"),i=t.assets.find(s=>s!=null&&s.name===n);if(i==null)throw(0,Pi.newError)(`Cannot find asset "${n}" in: ${JSON.stringify(t.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new im.URL(i.url),info:r}})}}Oc.PrivateGitHubProvider=Fj;Object.defineProperty(Xi,"__esModule",{value:!0});Xi.createClient=Xi.isUrlProbablySupportMultiRangeRequests=void 0;const fa=ot(),kj=bc,om=No,Lj=en,jj=Pc,Mj=Oc;function Sv(e){return!e.includes("s3.amazonaws.com")}Xi.isUrlProbablySupportMultiRangeRequests=Sv;function Uj(e,t,r){if(typeof e=="string")throw(0,fa.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const n=e.provider;switch(n){case"github":{const i=e,s=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return s==null?new Lj.GitHubProvider(i,t,r):new Mj.PrivateGitHubProvider(i,t,s,r)}case"bitbucket":return new kj.BitbucketProvider(e,t,r);case"keygen":return new jj.KeygenProvider(e,t,r);case"s3":case"spaces":return new om.GenericProvider({provider:"generic",url:(0,fa.getS3LikeProviderBaseUrl)(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{const i=e;return new om.GenericProvider(i,t,{...r,isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&Sv(i.url)})}case"custom":{const i=e,s=i.updateProvider;if(!s)throw(0,fa.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new s(i,t,r)}default:throw(0,fa.newError)(`Unsupported provider: ${n}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}Xi.createClient=Uj;var am;function $d(){if(am)return xn;am=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.NoOpLogger=xn.AppUpdater=void 0;const e=ot(),t=ts,r=Zi,n=Cn,i=Et,s=Ec,o=we,a=Zf,c=Ji,l=wc,f=yv,u=No,h=ls(),m=Xi;let y=class bv extends r.EventEmitter{get channel(){return this._channel}set channel(p){if(this._channel!=null){if(typeof p!="string")throw(0,e.newError)(`Channel must be a string, but got: ${p}`,"ERR_UPDATER_INVALID_CHANNEL");if(p.length===0)throw(0,e.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=p,this.allowDowngrade=!0}addAuthHeader(p){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:p})}get netSession(){return(0,f.getNetSession)()}get logger(){return this._logger}set logger(p){this._logger=p??new v}set updateConfigPath(p){this.clientPromise=null,this._appUpdateConfigPath=p,this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig())}constructor(p,S){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new h.UpdaterSignal(this),this._appUpdateConfigPath=null,this.clientPromise=null,this.stagingUserIdPromise=new s.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",T=>{this._logger.error(`Error: ${T.stack||T.message}`)}),S==null?(this.app=new l.ElectronAppAdapter,this.httpExecutor=new f.ElectronHttpExecutor((T,b)=>this.emit("login",T,b))):(this.app=S,this.httpExecutor=null);const N=this.app.version,M=(0,a.parse)(N);if(M==null)throw(0,e.newError)(`App version is not a valid semver version: "${N}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=M,this.allowPrerelease=E(M),p!=null&&(this.setFeedURL(p),typeof p!="string"&&p.requestHeaders&&(this.requestHeaders=p.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(p){const S=this.createProviderRuntimeOptions();let N;typeof p=="string"?N=new u.GenericProvider({provider:"generic",url:p},this,{...S,isUseMultipleRangeRequest:(0,m.isUrlProbablySupportMultiRangeRequests)(p)}):N=(0,m.createClient)(p,this,S),this.clientPromise=Promise.resolve(N)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let p=this.checkForUpdatesPromise;if(p!=null)return this._logger.info("Checking for update (already in progress)"),p;const S=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),p=this.doCheckForUpdates().then(N=>(S(),N)).catch(N=>{throw S(),this.emit("error",N,`Cannot check for updates: ${(N.stack||N).toString()}`),N}),this.checkForUpdatesPromise=p,p}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(p){return this.checkForUpdates().then(S=>S!=null&&S.downloadPromise?(S.downloadPromise.then(()=>{const N=bv.formatDownloadNotification(S.updateInfo.version,this.app.name,p);new he.Notification(N).show()}),S):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),S))}static formatDownloadNotification(p,S,N){return N==null&&(N={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),N={title:N.title.replace("{appName}",S).replace("{version}",p),body:N.body.replace("{appName}",S).replace("{version}",p)},N}async isStagingMatch(p){const S=p.stagingPercentage;let N=S;if(N==null)return!0;if(N=parseInt(N,10),isNaN(N))return this._logger.warn(`Staging percentage is NaN: ${S}`),!0;N=N/100;const M=await this.stagingUserIdPromise.value,b=e.UUID.parse(M).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${N}, percentage: ${b}, user id: ${M}`),b<N}computeFinalHeaders(p){return this.requestHeaders!=null&&Object.assign(p,this.requestHeaders),p}async isUpdateAvailable(p){const S=(0,a.parse)(p.version);if(S==null)throw(0,e.newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${p.version}"`,"ERR_UPDATER_INVALID_VERSION");const N=this.currentVersion;if((0,a.eq)(S,N)||!await this.isStagingMatch(p))return!1;const T=(0,a.gt)(S,N),b=(0,a.lt)(S,N);return T?!0:this.allowDowngrade&&b}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(N=>(0,m.createClient)(N,this,this.createProviderRuntimeOptions())));const p=await this.clientPromise,S=await this.stagingUserIdPromise.value;return p.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":S})),{info:await p.getLatestVersion(),provider:p}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const p=await this.getUpdateInfoAndProvider(),S=p.info;if(!await this.isUpdateAvailable(S))return this._logger.info(`Update for version ${this.currentVersion} is not available (latest version: ${S.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",S),{versionInfo:S,updateInfo:S};this.updateInfoAndProvider=p,this.onUpdateAvailable(S);const N=new e.CancellationToken;return{versionInfo:S,updateInfo:S,cancellationToken:N,downloadPromise:this.autoDownload?this.downloadUpdate(N):null}}onUpdateAvailable(p){this._logger.info(`Found version ${p.version} (url: ${(0,e.asArray)(p.files).map(S=>S.url).join(", ")})`),this.emit("update-available",p)}downloadUpdate(p=new e.CancellationToken){const S=this.updateInfoAndProvider;if(S==null){const M=new Error("Please check update first");return this.dispatchError(M),Promise.reject(M)}this._logger.info(`Downloading update from ${(0,e.asArray)(S.info.files).map(M=>M.url).join(", ")}`);const N=M=>{if(!(M instanceof e.CancellationError))try{this.dispatchError(M)}catch(T){this._logger.warn(`Cannot dispatch error event: ${T.stack||T}`)}return M};try{return this.doDownloadUpdate({updateInfoAndProvider:S,requestHeaders:this.computeRequestHeaders(S.provider),cancellationToken:p,disableWebInstaller:this.disableWebInstaller}).catch(M=>{throw N(M)})}catch(M){return Promise.reject(N(M))}}dispatchError(p){this.emit("error",p,(p.stack||p).toString())}dispatchUpdateDownloaded(p){this.emit(h.UPDATE_DOWNLOADED,p)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,i.load)(await(0,n.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(p){const S=p.fileExtraDownloadHeaders;if(S!=null){const N=this.requestHeaders;return N==null?S:{...S,...N}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const p=o.join(this.app.userDataPath,".updaterId");try{const N=await(0,n.readFile)(p,"utf-8");if(e.UUID.check(N))return N;this._logger.warn(`Staging user id file exists, but content was invalid: ${N}`)}catch(N){N.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${N}`)}const S=e.UUID.v5((0,t.randomBytes)(4096),e.UUID.OID);this._logger.info(`Generated new staging user ID: ${S}`);try{await(0,n.outputFile)(p,S)}catch(N){this._logger.warn(`Couldn't write out staging user ID: ${N}`)}return S}get isAddNoCacheQuery(){const p=this.requestHeaders;if(p==null)return!0;for(const S of Object.keys(p)){const N=S.toLowerCase();if(N==="authorization"||N==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let p=this.downloadedUpdateHelper;if(p==null){const S=(await this.configOnDisk.value).updaterCacheDirName,N=this._logger;S==null&&N.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const M=o.join(this.app.baseCachePath,S||this.app.name);N.debug!=null&&N.debug(`updater cache dir: ${M}`),p=new c.DownloadedUpdateHelper(M),this.downloadedUpdateHelper=p}return p}async executeDownload(p){const S=p.fileInfo,N={headers:p.downloadUpdateOptions.requestHeaders,cancellationToken:p.downloadUpdateOptions.cancellationToken,sha2:S.info.sha2,sha512:S.info.sha512};this.listenerCount(h.DOWNLOAD_PROGRESS)>0&&(N.onProgress=j=>this.emit(h.DOWNLOAD_PROGRESS,j));const M=p.downloadUpdateOptions.updateInfoAndProvider.info,T=M.version,b=S.packageInfo;function D(){const j=decodeURIComponent(p.fileInfo.url.pathname);return j.endsWith(`.${p.fileExtension}`)?o.basename(j):p.fileInfo.info.url}const O=await this.getOrCreateDownloadHelper(),V=O.cacheDirForPendingUpdate;await(0,n.mkdir)(V,{recursive:!0});const Y=D();let H=o.join(V,Y);const W=b==null?null:o.join(V,`package-${T}${o.extname(b.path)||".7z"}`),G=async j=>(await O.setDownloadedFile(H,W,M,S,Y,j),await p.done({...M,downloadedFile:H}),W==null?[H]:[H,W]),Q=this._logger,Z=await O.validateDownloadedPath(H,M,S,Q);if(Z!=null)return H=Z,await G(!1);const K=async()=>(await O.clear().catch(()=>{}),await(0,n.unlink)(H).catch(()=>{})),I=await(0,c.createTempUpdateFile)(`temp-${Y}`,V,Q);try{await p.task(I,N,W,K),await(0,n.rename)(I,H)}catch(j){throw await K(),j instanceof e.CancellationError&&(Q.info("cancelled"),this.emit("update-cancelled",M)),j}return Q.info(`New version ${T} has been downloaded to ${H}`),await G(!0)}};xn.AppUpdater=y;function E(g){const p=(0,a.prerelease)(g);return p!=null&&p.length>0}class v{info(p){}warn(p){}error(p){}}return xn.NoOpLogger=v,xn}var Ts={},As={},cm;function Tc(){if(cm)return As;cm=1,Object.defineProperty(As,"__esModule",{value:!0}),As.BaseUpdater=void 0;const e=fo,t=$d();let r=class extends t.AppUpdater{constructor(i,s){super(i,s),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(i=!1,s=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(i,i?s:this.autoRunAppAfterInstall)?setImmediate(()=>{he.autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(i){return super.executeDownload({...i,done:s=>(this.dispatchUpdateDownloaded(s),this.addQuitHandler(),Promise.resolve())})}install(i=!1,s=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const o=this.downloadedUpdateHelper,a=o==null?null:o.file,c=o==null?null:o.downloadedFileInfo;if(a==null||c==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${i}, isForceRunAfter: ${s}`),this.doInstall({installerPath:a,isSilent:i,isForceRunAfter:s,isAdminRightsRequired:c.isAdminRightsRequired})}catch(l){return this.dispatchError(l),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(i=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(i!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${i}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}wrapSudo(){const{name:i}=this.app,s=`"${i} would like to update"`,o=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),a=[o];return/kdesudo/i.test(o)?(a.push("--comment",s),a.push("-c")):/gksudo/i.test(o)?a.push("--message",s):/pkexec/i.test(o)&&a.push("--disable-internal-agent"),a.join(" ")}spawnSyncLog(i,s=[],o={}){return this._logger.info(`Executing: ${i} with args: ${s}`),(0,e.spawnSync)(i,s,{env:{...process.env,...o},encoding:"utf-8",shell:!0}).stdout.trim()}async spawnLog(i,s=[],o=void 0,a="ignore"){return this._logger.info(`Executing: ${i} with args: ${s}`),new Promise((c,l)=>{try{const f={stdio:a,env:o,detached:!0},u=(0,e.spawn)(i,s,f);u.on("error",h=>{l(h)}),u.unref(),u.pid!==void 0&&c(!0)}catch(f){l(f)}})}};return As.BaseUpdater=r,As}var Ro={},Io={},ci={},Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.computeOperations=Tn.OperationKind=void 0;var Xn;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Xn||(Tn.OperationKind=Xn={}));function xj(e,t,r){const n=um(e.files),i=um(t.files);let s=null;const o=t.files[0],a=[],c=o.name,l=n.get(c);if(l==null)throw new Error(`no file ${c} in old blockmap`);const f=i.get(c);let u=0;const{checksumToOffset:h,checksumToOldSize:m}=Vj(n.get(c),l.offset,r);let y=o.offset;for(let E=0;E<f.checksums.length;y+=f.sizes[E],E++){const v=f.sizes[E],g=f.checksums[E];let p=h.get(g);p!=null&&m.get(g)!==v&&(r.warn(`Checksum ("${g}") matches, but size differs (old: ${m.get(g)}, new: ${v})`),p=void 0),p===void 0?(u++,s!=null&&s.kind===Xn.DOWNLOAD&&s.end===y?s.end+=v:(s={kind:Xn.DOWNLOAD,start:y,end:y+v},lm(s,a,g,E))):s!=null&&s.kind===Xn.COPY&&s.end===p?s.end+=v:(s={kind:Xn.COPY,start:p,end:p+v},lm(s,a,g,E))}return u>0&&r.info(`File${o.name==="file"?"":" "+o.name} has ${u} changed blocks`),a}Tn.computeOperations=xj;const qj=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function lm(e,t,r,n){if(qj&&t.length!==0){const i=t[t.length-1];if(i.kind===e.kind&&e.start<i.end&&e.start>i.start){const s=[i.start,i.end,e.start,e.end].reduce((o,a)=>o<a?o:a);throw new Error(`operation (block index: ${n}, checksum: ${r}, kind: ${Xn[e.kind]}) overlaps previous operation (checksum: ${r}):
abs: ${i.start} until ${i.end} and ${e.start} until ${e.end}
rel: ${i.start-s} until ${i.end-s} and ${e.start-s} until ${e.end-s}`)}}t.push(e)}function Vj(e,t,r){const n=new Map,i=new Map;let s=t;for(let o=0;o<e.checksums.length;o++){const a=e.checksums[o],c=e.sizes[o],l=i.get(a);if(l===void 0)n.set(a,s),i.set(a,c);else if(r.debug!=null){const f=l===c?"(same size)":`(size: ${l}, this size: ${c})`;r.debug(`${a} duplicated in blockmap ${f}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}s+=c}return{checksumToOffset:n,checksumToOldSize:i}}function um(e){const t=new Map;for(const r of e)t.set(r.name,r);return t}Object.defineProperty(ci,"__esModule",{value:!0});ci.DataSplitter=ci.copyData=void 0;const da=ot(),Bj=Qe,zj=ho,Hj=Tn,fm=Buffer.from(`\r
\r
`);var dn;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(dn||(dn={}));function Pv(e,t,r,n,i){const s=(0,Bj.createReadStream)("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",n),s.once("end",i),s.pipe(t,{end:!1})}ci.copyData=Pv;class Gj extends zj.Writable{constructor(t,r,n,i,s,o){super(),this.out=t,this.options=r,this.partIndexToTaskIndex=n,this.partIndexToLength=s,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=dn.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,r,n){if(this.isFinished){console.error(`Trailing ignored data: ${t.length} bytes`);return}this.handleData(t).then(n).catch(n)}async handleData(t){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw(0,da.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const n=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=n,r=n}else if(this.remainingPartDataCount>0){const n=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=n,await this.processPartData(t,0,n),r=n}if(r!==t.length){if(this.readState===dn.HEADER){const n=this.searchHeaderListEnd(t,r);if(n===-1)return;r=n,this.readState=dn.BODY,this.headerListBuffer=null}for(;;){if(this.readState===dn.BODY)this.readState=dn.INIT;else{this.partIndex++;let o=this.partIndexToTaskIndex.get(this.partIndex);if(o==null)if(this.isFinished)o=this.options.end;else throw(0,da.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");const a=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(a<o)await this.copyExistingData(a,o);else if(a>o)throw(0,da.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(t,r),r===-1){this.readState=dn.HEADER;return}}const n=this.partIndexToLength[this.partIndex],i=r+n,s=Math.min(i,t.length);if(await this.processPartStarted(t,r,s),this.remainingPartDataCount=n-(s-r),this.remainingPartDataCount>0)return;if(r=i+this.boundaryLength,r>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-i);return}}}}copyExistingData(t,r){return new Promise((n,i)=>{const s=()=>{if(t===r){n();return}const o=this.options.tasks[t];if(o.kind!==Hj.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}Pv(o,this.out,this.options.oldFileFd,i,()=>{t++,s()})};s()})}searchHeaderListEnd(t,r){const n=t.indexOf(fm,r);if(n!==-1)return n+fm.length;const i=r===0?t:t.slice(r);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){const t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw(0,da.newError)(`Expected length: ${t} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,r,n){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,r,n)}processPartData(t,r,n){this.actualPartLength+=n-r;const i=this.out;return i.write(r===0&&t.length===n?t:t.slice(r,n))?Promise.resolve():new Promise((s,o)=>{i.on("error",o),i.once("drain",()=>{i.removeListener("error",o),s()})})}}ci.DataSplitter=Gj;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.checkIsRangesSupported=Qi.executeTasksUsingMultipleRangeRequests=void 0;const iu=ot(),dm=ci,hm=Tn;function Wj(e,t,r,n,i){const s=o=>{if(o>=t.length){e.fileMetadataBuffer!=null&&r.write(e.fileMetadataBuffer),r.end();return}const a=o+1e3;Kj(e,{tasks:t,start:o,end:Math.min(t.length,a),oldFileFd:n},r,()=>s(a),i)};return s}Qi.executeTasksUsingMultipleRangeRequests=Wj;function Kj(e,t,r,n,i){let s="bytes=",o=0;const a=new Map,c=[];for(let u=t.start;u<t.end;u++){const h=t.tasks[u];h.kind===hm.OperationKind.DOWNLOAD&&(s+=`${h.start}-${h.end-1}, `,a.set(o,u),o++,c.push(h.end-h.start))}if(o<=1){const u=h=>{if(h>=t.end){n();return}const m=t.tasks[h++];if(m.kind===hm.OperationKind.COPY)(0,dm.copyData)(m,r,t.oldFileFd,i,()=>u(h));else{const y=e.createRequestOptions();y.headers.Range=`bytes=${m.start}-${m.end-1}`;const E=e.httpExecutor.createRequest(y,v=>{su(v,i)&&(v.pipe(r,{end:!1}),v.once("end",()=>u(h)))});e.httpExecutor.addErrorAndTimeoutHandlers(E,i),E.end()}};u(t.start);return}const l=e.createRequestOptions();l.headers.Range=s.substring(0,s.length-2);const f=e.httpExecutor.createRequest(l,u=>{if(!su(u,i))return;const h=(0,iu.safeGetHeader)(u,"content-type"),m=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(h);if(m==null){i(new Error(`Content-Type "multipart/byteranges" is expected, but got "${h}"`));return}const y=new dm.DataSplitter(r,t,a,m[1]||m[2],c,n);y.on("error",i),u.pipe(y),u.on("end",()=>{setTimeout(()=>{f.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(f,i),f.end()}function su(e,t){if(e.statusCode>=400)return t((0,iu.createHttpError)(e)),!1;if(e.statusCode!==206){const r=(0,iu.safeGetHeader)(e,"accept-ranges");if(r==null||r==="none")return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}Qi.checkIsRangesSupported=su;var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.ProgressDifferentialDownloadCallbackTransform=void 0;const Yj=ho;var ki;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(ki||(ki={}));class Jj extends Yj.Transform{constructor(t,r,n){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=ki.COPY,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}if(this.operationType==ki.COPY){n(null,t);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}beginFileCopy(){this.operationType=ki.COPY}beginRangeDownload(){this.operationType=ki.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}}Ac.ProgressDifferentialDownloadCallbackTransform=Jj;Object.defineProperty(Io,"__esModule",{value:!0});Io.DifferentialDownloader=void 0;const Cs=ot(),Ol=Cn,Xj=Qe,Qj=ci,Zj=rs,ha=Tn,pm=Qi,eM=Ac;class tM{constructor(t,r,n){this.blockAwareFileInfo=t,this.httpExecutor=r,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){const t={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,Cs.configureRequestUrl)(this.options.newUrl,t),(0,Cs.configureRequestOptions)(t),t}doDownload(t,r){if(t.version!==r.version)throw new Error(`version is different (${t.version} - ${r.version}), full download is required`);const n=this.logger,i=(0,ha.computeOperations)(t,r,n);n.debug!=null&&n.debug(JSON.stringify(i,null,2));let s=0,o=0;for(const c of i){const l=c.end-c.start;c.kind===ha.OperationKind.DOWNLOAD?s+=l:o+=l}const a=this.blockAwareFileInfo.size;if(s+o+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==a)throw new Error(`Internal error, size mismatch: downloadSize: ${s}, copySize: ${o}, newSize: ${a}`);return n.info(`Full: ${mm(a)}, To download: ${mm(s)} (${Math.round(s/(a/100))}%)`),this.downloadFile(i)}downloadFile(t){const r=[],n=()=>Promise.all(r.map(i=>(0,Ol.close)(i.descriptor).catch(s=>{this.logger.error(`cannot close file "${i.path}": ${s}`)})));return this.doDownloadFile(t,r).then(n).catch(i=>n().catch(s=>{try{this.logger.error(`cannot close files: ${s}`)}catch(o){try{console.error(o)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(t,r){const n=await(0,Ol.open)(this.options.oldFile,"r");r.push({descriptor:n,path:this.options.oldFile});const i=await(0,Ol.open)(this.options.newFile,"w");r.push({descriptor:i,path:this.options.newFile});const s=(0,Xj.createWriteStream)(this.options.newFile,{fd:i});await new Promise((o,a)=>{const c=[];let l;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const g=[];let p=0;for(const N of t)N.kind===ha.OperationKind.DOWNLOAD&&(g.push(N.end-N.start),p+=N.end-N.start);const S={expectedByteCounts:g,grandTotal:p};l=new eM.ProgressDifferentialDownloadCallbackTransform(S,this.options.cancellationToken,this.options.onProgress),c.push(l)}const f=new Cs.DigestTransform(this.blockAwareFileInfo.sha512);f.isValidateOnEnd=!1,c.push(f),s.on("finish",()=>{s.close(()=>{r.splice(1,1);try{f.validate()}catch(g){a(g);return}o(void 0)})}),c.push(s);let u=null;for(const g of c)g.on("error",a),u==null?u=g:u=u.pipe(g);const h=c[0];let m;if(this.options.isUseMultipleRangeRequest){m=(0,pm.executeTasksUsingMultipleRangeRequests)(this,t,h,n,a),m(0);return}let y=0,E=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const v=this.createRequestOptions();v.redirect="manual",m=g=>{var p,S;if(g>=t.length){this.fileMetadataBuffer!=null&&h.write(this.fileMetadataBuffer),h.end();return}const N=t[g++];if(N.kind===ha.OperationKind.COPY){l&&l.beginFileCopy(),(0,Qj.copyData)(N,h,n,a,()=>m(g));return}const M=`bytes=${N.start}-${N.end-1}`;v.headers.range=M,(S=(p=this.logger)===null||p===void 0?void 0:p.debug)===null||S===void 0||S.call(p,`download range: ${M}`),l&&l.beginRangeDownload();const T=this.httpExecutor.createRequest(v,b=>{b.on("error",a),b.on("abort",()=>{a(new Error("response has been aborted by the server"))}),b.statusCode>=400&&a((0,Cs.createHttpError)(b)),b.pipe(h,{end:!1}),b.once("end",()=>{l&&l.endRangeDownload(),++y===100?(y=0,setTimeout(()=>m(g),1e3)):m(g)})});T.on("redirect",(b,D,O)=>{this.logger.info(`Redirect to ${rM(O)}`),E=O,(0,Cs.configureRequestUrl)(new Zj.URL(E),v),T.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(T,a),T.end()},m(0)})}async readRemoteBytes(t,r){const n=Buffer.allocUnsafe(r+1-t),i=this.createRequestOptions();i.headers.range=`bytes=${t}-${r}`;let s=0;if(await this.request(i,o=>{o.copy(n,s),s+=o.length}),s!==n.length)throw new Error(`Received data length ${s} is not equal to expected ${n.length}`);return n}request(t,r){return new Promise((n,i)=>{const s=this.httpExecutor.createRequest(t,o=>{(0,pm.checkIsRangesSupported)(o,i)&&(o.on("data",r),o.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(s,i),s.end()})}}Io.DifferentialDownloader=tM;function mm(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function rM(e){const t=e.indexOf("?");return t<0?e:e.substring(0,t)}Object.defineProperty(Ro,"__esModule",{value:!0});Ro.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const Oi=Cn,nM=Io,iM=Rm;class sM extends nM.DifferentialDownloader{async download(){const t=this.blockAwareFileInfo,r=t.size,n=r-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,r-1);const i=Ov(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await oM(this.options.oldFile),i)}}Ro.FileWithEmbeddedBlockMapDifferentialDownloader=sM;function Ov(e){return JSON.parse((0,iM.inflateRawSync)(e).toString())}async function oM(e){const t=await(0,Oi.open)(e,"r");try{const r=(await(0,Oi.fstat)(t)).size,n=Buffer.allocUnsafe(4);await(0,Oi.read)(t,n,0,n.length,r-n.length);const i=Buffer.allocUnsafe(n.readUInt32BE(0));return await(0,Oi.read)(t,i,0,i.length,r-n.length-i.length),await(0,Oi.close)(t),Ov(i)}catch(r){throw await(0,Oi.close)(t),r}}var gm;function ym(){if(gm)return Ts;gm=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.AppImageUpdater=void 0;const e=ot(),t=fo,r=Cn,n=Qe,i=we,s=Tc(),o=Ro,a=ls(),c=Ze;let l=class extends s.BaseUpdater{constructor(u,h){super(u,h)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(u){const h=u.updateInfoAndProvider.provider,m=(0,c.findFile)(h.resolveFiles(u.updateInfoAndProvider.info),"AppImage",["rpm","deb"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:m,downloadUpdateOptions:u,task:async(y,E)=>{const v=process.env.APPIMAGE;if(v==null)throw(0,e.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let g=!1;try{const p={newUrl:m.url,oldFile:v,logger:this._logger,newFile:y,isUseMultipleRangeRequest:h.isUseMultipleRangeRequest,requestHeaders:u.requestHeaders,cancellationToken:u.cancellationToken};this.listenerCount(a.DOWNLOAD_PROGRESS)>0&&(p.onProgress=S=>this.emit(a.DOWNLOAD_PROGRESS,S)),await new o.FileWithEmbeddedBlockMapDifferentialDownloader(m.info,this.httpExecutor,p).download()}catch(p){this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),g=process.platform==="linux"}g&&await this.httpExecutor.download(m.url,y,E),await(0,r.chmod)(y,493)}})}doInstall(u){const h=process.env.APPIMAGE;if(h==null)throw(0,e.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(0,n.unlinkSync)(h);let m;const y=i.basename(h);i.basename(u.installerPath)===y||!/\d+\.\d+\.\d+/.test(y)?m=h:m=i.join(i.dirname(h),i.basename(u.installerPath)),(0,t.execFileSync)("mv",["-f",u.installerPath,m]),m!==h&&this.emit("appimage-filename-updated",m);const E={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return u.isForceRunAfter?this.spawnLog(m,[],E):(E.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,t.execFileSync)(m,[],{env:E})),!0}};return Ts.AppImageUpdater=l,Ts}var Ns={},vm;function _m(){if(vm)return Ns;vm=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.DebUpdater=void 0;const e=Tc(),t=ls(),r=Ze;let n=class extends e.BaseUpdater{constructor(s,o){super(s,o)}doDownloadUpdate(s){const o=s.updateInfoAndProvider.provider,a=(0,r.findFile)(o.resolveFiles(s.updateInfoAndProvider.info),"deb",["AppImage","rpm"]);return this.executeDownload({fileExtension:"deb",fileInfo:a,downloadUpdateOptions:s,task:async(c,l)=>{this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(l.onProgress=f=>this.emit(t.DOWNLOAD_PROGRESS,f)),await this.httpExecutor.download(a.url,c,l)}})}doInstall(s){const o=this.wrapSudo(),a=/pkexec/i.test(o)?"":'"',c=["dpkg","-i",s.installerPath,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(o,[`${a}/bin/bash`,"-c",`'${c.join(" ")}'${a}`]),s.isForceRunAfter&&this.app.relaunch(),!0}};return Ns.DebUpdater=n,Ns}var Rs={},$m;function Em(){if($m)return Rs;$m=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.RpmUpdater=void 0;const e=Tc(),t=ls(),r=Ze;let n=class extends e.BaseUpdater{constructor(s,o){super(s,o)}doDownloadUpdate(s){const o=s.updateInfoAndProvider.provider,a=(0,r.findFile)(o.resolveFiles(s.updateInfoAndProvider.info),"rpm",["AppImage","deb"]);return this.executeDownload({fileExtension:"rpm",fileInfo:a,downloadUpdateOptions:s,task:async(c,l)=>{this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(l.onProgress=f=>this.emit(t.DOWNLOAD_PROGRESS,f)),await this.httpExecutor.download(a.url,c,l)}})}doInstall(s){const o=s.installerPath,a=this.wrapSudo(),c=/pkexec/i.test(a)?"":'"',l=this.spawnSyncLog("which zypper");let f;if(l)f=[l,"remove","-y",`'${this.app.name}'`,";",l,"clean","--all",";",l,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",o];else{const u=this.spawnSyncLog("which dnf || which yum");f=[u,"-y","remove",`'${this.app.name}'`,";",u,"-y","install",o]}return this.spawnSyncLog(a,[`${c}/bin/bash`,"-c",`'${f.join(" ")}'${c}`]),s.isForceRunAfter&&this.app.relaunch(),!0}};return Rs.RpmUpdater=n,Rs}var Is={},wm;function Sm(){if(wm)return Is;wm=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.MacUpdater=void 0;const e=ot(),t=Cn,r=Qe,n=Nm,i=$d(),s=Ze,o=fo,a=ts;let c=class extends i.AppUpdater{constructor(f,u){super(f,u),this.nativeUpdater=he.autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",h=>{this._logger.warn(h),this.emit("error",h)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0})}debug(f){this._logger.debug!=null&&this._logger.debug(f)}async doDownloadUpdate(f){let u=f.updateInfoAndProvider.provider.resolveFiles(f.updateInfoAndProvider.info);const h=this._logger,m="sysctl.proc_translated";let y=!1;try{this.debug("Checking for macOS Rosetta environment"),y=(0,o.execFileSync)("sysctl",[m],{encoding:"utf8"}).includes(`${m}: 1`),h.info(`Checked for macOS Rosetta environment (isRosetta=${y})`)}catch(p){h.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${p}`)}let E=!1;try{this.debug("Checking for arm64 in uname");const S=(0,o.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");h.info(`Checked 'uname -a': arm64=${S}`),E=E||S}catch(p){h.warn(`uname shell command to check for arm64 failed: ${p}`)}E=E||process.arch==="arm64"||y;const v=p=>{var S;return p.url.pathname.includes("arm64")||((S=p.info.url)===null||S===void 0?void 0:S.includes("arm64"))};E&&u.some(v)?u=u.filter(p=>E===v(p)):u=u.filter(p=>!v(p));const g=(0,s.findFile)(u,"zip",["pkg","dmg"]);if(g==null)throw(0,e.newError)(`ZIP file not provided: ${(0,e.safeStringifyJson)(u)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");return this.executeDownload({fileExtension:"zip",fileInfo:g,downloadUpdateOptions:f,task:(p,S)=>this.httpExecutor.download(g.url,p,S),done:p=>this.updateDownloaded(g,p)})}async updateDownloaded(f,u){var h,m;const y=u.downloadedFile,E=(h=f.info.size)!==null&&h!==void 0?h:(await(0,t.stat)(y)).size,v=this._logger,g=`fileToProxy=${f.url.href}`;this.debug(`Creating proxy server for native Squirrel.Mac (${g})`),(m=this.server)===null||m===void 0||m.close(),this.server=(0,n.createServer)(),this.debug(`Proxy server for native Squirrel.Mac is created (${g})`),this.server.on("close",()=>{v.info(`Proxy server for native Squirrel.Mac is closed (${g})`)});const p=S=>{const N=S.address();return typeof N=="string"?N:`http://127.0.0.1:${N==null?void 0:N.port}`};return await new Promise((S,N)=>{const M=(0,a.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),T=Buffer.from(`autoupdater:${M}`,"ascii"),b=`/${(0,a.randomBytes)(64).toString("hex")}.zip`;this.server.on("request",(D,O)=>{const V=D.url;if(v.info(`${V} requested`),V==="/"){if(!D.headers.authorization||D.headers.authorization.indexOf("Basic ")===-1){O.statusCode=401,O.statusMessage="Invalid Authentication Credentials",O.end(),v.warn("No authenthication info");return}const W=D.headers.authorization.split(" ")[1],G=Buffer.from(W,"base64").toString("ascii"),[Q,Z]=G.split(":");if(Q!=="autoupdater"||Z!==M){O.statusCode=401,O.statusMessage="Invalid Authentication Credentials",O.end(),v.warn("Invalid authenthication credentials");return}const K=Buffer.from(`{ "url": "${p(this.server)}${b}" }`);O.writeHead(200,{"Content-Type":"application/json","Content-Length":K.length}),O.end(K);return}if(!V.startsWith(b)){v.warn(`${V} requested, but not supported`),O.writeHead(404),O.end();return}v.info(`${b} requested by Squirrel.Mac, pipe ${y}`);let Y=!1;O.on("finish",()=>{Y||(this.nativeUpdater.removeListener("error",N),S([]))});const H=(0,r.createReadStream)(y);H.on("error",W=>{try{O.end()}catch(G){v.warn(`cannot end response: ${G}`)}Y=!0,this.nativeUpdater.removeListener("error",N),N(new Error(`Cannot pipe "${y}": ${W}`))}),O.writeHead(200,{"Content-Type":"application/zip","Content-Length":E}),H.pipe(O)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${g})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${p(this.server)}, ${g})`),this.nativeUpdater.setFeedURL({url:p(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${T.toString("base64")}`}}),this.dispatchUpdateDownloaded(u),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",N),this.nativeUpdater.checkForUpdates()):S([])})})}quitAndInstall(){var f;this.squirrelDownloadedUpdate?(this.nativeUpdater.quitAndInstall(),(f=this.server)===null||f===void 0||f.close()):(this.nativeUpdater.on("update-downloaded",()=>{var u;this.nativeUpdater.quitAndInstall(),(u=this.server)===null||u===void 0||u.close()}),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}};return Is.MacUpdater=c,Is}var Ds={},Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.GenericDifferentialDownloader=void 0;const aM=Io;class cM extends aM.DifferentialDownloader{download(t,r){return this.doDownload(t,r)}}Cc.GenericDifferentialDownloader=cM;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.verifySignature=void 0;const bm=ot(),Tv=fo,lM=An;function uM(e,t,r){return new Promise((n,i)=>{const s=t.replace(/'/g,"''");(0,Tv.execFile)("chcp 65001 >NUL & powershell.exe",["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`"Get-AuthenticodeSignature -LiteralPath '${s}' | ConvertTo-Json -Compress"`],{shell:!0,timeout:20*1e3},(o,a,c)=>{try{if(o!=null||c){Pm(r,o,c,i),n(null);return}const l=fM(a);if(l.Status===0){const u=(0,bm.parseDn)(l.SignerCertificate.Subject);let h=!1;for(const m of e){const y=(0,bm.parseDn)(m);if(y.size?h=Array.from(y.keys()).every(v=>y.get(v)===u.get(v)):m===u.get("CN")&&(r.warn(`Signature validated using only CN ${m}. Please add your full Distinguished Name (DN) to publisherNames configuration`),h=!0),h){n(null);return}}}const f=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(l,(u,h)=>u==="RawData"?void 0:h,2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${f}`),n(f)}catch(l){Pm(r,l,null,i),n(null);return}})})}Nc.verifySignature=uM;function fM(e){const t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;const r=t.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),delete t.Path,t}function Pm(e,t,r,n){if(dM()){e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{(0,Tv.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(i){e.warn(`Cannot execute ConvertTo-Json: ${i.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}t!=null&&n(t),r&&n(new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`))}function dM(){const e=lM.release();return e.startsWith("6.")&&!e.startsWith("6.3")}var Om;function Tm(){if(Om)return Ds;Om=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.NsisUpdater=void 0;const e=ot(),t=we,r=Tc(),n=Ro,i=Cc,s=ls(),o=Ot,a=Ze,c=Cn,l=Nc,f=rs,u=Rm;let h=class extends r.BaseUpdater{constructor(y,E){super(y,E),this._verifyUpdateCodeSignature=(v,g)=>(0,l.verifySignature)(v,g,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(y){y&&(this._verifyUpdateCodeSignature=y)}doDownloadUpdate(y){const E=y.updateInfoAndProvider.provider,v=(0,a.findFile)(E.resolveFiles(y.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:y,fileInfo:v,task:async(g,p,S,N)=>{const M=v.packageInfo,T=M!=null&&S!=null;if(T&&y.disableWebInstaller)throw(0,e.newError)(`Unable to download new version ${y.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");!T&&!y.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(T||await this.differentialDownloadInstaller(v,y,g,E))&&await this.httpExecutor.download(v.url,g,p);const b=await this.verifySignature(g);if(b!=null)throw await N(),(0,e.newError)(`New version ${y.updateInfoAndProvider.info.version} is not signed by the application owner: ${b}`,"ERR_UPDATER_INVALID_SIGNATURE");if(T&&await this.differentialDownloadWebPackage(y,M,S,E))try{await this.httpExecutor.download(new f.URL(M.path),S,{headers:y.requestHeaders,cancellationToken:y.cancellationToken,sha512:M.sha512})}catch(D){try{await(0,c.unlink)(S)}catch{}throw D}}})}async verifySignature(y){let E;try{if(E=(await this.configOnDisk.value).publisherName,E==null)return null}catch(v){if(v.code==="ENOENT")return null;throw v}return await this._verifyUpdateCodeSignature(Array.isArray(E)?E:[E],y)}doInstall(y){const E=["--updated"];y.isSilent&&E.push("/S"),y.isForceRunAfter&&E.push("--force-run"),this.installDirectory&&E.push(`/D=${this.installDirectory}`);const v=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;v!=null&&E.push(`--package-file=${v}`);const g=()=>{this.spawnLog(t.join(process.resourcesPath,"elevate.exe"),[y.installerPath].concat(E)).catch(p=>this.dispatchError(p))};return y.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),g(),!0):(this.spawnLog(y.installerPath,E).catch(p=>{const S=p.code;this._logger.info(`Cannot run installer: error code: ${S}, error message: "${p.message}", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT`),S==="UNKNOWN"||S==="EACCES"?g():S==="ENOENT"?he.shell.openPath(y.installerPath).catch(N=>this.dispatchError(N)):this.dispatchError(p)}),!0)}async differentialDownloadInstaller(y,E,v,g){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const p=(0,o.blockmapFiles)(y.url,this.app.version,E.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${p[0]}", new: ${p[1]})`);const S=async T=>{const b=await this.httpExecutor.downloadToBuffer(T,{headers:E.requestHeaders,cancellationToken:E.cancellationToken});if(b==null||b.length===0)throw new Error(`Blockmap "${T.href}" is empty`);try{return JSON.parse((0,u.gunzipSync)(b).toString())}catch(D){throw new Error(`Cannot parse blockmap "${T.href}", error: ${D}`)}},N={newUrl:y.url,oldFile:t.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_INSTALLER_FILE_NAME),logger:this._logger,newFile:v,isUseMultipleRangeRequest:g.isUseMultipleRangeRequest,requestHeaders:E.requestHeaders,cancellationToken:E.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(N.onProgress=T=>this.emit(s.DOWNLOAD_PROGRESS,T));const M=await Promise.all(p.map(T=>S(T)));return await new i.GenericDifferentialDownloader(y.info,this.httpExecutor,N).download(M[0],M[1]),!1}catch(p){if(this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),this._testOnlyOptions!=null)throw p;return!0}}async differentialDownloadWebPackage(y,E,v,g){if(E.blockMapSize==null)return!0;try{const p={newUrl:new f.URL(E.path),oldFile:t.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:v,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:g.isUseMultipleRangeRequest,cancellationToken:y.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(p.onProgress=S=>this.emit(s.DOWNLOAD_PROGRESS,S)),await new n.FileWithEmbeddedBlockMapDifferentialDownloader(E,this.httpExecutor,p).download()}catch(p){return this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),process.platform==="win32"}return!1}};return Ds.NsisUpdater=h,Ds}var Am;function ls(){return Am||(Am=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdaterSignal=e.UPDATE_DOWNLOADED=e.DOWNLOAD_PROGRESS=e.NsisUpdater=e.MacUpdater=e.RpmUpdater=e.DebUpdater=e.AppImageUpdater=e.Provider=e.CancellationToken=e.NoOpLogger=e.AppUpdater=void 0;const t=ot();Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}});const r=Cn,n=we;var i=$d();Object.defineProperty(e,"AppUpdater",{enumerable:!0,get:function(){return i.AppUpdater}}),Object.defineProperty(e,"NoOpLogger",{enumerable:!0,get:function(){return i.NoOpLogger}});var s=Ze;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return s.Provider}});var o=ym();Object.defineProperty(e,"AppImageUpdater",{enumerable:!0,get:function(){return o.AppImageUpdater}});var a=_m();Object.defineProperty(e,"DebUpdater",{enumerable:!0,get:function(){return a.DebUpdater}});var c=Em();Object.defineProperty(e,"RpmUpdater",{enumerable:!0,get:function(){return c.RpmUpdater}});var l=Sm();Object.defineProperty(e,"MacUpdater",{enumerable:!0,get:function(){return l.MacUpdater}});var f=Tm();Object.defineProperty(e,"NsisUpdater",{enumerable:!0,get:function(){return f.NsisUpdater}});let u;function h(){if(process.platform==="win32")u=new(Tm()).NsisUpdater;else if(process.platform==="darwin")u=new(Sm()).MacUpdater;else{u=new(ym()).AppImageUpdater;try{const E=n.join(process.resourcesPath,"package-type");if(!(0,r.existsSync)(E))return u;console.info("Checking for beta autoupdate feature for deb/rpm distributions");const v=(0,r.readFileSync)(E).toString().trim();switch(console.info("Found package-type:",v),v){case"deb":u=new(_m()).DebUpdater;break;case"rpm":u=new(Em()).RpmUpdater;break;default:break}}catch(E){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",E.message)}}return u}Object.defineProperty(e,"autoUpdater",{enumerable:!0,get:()=>u||h()}),e.DOWNLOAD_PROGRESS="download-progress",e.UPDATE_DOWNLOADED="update-downloaded";class m{constructor(v){this.emitter=v}login(v){y(this.emitter,"login",v)}progress(v){y(this.emitter,e.DOWNLOAD_PROGRESS,v)}updateDownloaded(v){y(this.emitter,e.UPDATE_DOWNLOADED,v)}updateCancelled(v){y(this.emitter,"update-cancelled",v)}}e.UpdaterSignal=m;function y(E,v,g){E.on(v,g)}}(il)),il}var Ka=ls();process.env.DIST=ar.join(__dirname,"../dist");process.env.PUBLIC=he.app.isPackaged?process.env.DIST:ar.join(process.env.DIST,"../public");let Ge,Qn,zt;const Cm=process.env.VITE_DEV_SERVER_URL,Gr=new WC;function hM(){Qn=new he.BrowserWindow({width:500,height:300,transparent:!0,frame:!1,alwaysOnTop:!0}),Qn.loadFile("splash.html"),Qn.on("closed",()=>{Qn=null})}function pM(){Ge=new he.BrowserWindow({width:800,height:600,show:!1,icon:ar.join(process.env.PUBLIC,"electron-vite.svg"),webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:ar.join(__dirname,"preload.js")}}),km.enable(Ge.webContents),Ge.webContents.on("did-finish-load",()=>{Ge==null||Ge.webContents.send("main-process-message",new Date().toLocaleString())}),he.ipcMain.handle("setup",async()=>Gr.get("setup",!0)),he.ipcMain.handle("setSetup",async(r,n)=>{console.log(n),Gr.set("setup",n)}),he.ipcMain.handle("saveURLS",async(r,n)=>{console.log(n),Gr.set("urls",n)}),he.ipcMain.handle("saveFontSize",async(r,n)=>{console.log(n),Gr.set("fontSize",n)}),he.ipcMain.handle("getFontSize",async()=>(console.log(Gr.get("fontSize",14)),Gr.get("fontSize",14))),he.ipcMain.handle("getURLs",async()=>Gr.get("urls",[])),he.ipcMain.handle("setWindowSize",async(r,n,i)=>{Ge==null||Ge.setSize(n,i)}),he.ipcMain.handle("startServer",async()=>{var l,f;console.log("server handling...");const r=Gr.get("urls"),n=JSON.stringify(r),i=ar.join(he.app.getPath("userData"),"twitch-cookies.json"),s=ar.join(he.app.getPath("userData"),"youtube-cookies.json");let o="[]",a="[]";if(Qe.existsSync(i)){const u=JSON.parse(Qe.readFileSync(i,"utf-8"));o=JSON.stringify(u)}if(Qe.existsSync(s)){const u=JSON.parse(Qe.readFileSync(s,"utf-8"));a=JSON.stringify(u)}const c=he.app.isPackaged?ar.join(process.resourcesPath,"worker.js"):ar.join("./worker.js");if(console.log(c),he.app.isPackaged){const u=ar.join(process.resourcesPath,"app.asar.unpacked","node_modules");zt=Cd.spawn("node",[c,n,o,a],{stdio:"pipe",windowsHide:!1,env:{...process.env,NODE_PATH:u,ELECTRON_RUN_AS_NODE:"1"}})}else zt=Cd.spawn("node",[c,n,o,a],{stdio:"pipe",windowsHide:!1});sa.info("Server has been started"),(l=zt.stdout)==null||l.on("data",u=>{console.log(`stdout: ${u}`),sa.info(`Child stdout:
${u}`)}),(f=zt.stderr)==null||f.on("data",u=>{console.error(`Child stderr:
${u}`),sa.info(`Child stderr:
${u}`)}),zt.on("exit",(u,h)=>{console.log(`Child exited with code ${u} and signal ${h}`),sa.info(`Child exited with code ${u} and signal ${h}`)})}),he.ipcMain.handle("open-settings-window",async()=>{console.log("setup updated"),Gr.set("setup",!0),Ge==null||Ge.webContents.send("setup-updated",!0)}),he.ipcMain.handle("closeServer",async()=>{var r;if(console.log("clossing server"),zt&&!zt.killed){const n=JSON.stringify({action:"shutdown"});(r=zt.stdin)==null||r.write(n+`
`),console.log("Shutdown command sent to child process."),await new Promise(i=>{zt==null||zt.on("exit",()=>{console.log("Child process exited gracefully."),i()})})}else console.log("No child process to terminate.")}),he.ipcMain.handle("loginWithTwitch",async()=>{console.log("Attempting to log in with Twitch"),e()}),he.ipcMain.handle("loginWithYouTube",async()=>{console.log("Attempting to log in with YouTube"),t()});function e(){const r=new he.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});return r.loadURL("https://www.twitch.tv/login"),r.webContents.on("did-navigate",async(n,i)=>{if(!i.includes("https://www.twitch.tv/login")){const s=await r.webContents.session.cookies.get({domain:".twitch.tv"});console.log("Twitch Login Cookies:",s);const o=ar.join(he.app.getPath("userData"),"twitch-cookies.json");Qe.writeFileSync(o,JSON.stringify(s,null,2)),r.close()}}),r}function t(){const r=new he.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0}}),n="https://www.youtube.com/live_chat?is_popout=1&v=HugDvUEbsKc";return r.loadURL(n),r.on("close",async i=>{i.preventDefault();const s=await r.webContents.session.cookies.get({});console.log("YouTube Login Cookies:",s);const o=ar.join(he.app.getPath("userData"),"youtube-cookies.json");Qe.writeFileSync(o,JSON.stringify(s,null,2)),r.removeAllListeners("close"),r.close()}),r}Cm?Ge.loadURL(Cm):Ge.loadFile(ar.join(process.env.DIST,"index.html")),Ge.once("ready-to-show",()=>{Qn==null||Qn.close(),Ge==null||Ge.show()}),Ge==null||Ge.on("closed",()=>{Ge=null})}he.app.on("before-quit",()=>{zt==null||zt.kill()});he.app.on("window-all-closed",()=>{Ge=null,process.platform!=="darwin"&&he.app.quit()});he.app.on("ready",()=>{Ka.autoUpdater.checkForUpdatesAndNotify()});Ka.autoUpdater.on("update-available",()=>{he.dialog.showMessageBox({type:"info",title:"Update Available",message:"A new version of the application is available. It will be downloaded in the background.",buttons:["OK"]}).then(e=>{console.log("User response:",e.response)}).catch(e=>{console.error("Failed to show update dialog:",e)})});Ka.autoUpdater.on("update-downloaded",()=>{Ka.autoUpdater.quitAndInstall()});km.initialize();he.app.whenReady().then(hM).then(pM);
