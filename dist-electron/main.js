"use strict";var Jv=Object.defineProperty;var Xv=(e,t,r)=>t in e?Jv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var $e=(e,t,r)=>(Xv(e,typeof t!="symbol"?t+"":t,r),r);const te=require("electron"),ts=require("events"),rt=require("node:path"),Se=require("path"),nn=require("util"),Le=require("fs"),rs=require("crypto"),lu=require("assert"),Nn=require("os"),zo=require("node:child_process"),ho=require("child_process"),Dm=require("http"),Qv=require("https"),Zv=require("tty"),po=require("stream"),ns=require("url"),e_=require("string_decoder"),t_=require("constants"),Fm=require("zlib");var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lm={},Aa={exports:{}},cu={};Object.defineProperty(cu,"__esModule",{value:!0});const Ul=(e,t)=>`${e.id}-${t}`;class r_{constructor(){this.nextId=0,this.storage={},this.owners={},this.electronIds=new WeakMap}add(t,r,n){const i=this.saveToStorage(n),s=Ul(t,r);let o=this.owners[s];return o||(o=this.owners[s]=new Map,this.registerDeleteListener(t,r)),o.has(i)||(o.set(i,0),this.storage[i].count++),o.set(i,o.get(i)+1),i}get(t){const r=this.storage[t];if(r!=null)return r.object}remove(t,r,n){const i=Ul(t,r),s=this.owners[i];if(s&&s.has(n)){const o=s.get(n)-1;o<=0?(s.delete(n),this.dereference(n)):s.set(n,o)}}clear(t,r){const n=Ul(t,r),i=this.owners[n];if(i){for(const s of i.keys())this.dereference(s);delete this.owners[n]}}saveToStorage(t){let r=this.electronIds.get(t);return r||(r=++this.nextId,this.storage[r]={count:0,object:t},this.electronIds.set(t,r)),r}dereference(t){const r=this.storage[t];r!=null&&(r.count-=1,r.count===0&&(this.electronIds.delete(r.object),delete this.storage[t]))}registerDeleteListener(t,r){const n=r.split("-")[0],i=(s,o)=>{o&&o.toString()===n&&(t.removeListener("render-view-deleted",i),this.clear(t,r))};t.on("render-view-deleted",i)}}cu.default=new r_;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.deserialize=Fr.serialize=Fr.isSerializableObject=Fr.isPromise=void 0;const n_=te;function i_(e){return e&&e.then&&e.then instanceof Function&&e.constructor&&e.constructor.reject&&e.constructor.reject instanceof Function&&e.constructor.resolve&&e.constructor.resolve instanceof Function}Fr.isPromise=i_;const s_=[Boolean,Number,String,Date,Error,RegExp,ArrayBuffer];function uu(e){return e===null||ArrayBuffer.isView(e)||s_.some(t=>e instanceof t)}Fr.isSerializableObject=uu;const jm=function(e,t){const n=Object.entries(e).map(([i,s])=>[i,t(s)]);return Object.fromEntries(n)};function o_(e){const t=[],r=e.getScaleFactors();if(r.length===1){const n=r[0],i=e.getSize(n),s=e.toBitmap({scaleFactor:n});t.push({scaleFactor:n,size:i,buffer:s})}else for(const n of r){const i=e.getSize(n),s=e.toDataURL({scaleFactor:n});t.push({scaleFactor:n,size:i,dataURL:s})}return{__ELECTRON_SERIALIZED_NativeImage__:!0,representations:t}}function a_(e){const t=n_.nativeImage.createEmpty();if(e.representations.length===1){const{buffer:r,size:n,scaleFactor:i}=e.representations[0],{width:s,height:o}=n;t.addRepresentation({buffer:r,scaleFactor:i,width:s,height:o})}else for(const r of e.representations){const{dataURL:n,size:i,scaleFactor:s}=r,{width:o,height:a}=i;t.addRepresentation({dataURL:n,scaleFactor:s,width:o,height:a})}return t}function Cc(e){return e&&e.constructor&&e.constructor.name==="NativeImage"?o_(e):Array.isArray(e)?e.map(Cc):uu(e)?e:e instanceof Object?jm(e,Cc):e}Fr.serialize=Cc;function Nc(e){return e&&e.__ELECTRON_SERIALIZED_NativeImage__?a_(e):Array.isArray(e)?e.map(Nc):uu(e)?e:e instanceof Object?jm(e,Nc):e}Fr.deserialize=Nc;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.getElectronBinding=void 0;const l_=e=>process._linkedBinding?process._linkedBinding("electron_common_"+e):process.electronBinding?process.electronBinding(e):null;Xa.getElectronBinding=l_;Aa.exports;(function(e,t){var r=lt&&lt.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.isInitialized=t.enable=t.isRemoteModuleEnabled=void 0;const n=ts,i=r(cu),s=Fr,o=te,a=Xa,{Promise:l}=lt,u=a.getElectronBinding("v8_util"),c=(()=>{var I,j;const A=Number((j=(I=process.versions.electron)===null||I===void 0?void 0:I.split("."))===null||j===void 0?void 0:j[0]);return Number.isNaN(A)||A<14})(),f=["length","name","arguments","caller","prototype"],h=new Map,m=new FinalizationRegistry(I=>{const j=I.id[0]+"~"+I.id[1],A=h.get(j);if(A!==void 0&&A.deref()===void 0&&(h.delete(j),!I.webContents.isDestroyed()))try{I.webContents.sendToFrame(I.frameId,"REMOTE_RENDERER_RELEASE_CALLBACK",I.id[0],I.id[1])}catch(w){console.warn(`sendToFrame() failed: ${w}`)}});function g(I){const j=I[0]+"~"+I[1],A=h.get(j);if(A!==void 0){const w=A.deref();if(w!==void 0)return w}}function E(I,j,A,w){const R=new WeakRef(w),C=I[0]+"~"+I[1];return h.set(C,R),m.register(w,{id:I,webContents:j,frameId:A}),w}const v=new WeakMap,y=function(I){let j=Object.getOwnPropertyNames(I);return typeof I=="function"&&(j=j.filter(A=>!f.includes(A))),j.map(A=>{const w=Object.getOwnPropertyDescriptor(I,A);let R,C=!1;return w.get===void 0&&typeof I[A]=="function"?R="method":((w.set||w.writable)&&(C=!0),R="get"),{name:A,enumerable:w.enumerable,writable:C,type:R}})},p=function(I){const j=Object.getPrototypeOf(I);return j===null||j===Object.prototype?null:{members:y(j),proto:p(j)}},S=function(I,j,A,w=!1){let R;switch(typeof A){case"object":A instanceof Buffer?R="buffer":A&&A.constructor&&A.constructor.name==="NativeImage"?R="nativeimage":Array.isArray(A)?R="array":A instanceof Error?R="error":s.isSerializableObject(A)?R="value":s.isPromise(A)?R="promise":Object.prototype.hasOwnProperty.call(A,"callee")&&A.length!=null?R="array":w&&u.getHiddenValue(A,"simple")?R="value":R="object";break;case"function":R="function";break;default:R="value";break}return R==="array"?{type:R,members:A.map(C=>S(I,j,C,w))}:R==="nativeimage"?{type:R,value:s.serialize(A)}:R==="object"||R==="function"?{type:R,name:A.constructor?A.constructor.name:"",id:i.default.add(I,j,A),members:y(A),proto:p(A)}:R==="buffer"?{type:R,value:A}:R==="promise"?(A.then(function(){},function(){}),{type:R,then:S(I,j,function(C,d){A.then(C,d)})}):R==="error"?{type:R,value:A,members:Object.keys(A).map(C=>({name:C,value:S(I,j,A[C])}))}:{type:"value",value:A}},N=function(I){const j=new Error(I);throw j.code="EBADRPC",j.errno=-72,j},M=(I,j)=>{let w=`Attempting to call a function in a renderer window that has been closed or released.
Function provided here: ${v.get(j)}`;if(I instanceof n.EventEmitter){const R=I.eventNames().filter(C=>I.listeners(C).includes(j));R.length>0&&(w+=`
Remote event names: ${R.join(", ")}`,R.forEach(C=>{I.removeListener(C,j)}))}console.warn(w)},O=(I,j)=>new Proxy(Object,{get(A,w,R){return w==="name"?j:Reflect.get(A,w,R)}}),b=function(I,j,A,w){const R=function(C){switch(C.type){case"nativeimage":return s.deserialize(C.value);case"value":return C.value;case"remote-object":return i.default.get(C.id);case"array":return b(I,j,A,C.value);case"buffer":return Buffer.from(C.value.buffer,C.value.byteOffset,C.value.byteLength);case"promise":return l.resolve({then:R(C.then)});case"object":{const d=C.name!=="Object"?Object.create({constructor:O(Object,C.name)}):{};for(const{name:$,value:L}of C.members)d[$]=R(L);return d}case"function-with-return-value":{const d=R(C.value);return function(){return d}}case"function":{const d=[A,C.id],$=g(d);if($!==void 0)return $;const L=function(...P){let _=!1;if(!I.isDestroyed())try{_=I.sendToFrame(j,"REMOTE_RENDERER_CALLBACK",A,C.id,S(I,A,P))!==!1}catch(z){console.warn(`sendToFrame() failed: ${z}`)}_||M(this,L)};return v.set(L,C.location),Object.defineProperty(L,"length",{value:C.length}),E(d,I,j,L),L}default:throw new TypeError(`Unknown type: ${C.type}`)}};return w.map(R)},D=function(I){const j=I.getLastWebPreferences()||{};return j.enableRemoteModule!=null?!!j.enableRemoteModule:!1},T=new WeakMap,V=function(I){return c&&!T.has(I)&&T.set(I,D(I)),T.get(I)};t.isRemoteModuleEnabled=V;function Y(I){T.set(I,!0)}t.enable=Y;const H=function(I,j){o.ipcMain.on(I,(A,w,...R)=>{let C;if(!t.isRemoteModuleEnabled(A.sender)){A.returnValue={type:"exception",value:S(A.sender,w,new Error('@electron/remote is disabled for this WebContents. Call require("@electron/remote/main").enable(webContents) to enable it.'))};return}try{C=j(A,w,...R)}catch(d){C={type:"exception",value:S(A.sender,w,d)}}C!==void 0&&(A.returnValue=C)})},W=function(I,j,...A){const w={sender:I,returnValue:void 0,defaultPrevented:!1};return o.app.emit(j,w,I,...A),I.emit(j,w,...A),w},G=function(I,j,A){A&&console.warn(`WebContents (${I.id}): ${j}`,A)};let Q=!1;function Z(){return Q}t.isInitialized=Z;function K(){if(Q)throw new Error("@electron/remote has already been initialized");Q=!0,H("REMOTE_BROWSER_WRONG_CONTEXT_ERROR",function(I,j,A,w){const C=g([A,w]);C!==void 0&&M(I.sender,C)}),H("REMOTE_BROWSER_REQUIRE",function(I,j,A,w){G(I.sender,`remote.require('${A}')`,w);const R=W(I.sender,"remote-require",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.require('${A}')`);if(process.mainModule)R.returnValue=process.mainModule.require(A);else{let C=e;for(;C.parent;)C=C.parent;R.returnValue=C.require(A)}}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_BUILTIN",function(I,j,A,w){G(I.sender,`remote.getBuiltin('${A}')`,w);const R=W(I.sender,"remote-get-builtin",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.getBuiltin('${A}')`);R.returnValue=te[A]}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_GLOBAL",function(I,j,A,w){G(I.sender,`remote.getGlobal('${A}')`,w);const R=W(I.sender,"remote-get-global",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.getGlobal('${A}')`);R.returnValue=lt[A]}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_CURRENT_WINDOW",function(I,j,A){G(I.sender,"remote.getCurrentWindow()",A);const w=W(I.sender,"remote-get-current-window");if(w.returnValue===void 0){if(w.defaultPrevented)throw new Error("Blocked remote.getCurrentWindow()");w.returnValue=I.sender.getOwnerBrowserWindow()}return S(I.sender,j,w.returnValue)}),H("REMOTE_BROWSER_GET_CURRENT_WEB_CONTENTS",function(I,j,A){G(I.sender,"remote.getCurrentWebContents()",A);const w=W(I.sender,"remote-get-current-web-contents");if(w.returnValue===void 0){if(w.defaultPrevented)throw new Error("Blocked remote.getCurrentWebContents()");w.returnValue=I.sender}return S(I.sender,j,w.returnValue)}),H("REMOTE_BROWSER_CONSTRUCTOR",function(I,j,A,w){w=b(I.sender,I.frameId,j,w);const R=i.default.get(A);return R==null&&N(`Cannot call constructor on missing remote object ${A}`),S(I.sender,j,new R(...w))}),H("REMOTE_BROWSER_FUNCTION_CALL",function(I,j,A,w){w=b(I.sender,I.frameId,j,w);const R=i.default.get(A);R==null&&N(`Cannot call function on missing remote object ${A}`);try{return S(I.sender,j,R(...w),!0)}catch(C){const d=new Error(`Could not call remote function '${R.name||"anonymous"}'. Check that the function signature is correct. Underlying error: ${C}
`+(C instanceof Error?`Underlying stack: ${C.stack}
`:""));throw d.cause=C,d}}),H("REMOTE_BROWSER_MEMBER_CONSTRUCTOR",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);return C==null&&N(`Cannot call constructor '${w}' on missing remote object ${A}`),S(I.sender,j,new C[w](...R))}),H("REMOTE_BROWSER_MEMBER_CALL",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);C==null&&N(`Cannot call method '${w}' on missing remote object ${A}`);try{return S(I.sender,j,C[w](...R),!0)}catch(d){const $=new Error(`Could not call remote method '${w}'. Check that the method signature is correct. Underlying error: ${d}`+(d instanceof Error?`Underlying stack: ${d.stack}
`:""));throw $.cause=d,$}}),H("REMOTE_BROWSER_MEMBER_SET",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);return C==null&&N(`Cannot set property '${w}' on missing remote object ${A}`),C[w]=R[0],null}),H("REMOTE_BROWSER_MEMBER_GET",function(I,j,A,w){const R=i.default.get(A);return R==null&&N(`Cannot get property '${w}' on missing remote object ${A}`),S(I.sender,j,R[w])}),H("REMOTE_BROWSER_DEREFERENCE",function(I,j,A){i.default.remove(I.sender,j,A)}),H("REMOTE_BROWSER_CONTEXT_RELEASE",(I,j)=>(i.default.clear(I.sender,j),null))}t.initialize=K})(Aa,Aa.exports);var c_=Aa.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.isInitialized=e.initialize=void 0;var t=c_;Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}}),Object.defineProperty(e,"isInitialized",{enumerable:!0,get:function(){return t.isInitialized}}),Object.defineProperty(e,"enable",{enumerable:!0,get:function(){return t.enable}})})(Lm);var Mm=Lm,Rc={exports:{}},u_=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const Ln=u_,f_=new Set(["__proto__","prototype","constructor"]),d_=e=>!e.some(t=>f_.has(t));function Ho(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let i=t[n];for(;i[i.length-1]==="\\"&&t[n+1]!==void 0;)i=i.slice(0,-1)+".",i+=t[++n];r.push(i)}return d_(r)?r:[]}var h_={get(e,t,r){if(!Ln(e)||typeof t!="string")return r===void 0?e:r;const n=Ho(t);if(n.length!==0){for(let i=0;i<n.length;i++)if(e=e[n[i]],e==null){if(i!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!Ln(e)||typeof t!="string")return e;const n=e,i=Ho(t);for(let s=0;s<i.length;s++){const o=i[s];Ln(e[o])||(e[o]={}),s===i.length-1&&(e[o]=r),e=e[o]}return n},delete(e,t){if(!Ln(e)||typeof t!="string")return!1;const r=Ho(t);for(let n=0;n<r.length;n++){const i=r[n];if(n===r.length-1)return delete e[i],!0;if(e=e[i],!Ln(e))return!1}},has(e,t){if(!Ln(e)||typeof t!="string")return!1;const r=Ho(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(Ln(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},fu={exports:{}},du={exports:{}},hu={exports:{}},pu={exports:{}};const Um=Le;pu.exports=e=>new Promise(t=>{Um.access(e,r=>{t(!r)})});pu.exports.sync=e=>{try{return Um.accessSync(e),!0}catch{return!1}};var p_=pu.exports,mu={exports:{}},gu={exports:{}};const xm=(e,...t)=>new Promise(r=>{r(e(...t))});gu.exports=xm;gu.exports.default=xm;var m_=gu.exports;const g_=m_,qm=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},i=(a,l,...u)=>{r++;const c=g_(a,...u);l(c),c.then(n,n)},s=(a,l,...u)=>{r<e?i(a,l,...u):t.push(i.bind(null,a,l,...u))},o=(a,...l)=>new Promise(u=>s(a,u,...l));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};mu.exports=qm;mu.exports.default=qm;var y_=mu.exports;const Rd=y_;class Vm extends Error{constructor(t){super(),this.value=t}}const v_=(e,t)=>Promise.resolve(e).then(t),__=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Vm(t[0])));var $_=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=Rd(r.concurrency),i=[...e].map(o=>[o,n(v_,o,t)]),s=Rd(r.preserveOrder?1:1/0);return Promise.all(i.map(o=>s(__,o))).then(()=>{}).catch(o=>o instanceof Vm?o.value:Promise.reject(o))};const Bm=Se,zm=p_,E_=$_;hu.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),E_(e,r=>zm(Bm.resolve(t.cwd,r)),t));hu.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(zm.sync(Bm.resolve(t.cwd,r)))return r};var w_=hu.exports;const yn=Se,Hm=w_;du.exports=(e,t={})=>{const r=yn.resolve(t.cwd||""),{root:n}=yn.parse(r),i=[].concat(e);return new Promise(s=>{(function o(a){Hm(i,{cwd:a}).then(l=>{l?s(yn.join(a,l)):a===n?s(null):o(yn.dirname(a))})})(r)})};du.exports.sync=(e,t={})=>{let r=yn.resolve(t.cwd||"");const{root:n}=yn.parse(r),i=[].concat(e);for(;;){const s=Hm.sync(i,{cwd:r});if(s)return yn.join(r,s);if(r===n)return null;r=yn.dirname(r)}};var S_=du.exports;const Gm=S_;fu.exports=async({cwd:e}={})=>Gm("package.json",{cwd:e});fu.exports.sync=({cwd:e}={})=>Gm.sync("package.json",{cwd:e});var b_=fu.exports,yu={exports:{}};const Ye=Se,Wm=Nn,mn=Wm.homedir(),vu=Wm.tmpdir(),{env:Di}=process,P_=e=>{const t=Ye.join(mn,"Library");return{data:Ye.join(t,"Application Support",e),config:Ye.join(t,"Preferences",e),cache:Ye.join(t,"Caches",e),log:Ye.join(t,"Logs",e),temp:Ye.join(vu,e)}},T_=e=>{const t=Di.APPDATA||Ye.join(mn,"AppData","Roaming"),r=Di.LOCALAPPDATA||Ye.join(mn,"AppData","Local");return{data:Ye.join(r,e,"Data"),config:Ye.join(t,e,"Config"),cache:Ye.join(r,e,"Cache"),log:Ye.join(r,e,"Log"),temp:Ye.join(vu,e)}},O_=e=>{const t=Ye.basename(mn);return{data:Ye.join(Di.XDG_DATA_HOME||Ye.join(mn,".local","share"),e),config:Ye.join(Di.XDG_CONFIG_HOME||Ye.join(mn,".config"),e),cache:Ye.join(Di.XDG_CACHE_HOME||Ye.join(mn,".cache"),e),log:Ye.join(Di.XDG_STATE_HOME||Ye.join(mn,".local","state"),e),temp:Ye.join(vu,t,e)}},Km=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?P_(e):process.platform==="win32"?T_(e):O_(e)};yu.exports=Km;yu.exports.default=Km;var A_=yu.exports,kr={},Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.NOOP=Re.LIMIT_FILES_DESCRIPTORS=Re.LIMIT_BASENAME_LENGTH=Re.IS_USER_ROOT=Re.IS_POSIX=Re.DEFAULT_TIMEOUT_SYNC=Re.DEFAULT_TIMEOUT_ASYNC=Re.DEFAULT_WRITE_OPTIONS=Re.DEFAULT_READ_OPTIONS=Re.DEFAULT_FOLDER_MODE=Re.DEFAULT_FILE_MODE=Re.DEFAULT_ENCODING=void 0;const C_="utf8";Re.DEFAULT_ENCODING=C_;const N_=438;Re.DEFAULT_FILE_MODE=N_;const R_=511;Re.DEFAULT_FOLDER_MODE=R_;const I_={};Re.DEFAULT_READ_OPTIONS=I_;const D_={};Re.DEFAULT_WRITE_OPTIONS=D_;const F_=5e3;Re.DEFAULT_TIMEOUT_ASYNC=F_;const k_=100;Re.DEFAULT_TIMEOUT_SYNC=k_;const L_=!!process.getuid;Re.IS_POSIX=L_;const j_=process.getuid?!process.getuid():!1;Re.IS_USER_ROOT=j_;const M_=128;Re.LIMIT_BASENAME_LENGTH=M_;const U_=1e4;Re.LIMIT_FILES_DESCRIPTORS=U_;const x_=()=>{};Re.NOOP=x_;var Qa={},Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.attemptifySync=Vi.attemptifyAsync=void 0;const Ym=Re,q_=(e,t=Ym.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Vi.attemptifyAsync=q_;const V_=(e,t=Ym.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Vi.attemptifySync=V_;var _u={};Object.defineProperty(_u,"__esModule",{value:!0});const B_=Re,Jm={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!B_.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Jm.isChangeErrorOk(e))throw e}};_u.default=Jm;var Bi={},$u={};Object.defineProperty($u,"__esModule",{value:!0});const z_=Re,xe={interval:25,intervalId:void 0,limit:z_.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{xe.intervalId||(xe.intervalId=setInterval(xe.tick,xe.interval))},reset:()=>{xe.intervalId&&(clearInterval(xe.intervalId),delete xe.intervalId)},add:e=>{xe.queueWaiting.add(e),xe.queueActive.size<xe.limit/2?xe.tick():xe.init()},remove:e=>{xe.queueWaiting.delete(e),xe.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>xe.remove(r),r=()=>e(t);xe.add(r)}),tick:()=>{if(!(xe.queueActive.size>=xe.limit)){if(!xe.queueWaiting.size)return xe.reset();for(const e of xe.queueWaiting){if(xe.queueActive.size>=xe.limit)break;xe.queueWaiting.delete(e),xe.queueActive.add(e),e()}}}};$u.default=xe;Object.defineProperty(Bi,"__esModule",{value:!0});Bi.retryifySync=Bi.retryifyAsync=void 0;const H_=$u,G_=(e,t)=>function(r){return function n(){return H_.default.schedule().then(i=>e.apply(void 0,arguments).then(s=>(i(),s),s=>{if(i(),Date.now()>=r)throw s;if(t(s)){const o=Math.round(100+400*Math.random());return new Promise(l=>setTimeout(l,o)).then(()=>n.apply(void 0,arguments))}throw s}))}};Bi.retryifyAsync=G_;const W_=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(i){if(Date.now()>r)throw i;if(t(i))return n.apply(void 0,arguments);throw i}}};Bi.retryifySync=W_;Object.defineProperty(Qa,"__esModule",{value:!0});const De=Le,Ft=nn,kt=Vi,pt=_u,Gt=Bi,K_={chmodAttempt:kt.attemptifyAsync(Ft.promisify(De.chmod),pt.default.onChangeError),chownAttempt:kt.attemptifyAsync(Ft.promisify(De.chown),pt.default.onChangeError),closeAttempt:kt.attemptifyAsync(Ft.promisify(De.close)),fsyncAttempt:kt.attemptifyAsync(Ft.promisify(De.fsync)),mkdirAttempt:kt.attemptifyAsync(Ft.promisify(De.mkdir)),realpathAttempt:kt.attemptifyAsync(Ft.promisify(De.realpath)),statAttempt:kt.attemptifyAsync(Ft.promisify(De.stat)),unlinkAttempt:kt.attemptifyAsync(Ft.promisify(De.unlink)),closeRetry:Gt.retryifyAsync(Ft.promisify(De.close),pt.default.isRetriableError),fsyncRetry:Gt.retryifyAsync(Ft.promisify(De.fsync),pt.default.isRetriableError),openRetry:Gt.retryifyAsync(Ft.promisify(De.open),pt.default.isRetriableError),readFileRetry:Gt.retryifyAsync(Ft.promisify(De.readFile),pt.default.isRetriableError),renameRetry:Gt.retryifyAsync(Ft.promisify(De.rename),pt.default.isRetriableError),statRetry:Gt.retryifyAsync(Ft.promisify(De.stat),pt.default.isRetriableError),writeRetry:Gt.retryifyAsync(Ft.promisify(De.write),pt.default.isRetriableError),chmodSyncAttempt:kt.attemptifySync(De.chmodSync,pt.default.onChangeError),chownSyncAttempt:kt.attemptifySync(De.chownSync,pt.default.onChangeError),closeSyncAttempt:kt.attemptifySync(De.closeSync),mkdirSyncAttempt:kt.attemptifySync(De.mkdirSync),realpathSyncAttempt:kt.attemptifySync(De.realpathSync),statSyncAttempt:kt.attemptifySync(De.statSync),unlinkSyncAttempt:kt.attemptifySync(De.unlinkSync),closeSyncRetry:Gt.retryifySync(De.closeSync,pt.default.isRetriableError),fsyncSyncRetry:Gt.retryifySync(De.fsyncSync,pt.default.isRetriableError),openSyncRetry:Gt.retryifySync(De.openSync,pt.default.isRetriableError),readFileSyncRetry:Gt.retryifySync(De.readFileSync,pt.default.isRetriableError),renameSyncRetry:Gt.retryifySync(De.renameSync,pt.default.isRetriableError),statSyncRetry:Gt.retryifySync(De.statSync,pt.default.isRetriableError),writeSyncRetry:Gt.retryifySync(De.writeSync,pt.default.isRetriableError)};Qa.default=K_;var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});const Y_={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};Eu.default=Y_;var wu={};Object.defineProperty(wu,"__esModule",{value:!0});const Go={},Ic={next:e=>{const t=Go[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Ic.next(e)):delete Go[e]},schedule:e=>new Promise(t=>{let r=Go[e];r||(r=Go[e]=[]),r.push(t),!(r.length>1)&&t(()=>Ic.next(e))})};wu.default=Ic;var Su={};Object.defineProperty(Su,"__esModule",{value:!0});const J_=Se,Id=Re,Dd=Qa,rr={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",i=`.${n}${r}${t}`;return`${e}${i}`},get:(e,t,r=!0)=>{const n=rr.truncate(t(e));return n in rr.store?rr.get(e,t,r):(rr.store[n]=r,[n,()=>delete rr.store[n]])},purge:e=>{rr.store[e]&&(delete rr.store[e],Dd.default.unlinkAttempt(e))},purgeSync:e=>{rr.store[e]&&(delete rr.store[e],Dd.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in rr.store)rr.purgeSync(e)},truncate:e=>{const t=J_.basename(e);if(t.length<=Id.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Id.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",rr.purgeSyncAll);Su.default=rr;Object.defineProperty(kr,"__esModule",{value:!0});kr.writeFileSync=kr.writeFile=kr.readFileSync=kr.readFile=void 0;const Xm=Se,$t=Re,Ne=Qa,nr=Eu,X_=wu,vn=Su;function Qm(e,t=$t.DEFAULT_READ_OPTIONS){var r;if(nr.default.isString(t))return Qm(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:$t.DEFAULT_TIMEOUT_ASYNC);return Ne.default.readFileRetry(n)(e,t)}kr.readFile=Qm;function Zm(e,t=$t.DEFAULT_READ_OPTIONS){var r;if(nr.default.isString(t))return Zm(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:$t.DEFAULT_TIMEOUT_SYNC);return Ne.default.readFileSyncRetry(n)(e,t)}kr.readFileSync=Zm;const eg=(e,t,r,n)=>{if(nr.default.isFunction(r))return eg(e,t,$t.DEFAULT_WRITE_OPTIONS,r);const i=tg(e,t,r);return n&&i.then(n,n),i};kr.writeFile=eg;const tg=async(e,t,r=$t.DEFAULT_WRITE_OPTIONS)=>{var n;if(nr.default.isString(r))return tg(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:$t.DEFAULT_TIMEOUT_ASYNC);let s=null,o=null,a=null,l=null,u=null;try{r.schedule&&(s=await r.schedule(e)),o=await X_.default.schedule(e),e=await Ne.default.realpathAttempt(e)||e,[l,a]=vn.default.get(e,r.tmpCreate||vn.default.create,r.tmpPurge!==!1);const c=$t.IS_POSIX&&nr.default.isUndefined(r.chown),f=nr.default.isUndefined(r.mode);if(c||f){const m=await Ne.default.statAttempt(e);m&&(r={...r},c&&(r.chown={uid:m.uid,gid:m.gid}),f&&(r.mode=m.mode))}const h=Xm.dirname(e);await Ne.default.mkdirAttempt(h,{mode:$t.DEFAULT_FOLDER_MODE,recursive:!0}),u=await Ne.default.openRetry(i)(l,"w",r.mode||$t.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(l),nr.default.isString(t)?await Ne.default.writeRetry(i)(u,t,0,r.encoding||$t.DEFAULT_ENCODING):nr.default.isUndefined(t)||await Ne.default.writeRetry(i)(u,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await Ne.default.fsyncRetry(i)(u):Ne.default.fsyncAttempt(u)),await Ne.default.closeRetry(i)(u),u=null,r.chown&&await Ne.default.chownAttempt(l,r.chown.uid,r.chown.gid),r.mode&&await Ne.default.chmodAttempt(l,r.mode);try{await Ne.default.renameRetry(i)(l,e)}catch(m){if(m.code!=="ENAMETOOLONG")throw m;await Ne.default.renameRetry(i)(l,vn.default.truncate(e))}a(),l=null}finally{u&&await Ne.default.closeAttempt(u),l&&vn.default.purge(l),s&&s(),o&&o()}},rg=(e,t,r=$t.DEFAULT_WRITE_OPTIONS)=>{var n;if(nr.default.isString(r))return rg(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:$t.DEFAULT_TIMEOUT_SYNC);let s=null,o=null,a=null;try{e=Ne.default.realpathSyncAttempt(e)||e,[o,s]=vn.default.get(e,r.tmpCreate||vn.default.create,r.tmpPurge!==!1);const l=$t.IS_POSIX&&nr.default.isUndefined(r.chown),u=nr.default.isUndefined(r.mode);if(l||u){const f=Ne.default.statSyncAttempt(e);f&&(r={...r},l&&(r.chown={uid:f.uid,gid:f.gid}),u&&(r.mode=f.mode))}const c=Xm.dirname(e);Ne.default.mkdirSyncAttempt(c,{mode:$t.DEFAULT_FOLDER_MODE,recursive:!0}),a=Ne.default.openSyncRetry(i)(o,"w",r.mode||$t.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),nr.default.isString(t)?Ne.default.writeSyncRetry(i)(a,t,0,r.encoding||$t.DEFAULT_ENCODING):nr.default.isUndefined(t)||Ne.default.writeSyncRetry(i)(a,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Ne.default.fsyncSyncRetry(i)(a):Ne.default.fsyncAttempt(a)),Ne.default.closeSyncRetry(i)(a),a=null,r.chown&&Ne.default.chownSyncAttempt(o,r.chown.uid,r.chown.gid),r.mode&&Ne.default.chmodSyncAttempt(o,r.mode);try{Ne.default.renameSyncRetry(i)(o,e)}catch(f){if(f.code!=="ENAMETOOLONG")throw f;Ne.default.renameSyncRetry(i)(o,vn.default.truncate(e))}s(),o=null}finally{a&&Ne.default.closeSyncAttempt(a),o&&vn.default.purge(o)}};kr.writeFileSync=rg;var Dc={exports:{}},ng={},Pr={},zi={},mo={},_e={},to={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,N)=>`${S}${N}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,N)=>(N instanceof r&&(S[N.str]=(S[N.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(y,...p){const S=[y[0]];let N=0;for(;N<p.length;)a(S,p[N]),S.push(y[++N]);return new n(S)}e._=i;const s=new n("+");function o(y,...p){const S=[m(y[0])];let N=0;for(;N<p.length;)S.push(s),a(S,p[N]),S.push(s,m(y[++N]));return l(S),new n(S)}e.str=o;function a(y,p){p instanceof n?y.push(...p._items):p instanceof r?y.push(p):y.push(f(p))}e.addCodeArg=a;function l(y){let p=1;for(;p<y.length-1;){if(y[p]===s){const S=u(y[p-1],y[p+1]);if(S!==void 0){y.splice(p-1,3,S);continue}y[p++]="+"}p++}}function u(y,p){if(p==='""')return y;if(y==='""')return p;if(typeof y=="string")return p instanceof r||y[y.length-1]!=='"'?void 0:typeof p!="string"?`${y.slice(0,-1)}${p}"`:p[0]==='"'?y.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(y instanceof r))return`"${y}${p.slice(1)}`}function c(y,p){return p.emptyStr()?y:y.emptyStr()?p:o`${y}${p}`}e.strConcat=c;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:m(Array.isArray(y)?y.join(","):y)}function h(y){return new n(m(y))}e.stringify=h;function m(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new n(`.${y}`):i`[${y}]`}e.getProperty=g;function E(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new n(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=E;function v(y){return new n(y.toString())}e.regexpCode=v})(to);var Fc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=to;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class s extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:m}=h,g=(f=c.key)!==null&&f!==void 0?f:c.ref;let E=this._values[m];if(E){const p=E.get(g);if(p)return p}else E=this._values[m]=new Map;E.set(g,h);const v=this._scope[m]||(this._scope[m]=[]),y=v.length;return v[y]=c.ref,h.setValue(c,{property:m,itemIndex:y}),h}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},c,f)}_reduceValues(u,c,f={},h){let m=t.nil;for(const g in u){const E=u[g];if(!E)continue;const v=f[g]=f[g]||new Map;E.forEach(y=>{if(v.has(y))return;v.set(y,n.Started);let p=c(y);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${S} ${y} = ${p};${this.opts._n}`}else if(p=h==null?void 0:h(y))m=(0,t._)`${m}${p}${this.opts._n}`;else throw new r(y);v.set(y,n.Completed)})}return m}}e.ValueScope=a})(Fc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=to,r=Fc;var n=to;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Fc;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(d,$){return this}}class o extends s{constructor(d,$,L){super(),this.varKind=d,this.name=$,this.rhs=L}render({es5:d,_n:$}){const L=d?r.varKinds.var:this.varKind,P=this.rhs===void 0?"":` = ${this.rhs}`;return`${L} ${this.name}${P};`+$}optimizeNames(d,$){if(d[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,d,$)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(d,$,L){super(),this.lhs=d,this.rhs=$,this.sideEffects=L}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,$){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=G(this.rhs,d,$),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(d,this.rhs)}}class l extends a{constructor(d,$,L,P){super(d,L,P),this.op=$}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class u extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class c extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class f extends s{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends s{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,$){return this.code=G(this.code,d,$),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce(($,L)=>$+L.render(d),"")}optimizeNodes(){const{nodes:d}=this;let $=d.length;for(;$--;){const L=d[$].optimizeNodes();Array.isArray(L)?d.splice($,1,...L):L?d[$]=L:d.splice($,1)}return d.length>0?this:void 0}optimizeNames(d,$){const{nodes:L}=this;let P=L.length;for(;P--;){const _=L[P];_.optimizeNames(d,$)||(Q(d,_.names),L.splice(P,1))}return L.length>0?this:void 0}get names(){return this.nodes.reduce((d,$)=>H(d,$.names),{})}}class g extends m{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class E extends m{}class v extends g{}v.kind="else";class y extends g{constructor(d,$){super($),this.condition=d}render(d){let $=`if(${this.condition})`+super.render(d);return this.else&&($+="else "+this.else.render(d)),$}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let $=this.else;if($){const L=$.optimizeNodes();$=this.else=Array.isArray(L)?new v(L):L}if($)return d===!1?$ instanceof y?$:$.nodes:this.nodes.length?this:new y(Z(d),$ instanceof y?[$]:$.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,$){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(d,$),!!(super.optimizeNames(d,$)||this.else))return this.condition=G(this.condition,d,$),this}get names(){const d=super.names;return W(d,this.condition),this.else&&H(d,this.else.names),d}}y.kind="if";class p extends g{}p.kind="for";class S extends p{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iteration=G(this.iteration,d,$),this}get names(){return H(super.names,this.iteration.names)}}class N extends p{constructor(d,$,L,P){super(),this.varKind=d,this.name=$,this.from=L,this.to=P}render(d){const $=d.es5?r.varKinds.var:this.varKind,{name:L,from:P,to:_}=this;return`for(${$} ${L}=${P}; ${L}<${_}; ${L}++)`+super.render(d)}get names(){const d=W(super.names,this.from);return W(d,this.to)}}class M extends p{constructor(d,$,L,P){super(),this.loop=d,this.varKind=$,this.name=L,this.iterable=P}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iterable=G(this.iterable,d,$),this}get names(){return H(super.names,this.iterable.names)}}class O extends g{constructor(d,$,L){super(),this.name=d,this.args=$,this.async=L}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}O.kind="func";class b extends m{render(d){return"return "+super.render(d)}}b.kind="return";class D extends g{render(d){let $="try"+super.render(d);return this.catch&&($+=this.catch.render(d)),this.finally&&($+=this.finally.render(d)),$}optimizeNodes(){var d,$;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(d,$){var L,P;return super.optimizeNames(d,$),(L=this.catch)===null||L===void 0||L.optimizeNames(d,$),(P=this.finally)===null||P===void 0||P.optimizeNames(d,$),this}get names(){const d=super.names;return this.catch&&H(d,this.catch.names),this.finally&&H(d,this.finally.names),d}}class T extends g{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}T.kind="catch";class V extends g{render(d){return"finally"+super.render(d)}}V.kind="finally";class Y{constructor(d,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,$){const L=this._extScope.value(d,$);return(this._values[L.prefix]||(this._values[L.prefix]=new Set)).add(L),L}getScopeValue(d,$){return this._extScope.getValue(d,$)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,$,L,P){const _=this._scope.toName($);return L!==void 0&&P&&(this._constants[_.str]=L),this._leafNode(new o(d,_,L)),_}const(d,$,L){return this._def(r.varKinds.const,d,$,L)}let(d,$,L){return this._def(r.varKinds.let,d,$,L)}var(d,$,L){return this._def(r.varKinds.var,d,$,L)}assign(d,$,L){return this._leafNode(new a(d,$,L))}add(d,$){return this._leafNode(new l(d,e.operators.ADD,$))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const $=["{"];for(const[L,P]of d)$.length>1&&$.push(","),$.push(L),(L!==P||this.opts.es5)&&($.push(":"),(0,t.addCodeArg)($,P));return $.push("}"),new t._Code($)}if(d,$,L){if(this._blockNode(new y(d)),$&&L)this.code($).else().code(L).endIf();else if($)this.code($).endIf();else if(L)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new y(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(y,v)}_for(d,$){return this._blockNode(d),$&&this.code($).endFor(),this}for(d,$){return this._for(new S(d),$)}forRange(d,$,L,P,_=this.opts.es5?r.varKinds.var:r.varKinds.let){const z=this._scope.toName(d);return this._for(new N(_,z,$,L),()=>P(z))}forOf(d,$,L,P=r.varKinds.const){const _=this._scope.toName(d);if(this.opts.es5){const z=$ instanceof t.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,t._)`${z}.length`,U=>{this.var(_,(0,t._)`${z}[${U}]`),L(_)})}return this._for(new M("of",P,_,$),()=>L(_))}forIn(d,$,L,P=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${$})`,L);const _=this._scope.toName(d);return this._for(new M("in",P,_,$),()=>L(_))}endFor(){return this._endBlockNode(p)}label(d){return this._leafNode(new u(d))}break(d){return this._leafNode(new c(d))}return(d){const $=new b;if(this._blockNode($),this.code(d),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,$,L){if(!$&&!L)throw new Error('CodeGen: "try" without "catch" and "finally"');const P=new D;if(this._blockNode(P),this.code(d),$){const _=this.name("e");this._currNode=P.catch=new T(_),$(_)}return L&&(this._currNode=P.finally=new V,this.code(L)),this._endBlockNode(T,V)}throw(d){return this._leafNode(new f(d))}block(d,$){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock($),this}endBlock(d){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const L=this._nodes.length-$;if(L<0||d!==void 0&&L!==d)throw new Error(`CodeGen: wrong number of nodes: ${L} vs ${d} expected`);return this._nodes.length=$,this}func(d,$=t.nil,L,P){return this._blockNode(new O(d,$,L)),P&&this.code(P).endFunc(),this}endFunc(){return this._endBlockNode(O)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,$){const L=this._currNode;if(L instanceof d||$&&L instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${d.kind}/${$.kind}`:d.kind}"`)}_elseNode(d){const $=this._currNode;if(!($ instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const $=this._nodes;$[$.length-1]=d}}e.CodeGen=Y;function H(C,d){for(const $ in d)C[$]=(C[$]||0)+(d[$]||0);return C}function W(C,d){return d instanceof t._CodeOrName?H(C,d.names):C}function G(C,d,$){if(C instanceof t.Name)return L(C);if(!P(C))return C;return new t._Code(C._items.reduce((_,z)=>(z instanceof t.Name&&(z=L(z)),z instanceof t._Code?_.push(...z._items):_.push(z),_),[]));function L(_){const z=$[_.str];return z===void 0||d[_.str]!==1?_:(delete d[_.str],z)}function P(_){return _ instanceof t._Code&&_._items.some(z=>z instanceof t.Name&&d[z.str]===1&&$[z.str]!==void 0)}}function Q(C,d){for(const $ in d)C[$]=(C[$]||0)-(d[$]||0)}function Z(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${R(C)}`}e.not=Z;const K=w(e.operators.AND);function I(...C){return C.reduce(K)}e.and=I;const j=w(e.operators.OR);function A(...C){return C.reduce(j)}e.or=A;function w(C){return(d,$)=>d===t.nil?$:$===t.nil?d:(0,t._)`${R(d)} ${C} ${R($)}`}function R(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(_e);var Pe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=_e,r=to;function n(O){const b={};for(const D of O)b[D]=!0;return b}e.toHash=n;function i(O,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(O,b),!o(b,O.self.RULES.all))}e.alwaysValidSchema=i;function s(O,b=O.schema){const{opts:D,self:T}=O;if(!D.strictSchema||typeof b=="boolean")return;const V=T.RULES.keywords;for(const Y in b)V[Y]||M(O,`unknown keyword: "${Y}"`)}e.checkUnknownRules=s;function o(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(b[D])return!0;return!1}e.schemaHasRules=o;function a(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(D!=="$ref"&&b.all[D])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:O,schemaPath:b},D,T,V){if(!V){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${O}${b}${(0,t.getProperty)(T)}`}e.schemaRefOrVal=l;function u(O){return h(decodeURIComponent(O))}e.unescapeFragment=u;function c(O){return encodeURIComponent(f(O))}e.escapeFragment=c;function f(O){return typeof O=="number"?`${O}`:O.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function h(O){return O.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(O,b){if(Array.isArray(O))for(const D of O)b(D);else b(O)}e.eachItem=m;function g({mergeNames:O,mergeToName:b,mergeValues:D,resultToName:T}){return(V,Y,H,W)=>{const G=H===void 0?Y:H instanceof t.Name?(Y instanceof t.Name?O(V,Y,H):b(V,Y,H),H):Y instanceof t.Name?(b(V,H,Y),Y):D(Y,H);return W===t.Name&&!(G instanceof t.Name)?T(V,G):G}}e.mergeEvaluated={props:g({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>{O.if((0,t._)`${b} === true`,()=>O.assign(D,!0),()=>O.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${b})`))}),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>{b===!0?O.assign(D,!0):(O.assign(D,(0,t._)`${D} || {}`),v(O,D,b))}),mergeValues:(O,b)=>O===!0?!0:{...O,...b},resultToName:E}),items:g({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>O.assign(D,(0,t._)`${b} === true ? true : ${D} > ${b} ? ${D} : ${b}`)),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>O.assign(D,b===!0?!0:(0,t._)`${D} > ${b} ? ${D} : ${b}`)),mergeValues:(O,b)=>O===!0?!0:Math.max(O,b),resultToName:(O,b)=>O.var("items",b)})};function E(O,b){if(b===!0)return O.var("props",!0);const D=O.var("props",(0,t._)`{}`);return b!==void 0&&v(O,D,b),D}e.evaluatedPropsToName=E;function v(O,b,D){Object.keys(D).forEach(T=>O.assign((0,t._)`${b}${(0,t.getProperty)(T)}`,!0))}e.setEvaluated=v;const y={};function p(O,b){return O.scopeValue("func",{ref:b,code:y[b.code]||(y[b.code]=new r._Code(b.code))})}e.useFunc=p;var S;(function(O){O[O.Num=0]="Num",O[O.Str=1]="Str"})(S=e.Type||(e.Type={}));function N(O,b,D){if(O instanceof t.Name){const T=b===S.Num;return D?T?(0,t._)`"[" + ${O} + "]"`:(0,t._)`"['" + ${O} + "']"`:T?(0,t._)`"/" + ${O}`:(0,t._)`"/" + ${O}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(O).toString():"/"+f(O)}e.getErrorPath=N;function M(O,b,D=O.opts.strictSchema){if(D){if(b=`strict mode: ${b}`,D===!0)throw new Error(b);O.self.logger.warn(b)}}e.checkStrictMode=M})(Pe);var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});const Tt=_e,Q_={data:new Tt.Name("data"),valCxt:new Tt.Name("valCxt"),instancePath:new Tt.Name("instancePath"),parentData:new Tt.Name("parentData"),parentDataProperty:new Tt.Name("parentDataProperty"),rootData:new Tt.Name("rootData"),dynamicAnchors:new Tt.Name("dynamicAnchors"),vErrors:new Tt.Name("vErrors"),errors:new Tt.Name("errors"),this:new Tt.Name("this"),self:new Tt.Name("self"),scope:new Tt.Name("scope"),json:new Tt.Name("json"),jsonPos:new Tt.Name("jsonPos"),jsonLen:new Tt.Name("jsonLen"),jsonPart:new Tt.Name("jsonPart")};Ur.default=Q_;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=_e,r=Pe,n=Ur;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:y})=>y?(0,t.str)`"${v}" keyword must be ${y} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,y=e.keywordError,p,S){const{it:N}=v,{gen:M,compositeRule:O,allErrors:b}=N,D=f(v,y,p);S??(O||b)?l(M,D):u(N,(0,t._)`[${D}]`)}e.reportError=i;function s(v,y=e.keywordError,p){const{it:S}=v,{gen:N,compositeRule:M,allErrors:O}=S,b=f(v,y,p);l(N,b),M||O||u(S,n.default.vErrors)}e.reportExtraError=s;function o(v,y){v.assign(n.default.errors,y),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(y,()=>v.assign((0,t._)`${n.default.vErrors}.length`,y),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:y,schemaValue:p,data:S,errsCount:N,it:M}){if(N===void 0)throw new Error("ajv implementation error");const O=v.name("err");v.forRange("i",N,n.default.errors,b=>{v.const(O,(0,t._)`${n.default.vErrors}[${b}]`),v.if((0,t._)`${O}.instancePath === undefined`,()=>v.assign((0,t._)`${O}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,t._)`${O}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${y}`),M.opts.verbose&&(v.assign((0,t._)`${O}.schema`,p),v.assign((0,t._)`${O}.data`,S))})}e.extendErrors=a;function l(v,y){const p=v.const("err",y);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${p}]`),(0,t._)`${n.default.vErrors}.push(${p})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,y){const{gen:p,validateName:S,schemaEnv:N}=v;N.$async?p.throw((0,t._)`new ${v.ValidationError}(${y})`):(p.assign((0,t._)`${S}.errors`,y),p.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(v,y,p){const{createErrors:S}=v.it;return S===!1?(0,t._)`{}`:h(v,y,p)}function h(v,y,p={}){const{gen:S,it:N}=v,M=[m(N,p),g(v,p)];return E(v,y,M),S.object(...M)}function m({errorPath:v},{instancePath:y}){const p=y?(0,t.str)`${v}${(0,r.getErrorPath)(y,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,p)]}function g({keyword:v,it:{errSchemaPath:y}},{schemaPath:p,parentSchema:S}){let N=S?y:(0,t.str)`${y}/${v}`;return p&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(p,r.Type.Str)}`),[c.schemaPath,N]}function E(v,{params:y,message:p},S){const{keyword:N,data:M,schemaValue:O,it:b}=v,{opts:D,propertyName:T,topSchemaRef:V,schemaPath:Y}=b;S.push([c.keyword,N],[c.params,typeof y=="function"?y(v):y||(0,t._)`{}`]),D.messages&&S.push([c.message,typeof p=="function"?p(v):p]),D.verbose&&S.push([c.schema,O],[c.parentSchema,(0,t._)`${V}${Y}`],[n.default.data,M]),T&&S.push([c.propertyName,T])}})(mo);Object.defineProperty(zi,"__esModule",{value:!0});zi.boolOrEmptySchema=zi.topBoolOrEmptySchema=void 0;const Z_=mo,e$=_e,t$=Ur,r$={message:"boolean schema is false"};function n$(e){const{gen:t,schema:r,validateName:n}=e;r===!1?ig(e,!1):typeof r=="object"&&r.$async===!0?t.return(t$.default.data):(t.assign((0,e$._)`${n}.errors`,null),t.return(!0))}zi.topBoolOrEmptySchema=n$;function i$(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),ig(e)):r.var(t,!0)}zi.boolOrEmptySchema=i$;function ig(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Z_.reportError)(i,r$,void 0,t)}var go={},ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.getRules=ii.isJSONType=void 0;const s$=["string","number","integer","boolean","null","object","array"],o$=new Set(s$);function a$(e){return typeof e=="string"&&o$.has(e)}ii.isJSONType=a$;function l$(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ii.getRules=l$;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.shouldUseRule=Xr.shouldUseGroup=Xr.schemaHasRulesForType=void 0;function c$({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&sg(e,n)}Xr.schemaHasRulesForType=c$;function sg(e,t){return t.rules.some(r=>og(e,r))}Xr.shouldUseGroup=sg;function og(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Xr.shouldUseRule=og;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ii,r=Xr,n=mo,i=_e,s=Pe;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const N=l(S.type);if(N.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!N.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&N.push("null")}return N}e.getSchemaTypes=a;function l(S){const N=Array.isArray(S)?S:S?[S]:[];if(N.every(t.isJSONType))return N;throw new Error("type must be JSONType or JSONType[]: "+N.join(","))}e.getJSONTypes=l;function u(S,N){const{gen:M,data:O,opts:b}=S,D=f(N,b.coerceTypes),T=N.length>0&&!(D.length===0&&N.length===1&&(0,r.schemaHasRulesForType)(S,N[0]));if(T){const V=E(N,O,b.strictNumbers,o.Wrong);M.if(V,()=>{D.length?h(S,N,D):y(S)})}return T}e.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function f(S,N){return N?S.filter(M=>c.has(M)||N==="array"&&M==="array"):[]}function h(S,N,M){const{gen:O,data:b,opts:D}=S,T=O.let("dataType",(0,i._)`typeof ${b}`),V=O.let("coerced",(0,i._)`undefined`);D.coerceTypes==="array"&&O.if((0,i._)`${T} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>O.assign(b,(0,i._)`${b}[0]`).assign(T,(0,i._)`typeof ${b}`).if(E(N,b,D.strictNumbers),()=>O.assign(V,b))),O.if((0,i._)`${V} !== undefined`);for(const H of M)(c.has(H)||H==="array"&&D.coerceTypes==="array")&&Y(H);O.else(),y(S),O.endIf(),O.if((0,i._)`${V} !== undefined`,()=>{O.assign(b,V),m(S,V)});function Y(H){switch(H){case"string":O.elseIf((0,i._)`${T} == "number" || ${T} == "boolean"`).assign(V,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(V,(0,i._)`""`);return;case"number":O.elseIf((0,i._)`${T} == "boolean" || ${b} === null
              || (${T} == "string" && ${b} && ${b} == +${b})`).assign(V,(0,i._)`+${b}`);return;case"integer":O.elseIf((0,i._)`${T} === "boolean" || ${b} === null
              || (${T} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(V,(0,i._)`+${b}`);return;case"boolean":O.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(V,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(V,!0);return;case"null":O.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),O.assign(V,null);return;case"array":O.elseIf((0,i._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${b} === null`).assign(V,(0,i._)`[${b}]`)}}}function m({gen:S,parentData:N,parentDataProperty:M},O){S.if((0,i._)`${N} !== undefined`,()=>S.assign((0,i._)`${N}[${M}]`,O))}function g(S,N,M,O=o.Correct){const b=O===o.Correct?i.operators.EQ:i.operators.NEQ;let D;switch(S){case"null":return(0,i._)`${N} ${b} null`;case"array":D=(0,i._)`Array.isArray(${N})`;break;case"object":D=(0,i._)`${N} && typeof ${N} == "object" && !Array.isArray(${N})`;break;case"integer":D=T((0,i._)`!(${N} % 1) && !isNaN(${N})`);break;case"number":D=T();break;default:return(0,i._)`typeof ${N} ${b} ${S}`}return O===o.Correct?D:(0,i.not)(D);function T(V=i.nil){return(0,i.and)((0,i._)`typeof ${N} == "number"`,V,M?(0,i._)`isFinite(${N})`:i.nil)}}e.checkDataType=g;function E(S,N,M,O){if(S.length===1)return g(S[0],N,M,O);let b;const D=(0,s.toHash)(S);if(D.array&&D.object){const T=(0,i._)`typeof ${N} != "object"`;b=D.null?T:(0,i._)`!${N} || ${T}`,delete D.null,delete D.array,delete D.object}else b=i.nil;D.number&&delete D.integer;for(const T in D)b=(0,i.and)(b,g(T,N,M,O));return b}e.checkDataTypes=E;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:N})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${N}}`};function y(S){const N=p(S);(0,n.reportError)(N,v)}e.reportTypeError=y;function p(S){const{gen:N,data:M,schema:O}=S,b=(0,s.schemaRefOrVal)(S,O,"type");return{gen:N,keyword:"type",data:M,schema:O.type,schemaCode:b,schemaValue:b,parentSchema:O,params:{},it:S}}})(go);var Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.assignDefaults=void 0;const vi=_e,u$=Pe;function f$(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Fd(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Fd(e,s,i.default))}Za.assignDefaults=f$;function Fd(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const a=(0,vi._)`${s}${(0,vi.getProperty)(t)}`;if(i){(0,u$.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,vi._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,vi._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,vi._)`${a} = ${(0,vi.stringify)(r)}`)}var Lr={},ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.validateUnion=ye.validateArray=ye.usePattern=ye.callValidateCode=ye.schemaProperties=ye.allSchemaProperties=ye.noPropertyInData=ye.propertyInData=ye.isOwnProperty=ye.hasPropFunc=ye.reportMissingProp=ye.checkMissingProp=ye.checkReportMissingProp=void 0;const Ve=_e,bu=Pe,cn=Ur,d$=Pe;function h$(e,t){const{gen:r,data:n,it:i}=e;r.if(Tu(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ve._)`${t}`},!0),e.error()})}ye.checkReportMissingProp=h$;function p$({gen:e,data:t,it:{opts:r}},n,i){return(0,Ve.or)(...n.map(s=>(0,Ve.and)(Tu(e,t,s,r.ownProperties),(0,Ve._)`${i} = ${s}`)))}ye.checkMissingProp=p$;function m$(e,t){e.setParams({missingProperty:t},!0),e.error()}ye.reportMissingProp=m$;function ag(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ve._)`Object.prototype.hasOwnProperty`})}ye.hasPropFunc=ag;function Pu(e,t,r){return(0,Ve._)`${ag(e)}.call(${t}, ${r})`}ye.isOwnProperty=Pu;function g$(e,t,r,n){const i=(0,Ve._)`${t}${(0,Ve.getProperty)(r)} !== undefined`;return n?(0,Ve._)`${i} && ${Pu(e,t,r)}`:i}ye.propertyInData=g$;function Tu(e,t,r,n){const i=(0,Ve._)`${t}${(0,Ve.getProperty)(r)} === undefined`;return n?(0,Ve.or)(i,(0,Ve.not)(Pu(e,t,r))):i}ye.noPropertyInData=Tu;function lg(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ye.allSchemaProperties=lg;function y$(e,t){return lg(t).filter(r=>!(0,bu.alwaysValidSchema)(e,t[r]))}ye.schemaProperties=y$;function v$({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,l,u){const c=u?(0,Ve._)`${e}, ${t}, ${n}${i}`:t,f=[[cn.default.instancePath,(0,Ve.strConcat)(cn.default.instancePath,s)],[cn.default.parentData,o.parentData],[cn.default.parentDataProperty,o.parentDataProperty],[cn.default.rootData,cn.default.rootData]];o.opts.dynamicRef&&f.push([cn.default.dynamicAnchors,cn.default.dynamicAnchors]);const h=(0,Ve._)`${c}, ${r.object(...f)}`;return l!==Ve.nil?(0,Ve._)`${a}.call(${l}, ${h})`:(0,Ve._)`${a}(${h})`}ye.callValidateCode=v$;const _$=(0,Ve._)`new RegExp`;function $$({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ve._)`${i.code==="new RegExp"?_$:(0,d$.useFunc)(e,i)}(${r}, ${n})`})}ye.usePattern=$$;function E$(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const l=t.const("len",(0,Ve._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:bu.Type.Num},s),t.if((0,Ve.not)(s),a)})}}ye.validateArray=E$;function w$(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,bu.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const c=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);t.assign(o,(0,Ve._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Ve.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ye.validateUnion=w$;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.validateKeywordUsage=Lr.validSchemaType=Lr.funcKeywordCode=Lr.macroKeywordCode=void 0;const Lt=_e,zn=Ur,S$=ye,b$=mo;function P$(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),l=cg(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const u=r.name("valid");e.subschema({schema:a,schemaPath:Lt.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Lr.macroKeywordCode=P$;function T$(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:l}=e;A$(l,t);const u=!a&&t.compile?t.compile.call(l.self,s,o,l):t.validate,c=cg(n,i,u),f=n.let("valid");e.block$data(f,h),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function h(){if(t.errors===!1)E(),t.modifying&&kd(e),v(()=>e.error());else{const y=t.async?m():g();t.modifying&&kd(e),v(()=>O$(e,y))}}function m(){const y=n.let("ruleErrs",null);return n.try(()=>E((0,Lt._)`await `),p=>n.assign(f,!1).if((0,Lt._)`${p} instanceof ${l.ValidationError}`,()=>n.assign(y,(0,Lt._)`${p}.errors`),()=>n.throw(p))),y}function g(){const y=(0,Lt._)`${c}.errors`;return n.assign(y,null),E(Lt.nil),y}function E(y=t.async?(0,Lt._)`await `:Lt.nil){const p=l.opts.passContext?zn.default.this:zn.default.self,S=!("compile"in t&&!a||t.schema===!1);n.assign(f,(0,Lt._)`${y}${(0,S$.callValidateCode)(e,c,p,S)}`,t.modifying)}function v(y){var p;n.if((0,Lt.not)((p=t.valid)!==null&&p!==void 0?p:f),y)}}Lr.funcKeywordCode=T$;function kd(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Lt._)`${n.parentData}[${n.parentDataProperty}]`))}function O$(e,t){const{gen:r}=e;r.if((0,Lt._)`Array.isArray(${t})`,()=>{r.assign(zn.default.vErrors,(0,Lt._)`${zn.default.vErrors} === null ? ${t} : ${zn.default.vErrors}.concat(${t})`).assign(zn.default.errors,(0,Lt._)`${zn.default.vErrors}.length`),(0,b$.extendErrors)(e)},()=>e.error())}function A$({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function cg(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Lt.stringify)(r)})}function C$(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Lr.validSchemaType=C$;function N$({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const l=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Lr.validateKeywordUsage=N$;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.extendSubschemaMode=bn.extendSubschemaData=bn.getSubschema=void 0;const Ir=_e,ug=Pe;function R$(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Ir._)`${e.schemaPath}${(0,Ir.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Ir._)`${e.schemaPath}${(0,Ir.getProperty)(t)}${(0,Ir.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ug.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}bn.getSubschema=R$;function I$(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:u,dataPathArr:c,opts:f}=t,h=a.let("data",(0,Ir._)`${t.data}${(0,Ir.getProperty)(r)}`,!0);l(h),e.errorPath=(0,Ir.str)`${u}${(0,ug.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ir._)`${r}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Ir.Name?i:a.let("data",i,!0);l(u),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}bn.extendSubschemaData=I$;function D$(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}bn.extendSubschemaMode=D$;var Et={},el=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},fg={exports:{}},_n=fg.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};ga(t,n,i,e,"",e)};_n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};_n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};_n.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};_n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ga(e,t,r,n,i,s,o,a,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,l,u);for(var c in n){var f=n[c];if(Array.isArray(f)){if(c in _n.arrayKeywords)for(var h=0;h<f.length;h++)ga(e,t,r,f[h],i+"/"+c+"/"+h,s,i,c,n,h)}else if(c in _n.propsKeywords){if(f&&typeof f=="object")for(var m in f)ga(e,t,r,f[m],i+"/"+c+"/"+F$(m),s,i,c,n,m)}else(c in _n.keywords||e.allKeys&&!(c in _n.skipKeywords))&&ga(e,t,r,f,i+"/"+c,s,i,c,n)}r(n,i,s,o,a,l,u)}}function F$(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var k$=fg.exports;Object.defineProperty(Et,"__esModule",{value:!0});Et.getSchemaRefs=Et.resolveUrl=Et.normalizeId=Et._getFullPath=Et.getFullPath=Et.inlineRef=void 0;const L$=Pe,j$=el,M$=k$,U$=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function x$(e,t=!0){return typeof e=="boolean"?!0:t===!0?!kc(e):t?dg(e)<=t:!1}Et.inlineRef=x$;const q$=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function kc(e){for(const t in e){if(q$.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(kc)||typeof r=="object"&&kc(r))return!0}return!1}function dg(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!U$.has(r)&&(typeof e[r]=="object"&&(0,L$.eachItem)(e[r],n=>t+=dg(n)),t===1/0))return 1/0}return t}function hg(e,t="",r){r!==!1&&(t=Mi(t));const n=e.parse(t);return pg(e,n)}Et.getFullPath=hg;function pg(e,t){return e.serialize(t).split("#")[0]+"#"}Et._getFullPath=pg;const V$=/#\/?$/;function Mi(e){return e?e.replace(V$,""):""}Et.normalizeId=Mi;function B$(e,t,r){return r=Mi(r),e.resolve(t,r)}Et.resolveUrl=B$;const z$=/^[a-z_][-a-z0-9._]*$/i;function H$(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=Mi(e[r]||t),s={"":i},o=hg(n,i,!1),a={},l=new Set;return M$(e,{allKeys:!0},(f,h,m,g)=>{if(g===void 0)return;const E=o+h;let v=s[g];typeof f[r]=="string"&&(v=y.call(this,f[r])),p.call(this,f.$anchor),p.call(this,f.$dynamicAnchor),s[h]=v;function y(S){const N=this.opts.uriResolver.resolve;if(S=Mi(v?N(v,S):S),l.has(S))throw c(S);l.add(S);let M=this.refs[S];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?u(f,M.schema,S):S!==Mi(E)&&(S[0]==="#"?(u(f,a[S],S),a[S]=f):this.refs[S]=E),S}function p(S){if(typeof S=="string"){if(!z$.test(S))throw new Error(`invalid anchor "${S}"`);y.call(this,`#${S}`)}}}),a;function u(f,h,m){if(h!==void 0&&!j$(f,h))throw c(m)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Et.getSchemaRefs=H$;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.getData=Pr.KeywordCxt=Pr.validateFunctionCode=void 0;const mg=zi,Ld=go,Ou=Xr,Ca=go,G$=Za,xs=Lr,xl=bn,se=_e,ue=Ur,W$=Et,Qr=Pe,$s=mo;function K$(e){if(vg(e)&&(_g(e),yg(e))){X$(e);return}gg(e,()=>(0,mg.topBoolOrEmptySchema)(e))}Pr.validateFunctionCode=K$;function gg({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,se._)`${ue.default.data}, ${ue.default.valCxt}`,n.$async,()=>{e.code((0,se._)`"use strict"; ${jd(r,i)}`),J$(e,i),e.code(s)}):e.func(t,(0,se._)`${ue.default.data}, ${Y$(i)}`,n.$async,()=>e.code(jd(r,i)).code(s))}function Y$(e){return(0,se._)`{${ue.default.instancePath}="", ${ue.default.parentData}, ${ue.default.parentDataProperty}, ${ue.default.rootData}=${ue.default.data}${e.dynamicRef?(0,se._)`, ${ue.default.dynamicAnchors}={}`:se.nil}}={}`}function J$(e,t){e.if(ue.default.valCxt,()=>{e.var(ue.default.instancePath,(0,se._)`${ue.default.valCxt}.${ue.default.instancePath}`),e.var(ue.default.parentData,(0,se._)`${ue.default.valCxt}.${ue.default.parentData}`),e.var(ue.default.parentDataProperty,(0,se._)`${ue.default.valCxt}.${ue.default.parentDataProperty}`),e.var(ue.default.rootData,(0,se._)`${ue.default.valCxt}.${ue.default.rootData}`),t.dynamicRef&&e.var(ue.default.dynamicAnchors,(0,se._)`${ue.default.valCxt}.${ue.default.dynamicAnchors}`)},()=>{e.var(ue.default.instancePath,(0,se._)`""`),e.var(ue.default.parentData,(0,se._)`undefined`),e.var(ue.default.parentDataProperty,(0,se._)`undefined`),e.var(ue.default.rootData,ue.default.data),t.dynamicRef&&e.var(ue.default.dynamicAnchors,(0,se._)`{}`)})}function X$(e){const{schema:t,opts:r,gen:n}=e;gg(e,()=>{r.$comment&&t.$comment&&Eg(e),rE(e),n.let(ue.default.vErrors,null),n.let(ue.default.errors,0),r.unevaluated&&Q$(e),$g(e),sE(e)})}function Q$(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,se._)`${r}.evaluated`),t.if((0,se._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,se._)`${e.evaluated}.props`,(0,se._)`undefined`)),t.if((0,se._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,se._)`${e.evaluated}.items`,(0,se._)`undefined`))}function jd(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,se._)`/*# sourceURL=${r} */`:se.nil}function Z$(e,t){if(vg(e)&&(_g(e),yg(e))){eE(e,t);return}(0,mg.boolOrEmptySchema)(e,t)}function yg({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function vg(e){return typeof e.schema!="boolean"}function eE(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&Eg(e),nE(e),iE(e);const s=n.const("_errs",ue.default.errors);$g(e,s),n.var(t,(0,se._)`${s} === ${ue.default.errors}`)}function _g(e){(0,Qr.checkUnknownRules)(e),tE(e)}function $g(e,t){if(e.opts.jtd)return Md(e,[],!1,t);const r=(0,Ld.getSchemaTypes)(e.schema),n=(0,Ld.coerceAndCheckDataType)(e,r);Md(e,r,!n,t)}function tE(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Qr.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function rE(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Qr.checkStrictMode)(e,"default is ignored in the schema root")}function nE(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,W$.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function iE(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Eg({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,se._)`${ue.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,se.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,se._)`${ue.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function sE(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,se._)`${ue.default.errors} === 0`,()=>t.return(ue.default.data),()=>t.throw((0,se._)`new ${i}(${ue.default.vErrors})`)):(t.assign((0,se._)`${n}.errors`,ue.default.vErrors),s.unevaluated&&oE(e),t.return((0,se._)`${ue.default.errors} === 0`))}function oE({gen:e,evaluated:t,props:r,items:n}){r instanceof se.Name&&e.assign((0,se._)`${t}.props`,r),n instanceof se.Name&&e.assign((0,se._)`${t}.items`,n)}function Md(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:a,opts:l,self:u}=e,{RULES:c}=u;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Qr.schemaHasRulesButRef)(s,c))){i.block(()=>bg(e,"$ref",c.all.$ref.definition));return}l.jtd||aE(e,t),i.block(()=>{for(const h of c.rules)f(h);f(c.post)});function f(h){(0,Ou.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Ca.checkDataType)(h.type,o,l.strictNumbers)),Ud(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Ca.reportTypeError)(e)),i.endIf()):Ud(e,h),a||i.if((0,se._)`${ue.default.errors} === ${n||0}`))}}function Ud(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,G$.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,Ou.shouldUseRule)(n,s)&&bg(e,s.keyword,s.definition,t.type)})}function aE(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(lE(e,t),e.opts.allowUnionTypes||cE(e,t),uE(e,e.dataTypes))}function lE(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{wg(e.dataTypes,r)||Au(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),dE(e,t)}}function cE(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Au(e,"use allowUnionTypes to allow union type keyword")}function uE(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,Ou.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>fE(t,o))&&Au(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function fE(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function wg(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function dE(e,t){const r=[];for(const n of e.dataTypes)wg(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Au(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Qr.checkStrictMode)(e,t,e.opts.strictTypes)}let Sg=class{constructor(t,r,n){if((0,xs.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Qr.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Pg(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,xs.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ue.default.errors))}result(t,r,n){this.failResult((0,se.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,se.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,se._)`${r} !== undefined && (${(0,se.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?$s.reportExtraError:$s.reportError)(this,this.def.error,r)}$dataError(){(0,$s.reportError)(this,this.def.$dataError||$s.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$s.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=se.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=se.nil,r=se.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,se.or)((0,se._)`${i} === undefined`,r)),t!==se.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==se.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,se.or)(o(),a());function o(){if(n.length){if(!(r instanceof se.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,se._)`${(0,Ca.checkDataTypes)(l,r,s.opts.strictNumbers,Ca.DataType.Wrong)}`}return se.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,se._)`!${l}(${r})`}return se.nil}}subschema(t,r){const n=(0,xl.getSubschema)(this.it,t);(0,xl.extendSubschemaData)(n,this.it,t),(0,xl.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Z$(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Qr.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Qr.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,se.Name)),!0}};Pr.KeywordCxt=Sg;function bg(e,t,r,n){const i=new Sg(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,xs.funcKeywordCode)(i,r):"macro"in r?(0,xs.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,xs.funcKeywordCode)(i,r)}const hE=/^\/(?:[^~]|~0|~1)*$/,pE=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Pg(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return ue.default.rootData;if(e[0]==="/"){if(!hE.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=ue.default.rootData}else{const u=pE.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=t)throw new Error(l("property/index",c));return n[t-c]}if(c>t)throw new Error(l("data",c));if(s=r[t-c],!i)return s}let o=s;const a=i.split("/");for(const u of a)u&&(s=(0,se._)`${s}${(0,se.getProperty)((0,Qr.unescapeJsonPointer)(u))}`,o=(0,se._)`${o} && ${s}`);return o;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}Pr.getData=Pg;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});let mE=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};yo.default=mE;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});const ql=Et;let gE=class extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,ql.resolveUrl)(t,r,n),this.missingSchema=(0,ql.normalizeId)((0,ql.getFullPath)(t,this.missingRef))}};vo.default=gE;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.resolveSchema=Jt.getCompilingSchema=Jt.resolveRef=Jt.compileSchema=Jt.SchemaEnv=void 0;const yr=_e,yE=yo,jn=Ur,Sr=Et,xd=Pe,vE=Pr;let tl=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Sr.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Jt.SchemaEnv=tl;function Cu(e){const t=Tg.call(this,e);if(t)return t;const r=(0,Sr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new yr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:yE.default,code:(0,yr._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const u={gen:o,allErrors:this.opts.allErrors,data:jn.default.data,parentData:jn.default.parentData,parentDataProperty:jn.default.parentDataProperty,dataNames:[jn.default.data],dataPathArr:[yr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,yr.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:yr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,yr._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,vE.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(jn.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const m=new Function(`${jn.default.self}`,`${jn.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:g,items:E}=u;m.evaluated={props:g instanceof yr.Name?void 0:g,items:E instanceof yr.Name?void 0:E,dynamicProps:g instanceof yr.Name,dynamicItems:E instanceof yr.Name},m.source&&(m.source.evaluated=(0,yr.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Jt.compileSchema=Cu;function _E(e,t,r){var n;r=(0,Sr.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=wE.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new tl({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=$E.call(this,s)}Jt.resolveRef=_E;function $E(e){return(0,Sr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Cu.call(this,e)}function Tg(e){for(const t of this._compilations)if(EE(t,e))return t}Jt.getCompilingSchema=Tg;function EE(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function wE(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||rl.call(this,e,t)}function rl(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Sr._getFullPath)(this.opts.uriResolver,r);let i=(0,Sr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Vl.call(this,r,e);const s=(0,Sr.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=rl.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:Vl.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Cu.call(this,o),s===(0,Sr.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,Sr.resolveUrl)(this.opts.uriResolver,i,u)),new tl({schema:a,schemaId:l,root:e,baseId:i})}return Vl.call(this,r,o)}}Jt.resolveSchema=rl;const SE=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Vl(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,xd.unescapeFragment)(a)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!SE.has(a)&&u&&(t=(0,Sr.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,xd.schemaHasRulesButRef)(r,this.RULES)){const a=(0,Sr.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=rl.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new tl({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const bE="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",PE="Meta-schema for $data reference (JSON AnySchema extension proposal)",TE="object",OE=["$data"],AE={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},CE=!1,NE={$id:bE,description:PE,type:TE,required:OE,properties:AE,additionalProperties:CE};var Nu={},Lc={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(lt,function(r){function n(){for(var x=arguments.length,F=Array(x),q=0;q<x;q++)F[q]=arguments[q];if(F.length>1){F[0]=F[0].slice(0,-1);for(var X=F.length-1,J=1;J<X;++J)F[J]=F[J].slice(1,-1);return F[X]=F[X].slice(1),F.join("")}else return F[0]}function i(x){return"(?:"+x+")"}function s(x){return x===void 0?"undefined":x===null?"null":Object.prototype.toString.call(x).split(" ").pop().split("]").shift().toLowerCase()}function o(x){return x.toUpperCase()}function a(x){return x!=null?x instanceof Array?x:typeof x.length!="number"||x.split||x.setInterval||x.call?[x]:Array.prototype.slice.call(x):[]}function l(x,F){var q=x;if(F)for(var X in F)q[X]=F[X];return q}function u(x){var F="[A-Za-z]",q="[0-9]",X=n(q,"[A-Fa-f]"),J=i(i("%[EFef]"+X+"%"+X+X+"%"+X+X)+"|"+i("%[89A-Fa-f]"+X+"%"+X+X)+"|"+i("%"+X+X)),ie="[\\:\\/\\?\\#\\[\\]\\@]",ae="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ee=n(ie,ae),we=x?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",He=x?"[\\uE000-\\uF8FF]":"[]",ge=n(F,q,"[\\-\\.\\_\\~]",we);i(F+n(F,q,"[\\+\\-\\.]")+"*"),i(i(J+"|"+n(ge,ae,"[\\:]"))+"*");var Fe=i(i("25[0-5]")+"|"+i("2[0-4]"+q)+"|"+i("1"+q+q)+"|"+i("0?[1-9]"+q)+"|0?0?"+q),Ge=i(Fe+"\\."+Fe+"\\."+Fe+"\\."+Fe),ce=i(X+"{1,4}"),Oe=i(i(ce+"\\:"+ce)+"|"+Ge),Qe=i(i(ce+"\\:")+"{6}"+Oe),Ue=i("\\:\\:"+i(ce+"\\:")+"{5}"+Oe),Nr=i(i(ce)+"?\\:\\:"+i(ce+"\\:")+"{4}"+Oe),or=i(i(i(ce+"\\:")+"{0,1}"+ce)+"?\\:\\:"+i(ce+"\\:")+"{3}"+Oe),ar=i(i(i(ce+"\\:")+"{0,2}"+ce)+"?\\:\\:"+i(ce+"\\:")+"{2}"+Oe),pr=i(i(i(ce+"\\:")+"{0,3}"+ce)+"?\\:\\:"+ce+"\\:"+Oe),zr=i(i(i(ce+"\\:")+"{0,4}"+ce)+"?\\:\\:"+Oe),Ht=i(i(i(ce+"\\:")+"{0,5}"+ce)+"?\\:\\:"+ce),ft=i(i(i(ce+"\\:")+"{0,6}"+ce)+"?\\:\\:"),Hr=i([Qe,Ue,Nr,or,ar,pr,zr,Ht,ft].join("|")),mr=i(i(ge+"|"+J)+"+");i("[vV]"+X+"+\\."+n(ge,ae,"[\\:]")+"+"),i(i(J+"|"+n(ge,ae))+"*");var Dn=i(J+"|"+n(ge,ae,"[\\:\\@]"));return i(i(J+"|"+n(ge,ae,"[\\@]"))+"+"),i(i(Dn+"|"+n("[\\/\\?]",He))+"*"),{NOT_SCHEME:new RegExp(n("[^]",F,q,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ge,ae),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ge,ae),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ge,ae),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ge,ae),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ge,ae,"[\\:\\@\\/\\?]",He),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ge,ae,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ge,ae),"g"),UNRESERVED:new RegExp(ge,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ge,Ee),"g"),PCT_ENCODED:new RegExp(J,"g"),IPV4ADDRESS:new RegExp("^("+Ge+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Hr+")"+i(i("\\%25|\\%(?!"+X+"{2})")+"("+mr+")")+"?\\]?$")}}var c=u(!1),f=u(!0),h=function(){function x(F,q){var X=[],J=!0,ie=!1,ae=void 0;try{for(var Ee=F[Symbol.iterator](),we;!(J=(we=Ee.next()).done)&&(X.push(we.value),!(q&&X.length===q));J=!0);}catch(He){ie=!0,ae=He}finally{try{!J&&Ee.return&&Ee.return()}finally{if(ie)throw ae}}return X}return function(F,q){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return x(F,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(x){if(Array.isArray(x)){for(var F=0,q=Array(x.length);F<x.length;F++)q[F]=x[F];return q}else return Array.from(x)},g=2147483647,E=36,v=1,y=26,p=38,S=700,N=72,M=128,O="-",b=/^xn--/,D=/[^\0-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Y=E-v,H=Math.floor,W=String.fromCharCode;function G(x){throw new RangeError(V[x])}function Q(x,F){for(var q=[],X=x.length;X--;)q[X]=F(x[X]);return q}function Z(x,F){var q=x.split("@"),X="";q.length>1&&(X=q[0]+"@",x=q[1]),x=x.replace(T,".");var J=x.split("."),ie=Q(J,F).join(".");return X+ie}function K(x){for(var F=[],q=0,X=x.length;q<X;){var J=x.charCodeAt(q++);if(J>=55296&&J<=56319&&q<X){var ie=x.charCodeAt(q++);(ie&64512)==56320?F.push(((J&1023)<<10)+(ie&1023)+65536):(F.push(J),q--)}else F.push(J)}return F}var I=function(F){return String.fromCodePoint.apply(String,m(F))},j=function(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:E},A=function(F,q){return F+22+75*(F<26)-((q!=0)<<5)},w=function(F,q,X){var J=0;for(F=X?H(F/S):F>>1,F+=H(F/q);F>Y*y>>1;J+=E)F=H(F/Y);return H(J+(Y+1)*F/(F+p))},R=function(F){var q=[],X=F.length,J=0,ie=M,ae=N,Ee=F.lastIndexOf(O);Ee<0&&(Ee=0);for(var we=0;we<Ee;++we)F.charCodeAt(we)>=128&&G("not-basic"),q.push(F.charCodeAt(we));for(var He=Ee>0?Ee+1:0;He<X;){for(var ge=J,Fe=1,Ge=E;;Ge+=E){He>=X&&G("invalid-input");var ce=j(F.charCodeAt(He++));(ce>=E||ce>H((g-J)/Fe))&&G("overflow"),J+=ce*Fe;var Oe=Ge<=ae?v:Ge>=ae+y?y:Ge-ae;if(ce<Oe)break;var Qe=E-Oe;Fe>H(g/Qe)&&G("overflow"),Fe*=Qe}var Ue=q.length+1;ae=w(J-ge,Ue,ge==0),H(J/Ue)>g-ie&&G("overflow"),ie+=H(J/Ue),J%=Ue,q.splice(J++,0,ie)}return String.fromCodePoint.apply(String,q)},C=function(F){var q=[];F=K(F);var X=F.length,J=M,ie=0,ae=N,Ee=!0,we=!1,He=void 0;try{for(var ge=F[Symbol.iterator](),Fe;!(Ee=(Fe=ge.next()).done);Ee=!0){var Ge=Fe.value;Ge<128&&q.push(W(Ge))}}catch(on){we=!0,He=on}finally{try{!Ee&&ge.return&&ge.return()}finally{if(we)throw He}}var ce=q.length,Oe=ce;for(ce&&q.push(O);Oe<X;){var Qe=g,Ue=!0,Nr=!1,or=void 0;try{for(var ar=F[Symbol.iterator](),pr;!(Ue=(pr=ar.next()).done);Ue=!0){var zr=pr.value;zr>=J&&zr<Qe&&(Qe=zr)}}catch(on){Nr=!0,or=on}finally{try{!Ue&&ar.return&&ar.return()}finally{if(Nr)throw or}}var Ht=Oe+1;Qe-J>H((g-ie)/Ht)&&G("overflow"),ie+=(Qe-J)*Ht,J=Qe;var ft=!0,Hr=!1,mr=void 0;try{for(var Dn=F[Symbol.iterator](),Mo;!(ft=(Mo=Dn.next()).done);ft=!0){var Uo=Mo.value;if(Uo<J&&++ie>g&&G("overflow"),Uo==J){for(var mi=ie,Gr=E;;Gr+=E){var gi=Gr<=ae?v:Gr>=ae+y?y:Gr-ae;if(mi<gi)break;var sn=mi-gi,vs=E-gi;q.push(W(A(gi+sn%vs,0))),mi=H(sn/vs)}q.push(W(A(mi,0))),ae=w(ie,Ht,Oe==ce),ie=0,++Oe}}}catch(on){Hr=!0,mr=on}finally{try{!ft&&Dn.return&&Dn.return()}finally{if(Hr)throw mr}}++ie,++J}return q.join("")},d=function(F){return Z(F,function(q){return b.test(q)?R(q.slice(4).toLowerCase()):q})},$=function(F){return Z(F,function(q){return D.test(q)?"xn--"+C(q):q})},L={version:"2.1.0",ucs2:{decode:K,encode:I},decode:R,encode:C,toASCII:$,toUnicode:d},P={};function _(x){var F=x.charCodeAt(0),q=void 0;return F<16?q="%0"+F.toString(16).toUpperCase():F<128?q="%"+F.toString(16).toUpperCase():F<2048?q="%"+(F>>6|192).toString(16).toUpperCase()+"%"+(F&63|128).toString(16).toUpperCase():q="%"+(F>>12|224).toString(16).toUpperCase()+"%"+(F>>6&63|128).toString(16).toUpperCase()+"%"+(F&63|128).toString(16).toUpperCase(),q}function z(x){for(var F="",q=0,X=x.length;q<X;){var J=parseInt(x.substr(q+1,2),16);if(J<128)F+=String.fromCharCode(J),q+=3;else if(J>=194&&J<224){if(X-q>=6){var ie=parseInt(x.substr(q+4,2),16);F+=String.fromCharCode((J&31)<<6|ie&63)}else F+=x.substr(q,6);q+=6}else if(J>=224){if(X-q>=9){var ae=parseInt(x.substr(q+4,2),16),Ee=parseInt(x.substr(q+7,2),16);F+=String.fromCharCode((J&15)<<12|(ae&63)<<6|Ee&63)}else F+=x.substr(q,9);q+=9}else F+=x.substr(q,3),q+=3}return F}function U(x,F){function q(X){var J=z(X);return J.match(F.UNRESERVED)?J:X}return x.scheme&&(x.scheme=String(x.scheme).replace(F.PCT_ENCODED,q).toLowerCase().replace(F.NOT_SCHEME,"")),x.userinfo!==void 0&&(x.userinfo=String(x.userinfo).replace(F.PCT_ENCODED,q).replace(F.NOT_USERINFO,_).replace(F.PCT_ENCODED,o)),x.host!==void 0&&(x.host=String(x.host).replace(F.PCT_ENCODED,q).toLowerCase().replace(F.NOT_HOST,_).replace(F.PCT_ENCODED,o)),x.path!==void 0&&(x.path=String(x.path).replace(F.PCT_ENCODED,q).replace(x.scheme?F.NOT_PATH:F.NOT_PATH_NOSCHEME,_).replace(F.PCT_ENCODED,o)),x.query!==void 0&&(x.query=String(x.query).replace(F.PCT_ENCODED,q).replace(F.NOT_QUERY,_).replace(F.PCT_ENCODED,o)),x.fragment!==void 0&&(x.fragment=String(x.fragment).replace(F.PCT_ENCODED,q).replace(F.NOT_FRAGMENT,_).replace(F.PCT_ENCODED,o)),x}function re(x){return x.replace(/^0*(.*)/,"$1")||"0"}function de(x,F){var q=x.match(F.IPV4ADDRESS)||[],X=h(q,2),J=X[1];return J?J.split(".").map(re).join("."):x}function be(x,F){var q=x.match(F.IPV6ADDRESS)||[],X=h(q,3),J=X[1],ie=X[2];if(J){for(var ae=J.toLowerCase().split("::").reverse(),Ee=h(ae,2),we=Ee[0],He=Ee[1],ge=He?He.split(":").map(re):[],Fe=we.split(":").map(re),Ge=F.IPV4ADDRESS.test(Fe[Fe.length-1]),ce=Ge?7:8,Oe=Fe.length-ce,Qe=Array(ce),Ue=0;Ue<ce;++Ue)Qe[Ue]=ge[Ue]||Fe[Oe+Ue]||"";Ge&&(Qe[ce-1]=de(Qe[ce-1],F));var Nr=Qe.reduce(function(Ht,ft,Hr){if(!ft||ft==="0"){var mr=Ht[Ht.length-1];mr&&mr.index+mr.length===Hr?mr.length++:Ht.push({index:Hr,length:1})}return Ht},[]),or=Nr.sort(function(Ht,ft){return ft.length-Ht.length})[0],ar=void 0;if(or&&or.length>1){var pr=Qe.slice(0,or.index),zr=Qe.slice(or.index+or.length);ar=pr.join(":")+"::"+zr.join(":")}else ar=Qe.join(":");return ie&&(ar+="%"+ie),ar}else return x}var ke=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ze="".match(/(){0}/)[1]===void 0;function Me(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q={},X=F.iri!==!1?f:c;F.reference==="suffix"&&(x=(F.scheme?F.scheme+":":"")+"//"+x);var J=x.match(ke);if(J){ze?(q.scheme=J[1],q.userinfo=J[3],q.host=J[4],q.port=parseInt(J[5],10),q.path=J[6]||"",q.query=J[7],q.fragment=J[8],isNaN(q.port)&&(q.port=J[5])):(q.scheme=J[1]||void 0,q.userinfo=x.indexOf("@")!==-1?J[3]:void 0,q.host=x.indexOf("//")!==-1?J[4]:void 0,q.port=parseInt(J[5],10),q.path=J[6]||"",q.query=x.indexOf("?")!==-1?J[7]:void 0,q.fragment=x.indexOf("#")!==-1?J[8]:void 0,isNaN(q.port)&&(q.port=x.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?J[4]:void 0)),q.host&&(q.host=be(de(q.host,X),X)),q.scheme===void 0&&q.userinfo===void 0&&q.host===void 0&&q.port===void 0&&!q.path&&q.query===void 0?q.reference="same-document":q.scheme===void 0?q.reference="relative":q.fragment===void 0?q.reference="absolute":q.reference="uri",F.reference&&F.reference!=="suffix"&&F.reference!==q.reference&&(q.error=q.error||"URI is not a "+F.reference+" reference.");var ie=P[(F.scheme||q.scheme||"").toLowerCase()];if(!F.unicodeSupport&&(!ie||!ie.unicodeSupport)){if(q.host&&(F.domainHost||ie&&ie.domainHost))try{q.host=L.toASCII(q.host.replace(X.PCT_ENCODED,z).toLowerCase())}catch(ae){q.error=q.error||"Host's domain name can not be converted to ASCII via punycode: "+ae}U(q,c)}else U(q,X);ie&&ie.parse&&ie.parse(q,F)}else q.error=q.error||"URI can not be parsed.";return q}function Ie(x,F){var q=F.iri!==!1?f:c,X=[];return x.userinfo!==void 0&&(X.push(x.userinfo),X.push("@")),x.host!==void 0&&X.push(be(de(String(x.host),q),q).replace(q.IPV6ADDRESS,function(J,ie,ae){return"["+ie+(ae?"%25"+ae:"")+"]"})),(typeof x.port=="number"||typeof x.port=="string")&&(X.push(":"),X.push(String(x.port))),X.length?X.join(""):void 0}var Xe=/^\.\.?\//,Bt=/^\/\.(\/|$)/,Rt=/^\/\.\.(\/|$)/,It=/^\/?(?:.|\n)*?(?=\/|$)/;function ut(x){for(var F=[];x.length;)if(x.match(Xe))x=x.replace(Xe,"");else if(x.match(Bt))x=x.replace(Bt,"/");else if(x.match(Rt))x=x.replace(Rt,"/"),F.pop();else if(x==="."||x==="..")x="";else{var q=x.match(It);if(q){var X=q[0];x=x.slice(X.length),F.push(X)}else throw new Error("Unexpected dot segment condition")}return F.join("")}function st(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=F.iri?f:c,X=[],J=P[(F.scheme||x.scheme||"").toLowerCase()];if(J&&J.serialize&&J.serialize(x,F),x.host&&!q.IPV6ADDRESS.test(x.host)){if(F.domainHost||J&&J.domainHost)try{x.host=F.iri?L.toUnicode(x.host):L.toASCII(x.host.replace(q.PCT_ENCODED,z).toLowerCase())}catch(Ee){x.error=x.error||"Host's domain name can not be converted to "+(F.iri?"Unicode":"ASCII")+" via punycode: "+Ee}}U(x,q),F.reference!=="suffix"&&x.scheme&&(X.push(x.scheme),X.push(":"));var ie=Ie(x,F);if(ie!==void 0&&(F.reference!=="suffix"&&X.push("//"),X.push(ie),x.path&&x.path.charAt(0)!=="/"&&X.push("/")),x.path!==void 0){var ae=x.path;!F.absolutePath&&(!J||!J.absolutePath)&&(ae=ut(ae)),ie===void 0&&(ae=ae.replace(/^\/\//,"/%2F")),X.push(ae)}return x.query!==void 0&&(X.push("?"),X.push(x.query)),x.fragment!==void 0&&(X.push("#"),X.push(x.fragment)),X.join("")}function ir(x,F){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=arguments[3],J={};return X||(x=Me(st(x,q),q),F=Me(st(F,q),q)),q=q||{},!q.tolerant&&F.scheme?(J.scheme=F.scheme,J.userinfo=F.userinfo,J.host=F.host,J.port=F.port,J.path=ut(F.path||""),J.query=F.query):(F.userinfo!==void 0||F.host!==void 0||F.port!==void 0?(J.userinfo=F.userinfo,J.host=F.host,J.port=F.port,J.path=ut(F.path||""),J.query=F.query):(F.path?(F.path.charAt(0)==="/"?J.path=ut(F.path):((x.userinfo!==void 0||x.host!==void 0||x.port!==void 0)&&!x.path?J.path="/"+F.path:x.path?J.path=x.path.slice(0,x.path.lastIndexOf("/")+1)+F.path:J.path=F.path,J.path=ut(J.path)),J.query=F.query):(J.path=x.path,F.query!==void 0?J.query=F.query:J.query=x.query),J.userinfo=x.userinfo,J.host=x.host,J.port=x.port),J.scheme=x.scheme),J.fragment=F.fragment,J}function dr(x,F,q){var X=l({scheme:"null"},q);return st(ir(Me(x,X),Me(F,X),X,!0),X)}function Dt(x,F){return typeof x=="string"?x=st(Me(x,F),F):s(x)==="object"&&(x=Me(st(x,F),F)),x}function zt(x,F,q){return typeof x=="string"?x=st(Me(x,q),q):s(x)==="object"&&(x=st(x,q)),typeof F=="string"?F=st(Me(F,q),q):s(F)==="object"&&(F=st(F,q)),x===F}function hr(x,F){return x&&x.toString().replace(!F||!F.iri?c.ESCAPE:f.ESCAPE,_)}function dt(x,F){return x&&x.toString().replace(!F||!F.iri?c.PCT_ENCODED:f.PCT_ENCODED,z)}var ot={scheme:"http",domainHost:!0,parse:function(F,q){return F.host||(F.error=F.error||"HTTP URIs must have a host."),F},serialize:function(F,q){var X=String(F.scheme).toLowerCase()==="https";return(F.port===(X?443:80)||F.port==="")&&(F.port=void 0),F.path||(F.path="/"),F}},fs={scheme:"https",domainHost:ot.domainHost,parse:ot.parse,serialize:ot.serialize};function ds(x){return typeof x.secure=="boolean"?x.secure:String(x.scheme).toLowerCase()==="wss"}var In={scheme:"ws",domainHost:!0,parse:function(F,q){var X=F;return X.secure=ds(X),X.resourceName=(X.path||"/")+(X.query?"?"+X.query:""),X.path=void 0,X.query=void 0,X},serialize:function(F,q){if((F.port===(ds(F)?443:80)||F.port==="")&&(F.port=void 0),typeof F.secure=="boolean"&&(F.scheme=F.secure?"wss":"ws",F.secure=void 0),F.resourceName){var X=F.resourceName.split("?"),J=h(X,2),ie=J[0],ae=J[1];F.path=ie&&ie!=="/"?ie:void 0,F.query=ae,F.resourceName=void 0}return F.fragment=void 0,F}},hs={scheme:"wss",domainHost:In.domainHost,parse:In.parse,serialize:In.serialize},hi={},ps="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",er="[0-9A-Fa-f]",Dl=i(i("%[EFef]"+er+"%"+er+er+"%"+er+er)+"|"+i("%[89A-Fa-f]"+er+"%"+er+er)+"|"+i("%"+er+er)),Vr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Fo="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Fl=n(Fo,'[\\"\\\\]'),kl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ms=new RegExp(ps,"g"),sr=new RegExp(Dl,"g"),gs=new RegExp(n("[^]",Vr,"[\\.]",'[\\"]',Fl),"g"),pi=new RegExp(n("[^]",ps,kl),"g"),ys=pi;function Br(x){var F=z(x);return F.match(ms)?F:x}var ko={scheme:"mailto",parse:function(F,q){var X=F,J=X.to=X.path?X.path.split(","):[];if(X.path=void 0,X.query){for(var ie=!1,ae={},Ee=X.query.split("&"),we=0,He=Ee.length;we<He;++we){var ge=Ee[we].split("=");switch(ge[0]){case"to":for(var Fe=ge[1].split(","),Ge=0,ce=Fe.length;Ge<ce;++Ge)J.push(Fe[Ge]);break;case"subject":X.subject=dt(ge[1],q);break;case"body":X.body=dt(ge[1],q);break;default:ie=!0,ae[dt(ge[0],q)]=dt(ge[1],q);break}}ie&&(X.headers=ae)}X.query=void 0;for(var Oe=0,Qe=J.length;Oe<Qe;++Oe){var Ue=J[Oe].split("@");if(Ue[0]=dt(Ue[0]),q.unicodeSupport)Ue[1]=dt(Ue[1],q).toLowerCase();else try{Ue[1]=L.toASCII(dt(Ue[1],q).toLowerCase())}catch(Nr){X.error=X.error||"Email address's domain name can not be converted to ASCII via punycode: "+Nr}J[Oe]=Ue.join("@")}return X},serialize:function(F,q){var X=F,J=a(F.to);if(J){for(var ie=0,ae=J.length;ie<ae;++ie){var Ee=String(J[ie]),we=Ee.lastIndexOf("@"),He=Ee.slice(0,we).replace(sr,Br).replace(sr,o).replace(gs,_),ge=Ee.slice(we+1);try{ge=q.iri?L.toUnicode(ge):L.toASCII(dt(ge,q).toLowerCase())}catch(Oe){X.error=X.error||"Email address's domain name can not be converted to "+(q.iri?"Unicode":"ASCII")+" via punycode: "+Oe}J[ie]=He+"@"+ge}X.path=J.join(",")}var Fe=F.headers=F.headers||{};F.subject&&(Fe.subject=F.subject),F.body&&(Fe.body=F.body);var Ge=[];for(var ce in Fe)Fe[ce]!==hi[ce]&&Ge.push(ce.replace(sr,Br).replace(sr,o).replace(pi,_)+"="+Fe[ce].replace(sr,Br).replace(sr,o).replace(ys,_));return Ge.length&&(X.query=Ge.join("&")),X}},Ll=/^([^\:]+)\:(.*)/,Lo={scheme:"urn",parse:function(F,q){var X=F.path&&F.path.match(Ll),J=F;if(X){var ie=q.scheme||J.scheme||"urn",ae=X[1].toLowerCase(),Ee=X[2],we=ie+":"+(q.nid||ae),He=P[we];J.nid=ae,J.nss=Ee,J.path=void 0,He&&(J=He.parse(J,q))}else J.error=J.error||"URN can not be parsed.";return J},serialize:function(F,q){var X=q.scheme||F.scheme||"urn",J=F.nid,ie=X+":"+(q.nid||J),ae=P[ie];ae&&(F=ae.serialize(F,q));var Ee=F,we=F.nss;return Ee.path=(J||q.nid)+":"+we,Ee}},jl=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,jo={scheme:"urn:uuid",parse:function(F,q){var X=F;return X.uuid=X.nss,X.nss=void 0,!q.tolerant&&(!X.uuid||!X.uuid.match(jl))&&(X.error=X.error||"UUID is not valid."),X},serialize:function(F,q){var X=F;return X.nss=(F.uuid||"").toLowerCase(),X}};P[ot.scheme]=ot,P[fs.scheme]=fs,P[In.scheme]=In,P[hs.scheme]=hs,P[ko.scheme]=ko,P[Lo.scheme]=Lo,P[jo.scheme]=jo,r.SCHEMES=P,r.pctEncChar=_,r.pctDecChars=z,r.parse=Me,r.removeDotSegments=ut,r.serialize=st,r.resolveComponents=ir,r.resolve=dr,r.normalize=Dt,r.equal=zt,r.escapeComponent=hr,r.unescapeComponent=dt,Object.defineProperty(r,"__esModule",{value:!0})})})(Lc,Lc.exports);var Og=Lc.exports;Object.defineProperty(Nu,"__esModule",{value:!0});const Ag=Og;Ag.code='require("ajv/dist/runtime/uri").default';Nu.default=Ag;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Pr;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=_e;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=yo,i=vo,s=ii,o=Jt,a=_e,l=Et,u=go,c=Pe,f=NE,h=Nu,m=(A,w)=>new RegExp(A,w);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function S(A){var w,R,C,d,$,L,P,_,z,U,re,de,be,ke,ze,Me,Ie,Xe,Bt,Rt,It,ut,st,ir,dr;const Dt=A.strict,zt=(w=A.code)===null||w===void 0?void 0:w.optimize,hr=zt===!0||zt===void 0?1:zt||0,dt=(C=(R=A.code)===null||R===void 0?void 0:R.regExp)!==null&&C!==void 0?C:m,ot=(d=A.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(L=($=A.strictSchema)!==null&&$!==void 0?$:Dt)!==null&&L!==void 0?L:!0,strictNumbers:(_=(P=A.strictNumbers)!==null&&P!==void 0?P:Dt)!==null&&_!==void 0?_:!0,strictTypes:(U=(z=A.strictTypes)!==null&&z!==void 0?z:Dt)!==null&&U!==void 0?U:"log",strictTuples:(de=(re=A.strictTuples)!==null&&re!==void 0?re:Dt)!==null&&de!==void 0?de:"log",strictRequired:(ke=(be=A.strictRequired)!==null&&be!==void 0?be:Dt)!==null&&ke!==void 0?ke:!1,code:A.code?{...A.code,optimize:hr,regExp:dt}:{optimize:hr,regExp:dt},loopRequired:(ze=A.loopRequired)!==null&&ze!==void 0?ze:p,loopEnum:(Me=A.loopEnum)!==null&&Me!==void 0?Me:p,meta:(Ie=A.meta)!==null&&Ie!==void 0?Ie:!0,messages:(Xe=A.messages)!==null&&Xe!==void 0?Xe:!0,inlineRefs:(Bt=A.inlineRefs)!==null&&Bt!==void 0?Bt:!0,schemaId:(Rt=A.schemaId)!==null&&Rt!==void 0?Rt:"$id",addUsedSchema:(It=A.addUsedSchema)!==null&&It!==void 0?It:!0,validateSchema:(ut=A.validateSchema)!==null&&ut!==void 0?ut:!0,validateFormats:(st=A.validateFormats)!==null&&st!==void 0?st:!0,unicodeRegExp:(ir=A.unicodeRegExp)!==null&&ir!==void 0?ir:!0,int32range:(dr=A.int32range)!==null&&dr!==void 0?dr:!0,uriResolver:ot}}class N{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...S(w)};const{es5:R,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:R,lines:C}),this.logger=H(w.logger);const d=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,w,"NOT SUPPORTED"),M.call(this,y,w,"DEPRECATED","warn"),this._metaOpts=V.call(this),w.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&T.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),b.call(this),w.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:R,schemaId:C}=this.opts;let d=f;C==="id"&&(d={...f},d.id=d.$id,delete d.$id),R&&w&&this.addMetaSchema(d,d[C],!1)}defaultMeta(){const{meta:w,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[R]||w:void 0}validate(w,R){let C;if(typeof w=="string"){if(C=this.getSchema(w),!C)throw new Error(`no schema with key or ref "${w}"`)}else C=this.compile(w);const d=C(R);return"$async"in C||(this.errors=C.errors),d}compile(w,R){const C=this._addSchema(w,R);return C.validate||this._compileSchemaEnv(C)}compileAsync(w,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return d.call(this,w,R);async function d(U,re){await $.call(this,U.$schema);const de=this._addSchema(U,re);return de.validate||L.call(this,de)}async function $(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function L(U){try{return this._compileSchemaEnv(U)}catch(re){if(!(re instanceof i.default))throw re;return P.call(this,re),await _.call(this,re.missingSchema),L.call(this,U)}}function P({missingSchema:U,missingRef:re}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${re} cannot be resolved`)}async function _(U){const re=await z.call(this,U);this.refs[U]||await $.call(this,re.$schema),this.refs[U]||this.addSchema(re,U,R)}async function z(U){const re=this._loading[U];if(re)return re;try{return await(this._loading[U]=C(U))}finally{delete this._loading[U]}}}addSchema(w,R,C,d=this.opts.validateSchema){if(Array.isArray(w)){for(const L of w)this.addSchema(L,void 0,C,d);return this}let $;if(typeof w=="object"){const{schemaId:L}=this.opts;if($=w[L],$!==void 0&&typeof $!="string")throw new Error(`schema ${L} must be string`)}return R=(0,l.normalizeId)(R||$),this._checkUnique(R),this.schemas[R]=this._addSchema(w,C,R,d,!0),this}addMetaSchema(w,R,C=this.opts.validateSchema){return this.addSchema(w,R,!0,C),this}validateSchema(w,R){if(typeof w=="boolean")return!0;let C;if(C=w.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(C,w);if(!d&&R){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return d}getSchema(w){let R;for(;typeof(R=O.call(this,w))=="string";)w=R;if(R===void 0){const{schemaId:C}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:C});if(R=o.resolveSchema.call(this,d,w),!R)return;this.refs[w]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=O.call(this,w);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const R=w;this._cache.delete(R);let C=w[this.opts.schemaId];return C&&(C=(0,l.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const R of w)this.addKeyword(R);return this}addKeyword(w,R){let C;if(typeof w=="string")C=w,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=C);else if(typeof w=="object"&&R===void 0){if(R=w,C=R.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,C,R),!R)return(0,c.eachItem)(C,$=>Q.call(this,$)),this;K.call(this,R);const d={...R,type:(0,u.getJSONTypes)(R.type),schemaType:(0,u.getJSONTypes)(R.schemaType)};return(0,c.eachItem)(C,d.type.length===0?$=>Q.call(this,$,d):$=>d.type.forEach(L=>Q.call(this,$,d,L))),this}getKeyword(w){const R=this.RULES.all[w];return typeof R=="object"?R.definition:!!R}removeKeyword(w){const{RULES:R}=this;delete R.keywords[w],delete R.all[w];for(const C of R.rules){const d=C.rules.findIndex($=>$.keyword===w);d>=0&&C.rules.splice(d,1)}return this}addFormat(w,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[w]=R,this}errorsText(w=this.errors,{separator:R=", ",dataVar:C="data"}={}){return!w||w.length===0?"No errors":w.map(d=>`${C}${d.instancePath} ${d.message}`).reduce((d,$)=>d+R+$)}$dataMetaSchema(w,R){const C=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const d of R){const $=d.split("/").slice(1);let L=w;for(const P of $)L=L[P];for(const P in C){const _=C[P];if(typeof _!="object")continue;const{$data:z}=_.definition,U=L[P];z&&U&&(L[P]=j(U))}}return w}_removeAllSchemas(w,R){for(const C in w){const d=w[C];(!R||R.test(C))&&(typeof d=="string"?delete w[C]:d&&!d.meta&&(this._cache.delete(d.schema),delete w[C]))}}_addSchema(w,R,C,d=this.opts.validateSchema,$=this.opts.addUsedSchema){let L;const{schemaId:P}=this.opts;if(typeof w=="object")L=w[P];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let _=this._cache.get(w);if(_!==void 0)return _;C=(0,l.normalizeId)(L||C);const z=l.getSchemaRefs.call(this,w,C);return _=new o.SchemaEnv({schema:w,schemaId:P,meta:R,baseId:C,localRefs:z}),this._cache.set(_.schema,_),$&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=_),d&&this.validateSchema(w,!0),_}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=R}}}e.default=N,N.ValidationError=n.default,N.MissingRefError=i.default;function M(A,w,R,C="error"){for(const d in A){const $=d;$ in w&&this.logger[C](`${R}: option ${d}. ${A[$]}`)}}function O(A){return A=(0,l.normalizeId)(A),this.schemas[A]||this.refs[A]}function b(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const w in A)this.addSchema(A[w],w)}function D(){for(const A in this.opts.formats){const w=this.opts.formats[A];w&&this.addFormat(A,w)}}function T(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in A){const R=A[w];R.keyword||(R.keyword=w),this.addKeyword(R)}}function V(){const A={...this.opts};for(const w of g)delete A[w];return A}const Y={log(){},warn(){},error(){}};function H(A){if(A===!1)return Y;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function G(A,w){const{RULES:R}=this;if((0,c.eachItem)(A,C=>{if(R.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!W.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function Q(A,w,R){var C;const d=w==null?void 0:w.post;if(R&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let L=d?$.post:$.rules.find(({type:_})=>_===R);if(L||(L={type:R,rules:[]},$.rules.push(L)),$.keywords[A]=!0,!w)return;const P={keyword:A,definition:{...w,type:(0,u.getJSONTypes)(w.type),schemaType:(0,u.getJSONTypes)(w.schemaType)}};w.before?Z.call(this,L,P,w.before):L.rules.push(P),$.all[A]=P,(C=w.implements)===null||C===void 0||C.forEach(_=>this.addKeyword(_))}function Z(A,w,R){const C=A.rules.findIndex(d=>d.keyword===R);C>=0?A.rules.splice(C,0,w):(A.rules.push(w),this.logger.warn(`rule ${R} is not defined`))}function K(A){let{metaSchema:w}=A;w!==void 0&&(A.$data&&this.opts.$data&&(w=j(w)),A.validateSchema=this.compile(w,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(A){return{anyOf:[A,I]}}})(ng);var Ru={},Iu={},Du={};Object.defineProperty(Du,"__esModule",{value:!0});const RE={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Du.default=RE;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.callRef=si.getValidate=void 0;const IE=vo,qd=ye,Kt=_e,_i=Ur,Vd=Jt,Wo=Pe,DE={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:l}=n,{root:u}=s;if((r==="#"||r==="#/")&&i===u.baseId)return f();const c=Vd.resolveRef.call(l,u,i,r);if(c===void 0)throw new IE.default(n.opts.uriResolver,i,r);if(c instanceof Vd.SchemaEnv)return h(c);return m(c);function f(){if(s===u)return ya(e,o,s,s.$async);const g=t.scopeValue("root",{ref:u});return ya(e,(0,Kt._)`${g}.validate`,u,u.$async)}function h(g){const E=Cg(e,g);ya(e,E,g,g.$async)}function m(g){const E=t.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,Kt.stringify)(g)}:{ref:g}),v=t.name("valid"),y=e.subschema({schema:g,dataTypes:[],schemaPath:Kt.nil,topSchemaRef:E,errSchemaPath:r},v);e.mergeEvaluated(y),e.ok(v)}}};function Cg(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Kt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}si.getValidate=Cg;function ya(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,u=l.passContext?_i.default.this:Kt.nil;n?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=i.let("valid");i.try(()=>{i.code((0,Kt._)`await ${(0,qd.callValidateCode)(e,t,u)}`),m(t),o||i.assign(g,!0)},E=>{i.if((0,Kt._)`!(${E} instanceof ${s.ValidationError})`,()=>i.throw(E)),h(E),o||i.assign(g,!1)}),e.ok(g)}function f(){e.result((0,qd.callValidateCode)(e,t,u),()=>m(t),()=>h(t))}function h(g){const E=(0,Kt._)`${g}.errors`;i.assign(_i.default.vErrors,(0,Kt._)`${_i.default.vErrors} === null ? ${E} : ${_i.default.vErrors}.concat(${E})`),i.assign(_i.default.errors,(0,Kt._)`${_i.default.vErrors}.length`)}function m(g){var E;if(!s.opts.unevaluated)return;const v=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Wo.mergeEvaluated.props(i,v.props,s.props));else{const y=i.var("props",(0,Kt._)`${g}.evaluated.props`);s.props=Wo.mergeEvaluated.props(i,y,s.props,Kt.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Wo.mergeEvaluated.items(i,v.items,s.items));else{const y=i.var("items",(0,Kt._)`${g}.evaluated.items`);s.items=Wo.mergeEvaluated.items(i,y,s.items,Kt.Name)}}}si.callRef=ya;si.default=DE;Object.defineProperty(Iu,"__esModule",{value:!0});const FE=Du,kE=si,LE=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",FE.default,kE.default];Iu.default=LE;var Fu={},ku={};Object.defineProperty(ku,"__esModule",{value:!0});const Na=_e,un=Na.operators,Ra={maximum:{okStr:"<=",ok:un.LTE,fail:un.GT},minimum:{okStr:">=",ok:un.GTE,fail:un.LT},exclusiveMaximum:{okStr:"<",ok:un.LT,fail:un.GTE},exclusiveMinimum:{okStr:">",ok:un.GT,fail:un.LTE}},jE={message:({keyword:e,schemaCode:t})=>(0,Na.str)`must be ${Ra[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Na._)`{comparison: ${Ra[e].okStr}, limit: ${t}}`},ME={keyword:Object.keys(Ra),type:"number",schemaType:"number",$data:!0,error:jE,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Na._)`${r} ${Ra[t].fail} ${n} || isNaN(${r})`)}};ku.default=ME;var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});const qs=_e,UE={message:({schemaCode:e})=>(0,qs.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,qs._)`{multipleOf: ${e}}`},xE={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:UE,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,qs._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,qs._)`${o} !== parseInt(${o})`;e.fail$data((0,qs._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Lu.default=xE;var ju={},Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});function Ng(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Mu.default=Ng;Ng.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ju,"__esModule",{value:!0});const Hn=_e,qE=Pe,VE=Mu,BE={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Hn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Hn._)`{limit: ${e}}`},zE={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:BE,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?Hn.operators.GT:Hn.operators.LT,o=i.opts.unicode===!1?(0,Hn._)`${r}.length`:(0,Hn._)`${(0,qE.useFunc)(e.gen,VE.default)}(${r})`;e.fail$data((0,Hn._)`${o} ${s} ${n}`)}};ju.default=zE;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});const HE=ye,Ia=_e,GE={message:({schemaCode:e})=>(0,Ia.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Ia._)`{pattern: ${e}}`},WE={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:GE,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,Ia._)`(new RegExp(${i}, ${o}))`:(0,HE.usePattern)(e,n);e.fail$data((0,Ia._)`!${a}.test(${t})`)}};Uu.default=WE;var xu={};Object.defineProperty(xu,"__esModule",{value:!0});const Vs=_e,KE={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Vs.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Vs._)`{limit: ${e}}`},YE={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:KE,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Vs.operators.GT:Vs.operators.LT;e.fail$data((0,Vs._)`Object.keys(${r}).length ${i} ${n}`)}};xu.default=YE;var qu={};Object.defineProperty(qu,"__esModule",{value:!0});const Es=ye,Bs=_e,JE=Pe,XE={message:({params:{missingProperty:e}})=>(0,Bs.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Bs._)`{missingProperty: ${e}}`},QE={keyword:"required",type:"object",schemaType:"array",$data:!0,error:XE,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const l=r.length>=a.loopRequired;if(o.allErrors?u():c(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:g}=e.it;for(const E of r)if((m==null?void 0:m[E])===void 0&&!g.has(E)){const v=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${E}" is not defined at "${v}" (strictRequired)`;(0,JE.checkStrictMode)(o,y,o.opts.strictRequired)}}function u(){if(l||s)e.block$data(Bs.nil,f);else for(const m of r)(0,Es.checkReportMissingProp)(e,m)}function c(){const m=t.let("missing");if(l||s){const g=t.let("valid",!0);e.block$data(g,()=>h(m,g)),e.ok(g)}else t.if((0,Es.checkMissingProp)(e,r,m)),(0,Es.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Es.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function h(m,g){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(g,(0,Es.propertyInData)(t,i,m,a.ownProperties)),t.if((0,Bs.not)(g),()=>{e.error(),t.break()})},Bs.nil)}}};qu.default=QE;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});const zs=_e,ZE={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,zs.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,zs._)`{limit: ${e}}`},ew={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ZE,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?zs.operators.GT:zs.operators.LT;e.fail$data((0,zs._)`${r}.length ${i} ${n}`)}};Vu.default=ew;var Bu={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});const Rg=el;Rg.code='require("ajv/dist/runtime/equal").default';_o.default=Rg;Object.defineProperty(Bu,"__esModule",{value:!0});const Bl=go,vt=_e,tw=Pe,rw=_o,nw={message:({params:{i:e,j:t}})=>(0,vt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,vt._)`{i: ${e}, j: ${t}}`},iw={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:nw,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;const l=t.let("valid"),u=s.items?(0,Bl.getSchemaTypes)(s.items):[];e.block$data(l,c,(0,vt._)`${o} === false`),e.ok(l);function c(){const g=t.let("i",(0,vt._)`${r}.length`),E=t.let("j");e.setParams({i:g,j:E}),t.assign(l,!0),t.if((0,vt._)`${g} > 1`,()=>(f()?h:m)(g,E))}function f(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function h(g,E){const v=t.name("item"),y=(0,Bl.checkDataTypes)(u,v,a.opts.strictNumbers,Bl.DataType.Wrong),p=t.const("indices",(0,vt._)`{}`);t.for((0,vt._)`;${g}--;`,()=>{t.let(v,(0,vt._)`${r}[${g}]`),t.if(y,(0,vt._)`continue`),u.length>1&&t.if((0,vt._)`typeof ${v} == "string"`,(0,vt._)`${v} += "_"`),t.if((0,vt._)`typeof ${p}[${v}] == "number"`,()=>{t.assign(E,(0,vt._)`${p}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,vt._)`${p}[${v}] = ${g}`)})}function m(g,E){const v=(0,tw.useFunc)(t,rw.default),y=t.name("outer");t.label(y).for((0,vt._)`;${g}--;`,()=>t.for((0,vt._)`${E} = ${g}; ${E}--;`,()=>t.if((0,vt._)`${v}(${r}[${g}], ${r}[${E}])`,()=>{e.error(),t.assign(l,!1).break(y)})))}}};Bu.default=iw;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});const jc=_e,sw=Pe,ow=_o,aw={message:"must be equal to constant",params:({schemaCode:e})=>(0,jc._)`{allowedValue: ${e}}`},lw={keyword:"const",$data:!0,error:aw,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,jc._)`!${(0,sw.useFunc)(t,ow.default)}(${r}, ${i})`):e.fail((0,jc._)`${s} !== ${r}`)}};zu.default=lw;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});const ks=_e,cw=Pe,uw=_o,fw={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ks._)`{allowedValues: ${e}}`},dw={keyword:"enum",schemaType:"array",$data:!0,error:fw,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let l;const u=()=>l??(l=(0,cw.useFunc)(t,uw.default));let c;if(a||n)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);c=(0,ks.or)(...i.map((g,E)=>h(m,E)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,m=>t.if((0,ks._)`${u()}(${r}, ${m})`,()=>t.assign(c,!0).break()))}function h(m,g){const E=i[g];return typeof E=="object"&&E!==null?(0,ks._)`${u()}(${r}, ${m}[${g}])`:(0,ks._)`${r} === ${E}`}}};Hu.default=dw;Object.defineProperty(Fu,"__esModule",{value:!0});const hw=ku,pw=Lu,mw=ju,gw=Uu,yw=xu,vw=qu,_w=Vu,$w=Bu,Ew=zu,ww=Hu,Sw=[hw.default,pw.default,mw.default,gw.default,yw.default,vw.default,_w.default,$w.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Ew.default,ww.default];Fu.default=Sw;var Gu={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.validateAdditionalItems=void 0;const Gn=_e,Mc=Pe,bw={message:({params:{len:e}})=>(0,Gn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Gn._)`{limit: ${e}}`},Pw={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:bw,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Mc.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ig(e,n)}};function Ig(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,Gn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Gn._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,Mc.alwaysValidSchema)(o,n)){const u=r.var("valid",(0,Gn._)`${a} <= ${t.length}`);r.if((0,Gn.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:Mc.Type.Num},u),o.allErrors||r.if((0,Gn.not)(u),()=>r.break())})}}is.validateAdditionalItems=Ig;is.default=Pw;var Wu={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.validateTuple=void 0;const Bd=_e,va=Pe,Tw=ye,Ow={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Dg(e,"additionalItems",t);r.items=!0,!(0,va.alwaysValidSchema)(r,t)&&e.ok((0,Tw.validateArray)(e))}};function Dg(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=va.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),u=n.const("len",(0,Bd._)`${s}.length`);r.forEach((f,h)=>{(0,va.alwaysValidSchema)(a,f)||(n.if((0,Bd._)`${u} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function c(f){const{opts:h,errSchemaPath:m}=a,g=r.length,E=g===f.minItems&&(g===f.maxItems||f[t]===!1);if(h.strictTuples&&!E){const v=`"${o}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,va.checkStrictMode)(a,v,h.strictTuples)}}}ss.validateTuple=Dg;ss.default=Ow;Object.defineProperty(Wu,"__esModule",{value:!0});const Aw=ss,Cw={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Aw.validateTuple)(e,"items")};Wu.default=Cw;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});const zd=_e,Nw=Pe,Rw=ye,Iw=is,Dw={message:({params:{len:e}})=>(0,zd.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,zd._)`{limit: ${e}}`},Fw={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Dw,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,Nw.alwaysValidSchema)(n,t)&&(i?(0,Iw.validateAdditionalItems)(e,i):e.ok((0,Rw.validateArray)(e)))}};Ku.default=Fw;var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});const ur=_e,Ko=Pe,kw={message:({params:{min:e,max:t}})=>t===void 0?(0,ur.str)`must contain at least ${e} valid item(s)`:(0,ur.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ur._)`{minContains: ${e}}`:(0,ur._)`{minContains: ${e}, maxContains: ${t}}`},Lw={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:kw,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,a;const{minContains:l,maxContains:u}=n;s.opts.next?(o=l===void 0?1:l,a=u):o=1;const c=t.const("len",(0,ur._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Ko.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Ko.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Ko.alwaysValidSchema)(s,r)){let E=(0,ur._)`${c} >= ${o}`;a!==void 0&&(E=(0,ur._)`${E} && ${c} <= ${a}`),e.pass(E);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?m(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,ur._)`${i}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){const E=t.name("_valid"),v=t.let("count",0);m(E,()=>t.if(E,()=>g(v)))}function m(E,v){t.forRange("i",0,c,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:Ko.Type.Num,compositeRule:!0},E),v()})}function g(E){t.code((0,ur._)`${E}++`),a===void 0?t.if((0,ur._)`${E} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,ur._)`${E} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,ur._)`${E} >= ${o}`,()=>t.assign(f,!0)))}}};Yu.default=Lw;var Fg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=_e,r=Pe,n=ye;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,t._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=s(l);o(l,u),a(l,c)}};function s({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const h=Array.isArray(l[f])?u:c;h[f]=l[f]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:f,it:h}=l;if(Object.keys(u).length===0)return;const m=c.let("missing");for(const g in u){const E=u[g];if(E.length===0)continue;const v=(0,n.propertyInData)(c,f,g,h.opts.ownProperties);l.setParams({property:g,depsCount:E.length,deps:E.join(", ")}),h.allErrors?c.if(v,()=>{for(const y of E)(0,n.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,E,m)})`),(0,n.reportMissingProp)(l,m),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:f,keyword:h,it:m}=l,g=c.name("valid");for(const E in u)(0,r.alwaysValidSchema)(m,u[E])||(c.if((0,n.propertyInData)(c,f,E,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:E},g);l.mergeValidEvaluated(v,g)},()=>c.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i})(Fg);var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});const kg=_e,jw=Pe,Mw={message:"property name must be valid",params:({params:e})=>(0,kg._)`{propertyName: ${e.propertyName}}`},Uw={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Mw,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,jw.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,kg.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Ju.default=Uw;var nl={};Object.defineProperty(nl,"__esModule",{value:!0});const Yo=ye,_r=_e,xw=Ur,Jo=Pe,qw={message:"must NOT have additional properties",params:({params:e})=>(0,_r._)`{additionalProperty: ${e.additionalProperty}}`},Vw={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:qw,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,Jo.alwaysValidSchema)(o,r))return;const u=(0,Yo.allSchemaProperties)(n.properties),c=(0,Yo.allSchemaProperties)(n.patternProperties);f(),e.ok((0,_r._)`${s} === ${xw.default.errors}`);function f(){t.forIn("key",i,v=>{!u.length&&!c.length?g(v):t.if(h(v),()=>g(v))})}function h(v){let y;if(u.length>8){const p=(0,Jo.schemaRefOrVal)(o,n.properties,"properties");y=(0,Yo.isOwnProperty)(t,p,v)}else u.length?y=(0,_r.or)(...u.map(p=>(0,_r._)`${v} === ${p}`)):y=_r.nil;return c.length&&(y=(0,_r.or)(y,...c.map(p=>(0,_r._)`${(0,Yo.usePattern)(e,p)}.test(${v})`))),(0,_r.not)(y)}function m(v){t.code((0,_r._)`delete ${i}[${v}]`)}function g(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Jo.alwaysValidSchema)(o,r)){const y=t.name("valid");l.removeAdditional==="failing"?(E(v,y,!1),t.if((0,_r.not)(y),()=>{e.reset(),m(v)})):(E(v,y),a||t.if((0,_r.not)(y),()=>t.break()))}}function E(v,y,p){const S={keyword:"additionalProperties",dataProp:v,dataPropType:Jo.Type.Str};p===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,y)}}};nl.default=Vw;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});const Bw=Pr,Hd=ye,zl=Pe,Gd=nl,zw={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Gd.default.code(new Bw.KeywordCxt(s,Gd.default,"additionalProperties"));const o=(0,Hd.allSchemaProperties)(r);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=zl.mergeEvaluated.props(t,(0,zl.toHash)(o),s.props));const a=o.filter(f=>!(0,zl.alwaysValidSchema)(s,r[f]));if(a.length===0)return;const l=t.name("valid");for(const f of a)u(f)?c(f):(t.if((0,Hd.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(l);function u(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};Xu.default=zw;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});const Wd=ye,Xo=_e,Kd=Pe,Yd=Pe,Hw={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,Wd.allSchemaProperties)(r),l=a.filter(E=>(0,Kd.alwaysValidSchema)(s,r[E]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof Xo.Name)&&(s.props=(0,Yd.evaluatedPropsToName)(t,s.props));const{props:f}=s;h();function h(){for(const E of a)u&&m(E),s.allErrors?g(E):(t.var(c,!0),g(E),t.if(c))}function m(E){for(const v in u)new RegExp(E).test(v)&&(0,Kd.checkStrictMode)(s,`property ${v} matches pattern ${E} (use allowMatchingProperties)`)}function g(E){t.forIn("key",n,v=>{t.if((0,Xo._)`${(0,Wd.usePattern)(e,E)}.test(${v})`,()=>{const y=l.includes(E);y||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:v,dataPropType:Yd.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,Xo._)`${f}[${v}]`,!0):!y&&!s.allErrors&&t.if((0,Xo.not)(c),()=>t.break())})})}}};Qu.default=Hw;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});const Gw=Pe,Ww={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Gw.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Zu.default=Ww;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});const Kw=ye,Yw={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Kw.validateUnion,error:{message:"must match a schema in anyOf"}};ef.default=Yw;var tf={};Object.defineProperty(tf,"__esModule",{value:!0});const _a=_e,Jw=Pe,Xw={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,_a._)`{passingSchemas: ${e.passing}}`},Qw={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Xw,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(o,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((c,f)=>{let h;(0,Jw.alwaysValidSchema)(i,c)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&t.if((0,_a._)`${l} && ${o}`).assign(o,!1).assign(a,(0,_a._)`[${a}, ${f}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,f),h&&e.mergeEvaluated(h,_a.Name)})})}}};tf.default=Qw;var rf={};Object.defineProperty(rf,"__esModule",{value:!0});const Zw=Pe,eS={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,Zw.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};rf.default=eS;var nf={};Object.defineProperty(nf,"__esModule",{value:!0});const Da=_e,Lg=Pe,tS={message:({params:e})=>(0,Da.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Da._)`{failingKeyword: ${e.ifClause}}`},rS={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:tS,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Lg.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Jd(n,"then"),s=Jd(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else i?t.if(a,u("then")):t.if((0,Da.not)(a),u("else"));e.pass(o,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,f){return()=>{const h=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(h,o),f?t.assign(f,(0,Da._)`${c}`):e.setParams({ifClause:c})}}}};function Jd(e,t){const r=e.schema[t];return r!==void 0&&!(0,Lg.alwaysValidSchema)(e,r)}nf.default=rS;var sf={};Object.defineProperty(sf,"__esModule",{value:!0});const nS=Pe,iS={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,nS.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};sf.default=iS;Object.defineProperty(Gu,"__esModule",{value:!0});const sS=is,oS=Wu,aS=ss,lS=Ku,cS=Yu,uS=Fg,fS=Ju,dS=nl,hS=Xu,pS=Qu,mS=Zu,gS=ef,yS=tf,vS=rf,_S=nf,$S=sf;function ES(e=!1){const t=[mS.default,gS.default,yS.default,vS.default,_S.default,$S.default,fS.default,dS.default,uS.default,hS.default,pS.default];return e?t.push(oS.default,lS.default):t.push(sS.default,aS.default),t.push(cS.default),t}Gu.default=ES;var of={},af={};Object.defineProperty(af,"__esModule",{value:!0});const nt=_e,wS={message:({schemaCode:e})=>(0,nt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,nt._)`{format: ${e}}`},SS={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:wS,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:f}=a;if(!l.validateFormats)return;i?h():m();function h(){const g=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),E=r.const("fDef",(0,nt._)`${g}[${o}]`),v=r.let("fType"),y=r.let("format");r.if((0,nt._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(v,(0,nt._)`${E}.type || "string"`).assign(y,(0,nt._)`${E}.validate`),()=>r.assign(v,(0,nt._)`"string"`).assign(y,E)),e.fail$data((0,nt.or)(p(),S()));function p(){return l.strictSchema===!1?nt.nil:(0,nt._)`${o} && !${y}`}function S(){const N=c.$async?(0,nt._)`(${E}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,nt._)`${y}(${n})`,M=(0,nt._)`(typeof ${y} == "function" ? ${N} : ${y}.test(${n}))`;return(0,nt._)`${y} && ${y} !== true && ${v} === ${t} && !${M}`}}function m(){const g=f.formats[s];if(!g){p();return}if(g===!0)return;const[E,v,y]=S(g);E===t&&e.pass(N());function p(){if(l.strictSchema===!1){f.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function S(M){const O=M instanceof RegExp?(0,nt.regexpCode)(M):l.code.formats?(0,nt._)`${l.code.formats}${(0,nt.getProperty)(s)}`:void 0,b=r.scopeValue("formats",{key:s,ref:M,code:O});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,nt._)`${b}.validate`]:["string",M,b]}function N(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!c.$async)throw new Error("async format in sync schema");return(0,nt._)`await ${y}(${n})`}return typeof v=="function"?(0,nt._)`${y}(${n})`:(0,nt._)`${y}.test(${n})`}}}};af.default=SS;Object.defineProperty(of,"__esModule",{value:!0});const bS=af,PS=[bS.default];of.default=PS;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.contentVocabulary=Hi.metadataVocabulary=void 0;Hi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Hi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Ru,"__esModule",{value:!0});const TS=Iu,OS=Fu,AS=Gu,CS=of,Xd=Hi,NS=[TS.default,OS.default,(0,AS.default)(),CS.default,Xd.metadataVocabulary,Xd.contentVocabulary];Ru.default=NS;var lf={},jg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(jg);Object.defineProperty(lf,"__esModule",{value:!0});const Ci=_e,Uc=jg,Qd=Jt,RS=Pe,IS={message:({params:{discrError:e,tagName:t}})=>e===Uc.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ci._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},DS={keyword:"discriminator",type:"object",schemaType:"object",error:IS,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Ci._)`${r}${(0,Ci.getProperty)(a)}`);t.if((0,Ci._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:Uc.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const m=h();t.if(!1);for(const g in m)t.elseIf((0,Ci._)`${u} === ${g}`),t.assign(l,f(m[g]));t.else(),e.error(!1,{discrError:Uc.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function f(m){const g=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:m},g);return e.mergeEvaluated(E,Ci.Name),g}function h(){var m;const g={},E=y(i);let v=!0;for(let N=0;N<o.length;N++){let M=o[N];M!=null&&M.$ref&&!(0,RS.schemaHasRulesButRef)(M,s.self.RULES)&&(M=Qd.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,M==null?void 0:M.$ref),M instanceof Qd.SchemaEnv&&(M=M.schema));const O=(m=M==null?void 0:M.properties)===null||m===void 0?void 0:m[a];if(typeof O!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(E||y(M)),p(O,N)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return g;function y({required:N}){return Array.isArray(N)&&N.includes(a)}function p(N,M){if(N.const)S(N.const,M);else if(N.enum)for(const O of N.enum)S(O,M);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(N,M){if(typeof N!="string"||N in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[N]=M}}}};lf.default=DS;const FS="http://json-schema.org/draft-07/schema#",kS="http://json-schema.org/draft-07/schema#",LS="Core schema meta-schema",jS={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},MS=["object","boolean"],US={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},xS={$schema:FS,$id:kS,title:LS,definitions:jS,type:MS,properties:US,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=ng,n=Ru,i=lf,s=xS,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=Pr;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=_e;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=yo;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=vo;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Dc,Dc.exports);var qS=Dc.exports,xc={exports:{}},Mg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(T,V){return{validate:T,compare:V}}e.fullFormats={date:t(s,o),time:t(l,u),"date-time":t(f,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:E,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:D,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:N},int64:{type:"number",validate:M},float:{type:"number",validate:O},double:{type:"number",validate:O},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(T){return T%4===0&&(T%100!==0||T%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(T){const V=n.exec(T);if(!V)return!1;const Y=+V[1],H=+V[2],W=+V[3];return H>=1&&H<=12&&W>=1&&W<=(H===2&&r(Y)?29:i[H])}function o(T,V){if(T&&V)return T>V?1:T<V?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(T,V){const Y=a.exec(T);if(!Y)return!1;const H=+Y[1],W=+Y[2],G=+Y[3],Q=Y[5];return(H<=23&&W<=59&&G<=59||H===23&&W===59&&G===60)&&(!V||Q!=="")}function u(T,V){if(!(T&&V))return;const Y=a.exec(T),H=a.exec(V);if(Y&&H)return T=Y[1]+Y[2]+Y[3]+(Y[4]||""),V=H[1]+H[2]+H[3]+(H[4]||""),T>V?1:T<V?-1:0}const c=/t|\s/i;function f(T){const V=T.split(c);return V.length===2&&s(V[0])&&l(V[1],!0)}function h(T,V){if(!(T&&V))return;const[Y,H]=T.split(c),[W,G]=V.split(c),Q=o(Y,W);if(Q!==void 0)return Q||u(H,G)}const m=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function E(T){return m.test(T)&&g.test(T)}const v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(T){return v.lastIndex=0,v.test(T)}const p=-(2**31),S=2**31-1;function N(T){return Number.isInteger(T)&&T<=S&&T>=p}function M(T){return Number.isInteger(T)}function O(){return!0}const b=/[^\\]\\Z/;function D(T){if(b.test(T))return!1;try{return new RegExp(T),!0}catch{return!1}}})(Mg);var Ug={},qc={exports:{}},xg={},Tr={},Gi={},$o={},pe={},ro={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,N)=>`${S}${N}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,N)=>(N instanceof r&&(S[N.str]=(S[N.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(y,...p){const S=[y[0]];let N=0;for(;N<p.length;)a(S,p[N]),S.push(y[++N]);return new n(S)}e._=i;const s=new n("+");function o(y,...p){const S=[m(y[0])];let N=0;for(;N<p.length;)S.push(s),a(S,p[N]),S.push(s,m(y[++N]));return l(S),new n(S)}e.str=o;function a(y,p){p instanceof n?y.push(...p._items):p instanceof r?y.push(p):y.push(f(p))}e.addCodeArg=a;function l(y){let p=1;for(;p<y.length-1;){if(y[p]===s){const S=u(y[p-1],y[p+1]);if(S!==void 0){y.splice(p-1,3,S);continue}y[p++]="+"}p++}}function u(y,p){if(p==='""')return y;if(y==='""')return p;if(typeof y=="string")return p instanceof r||y[y.length-1]!=='"'?void 0:typeof p!="string"?`${y.slice(0,-1)}${p}"`:p[0]==='"'?y.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(y instanceof r))return`"${y}${p.slice(1)}`}function c(y,p){return p.emptyStr()?y:y.emptyStr()?p:o`${y}${p}`}e.strConcat=c;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:m(Array.isArray(y)?y.join(","):y)}function h(y){return new n(m(y))}e.stringify=h;function m(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new n(`.${y}`):i`[${y}]`}e.getProperty=g;function E(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new n(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=E;function v(y){return new n(y.toString())}e.regexpCode=v})(ro);var Vc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ro;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class s extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:m}=h,g=(f=c.key)!==null&&f!==void 0?f:c.ref;let E=this._values[m];if(E){const p=E.get(g);if(p)return p}else E=this._values[m]=new Map;E.set(g,h);const v=this._scope[m]||(this._scope[m]=[]),y=v.length;return v[y]=c.ref,h.setValue(c,{property:m,itemIndex:y}),h}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},c,f)}_reduceValues(u,c,f={},h){let m=t.nil;for(const g in u){const E=u[g];if(!E)continue;const v=f[g]=f[g]||new Map;E.forEach(y=>{if(v.has(y))return;v.set(y,n.Started);let p=c(y);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${S} ${y} = ${p};${this.opts._n}`}else if(p=h==null?void 0:h(y))m=(0,t._)`${m}${p}${this.opts._n}`;else throw new r(y);v.set(y,n.Completed)})}return m}}e.ValueScope=a})(Vc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ro,r=Vc;var n=ro;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Vc;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(d,$){return this}}class o extends s{constructor(d,$,L){super(),this.varKind=d,this.name=$,this.rhs=L}render({es5:d,_n:$}){const L=d?r.varKinds.var:this.varKind,P=this.rhs===void 0?"":` = ${this.rhs}`;return`${L} ${this.name}${P};`+$}optimizeNames(d,$){if(d[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,d,$)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(d,$,L){super(),this.lhs=d,this.rhs=$,this.sideEffects=L}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,$){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=G(this.rhs,d,$),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(d,this.rhs)}}class l extends a{constructor(d,$,L,P){super(d,L,P),this.op=$}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class u extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class c extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class f extends s{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends s{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,$){return this.code=G(this.code,d,$),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce(($,L)=>$+L.render(d),"")}optimizeNodes(){const{nodes:d}=this;let $=d.length;for(;$--;){const L=d[$].optimizeNodes();Array.isArray(L)?d.splice($,1,...L):L?d[$]=L:d.splice($,1)}return d.length>0?this:void 0}optimizeNames(d,$){const{nodes:L}=this;let P=L.length;for(;P--;){const _=L[P];_.optimizeNames(d,$)||(Q(d,_.names),L.splice(P,1))}return L.length>0?this:void 0}get names(){return this.nodes.reduce((d,$)=>H(d,$.names),{})}}class g extends m{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class E extends m{}class v extends g{}v.kind="else";class y extends g{constructor(d,$){super($),this.condition=d}render(d){let $=`if(${this.condition})`+super.render(d);return this.else&&($+="else "+this.else.render(d)),$}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let $=this.else;if($){const L=$.optimizeNodes();$=this.else=Array.isArray(L)?new v(L):L}if($)return d===!1?$ instanceof y?$:$.nodes:this.nodes.length?this:new y(Z(d),$ instanceof y?[$]:$.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,$){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(d,$),!!(super.optimizeNames(d,$)||this.else))return this.condition=G(this.condition,d,$),this}get names(){const d=super.names;return W(d,this.condition),this.else&&H(d,this.else.names),d}}y.kind="if";class p extends g{}p.kind="for";class S extends p{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iteration=G(this.iteration,d,$),this}get names(){return H(super.names,this.iteration.names)}}class N extends p{constructor(d,$,L,P){super(),this.varKind=d,this.name=$,this.from=L,this.to=P}render(d){const $=d.es5?r.varKinds.var:this.varKind,{name:L,from:P,to:_}=this;return`for(${$} ${L}=${P}; ${L}<${_}; ${L}++)`+super.render(d)}get names(){const d=W(super.names,this.from);return W(d,this.to)}}class M extends p{constructor(d,$,L,P){super(),this.loop=d,this.varKind=$,this.name=L,this.iterable=P}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iterable=G(this.iterable,d,$),this}get names(){return H(super.names,this.iterable.names)}}class O extends g{constructor(d,$,L){super(),this.name=d,this.args=$,this.async=L}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}O.kind="func";class b extends m{render(d){return"return "+super.render(d)}}b.kind="return";class D extends g{render(d){let $="try"+super.render(d);return this.catch&&($+=this.catch.render(d)),this.finally&&($+=this.finally.render(d)),$}optimizeNodes(){var d,$;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(d,$){var L,P;return super.optimizeNames(d,$),(L=this.catch)===null||L===void 0||L.optimizeNames(d,$),(P=this.finally)===null||P===void 0||P.optimizeNames(d,$),this}get names(){const d=super.names;return this.catch&&H(d,this.catch.names),this.finally&&H(d,this.finally.names),d}}class T extends g{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}T.kind="catch";class V extends g{render(d){return"finally"+super.render(d)}}V.kind="finally";class Y{constructor(d,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,$){const L=this._extScope.value(d,$);return(this._values[L.prefix]||(this._values[L.prefix]=new Set)).add(L),L}getScopeValue(d,$){return this._extScope.getValue(d,$)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,$,L,P){const _=this._scope.toName($);return L!==void 0&&P&&(this._constants[_.str]=L),this._leafNode(new o(d,_,L)),_}const(d,$,L){return this._def(r.varKinds.const,d,$,L)}let(d,$,L){return this._def(r.varKinds.let,d,$,L)}var(d,$,L){return this._def(r.varKinds.var,d,$,L)}assign(d,$,L){return this._leafNode(new a(d,$,L))}add(d,$){return this._leafNode(new l(d,e.operators.ADD,$))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const $=["{"];for(const[L,P]of d)$.length>1&&$.push(","),$.push(L),(L!==P||this.opts.es5)&&($.push(":"),(0,t.addCodeArg)($,P));return $.push("}"),new t._Code($)}if(d,$,L){if(this._blockNode(new y(d)),$&&L)this.code($).else().code(L).endIf();else if($)this.code($).endIf();else if(L)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new y(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(y,v)}_for(d,$){return this._blockNode(d),$&&this.code($).endFor(),this}for(d,$){return this._for(new S(d),$)}forRange(d,$,L,P,_=this.opts.es5?r.varKinds.var:r.varKinds.let){const z=this._scope.toName(d);return this._for(new N(_,z,$,L),()=>P(z))}forOf(d,$,L,P=r.varKinds.const){const _=this._scope.toName(d);if(this.opts.es5){const z=$ instanceof t.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,t._)`${z}.length`,U=>{this.var(_,(0,t._)`${z}[${U}]`),L(_)})}return this._for(new M("of",P,_,$),()=>L(_))}forIn(d,$,L,P=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${$})`,L);const _=this._scope.toName(d);return this._for(new M("in",P,_,$),()=>L(_))}endFor(){return this._endBlockNode(p)}label(d){return this._leafNode(new u(d))}break(d){return this._leafNode(new c(d))}return(d){const $=new b;if(this._blockNode($),this.code(d),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,$,L){if(!$&&!L)throw new Error('CodeGen: "try" without "catch" and "finally"');const P=new D;if(this._blockNode(P),this.code(d),$){const _=this.name("e");this._currNode=P.catch=new T(_),$(_)}return L&&(this._currNode=P.finally=new V,this.code(L)),this._endBlockNode(T,V)}throw(d){return this._leafNode(new f(d))}block(d,$){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock($),this}endBlock(d){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const L=this._nodes.length-$;if(L<0||d!==void 0&&L!==d)throw new Error(`CodeGen: wrong number of nodes: ${L} vs ${d} expected`);return this._nodes.length=$,this}func(d,$=t.nil,L,P){return this._blockNode(new O(d,$,L)),P&&this.code(P).endFunc(),this}endFunc(){return this._endBlockNode(O)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,$){const L=this._currNode;if(L instanceof d||$&&L instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${d.kind}/${$.kind}`:d.kind}"`)}_elseNode(d){const $=this._currNode;if(!($ instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const $=this._nodes;$[$.length-1]=d}}e.CodeGen=Y;function H(C,d){for(const $ in d)C[$]=(C[$]||0)+(d[$]||0);return C}function W(C,d){return d instanceof t._CodeOrName?H(C,d.names):C}function G(C,d,$){if(C instanceof t.Name)return L(C);if(!P(C))return C;return new t._Code(C._items.reduce((_,z)=>(z instanceof t.Name&&(z=L(z)),z instanceof t._Code?_.push(...z._items):_.push(z),_),[]));function L(_){const z=$[_.str];return z===void 0||d[_.str]!==1?_:(delete d[_.str],z)}function P(_){return _ instanceof t._Code&&_._items.some(z=>z instanceof t.Name&&d[z.str]===1&&$[z.str]!==void 0)}}function Q(C,d){for(const $ in d)C[$]=(C[$]||0)-(d[$]||0)}function Z(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${R(C)}`}e.not=Z;const K=w(e.operators.AND);function I(...C){return C.reduce(K)}e.and=I;const j=w(e.operators.OR);function A(...C){return C.reduce(j)}e.or=A;function w(C){return(d,$)=>d===t.nil?$:$===t.nil?d:(0,t._)`${R(d)} ${C} ${R($)}`}function R(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(pe);var Te={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=pe,r=ro;function n(O){const b={};for(const D of O)b[D]=!0;return b}e.toHash=n;function i(O,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(O,b),!o(b,O.self.RULES.all))}e.alwaysValidSchema=i;function s(O,b=O.schema){const{opts:D,self:T}=O;if(!D.strictSchema||typeof b=="boolean")return;const V=T.RULES.keywords;for(const Y in b)V[Y]||M(O,`unknown keyword: "${Y}"`)}e.checkUnknownRules=s;function o(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(b[D])return!0;return!1}e.schemaHasRules=o;function a(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(D!=="$ref"&&b.all[D])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:O,schemaPath:b},D,T,V){if(!V){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${O}${b}${(0,t.getProperty)(T)}`}e.schemaRefOrVal=l;function u(O){return h(decodeURIComponent(O))}e.unescapeFragment=u;function c(O){return encodeURIComponent(f(O))}e.escapeFragment=c;function f(O){return typeof O=="number"?`${O}`:O.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function h(O){return O.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(O,b){if(Array.isArray(O))for(const D of O)b(D);else b(O)}e.eachItem=m;function g({mergeNames:O,mergeToName:b,mergeValues:D,resultToName:T}){return(V,Y,H,W)=>{const G=H===void 0?Y:H instanceof t.Name?(Y instanceof t.Name?O(V,Y,H):b(V,Y,H),H):Y instanceof t.Name?(b(V,H,Y),Y):D(Y,H);return W===t.Name&&!(G instanceof t.Name)?T(V,G):G}}e.mergeEvaluated={props:g({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>{O.if((0,t._)`${b} === true`,()=>O.assign(D,!0),()=>O.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${b})`))}),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>{b===!0?O.assign(D,!0):(O.assign(D,(0,t._)`${D} || {}`),v(O,D,b))}),mergeValues:(O,b)=>O===!0?!0:{...O,...b},resultToName:E}),items:g({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>O.assign(D,(0,t._)`${b} === true ? true : ${D} > ${b} ? ${D} : ${b}`)),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>O.assign(D,b===!0?!0:(0,t._)`${D} > ${b} ? ${D} : ${b}`)),mergeValues:(O,b)=>O===!0?!0:Math.max(O,b),resultToName:(O,b)=>O.var("items",b)})};function E(O,b){if(b===!0)return O.var("props",!0);const D=O.var("props",(0,t._)`{}`);return b!==void 0&&v(O,D,b),D}e.evaluatedPropsToName=E;function v(O,b,D){Object.keys(D).forEach(T=>O.assign((0,t._)`${b}${(0,t.getProperty)(T)}`,!0))}e.setEvaluated=v;const y={};function p(O,b){return O.scopeValue("func",{ref:b,code:y[b.code]||(y[b.code]=new r._Code(b.code))})}e.useFunc=p;var S;(function(O){O[O.Num=0]="Num",O[O.Str=1]="Str"})(S=e.Type||(e.Type={}));function N(O,b,D){if(O instanceof t.Name){const T=b===S.Num;return D?T?(0,t._)`"[" + ${O} + "]"`:(0,t._)`"['" + ${O} + "']"`:T?(0,t._)`"/" + ${O}`:(0,t._)`"/" + ${O}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(O).toString():"/"+f(O)}e.getErrorPath=N;function M(O,b,D=O.opts.strictSchema){if(D){if(b=`strict mode: ${b}`,D===!0)throw new Error(b);O.self.logger.warn(b)}}e.checkStrictMode=M})(Te);var xr={};Object.defineProperty(xr,"__esModule",{value:!0});const Ot=pe,VS={data:new Ot.Name("data"),valCxt:new Ot.Name("valCxt"),instancePath:new Ot.Name("instancePath"),parentData:new Ot.Name("parentData"),parentDataProperty:new Ot.Name("parentDataProperty"),rootData:new Ot.Name("rootData"),dynamicAnchors:new Ot.Name("dynamicAnchors"),vErrors:new Ot.Name("vErrors"),errors:new Ot.Name("errors"),this:new Ot.Name("this"),self:new Ot.Name("self"),scope:new Ot.Name("scope"),json:new Ot.Name("json"),jsonPos:new Ot.Name("jsonPos"),jsonLen:new Ot.Name("jsonLen"),jsonPart:new Ot.Name("jsonPart")};xr.default=VS;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=pe,r=Te,n=xr;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:y})=>y?(0,t.str)`"${v}" keyword must be ${y} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,y=e.keywordError,p,S){const{it:N}=v,{gen:M,compositeRule:O,allErrors:b}=N,D=f(v,y,p);S??(O||b)?l(M,D):u(N,(0,t._)`[${D}]`)}e.reportError=i;function s(v,y=e.keywordError,p){const{it:S}=v,{gen:N,compositeRule:M,allErrors:O}=S,b=f(v,y,p);l(N,b),M||O||u(S,n.default.vErrors)}e.reportExtraError=s;function o(v,y){v.assign(n.default.errors,y),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(y,()=>v.assign((0,t._)`${n.default.vErrors}.length`,y),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:y,schemaValue:p,data:S,errsCount:N,it:M}){if(N===void 0)throw new Error("ajv implementation error");const O=v.name("err");v.forRange("i",N,n.default.errors,b=>{v.const(O,(0,t._)`${n.default.vErrors}[${b}]`),v.if((0,t._)`${O}.instancePath === undefined`,()=>v.assign((0,t._)`${O}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,t._)`${O}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${y}`),M.opts.verbose&&(v.assign((0,t._)`${O}.schema`,p),v.assign((0,t._)`${O}.data`,S))})}e.extendErrors=a;function l(v,y){const p=v.const("err",y);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${p}]`),(0,t._)`${n.default.vErrors}.push(${p})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,y){const{gen:p,validateName:S,schemaEnv:N}=v;N.$async?p.throw((0,t._)`new ${v.ValidationError}(${y})`):(p.assign((0,t._)`${S}.errors`,y),p.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(v,y,p){const{createErrors:S}=v.it;return S===!1?(0,t._)`{}`:h(v,y,p)}function h(v,y,p={}){const{gen:S,it:N}=v,M=[m(N,p),g(v,p)];return E(v,y,M),S.object(...M)}function m({errorPath:v},{instancePath:y}){const p=y?(0,t.str)`${v}${(0,r.getErrorPath)(y,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,p)]}function g({keyword:v,it:{errSchemaPath:y}},{schemaPath:p,parentSchema:S}){let N=S?y:(0,t.str)`${y}/${v}`;return p&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(p,r.Type.Str)}`),[c.schemaPath,N]}function E(v,{params:y,message:p},S){const{keyword:N,data:M,schemaValue:O,it:b}=v,{opts:D,propertyName:T,topSchemaRef:V,schemaPath:Y}=b;S.push([c.keyword,N],[c.params,typeof y=="function"?y(v):y||(0,t._)`{}`]),D.messages&&S.push([c.message,typeof p=="function"?p(v):p]),D.verbose&&S.push([c.schema,O],[c.parentSchema,(0,t._)`${V}${Y}`],[n.default.data,M]),T&&S.push([c.propertyName,T])}})($o);Object.defineProperty(Gi,"__esModule",{value:!0});Gi.boolOrEmptySchema=Gi.topBoolOrEmptySchema=void 0;const BS=$o,zS=pe,HS=xr,GS={message:"boolean schema is false"};function WS(e){const{gen:t,schema:r,validateName:n}=e;r===!1?qg(e,!1):typeof r=="object"&&r.$async===!0?t.return(HS.default.data):(t.assign((0,zS._)`${n}.errors`,null),t.return(!0))}Gi.topBoolOrEmptySchema=WS;function KS(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),qg(e)):r.var(t,!0)}Gi.boolOrEmptySchema=KS;function qg(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,BS.reportError)(i,GS,void 0,t)}var Eo={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.getRules=oi.isJSONType=void 0;const YS=["string","number","integer","boolean","null","object","array"],JS=new Set(YS);function XS(e){return typeof e=="string"&&JS.has(e)}oi.isJSONType=XS;function QS(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}oi.getRules=QS;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.shouldUseRule=Zr.shouldUseGroup=Zr.schemaHasRulesForType=void 0;function ZS({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Vg(e,n)}Zr.schemaHasRulesForType=ZS;function Vg(e,t){return t.rules.some(r=>Bg(e,r))}Zr.shouldUseGroup=Vg;function Bg(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Zr.shouldUseRule=Bg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=oi,r=Zr,n=$o,i=pe,s=Te;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const N=l(S.type);if(N.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!N.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&N.push("null")}return N}e.getSchemaTypes=a;function l(S){const N=Array.isArray(S)?S:S?[S]:[];if(N.every(t.isJSONType))return N;throw new Error("type must be JSONType or JSONType[]: "+N.join(","))}e.getJSONTypes=l;function u(S,N){const{gen:M,data:O,opts:b}=S,D=f(N,b.coerceTypes),T=N.length>0&&!(D.length===0&&N.length===1&&(0,r.schemaHasRulesForType)(S,N[0]));if(T){const V=E(N,O,b.strictNumbers,o.Wrong);M.if(V,()=>{D.length?h(S,N,D):y(S)})}return T}e.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function f(S,N){return N?S.filter(M=>c.has(M)||N==="array"&&M==="array"):[]}function h(S,N,M){const{gen:O,data:b,opts:D}=S,T=O.let("dataType",(0,i._)`typeof ${b}`),V=O.let("coerced",(0,i._)`undefined`);D.coerceTypes==="array"&&O.if((0,i._)`${T} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>O.assign(b,(0,i._)`${b}[0]`).assign(T,(0,i._)`typeof ${b}`).if(E(N,b,D.strictNumbers),()=>O.assign(V,b))),O.if((0,i._)`${V} !== undefined`);for(const H of M)(c.has(H)||H==="array"&&D.coerceTypes==="array")&&Y(H);O.else(),y(S),O.endIf(),O.if((0,i._)`${V} !== undefined`,()=>{O.assign(b,V),m(S,V)});function Y(H){switch(H){case"string":O.elseIf((0,i._)`${T} == "number" || ${T} == "boolean"`).assign(V,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(V,(0,i._)`""`);return;case"number":O.elseIf((0,i._)`${T} == "boolean" || ${b} === null
              || (${T} == "string" && ${b} && ${b} == +${b})`).assign(V,(0,i._)`+${b}`);return;case"integer":O.elseIf((0,i._)`${T} === "boolean" || ${b} === null
              || (${T} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(V,(0,i._)`+${b}`);return;case"boolean":O.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(V,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(V,!0);return;case"null":O.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),O.assign(V,null);return;case"array":O.elseIf((0,i._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${b} === null`).assign(V,(0,i._)`[${b}]`)}}}function m({gen:S,parentData:N,parentDataProperty:M},O){S.if((0,i._)`${N} !== undefined`,()=>S.assign((0,i._)`${N}[${M}]`,O))}function g(S,N,M,O=o.Correct){const b=O===o.Correct?i.operators.EQ:i.operators.NEQ;let D;switch(S){case"null":return(0,i._)`${N} ${b} null`;case"array":D=(0,i._)`Array.isArray(${N})`;break;case"object":D=(0,i._)`${N} && typeof ${N} == "object" && !Array.isArray(${N})`;break;case"integer":D=T((0,i._)`!(${N} % 1) && !isNaN(${N})`);break;case"number":D=T();break;default:return(0,i._)`typeof ${N} ${b} ${S}`}return O===o.Correct?D:(0,i.not)(D);function T(V=i.nil){return(0,i.and)((0,i._)`typeof ${N} == "number"`,V,M?(0,i._)`isFinite(${N})`:i.nil)}}e.checkDataType=g;function E(S,N,M,O){if(S.length===1)return g(S[0],N,M,O);let b;const D=(0,s.toHash)(S);if(D.array&&D.object){const T=(0,i._)`typeof ${N} != "object"`;b=D.null?T:(0,i._)`!${N} || ${T}`,delete D.null,delete D.array,delete D.object}else b=i.nil;D.number&&delete D.integer;for(const T in D)b=(0,i.and)(b,g(T,N,M,O));return b}e.checkDataTypes=E;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:N})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${N}}`};function y(S){const N=p(S);(0,n.reportError)(N,v)}e.reportTypeError=y;function p(S){const{gen:N,data:M,schema:O}=S,b=(0,s.schemaRefOrVal)(S,O,"type");return{gen:N,keyword:"type",data:M,schema:O.type,schemaCode:b,schemaValue:b,parentSchema:O,params:{},it:S}}})(Eo);var il={};Object.defineProperty(il,"__esModule",{value:!0});il.assignDefaults=void 0;const $i=pe,eb=Te;function tb(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Zd(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Zd(e,s,i.default))}il.assignDefaults=tb;function Zd(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const a=(0,$i._)`${s}${(0,$i.getProperty)(t)}`;if(i){(0,eb.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,$i._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,$i._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,$i._)`${a} = ${(0,$i.stringify)(r)}`)}var jr={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.validateUnion=ve.validateArray=ve.usePattern=ve.callValidateCode=ve.schemaProperties=ve.allSchemaProperties=ve.noPropertyInData=ve.propertyInData=ve.isOwnProperty=ve.hasPropFunc=ve.reportMissingProp=ve.checkMissingProp=ve.checkReportMissingProp=void 0;const Be=pe,cf=Te,fn=xr,rb=Te;function nb(e,t){const{gen:r,data:n,it:i}=e;r.if(ff(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Be._)`${t}`},!0),e.error()})}ve.checkReportMissingProp=nb;function ib({gen:e,data:t,it:{opts:r}},n,i){return(0,Be.or)(...n.map(s=>(0,Be.and)(ff(e,t,s,r.ownProperties),(0,Be._)`${i} = ${s}`)))}ve.checkMissingProp=ib;function sb(e,t){e.setParams({missingProperty:t},!0),e.error()}ve.reportMissingProp=sb;function zg(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Be._)`Object.prototype.hasOwnProperty`})}ve.hasPropFunc=zg;function uf(e,t,r){return(0,Be._)`${zg(e)}.call(${t}, ${r})`}ve.isOwnProperty=uf;function ob(e,t,r,n){const i=(0,Be._)`${t}${(0,Be.getProperty)(r)} !== undefined`;return n?(0,Be._)`${i} && ${uf(e,t,r)}`:i}ve.propertyInData=ob;function ff(e,t,r,n){const i=(0,Be._)`${t}${(0,Be.getProperty)(r)} === undefined`;return n?(0,Be.or)(i,(0,Be.not)(uf(e,t,r))):i}ve.noPropertyInData=ff;function Hg(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ve.allSchemaProperties=Hg;function ab(e,t){return Hg(t).filter(r=>!(0,cf.alwaysValidSchema)(e,t[r]))}ve.schemaProperties=ab;function lb({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,l,u){const c=u?(0,Be._)`${e}, ${t}, ${n}${i}`:t,f=[[fn.default.instancePath,(0,Be.strConcat)(fn.default.instancePath,s)],[fn.default.parentData,o.parentData],[fn.default.parentDataProperty,o.parentDataProperty],[fn.default.rootData,fn.default.rootData]];o.opts.dynamicRef&&f.push([fn.default.dynamicAnchors,fn.default.dynamicAnchors]);const h=(0,Be._)`${c}, ${r.object(...f)}`;return l!==Be.nil?(0,Be._)`${a}.call(${l}, ${h})`:(0,Be._)`${a}(${h})`}ve.callValidateCode=lb;const cb=(0,Be._)`new RegExp`;function ub({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Be._)`${i.code==="new RegExp"?cb:(0,rb.useFunc)(e,i)}(${r}, ${n})`})}ve.usePattern=ub;function fb(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const l=t.const("len",(0,Be._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:cf.Type.Num},s),t.if((0,Be.not)(s),a)})}}ve.validateArray=fb;function db(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,cf.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const c=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);t.assign(o,(0,Be._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Be.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ve.validateUnion=db;Object.defineProperty(jr,"__esModule",{value:!0});jr.validateKeywordUsage=jr.validSchemaType=jr.funcKeywordCode=jr.macroKeywordCode=void 0;const jt=pe,Wn=xr,hb=ve,pb=$o;function mb(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),l=Gg(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const u=r.name("valid");e.subschema({schema:a,schemaPath:jt.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}jr.macroKeywordCode=mb;function gb(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:l}=e;vb(l,t);const u=!a&&t.compile?t.compile.call(l.self,s,o,l):t.validate,c=Gg(n,i,u),f=n.let("valid");e.block$data(f,h),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function h(){if(t.errors===!1)E(),t.modifying&&eh(e),v(()=>e.error());else{const y=t.async?m():g();t.modifying&&eh(e),v(()=>yb(e,y))}}function m(){const y=n.let("ruleErrs",null);return n.try(()=>E((0,jt._)`await `),p=>n.assign(f,!1).if((0,jt._)`${p} instanceof ${l.ValidationError}`,()=>n.assign(y,(0,jt._)`${p}.errors`),()=>n.throw(p))),y}function g(){const y=(0,jt._)`${c}.errors`;return n.assign(y,null),E(jt.nil),y}function E(y=t.async?(0,jt._)`await `:jt.nil){const p=l.opts.passContext?Wn.default.this:Wn.default.self,S=!("compile"in t&&!a||t.schema===!1);n.assign(f,(0,jt._)`${y}${(0,hb.callValidateCode)(e,c,p,S)}`,t.modifying)}function v(y){var p;n.if((0,jt.not)((p=t.valid)!==null&&p!==void 0?p:f),y)}}jr.funcKeywordCode=gb;function eh(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,jt._)`${n.parentData}[${n.parentDataProperty}]`))}function yb(e,t){const{gen:r}=e;r.if((0,jt._)`Array.isArray(${t})`,()=>{r.assign(Wn.default.vErrors,(0,jt._)`${Wn.default.vErrors} === null ? ${t} : ${Wn.default.vErrors}.concat(${t})`).assign(Wn.default.errors,(0,jt._)`${Wn.default.vErrors}.length`),(0,pb.extendErrors)(e)},()=>e.error())}function vb({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Gg(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,jt.stringify)(r)})}function _b(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}jr.validSchemaType=_b;function $b({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const l=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}jr.validateKeywordUsage=$b;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.extendSubschemaMode=Pn.extendSubschemaData=Pn.getSubschema=void 0;const Dr=pe,Wg=Te;function Eb(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Dr._)`${e.schemaPath}${(0,Dr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Dr._)`${e.schemaPath}${(0,Dr.getProperty)(t)}${(0,Dr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Wg.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Pn.getSubschema=Eb;function wb(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:u,dataPathArr:c,opts:f}=t,h=a.let("data",(0,Dr._)`${t.data}${(0,Dr.getProperty)(r)}`,!0);l(h),e.errorPath=(0,Dr.str)`${u}${(0,Wg.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Dr._)`${r}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Dr.Name?i:a.let("data",i,!0);l(u),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}Pn.extendSubschemaData=wb;function Sb(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Pn.extendSubschemaMode=Sb;var wt={},Kg={exports:{}},$n=Kg.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};$a(t,n,i,e,"",e)};$n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};$n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};$n.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};$n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function $a(e,t,r,n,i,s,o,a,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,l,u);for(var c in n){var f=n[c];if(Array.isArray(f)){if(c in $n.arrayKeywords)for(var h=0;h<f.length;h++)$a(e,t,r,f[h],i+"/"+c+"/"+h,s,i,c,n,h)}else if(c in $n.propsKeywords){if(f&&typeof f=="object")for(var m in f)$a(e,t,r,f[m],i+"/"+c+"/"+bb(m),s,i,c,n,m)}else(c in $n.keywords||e.allKeys&&!(c in $n.skipKeywords))&&$a(e,t,r,f,i+"/"+c,s,i,c,n)}r(n,i,s,o,a,l,u)}}function bb(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Pb=Kg.exports;Object.defineProperty(wt,"__esModule",{value:!0});wt.getSchemaRefs=wt.resolveUrl=wt.normalizeId=wt._getFullPath=wt.getFullPath=wt.inlineRef=void 0;const Tb=Te,Ob=el,Ab=Pb,Cb=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Nb(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Bc(e):t?Yg(e)<=t:!1}wt.inlineRef=Nb;const Rb=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Bc(e){for(const t in e){if(Rb.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Bc)||typeof r=="object"&&Bc(r))return!0}return!1}function Yg(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Cb.has(r)&&(typeof e[r]=="object"&&(0,Tb.eachItem)(e[r],n=>t+=Yg(n)),t===1/0))return 1/0}return t}function Jg(e,t="",r){r!==!1&&(t=Ui(t));const n=e.parse(t);return Xg(e,n)}wt.getFullPath=Jg;function Xg(e,t){return e.serialize(t).split("#")[0]+"#"}wt._getFullPath=Xg;const Ib=/#\/?$/;function Ui(e){return e?e.replace(Ib,""):""}wt.normalizeId=Ui;function Db(e,t,r){return r=Ui(r),e.resolve(t,r)}wt.resolveUrl=Db;const Fb=/^[a-z_][-a-z0-9._]*$/i;function kb(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=Ui(e[r]||t),s={"":i},o=Jg(n,i,!1),a={},l=new Set;return Ab(e,{allKeys:!0},(f,h,m,g)=>{if(g===void 0)return;const E=o+h;let v=s[g];typeof f[r]=="string"&&(v=y.call(this,f[r])),p.call(this,f.$anchor),p.call(this,f.$dynamicAnchor),s[h]=v;function y(S){const N=this.opts.uriResolver.resolve;if(S=Ui(v?N(v,S):S),l.has(S))throw c(S);l.add(S);let M=this.refs[S];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?u(f,M.schema,S):S!==Ui(E)&&(S[0]==="#"?(u(f,a[S],S),a[S]=f):this.refs[S]=E),S}function p(S){if(typeof S=="string"){if(!Fb.test(S))throw new Error(`invalid anchor "${S}"`);y.call(this,`#${S}`)}}}),a;function u(f,h,m){if(h!==void 0&&!Ob(f,h))throw c(m)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}wt.getSchemaRefs=kb;Object.defineProperty(Tr,"__esModule",{value:!0});Tr.getData=Tr.KeywordCxt=Tr.validateFunctionCode=void 0;const Qg=Gi,th=Eo,df=Zr,Fa=Eo,Lb=il,Hs=jr,Hl=Pn,oe=pe,fe=xr,jb=wt,en=Te,ws=$o;function Mb(e){if(ty(e)&&(ry(e),ey(e))){qb(e);return}Zg(e,()=>(0,Qg.topBoolOrEmptySchema)(e))}Tr.validateFunctionCode=Mb;function Zg({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,oe._)`${fe.default.data}, ${fe.default.valCxt}`,n.$async,()=>{e.code((0,oe._)`"use strict"; ${rh(r,i)}`),xb(e,i),e.code(s)}):e.func(t,(0,oe._)`${fe.default.data}, ${Ub(i)}`,n.$async,()=>e.code(rh(r,i)).code(s))}function Ub(e){return(0,oe._)`{${fe.default.instancePath}="", ${fe.default.parentData}, ${fe.default.parentDataProperty}, ${fe.default.rootData}=${fe.default.data}${e.dynamicRef?(0,oe._)`, ${fe.default.dynamicAnchors}={}`:oe.nil}}={}`}function xb(e,t){e.if(fe.default.valCxt,()=>{e.var(fe.default.instancePath,(0,oe._)`${fe.default.valCxt}.${fe.default.instancePath}`),e.var(fe.default.parentData,(0,oe._)`${fe.default.valCxt}.${fe.default.parentData}`),e.var(fe.default.parentDataProperty,(0,oe._)`${fe.default.valCxt}.${fe.default.parentDataProperty}`),e.var(fe.default.rootData,(0,oe._)`${fe.default.valCxt}.${fe.default.rootData}`),t.dynamicRef&&e.var(fe.default.dynamicAnchors,(0,oe._)`${fe.default.valCxt}.${fe.default.dynamicAnchors}`)},()=>{e.var(fe.default.instancePath,(0,oe._)`""`),e.var(fe.default.parentData,(0,oe._)`undefined`),e.var(fe.default.parentDataProperty,(0,oe._)`undefined`),e.var(fe.default.rootData,fe.default.data),t.dynamicRef&&e.var(fe.default.dynamicAnchors,(0,oe._)`{}`)})}function qb(e){const{schema:t,opts:r,gen:n}=e;Zg(e,()=>{r.$comment&&t.$comment&&iy(e),Gb(e),n.let(fe.default.vErrors,null),n.let(fe.default.errors,0),r.unevaluated&&Vb(e),ny(e),Yb(e)})}function Vb(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,oe._)`${r}.evaluated`),t.if((0,oe._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,oe._)`${e.evaluated}.props`,(0,oe._)`undefined`)),t.if((0,oe._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,oe._)`${e.evaluated}.items`,(0,oe._)`undefined`))}function rh(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,oe._)`/*# sourceURL=${r} */`:oe.nil}function Bb(e,t){if(ty(e)&&(ry(e),ey(e))){zb(e,t);return}(0,Qg.boolOrEmptySchema)(e,t)}function ey({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function ty(e){return typeof e.schema!="boolean"}function zb(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&iy(e),Wb(e),Kb(e);const s=n.const("_errs",fe.default.errors);ny(e,s),n.var(t,(0,oe._)`${s} === ${fe.default.errors}`)}function ry(e){(0,en.checkUnknownRules)(e),Hb(e)}function ny(e,t){if(e.opts.jtd)return nh(e,[],!1,t);const r=(0,th.getSchemaTypes)(e.schema),n=(0,th.coerceAndCheckDataType)(e,r);nh(e,r,!n,t)}function Hb(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,en.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Gb(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,en.checkStrictMode)(e,"default is ignored in the schema root")}function Wb(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,jb.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Kb(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function iy({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,oe._)`${fe.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,oe.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,oe._)`${fe.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function Yb(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,oe._)`${fe.default.errors} === 0`,()=>t.return(fe.default.data),()=>t.throw((0,oe._)`new ${i}(${fe.default.vErrors})`)):(t.assign((0,oe._)`${n}.errors`,fe.default.vErrors),s.unevaluated&&Jb(e),t.return((0,oe._)`${fe.default.errors} === 0`))}function Jb({gen:e,evaluated:t,props:r,items:n}){r instanceof oe.Name&&e.assign((0,oe._)`${t}.props`,r),n instanceof oe.Name&&e.assign((0,oe._)`${t}.items`,n)}function nh(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:a,opts:l,self:u}=e,{RULES:c}=u;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,en.schemaHasRulesButRef)(s,c))){i.block(()=>ay(e,"$ref",c.all.$ref.definition));return}l.jtd||Xb(e,t),i.block(()=>{for(const h of c.rules)f(h);f(c.post)});function f(h){(0,df.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Fa.checkDataType)(h.type,o,l.strictNumbers)),ih(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Fa.reportTypeError)(e)),i.endIf()):ih(e,h),a||i.if((0,oe._)`${fe.default.errors} === ${n||0}`))}}function ih(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,Lb.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,df.shouldUseRule)(n,s)&&ay(e,s.keyword,s.definition,t.type)})}function Xb(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Qb(e,t),e.opts.allowUnionTypes||Zb(e,t),e1(e,e.dataTypes))}function Qb(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{sy(e.dataTypes,r)||hf(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),r1(e,t)}}function Zb(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&hf(e,"use allowUnionTypes to allow union type keyword")}function e1(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,df.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>t1(t,o))&&hf(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function t1(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function sy(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function r1(e,t){const r=[];for(const n of e.dataTypes)sy(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function hf(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,en.checkStrictMode)(e,t,e.opts.strictTypes)}class oy{constructor(t,r,n){if((0,Hs.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,en.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ly(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Hs.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",fe.default.errors))}result(t,r,n){this.failResult((0,oe.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,oe.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,oe._)`${r} !== undefined && (${(0,oe.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?ws.reportExtraError:ws.reportError)(this,this.def.error,r)}$dataError(){(0,ws.reportError)(this,this.def.$dataError||ws.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ws.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=oe.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=oe.nil,r=oe.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,oe.or)((0,oe._)`${i} === undefined`,r)),t!==oe.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==oe.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,oe.or)(o(),a());function o(){if(n.length){if(!(r instanceof oe.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,oe._)`${(0,Fa.checkDataTypes)(l,r,s.opts.strictNumbers,Fa.DataType.Wrong)}`}return oe.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,oe._)`!${l}(${r})`}return oe.nil}}subschema(t,r){const n=(0,Hl.getSubschema)(this.it,t);(0,Hl.extendSubschemaData)(n,this.it,t),(0,Hl.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Bb(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=en.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=en.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,oe.Name)),!0}}Tr.KeywordCxt=oy;function ay(e,t,r,n){const i=new oy(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Hs.funcKeywordCode)(i,r):"macro"in r?(0,Hs.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Hs.funcKeywordCode)(i,r)}const n1=/^\/(?:[^~]|~0|~1)*$/,i1=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ly(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return fe.default.rootData;if(e[0]==="/"){if(!n1.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=fe.default.rootData}else{const u=i1.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=t)throw new Error(l("property/index",c));return n[t-c]}if(c>t)throw new Error(l("data",c));if(s=r[t-c],!i)return s}let o=s;const a=i.split("/");for(const u of a)u&&(s=(0,oe._)`${s}${(0,oe.getProperty)((0,en.unescapeJsonPointer)(u))}`,o=(0,oe._)`${o} && ${s}`);return o;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}Tr.getData=ly;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});class s1 extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}wo.default=s1;var So={};Object.defineProperty(So,"__esModule",{value:!0});const Gl=wt;class o1 extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Gl.resolveUrl)(t,r,n),this.missingSchema=(0,Gl.normalizeId)((0,Gl.getFullPath)(t,this.missingRef))}}So.default=o1;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.resolveSchema=Xt.getCompilingSchema=Xt.resolveRef=Xt.compileSchema=Xt.SchemaEnv=void 0;const vr=pe,a1=wo,Mn=xr,br=wt,sh=Te,l1=Tr;class sl{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,br.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Xt.SchemaEnv=sl;function pf(e){const t=cy.call(this,e);if(t)return t;const r=(0,br.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new vr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:a1.default,code:(0,vr._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const u={gen:o,allErrors:this.opts.allErrors,data:Mn.default.data,parentData:Mn.default.parentData,parentDataProperty:Mn.default.parentDataProperty,dataNames:[Mn.default.data],dataPathArr:[vr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,vr.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:vr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,vr._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,l1.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Mn.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const m=new Function(`${Mn.default.self}`,`${Mn.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:g,items:E}=u;m.evaluated={props:g instanceof vr.Name?void 0:g,items:E instanceof vr.Name?void 0:E,dynamicProps:g instanceof vr.Name,dynamicItems:E instanceof vr.Name},m.source&&(m.source.evaluated=(0,vr.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Xt.compileSchema=pf;function c1(e,t,r){var n;r=(0,br.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=d1.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new sl({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=u1.call(this,s)}Xt.resolveRef=c1;function u1(e){return(0,br.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:pf.call(this,e)}function cy(e){for(const t of this._compilations)if(f1(t,e))return t}Xt.getCompilingSchema=cy;function f1(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function d1(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ol.call(this,e,t)}function ol(e,t){const r=this.opts.uriResolver.parse(t),n=(0,br._getFullPath)(this.opts.uriResolver,r);let i=(0,br.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Wl.call(this,r,e);const s=(0,br.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=ol.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:Wl.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||pf.call(this,o),s===(0,br.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,br.resolveUrl)(this.opts.uriResolver,i,u)),new sl({schema:a,schemaId:l,root:e,baseId:i})}return Wl.call(this,r,o)}}Xt.resolveSchema=ol;const h1=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Wl(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,sh.unescapeFragment)(a)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!h1.has(a)&&u&&(t=(0,br.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,sh.schemaHasRulesButRef)(r,this.RULES)){const a=(0,br.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=ol.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new sl({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const p1="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",m1="Meta-schema for $data reference (JSON AnySchema extension proposal)",g1="object",y1=["$data"],v1={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},_1=!1,$1={$id:p1,description:m1,type:g1,required:y1,properties:v1,additionalProperties:_1};var mf={};Object.defineProperty(mf,"__esModule",{value:!0});const uy=Og;uy.code='require("ajv/dist/runtime/uri").default';mf.default=uy;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Tr;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=pe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=wo,i=So,s=oi,o=Xt,a=pe,l=wt,u=Eo,c=Te,f=$1,h=mf,m=(A,w)=>new RegExp(A,w);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function S(A){var w,R,C,d,$,L,P,_,z,U,re,de,be,ke,ze,Me,Ie,Xe,Bt,Rt,It,ut,st,ir,dr;const Dt=A.strict,zt=(w=A.code)===null||w===void 0?void 0:w.optimize,hr=zt===!0||zt===void 0?1:zt||0,dt=(C=(R=A.code)===null||R===void 0?void 0:R.regExp)!==null&&C!==void 0?C:m,ot=(d=A.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(L=($=A.strictSchema)!==null&&$!==void 0?$:Dt)!==null&&L!==void 0?L:!0,strictNumbers:(_=(P=A.strictNumbers)!==null&&P!==void 0?P:Dt)!==null&&_!==void 0?_:!0,strictTypes:(U=(z=A.strictTypes)!==null&&z!==void 0?z:Dt)!==null&&U!==void 0?U:"log",strictTuples:(de=(re=A.strictTuples)!==null&&re!==void 0?re:Dt)!==null&&de!==void 0?de:"log",strictRequired:(ke=(be=A.strictRequired)!==null&&be!==void 0?be:Dt)!==null&&ke!==void 0?ke:!1,code:A.code?{...A.code,optimize:hr,regExp:dt}:{optimize:hr,regExp:dt},loopRequired:(ze=A.loopRequired)!==null&&ze!==void 0?ze:p,loopEnum:(Me=A.loopEnum)!==null&&Me!==void 0?Me:p,meta:(Ie=A.meta)!==null&&Ie!==void 0?Ie:!0,messages:(Xe=A.messages)!==null&&Xe!==void 0?Xe:!0,inlineRefs:(Bt=A.inlineRefs)!==null&&Bt!==void 0?Bt:!0,schemaId:(Rt=A.schemaId)!==null&&Rt!==void 0?Rt:"$id",addUsedSchema:(It=A.addUsedSchema)!==null&&It!==void 0?It:!0,validateSchema:(ut=A.validateSchema)!==null&&ut!==void 0?ut:!0,validateFormats:(st=A.validateFormats)!==null&&st!==void 0?st:!0,unicodeRegExp:(ir=A.unicodeRegExp)!==null&&ir!==void 0?ir:!0,int32range:(dr=A.int32range)!==null&&dr!==void 0?dr:!0,uriResolver:ot}}class N{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...S(w)};const{es5:R,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:R,lines:C}),this.logger=H(w.logger);const d=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,w,"NOT SUPPORTED"),M.call(this,y,w,"DEPRECATED","warn"),this._metaOpts=V.call(this),w.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&T.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),b.call(this),w.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:R,schemaId:C}=this.opts;let d=f;C==="id"&&(d={...f},d.id=d.$id,delete d.$id),R&&w&&this.addMetaSchema(d,d[C],!1)}defaultMeta(){const{meta:w,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[R]||w:void 0}validate(w,R){let C;if(typeof w=="string"){if(C=this.getSchema(w),!C)throw new Error(`no schema with key or ref "${w}"`)}else C=this.compile(w);const d=C(R);return"$async"in C||(this.errors=C.errors),d}compile(w,R){const C=this._addSchema(w,R);return C.validate||this._compileSchemaEnv(C)}compileAsync(w,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return d.call(this,w,R);async function d(U,re){await $.call(this,U.$schema);const de=this._addSchema(U,re);return de.validate||L.call(this,de)}async function $(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function L(U){try{return this._compileSchemaEnv(U)}catch(re){if(!(re instanceof i.default))throw re;return P.call(this,re),await _.call(this,re.missingSchema),L.call(this,U)}}function P({missingSchema:U,missingRef:re}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${re} cannot be resolved`)}async function _(U){const re=await z.call(this,U);this.refs[U]||await $.call(this,re.$schema),this.refs[U]||this.addSchema(re,U,R)}async function z(U){const re=this._loading[U];if(re)return re;try{return await(this._loading[U]=C(U))}finally{delete this._loading[U]}}}addSchema(w,R,C,d=this.opts.validateSchema){if(Array.isArray(w)){for(const L of w)this.addSchema(L,void 0,C,d);return this}let $;if(typeof w=="object"){const{schemaId:L}=this.opts;if($=w[L],$!==void 0&&typeof $!="string")throw new Error(`schema ${L} must be string`)}return R=(0,l.normalizeId)(R||$),this._checkUnique(R),this.schemas[R]=this._addSchema(w,C,R,d,!0),this}addMetaSchema(w,R,C=this.opts.validateSchema){return this.addSchema(w,R,!0,C),this}validateSchema(w,R){if(typeof w=="boolean")return!0;let C;if(C=w.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(C,w);if(!d&&R){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return d}getSchema(w){let R;for(;typeof(R=O.call(this,w))=="string";)w=R;if(R===void 0){const{schemaId:C}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:C});if(R=o.resolveSchema.call(this,d,w),!R)return;this.refs[w]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=O.call(this,w);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const R=w;this._cache.delete(R);let C=w[this.opts.schemaId];return C&&(C=(0,l.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const R of w)this.addKeyword(R);return this}addKeyword(w,R){let C;if(typeof w=="string")C=w,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=C);else if(typeof w=="object"&&R===void 0){if(R=w,C=R.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,C,R),!R)return(0,c.eachItem)(C,$=>Q.call(this,$)),this;K.call(this,R);const d={...R,type:(0,u.getJSONTypes)(R.type),schemaType:(0,u.getJSONTypes)(R.schemaType)};return(0,c.eachItem)(C,d.type.length===0?$=>Q.call(this,$,d):$=>d.type.forEach(L=>Q.call(this,$,d,L))),this}getKeyword(w){const R=this.RULES.all[w];return typeof R=="object"?R.definition:!!R}removeKeyword(w){const{RULES:R}=this;delete R.keywords[w],delete R.all[w];for(const C of R.rules){const d=C.rules.findIndex($=>$.keyword===w);d>=0&&C.rules.splice(d,1)}return this}addFormat(w,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[w]=R,this}errorsText(w=this.errors,{separator:R=", ",dataVar:C="data"}={}){return!w||w.length===0?"No errors":w.map(d=>`${C}${d.instancePath} ${d.message}`).reduce((d,$)=>d+R+$)}$dataMetaSchema(w,R){const C=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const d of R){const $=d.split("/").slice(1);let L=w;for(const P of $)L=L[P];for(const P in C){const _=C[P];if(typeof _!="object")continue;const{$data:z}=_.definition,U=L[P];z&&U&&(L[P]=j(U))}}return w}_removeAllSchemas(w,R){for(const C in w){const d=w[C];(!R||R.test(C))&&(typeof d=="string"?delete w[C]:d&&!d.meta&&(this._cache.delete(d.schema),delete w[C]))}}_addSchema(w,R,C,d=this.opts.validateSchema,$=this.opts.addUsedSchema){let L;const{schemaId:P}=this.opts;if(typeof w=="object")L=w[P];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let _=this._cache.get(w);if(_!==void 0)return _;C=(0,l.normalizeId)(L||C);const z=l.getSchemaRefs.call(this,w,C);return _=new o.SchemaEnv({schema:w,schemaId:P,meta:R,baseId:C,localRefs:z}),this._cache.set(_.schema,_),$&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=_),d&&this.validateSchema(w,!0),_}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=R}}}e.default=N,N.ValidationError=n.default,N.MissingRefError=i.default;function M(A,w,R,C="error"){for(const d in A){const $=d;$ in w&&this.logger[C](`${R}: option ${d}. ${A[$]}`)}}function O(A){return A=(0,l.normalizeId)(A),this.schemas[A]||this.refs[A]}function b(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const w in A)this.addSchema(A[w],w)}function D(){for(const A in this.opts.formats){const w=this.opts.formats[A];w&&this.addFormat(A,w)}}function T(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in A){const R=A[w];R.keyword||(R.keyword=w),this.addKeyword(R)}}function V(){const A={...this.opts};for(const w of g)delete A[w];return A}const Y={log(){},warn(){},error(){}};function H(A){if(A===!1)return Y;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function G(A,w){const{RULES:R}=this;if((0,c.eachItem)(A,C=>{if(R.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!W.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function Q(A,w,R){var C;const d=w==null?void 0:w.post;if(R&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let L=d?$.post:$.rules.find(({type:_})=>_===R);if(L||(L={type:R,rules:[]},$.rules.push(L)),$.keywords[A]=!0,!w)return;const P={keyword:A,definition:{...w,type:(0,u.getJSONTypes)(w.type),schemaType:(0,u.getJSONTypes)(w.schemaType)}};w.before?Z.call(this,L,P,w.before):L.rules.push(P),$.all[A]=P,(C=w.implements)===null||C===void 0||C.forEach(_=>this.addKeyword(_))}function Z(A,w,R){const C=A.rules.findIndex(d=>d.keyword===R);C>=0?A.rules.splice(C,0,w):(A.rules.push(w),this.logger.warn(`rule ${R} is not defined`))}function K(A){let{metaSchema:w}=A;w!==void 0&&(A.$data&&this.opts.$data&&(w=j(w)),A.validateSchema=this.compile(w,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(A){return{anyOf:[A,I]}}})(xg);var gf={},yf={},vf={};Object.defineProperty(vf,"__esModule",{value:!0});const E1={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};vf.default=E1;var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.callRef=ai.getValidate=void 0;const w1=So,oh=ve,Yt=pe,Ei=xr,ah=Xt,Qo=Te,S1={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:l}=n,{root:u}=s;if((r==="#"||r==="#/")&&i===u.baseId)return f();const c=ah.resolveRef.call(l,u,i,r);if(c===void 0)throw new w1.default(n.opts.uriResolver,i,r);if(c instanceof ah.SchemaEnv)return h(c);return m(c);function f(){if(s===u)return Ea(e,o,s,s.$async);const g=t.scopeValue("root",{ref:u});return Ea(e,(0,Yt._)`${g}.validate`,u,u.$async)}function h(g){const E=fy(e,g);Ea(e,E,g,g.$async)}function m(g){const E=t.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,Yt.stringify)(g)}:{ref:g}),v=t.name("valid"),y=e.subschema({schema:g,dataTypes:[],schemaPath:Yt.nil,topSchemaRef:E,errSchemaPath:r},v);e.mergeEvaluated(y),e.ok(v)}}};function fy(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Yt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ai.getValidate=fy;function Ea(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,u=l.passContext?Ei.default.this:Yt.nil;n?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=i.let("valid");i.try(()=>{i.code((0,Yt._)`await ${(0,oh.callValidateCode)(e,t,u)}`),m(t),o||i.assign(g,!0)},E=>{i.if((0,Yt._)`!(${E} instanceof ${s.ValidationError})`,()=>i.throw(E)),h(E),o||i.assign(g,!1)}),e.ok(g)}function f(){e.result((0,oh.callValidateCode)(e,t,u),()=>m(t),()=>h(t))}function h(g){const E=(0,Yt._)`${g}.errors`;i.assign(Ei.default.vErrors,(0,Yt._)`${Ei.default.vErrors} === null ? ${E} : ${Ei.default.vErrors}.concat(${E})`),i.assign(Ei.default.errors,(0,Yt._)`${Ei.default.vErrors}.length`)}function m(g){var E;if(!s.opts.unevaluated)return;const v=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Qo.mergeEvaluated.props(i,v.props,s.props));else{const y=i.var("props",(0,Yt._)`${g}.evaluated.props`);s.props=Qo.mergeEvaluated.props(i,y,s.props,Yt.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Qo.mergeEvaluated.items(i,v.items,s.items));else{const y=i.var("items",(0,Yt._)`${g}.evaluated.items`);s.items=Qo.mergeEvaluated.items(i,y,s.items,Yt.Name)}}}ai.callRef=Ea;ai.default=S1;Object.defineProperty(yf,"__esModule",{value:!0});const b1=vf,P1=ai,T1=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",b1.default,P1.default];yf.default=T1;var _f={},$f={};Object.defineProperty($f,"__esModule",{value:!0});const ka=pe,dn=ka.operators,La={maximum:{okStr:"<=",ok:dn.LTE,fail:dn.GT},minimum:{okStr:">=",ok:dn.GTE,fail:dn.LT},exclusiveMaximum:{okStr:"<",ok:dn.LT,fail:dn.GTE},exclusiveMinimum:{okStr:">",ok:dn.GT,fail:dn.LTE}},O1={message:({keyword:e,schemaCode:t})=>(0,ka.str)`must be ${La[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ka._)`{comparison: ${La[e].okStr}, limit: ${t}}`},A1={keyword:Object.keys(La),type:"number",schemaType:"number",$data:!0,error:O1,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,ka._)`${r} ${La[t].fail} ${n} || isNaN(${r})`)}};$f.default=A1;var Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});const Gs=pe,C1={message:({schemaCode:e})=>(0,Gs.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Gs._)`{multipleOf: ${e}}`},N1={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:C1,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Gs._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Gs._)`${o} !== parseInt(${o})`;e.fail$data((0,Gs._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Ef.default=N1;var wf={},Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});function dy(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Sf.default=dy;dy.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(wf,"__esModule",{value:!0});const Kn=pe,R1=Te,I1=Sf,D1={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Kn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Kn._)`{limit: ${e}}`},F1={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:D1,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?Kn.operators.GT:Kn.operators.LT,o=i.opts.unicode===!1?(0,Kn._)`${r}.length`:(0,Kn._)`${(0,R1.useFunc)(e.gen,I1.default)}(${r})`;e.fail$data((0,Kn._)`${o} ${s} ${n}`)}};wf.default=F1;var bf={};Object.defineProperty(bf,"__esModule",{value:!0});const k1=ve,ja=pe,L1={message:({schemaCode:e})=>(0,ja.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,ja._)`{pattern: ${e}}`},j1={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:L1,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,ja._)`(new RegExp(${i}, ${o}))`:(0,k1.usePattern)(e,n);e.fail$data((0,ja._)`!${a}.test(${t})`)}};bf.default=j1;var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});const Ws=pe,M1={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Ws.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ws._)`{limit: ${e}}`},U1={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:M1,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Ws.operators.GT:Ws.operators.LT;e.fail$data((0,Ws._)`Object.keys(${r}).length ${i} ${n}`)}};Pf.default=U1;var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});const Ss=ve,Ks=pe,x1=Te,q1={message:({params:{missingProperty:e}})=>(0,Ks.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ks._)`{missingProperty: ${e}}`},V1={keyword:"required",type:"object",schemaType:"array",$data:!0,error:q1,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const l=r.length>=a.loopRequired;if(o.allErrors?u():c(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:g}=e.it;for(const E of r)if((m==null?void 0:m[E])===void 0&&!g.has(E)){const v=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${E}" is not defined at "${v}" (strictRequired)`;(0,x1.checkStrictMode)(o,y,o.opts.strictRequired)}}function u(){if(l||s)e.block$data(Ks.nil,f);else for(const m of r)(0,Ss.checkReportMissingProp)(e,m)}function c(){const m=t.let("missing");if(l||s){const g=t.let("valid",!0);e.block$data(g,()=>h(m,g)),e.ok(g)}else t.if((0,Ss.checkMissingProp)(e,r,m)),(0,Ss.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Ss.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function h(m,g){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(g,(0,Ss.propertyInData)(t,i,m,a.ownProperties)),t.if((0,Ks.not)(g),()=>{e.error(),t.break()})},Ks.nil)}}};Tf.default=V1;var Of={};Object.defineProperty(Of,"__esModule",{value:!0});const Ys=pe,B1={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Ys.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Ys._)`{limit: ${e}}`},z1={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:B1,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Ys.operators.GT:Ys.operators.LT;e.fail$data((0,Ys._)`${r}.length ${i} ${n}`)}};Of.default=z1;var Af={},bo={};Object.defineProperty(bo,"__esModule",{value:!0});const hy=el;hy.code='require("ajv/dist/runtime/equal").default';bo.default=hy;Object.defineProperty(Af,"__esModule",{value:!0});const Kl=Eo,_t=pe,H1=Te,G1=bo,W1={message:({params:{i:e,j:t}})=>(0,_t.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,_t._)`{i: ${e}, j: ${t}}`},K1={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:W1,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;const l=t.let("valid"),u=s.items?(0,Kl.getSchemaTypes)(s.items):[];e.block$data(l,c,(0,_t._)`${o} === false`),e.ok(l);function c(){const g=t.let("i",(0,_t._)`${r}.length`),E=t.let("j");e.setParams({i:g,j:E}),t.assign(l,!0),t.if((0,_t._)`${g} > 1`,()=>(f()?h:m)(g,E))}function f(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function h(g,E){const v=t.name("item"),y=(0,Kl.checkDataTypes)(u,v,a.opts.strictNumbers,Kl.DataType.Wrong),p=t.const("indices",(0,_t._)`{}`);t.for((0,_t._)`;${g}--;`,()=>{t.let(v,(0,_t._)`${r}[${g}]`),t.if(y,(0,_t._)`continue`),u.length>1&&t.if((0,_t._)`typeof ${v} == "string"`,(0,_t._)`${v} += "_"`),t.if((0,_t._)`typeof ${p}[${v}] == "number"`,()=>{t.assign(E,(0,_t._)`${p}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,_t._)`${p}[${v}] = ${g}`)})}function m(g,E){const v=(0,H1.useFunc)(t,G1.default),y=t.name("outer");t.label(y).for((0,_t._)`;${g}--;`,()=>t.for((0,_t._)`${E} = ${g}; ${E}--;`,()=>t.if((0,_t._)`${v}(${r}[${g}], ${r}[${E}])`,()=>{e.error(),t.assign(l,!1).break(y)})))}}};Af.default=K1;var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});const zc=pe,Y1=Te,J1=bo,X1={message:"must be equal to constant",params:({schemaCode:e})=>(0,zc._)`{allowedValue: ${e}}`},Q1={keyword:"const",$data:!0,error:X1,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,zc._)`!${(0,Y1.useFunc)(t,J1.default)}(${r}, ${i})`):e.fail((0,zc._)`${s} !== ${r}`)}};Cf.default=Q1;var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});const Ls=pe,Z1=Te,eP=bo,tP={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Ls._)`{allowedValues: ${e}}`},rP={keyword:"enum",schemaType:"array",$data:!0,error:tP,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let l;const u=()=>l??(l=(0,Z1.useFunc)(t,eP.default));let c;if(a||n)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);c=(0,Ls.or)(...i.map((g,E)=>h(m,E)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,m=>t.if((0,Ls._)`${u()}(${r}, ${m})`,()=>t.assign(c,!0).break()))}function h(m,g){const E=i[g];return typeof E=="object"&&E!==null?(0,Ls._)`${u()}(${r}, ${m}[${g}])`:(0,Ls._)`${r} === ${E}`}}};Nf.default=rP;Object.defineProperty(_f,"__esModule",{value:!0});const nP=$f,iP=Ef,sP=wf,oP=bf,aP=Pf,lP=Tf,cP=Of,uP=Af,fP=Cf,dP=Nf,hP=[nP.default,iP.default,sP.default,oP.default,aP.default,lP.default,cP.default,uP.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},fP.default,dP.default];_f.default=hP;var Rf={},os={};Object.defineProperty(os,"__esModule",{value:!0});os.validateAdditionalItems=void 0;const Yn=pe,Hc=Te,pP={message:({params:{len:e}})=>(0,Yn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Yn._)`{limit: ${e}}`},mP={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:pP,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Hc.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}py(e,n)}};function py(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,Yn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Yn._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,Hc.alwaysValidSchema)(o,n)){const u=r.var("valid",(0,Yn._)`${a} <= ${t.length}`);r.if((0,Yn.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:Hc.Type.Num},u),o.allErrors||r.if((0,Yn.not)(u),()=>r.break())})}}os.validateAdditionalItems=py;os.default=mP;var If={},as={};Object.defineProperty(as,"__esModule",{value:!0});as.validateTuple=void 0;const lh=pe,wa=Te,gP=ve,yP={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return my(e,"additionalItems",t);r.items=!0,!(0,wa.alwaysValidSchema)(r,t)&&e.ok((0,gP.validateArray)(e))}};function my(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=wa.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),u=n.const("len",(0,lh._)`${s}.length`);r.forEach((f,h)=>{(0,wa.alwaysValidSchema)(a,f)||(n.if((0,lh._)`${u} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function c(f){const{opts:h,errSchemaPath:m}=a,g=r.length,E=g===f.minItems&&(g===f.maxItems||f[t]===!1);if(h.strictTuples&&!E){const v=`"${o}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,wa.checkStrictMode)(a,v,h.strictTuples)}}}as.validateTuple=my;as.default=yP;Object.defineProperty(If,"__esModule",{value:!0});const vP=as,_P={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,vP.validateTuple)(e,"items")};If.default=_P;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});const ch=pe,$P=Te,EP=ve,wP=os,SP={message:({params:{len:e}})=>(0,ch.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ch._)`{limit: ${e}}`},bP={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:SP,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,$P.alwaysValidSchema)(n,t)&&(i?(0,wP.validateAdditionalItems)(e,i):e.ok((0,EP.validateArray)(e)))}};Df.default=bP;var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});const fr=pe,Zo=Te,PP={message:({params:{min:e,max:t}})=>t===void 0?(0,fr.str)`must contain at least ${e} valid item(s)`:(0,fr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,fr._)`{minContains: ${e}}`:(0,fr._)`{minContains: ${e}, maxContains: ${t}}`},TP={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:PP,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,a;const{minContains:l,maxContains:u}=n;s.opts.next?(o=l===void 0?1:l,a=u):o=1;const c=t.const("len",(0,fr._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Zo.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Zo.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Zo.alwaysValidSchema)(s,r)){let E=(0,fr._)`${c} >= ${o}`;a!==void 0&&(E=(0,fr._)`${E} && ${c} <= ${a}`),e.pass(E);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?m(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,fr._)`${i}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){const E=t.name("_valid"),v=t.let("count",0);m(E,()=>t.if(E,()=>g(v)))}function m(E,v){t.forRange("i",0,c,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:Zo.Type.Num,compositeRule:!0},E),v()})}function g(E){t.code((0,fr._)`${E}++`),a===void 0?t.if((0,fr._)`${E} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,fr._)`${E} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,fr._)`${E} >= ${o}`,()=>t.assign(f,!0)))}}};Ff.default=TP;var gy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=pe,r=Te,n=ve;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,t._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=s(l);o(l,u),a(l,c)}};function s({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const h=Array.isArray(l[f])?u:c;h[f]=l[f]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:f,it:h}=l;if(Object.keys(u).length===0)return;const m=c.let("missing");for(const g in u){const E=u[g];if(E.length===0)continue;const v=(0,n.propertyInData)(c,f,g,h.opts.ownProperties);l.setParams({property:g,depsCount:E.length,deps:E.join(", ")}),h.allErrors?c.if(v,()=>{for(const y of E)(0,n.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,E,m)})`),(0,n.reportMissingProp)(l,m),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:f,keyword:h,it:m}=l,g=c.name("valid");for(const E in u)(0,r.alwaysValidSchema)(m,u[E])||(c.if((0,n.propertyInData)(c,f,E,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:E},g);l.mergeValidEvaluated(v,g)},()=>c.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i})(gy);var kf={};Object.defineProperty(kf,"__esModule",{value:!0});const yy=pe,OP=Te,AP={message:"property name must be valid",params:({params:e})=>(0,yy._)`{propertyName: ${e.propertyName}}`},CP={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:AP,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,OP.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,yy.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};kf.default=CP;var al={};Object.defineProperty(al,"__esModule",{value:!0});const ea=ve,$r=pe,NP=xr,ta=Te,RP={message:"must NOT have additional properties",params:({params:e})=>(0,$r._)`{additionalProperty: ${e.additionalProperty}}`},IP={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:RP,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,ta.alwaysValidSchema)(o,r))return;const u=(0,ea.allSchemaProperties)(n.properties),c=(0,ea.allSchemaProperties)(n.patternProperties);f(),e.ok((0,$r._)`${s} === ${NP.default.errors}`);function f(){t.forIn("key",i,v=>{!u.length&&!c.length?g(v):t.if(h(v),()=>g(v))})}function h(v){let y;if(u.length>8){const p=(0,ta.schemaRefOrVal)(o,n.properties,"properties");y=(0,ea.isOwnProperty)(t,p,v)}else u.length?y=(0,$r.or)(...u.map(p=>(0,$r._)`${v} === ${p}`)):y=$r.nil;return c.length&&(y=(0,$r.or)(y,...c.map(p=>(0,$r._)`${(0,ea.usePattern)(e,p)}.test(${v})`))),(0,$r.not)(y)}function m(v){t.code((0,$r._)`delete ${i}[${v}]`)}function g(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,ta.alwaysValidSchema)(o,r)){const y=t.name("valid");l.removeAdditional==="failing"?(E(v,y,!1),t.if((0,$r.not)(y),()=>{e.reset(),m(v)})):(E(v,y),a||t.if((0,$r.not)(y),()=>t.break()))}}function E(v,y,p){const S={keyword:"additionalProperties",dataProp:v,dataPropType:ta.Type.Str};p===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,y)}}};al.default=IP;var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});const DP=Tr,uh=ve,Yl=Te,fh=al,FP={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&fh.default.code(new DP.KeywordCxt(s,fh.default,"additionalProperties"));const o=(0,uh.allSchemaProperties)(r);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Yl.mergeEvaluated.props(t,(0,Yl.toHash)(o),s.props));const a=o.filter(f=>!(0,Yl.alwaysValidSchema)(s,r[f]));if(a.length===0)return;const l=t.name("valid");for(const f of a)u(f)?c(f):(t.if((0,uh.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(l);function u(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};Lf.default=FP;var jf={};Object.defineProperty(jf,"__esModule",{value:!0});const dh=ve,ra=pe,hh=Te,ph=Te,kP={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,dh.allSchemaProperties)(r),l=a.filter(E=>(0,hh.alwaysValidSchema)(s,r[E]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof ra.Name)&&(s.props=(0,ph.evaluatedPropsToName)(t,s.props));const{props:f}=s;h();function h(){for(const E of a)u&&m(E),s.allErrors?g(E):(t.var(c,!0),g(E),t.if(c))}function m(E){for(const v in u)new RegExp(E).test(v)&&(0,hh.checkStrictMode)(s,`property ${v} matches pattern ${E} (use allowMatchingProperties)`)}function g(E){t.forIn("key",n,v=>{t.if((0,ra._)`${(0,dh.usePattern)(e,E)}.test(${v})`,()=>{const y=l.includes(E);y||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:v,dataPropType:ph.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,ra._)`${f}[${v}]`,!0):!y&&!s.allErrors&&t.if((0,ra.not)(c),()=>t.break())})})}}};jf.default=kP;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});const LP=Te,jP={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,LP.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Mf.default=jP;var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});const MP=ve,UP={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:MP.validateUnion,error:{message:"must match a schema in anyOf"}};Uf.default=UP;var xf={};Object.defineProperty(xf,"__esModule",{value:!0});const Sa=pe,xP=Te,qP={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Sa._)`{passingSchemas: ${e.passing}}`},VP={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:qP,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(o,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((c,f)=>{let h;(0,xP.alwaysValidSchema)(i,c)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&t.if((0,Sa._)`${l} && ${o}`).assign(o,!1).assign(a,(0,Sa._)`[${a}, ${f}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,f),h&&e.mergeEvaluated(h,Sa.Name)})})}}};xf.default=VP;var qf={};Object.defineProperty(qf,"__esModule",{value:!0});const BP=Te,zP={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,BP.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};qf.default=zP;var Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});const Ma=pe,vy=Te,HP={message:({params:e})=>(0,Ma.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Ma._)`{failingKeyword: ${e.ifClause}}`},GP={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:HP,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,vy.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=mh(n,"then"),s=mh(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else i?t.if(a,u("then")):t.if((0,Ma.not)(a),u("else"));e.pass(o,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,f){return()=>{const h=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(h,o),f?t.assign(f,(0,Ma._)`${c}`):e.setParams({ifClause:c})}}}};function mh(e,t){const r=e.schema[t];return r!==void 0&&!(0,vy.alwaysValidSchema)(e,r)}Vf.default=GP;var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});const WP=Te,KP={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,WP.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Bf.default=KP;Object.defineProperty(Rf,"__esModule",{value:!0});const YP=os,JP=If,XP=as,QP=Df,ZP=Ff,eT=gy,tT=kf,rT=al,nT=Lf,iT=jf,sT=Mf,oT=Uf,aT=xf,lT=qf,cT=Vf,uT=Bf;function fT(e=!1){const t=[sT.default,oT.default,aT.default,lT.default,cT.default,uT.default,tT.default,rT.default,eT.default,nT.default,iT.default];return e?t.push(JP.default,QP.default):t.push(YP.default,XP.default),t.push(ZP.default),t}Rf.default=fT;var zf={},Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});const it=pe,dT={message:({schemaCode:e})=>(0,it.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,it._)`{format: ${e}}`},hT={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:dT,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:f}=a;if(!l.validateFormats)return;i?h():m();function h(){const g=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),E=r.const("fDef",(0,it._)`${g}[${o}]`),v=r.let("fType"),y=r.let("format");r.if((0,it._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(v,(0,it._)`${E}.type || "string"`).assign(y,(0,it._)`${E}.validate`),()=>r.assign(v,(0,it._)`"string"`).assign(y,E)),e.fail$data((0,it.or)(p(),S()));function p(){return l.strictSchema===!1?it.nil:(0,it._)`${o} && !${y}`}function S(){const N=c.$async?(0,it._)`(${E}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,it._)`${y}(${n})`,M=(0,it._)`(typeof ${y} == "function" ? ${N} : ${y}.test(${n}))`;return(0,it._)`${y} && ${y} !== true && ${v} === ${t} && !${M}`}}function m(){const g=f.formats[s];if(!g){p();return}if(g===!0)return;const[E,v,y]=S(g);E===t&&e.pass(N());function p(){if(l.strictSchema===!1){f.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function S(M){const O=M instanceof RegExp?(0,it.regexpCode)(M):l.code.formats?(0,it._)`${l.code.formats}${(0,it.getProperty)(s)}`:void 0,b=r.scopeValue("formats",{key:s,ref:M,code:O});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,it._)`${b}.validate`]:["string",M,b]}function N(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!c.$async)throw new Error("async format in sync schema");return(0,it._)`await ${y}(${n})`}return typeof v=="function"?(0,it._)`${y}(${n})`:(0,it._)`${y}.test(${n})`}}}};Hf.default=hT;Object.defineProperty(zf,"__esModule",{value:!0});const pT=Hf,mT=[pT.default];zf.default=mT;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.contentVocabulary=Wi.metadataVocabulary=void 0;Wi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Wi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(gf,"__esModule",{value:!0});const gT=yf,yT=_f,vT=Rf,_T=zf,gh=Wi,$T=[gT.default,yT.default,(0,vT.default)(),_T.default,gh.metadataVocabulary,gh.contentVocabulary];gf.default=$T;var Gf={},_y={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(_y);Object.defineProperty(Gf,"__esModule",{value:!0});const Ni=pe,Gc=_y,yh=Xt,ET=Te,wT={message:({params:{discrError:e,tagName:t}})=>e===Gc.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ni._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},ST={keyword:"discriminator",type:"object",schemaType:"object",error:wT,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Ni._)`${r}${(0,Ni.getProperty)(a)}`);t.if((0,Ni._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:Gc.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const m=h();t.if(!1);for(const g in m)t.elseIf((0,Ni._)`${u} === ${g}`),t.assign(l,f(m[g]));t.else(),e.error(!1,{discrError:Gc.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function f(m){const g=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:m},g);return e.mergeEvaluated(E,Ni.Name),g}function h(){var m;const g={},E=y(i);let v=!0;for(let N=0;N<o.length;N++){let M=o[N];M!=null&&M.$ref&&!(0,ET.schemaHasRulesButRef)(M,s.self.RULES)&&(M=yh.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,M==null?void 0:M.$ref),M instanceof yh.SchemaEnv&&(M=M.schema));const O=(m=M==null?void 0:M.properties)===null||m===void 0?void 0:m[a];if(typeof O!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(E||y(M)),p(O,N)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return g;function y({required:N}){return Array.isArray(N)&&N.includes(a)}function p(N,M){if(N.const)S(N.const,M);else if(N.enum)for(const O of N.enum)S(O,M);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(N,M){if(typeof N!="string"||N in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[N]=M}}}};Gf.default=ST;const bT="http://json-schema.org/draft-07/schema#",PT="http://json-schema.org/draft-07/schema#",TT="Core schema meta-schema",OT={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},AT=["object","boolean"],CT={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},NT={$schema:bT,$id:PT,title:TT,definitions:OT,type:AT,properties:CT,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=xg,n=gf,i=Gf,s=NT,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=Tr;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=pe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=wo;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=So;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(qc,qc.exports);var RT=qc.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=RT,r=pe,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:a,schemaCode:l})=>r.str`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>r._`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(a){const{gen:l,data:u,schemaCode:c,keyword:f,it:h}=a,{opts:m,self:g}=h;if(!m.validateFormats)return;const E=new t.KeywordCxt(h,g.RULES.all.format.definition,"format");E.$data?v():y();function v(){const S=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),N=l.const("fmt",r._`${S}[${E.schemaCode}]`);a.fail$data(r.or(r._`typeof ${N} != "object"`,r._`${N} instanceof RegExp`,r._`typeof ${N}.compare != "function"`,p(N)))}function y(){const S=E.schema,N=g.formats[S];if(!N||N===!0)return;if(typeof N!="object"||N instanceof RegExp||typeof N.compare!="function")throw new Error(`"${f}": format "${S}" does not define "compare" function`);const M=l.scopeValue("formats",{key:S,ref:N,code:m.code.formats?r._`${m.code.formats}${r.getProperty(S)}`:void 0});a.fail$data(p(M))}function p(S){return r._`${S}.compare(${u}, ${c}) ${i[f].fail} 0`}},dependencies:["format"]};const o=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=o})(Ug);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Mg,n=Ug,i=pe,s=new i.Name("fullFormats"),o=new i.Name("fastFormats"),a=(u,c={keywords:!0})=>{if(Array.isArray(c))return l(u,c,r.fullFormats,s),u;const[f,h]=c.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],m=c.formats||r.formatNames;return l(u,m,f,h),c.keywords&&n.default(u),u};a.get=(u,c="full")=>{const h=(c==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,c,f,h){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const E of c)u.addFormat(E,f[E])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(xc,xc.exports);var IT=xc.exports;const DT=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!FT(i,s)&&n||Object.defineProperty(e,r,s)},FT=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},kT=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},LT=(e,t)=>`/* Wrapped ${e}*/
${t}`,jT=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),MT=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),UT=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=LT.bind(null,n,t.toString());Object.defineProperty(i,"name",MT),Object.defineProperty(e,"toString",{...jT,value:i})},xT=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const i of Reflect.ownKeys(t))DT(e,t,i,r);return kT(e,t),UT(e,t,n),e};var qT=xT;const VT=qT;var BT=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:i=!0}=t;if(!n&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,o;const a=function(...l){const u=this,c=()=>{s=void 0,i&&(o=e.apply(u,l))},f=n&&!s;return clearTimeout(s),s=setTimeout(c,r),f&&(o=e.apply(u,l)),o};return VT(a,e),a.cancel=()=>{s&&(clearTimeout(s),s=void 0)},a},Wc={exports:{}};const zT="2.0.0",$y=256,HT=Number.MAX_SAFE_INTEGER||9007199254740991,GT=16,WT=$y-6,KT=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ll={MAX_LENGTH:$y,MAX_SAFE_COMPONENT_LENGTH:GT,MAX_SAFE_BUILD_LENGTH:WT,MAX_SAFE_INTEGER:HT,RELEASE_TYPES:KT,SEMVER_SPEC_VERSION:zT,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const YT=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var cl=YT;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=ll,s=cl;t=e.exports={};const o=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,n]],m=E=>{for(const[v,y]of h)E=E.split(`${v}*`).join(`${v}{0,${y}}`).split(`${v}+`).join(`${v}{1,${y}}`);return E},g=(E,v,y)=>{const p=m(v),S=c++;s(E,S,v),u[E]=S,l[S]=v,o[S]=new RegExp(v,y?"g":void 0),a[S]=new RegExp(p,y?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),g("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${f}+`),g("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),g("FULL",`^${l[u.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),g("LOOSE",`^${l[u.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),g("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[u.COERCE],!0),g("COERCERTLFULL",l[u.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Wc,Wc.exports);var Po=Wc.exports;const JT=Object.freeze({loose:!0}),XT=Object.freeze({}),QT=e=>e?typeof e!="object"?JT:e:XT;var Wf=QT;const vh=/^[0-9]+$/,Ey=(e,t)=>{const r=vh.test(e),n=vh.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},ZT=(e,t)=>Ey(t,e);var wy={compareIdentifiers:Ey,rcompareIdentifiers:ZT};const na=cl,{MAX_LENGTH:_h,MAX_SAFE_INTEGER:ia}=ll,{safeRe:$h,t:Eh}=Po,eO=Wf,{compareIdentifiers:wi}=wy;let tO=class Rr{constructor(t,r){if(r=eO(r),t instanceof Rr){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>_h)throw new TypeError(`version is longer than ${_h} characters`);na("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?$h[Eh.LOOSE]:$h[Eh.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ia||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ia||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ia||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<ia)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(na("SemVer.compare",this.version,this.options,t),!(t instanceof Rr)){if(typeof t=="string"&&t===this.version)return 0;t=new Rr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Rr||(t=new Rr(t,this.options)),wi(this.major,t.major)||wi(this.minor,t.minor)||wi(this.patch,t.patch)}comparePre(t){if(t instanceof Rr||(t=new Rr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(na("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return wi(n,i)}while(++r)}compareBuild(t){t instanceof Rr||(t=new Rr(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(na("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return wi(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),wi(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ut=tO;const wh=Ut,rO=(e,t,r=!1)=>{if(e instanceof wh)return e;try{return new wh(e,t)}catch(n){if(!r)return null;throw n}};var ls=rO;const nO=ls,iO=(e,t)=>{const r=nO(e,t);return r?r.version:null};var sO=iO;const oO=ls,aO=(e,t)=>{const r=oO(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var lO=aO;const Sh=Ut,cO=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Sh(e instanceof Sh?e.version:e,r).inc(t,n,i).version}catch{return null}};var uO=cO;const bh=ls,fO=(e,t)=>{const r=bh(e,null,!0),n=bh(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const c=l?"pre":"";return r.major!==n.major?c+"major":r.minor!==n.minor?c+"minor":r.patch!==n.patch?c+"patch":"prerelease"};var dO=fO;const hO=Ut,pO=(e,t)=>new hO(e,t).major;var mO=pO;const gO=Ut,yO=(e,t)=>new gO(e,t).minor;var vO=yO;const _O=Ut,$O=(e,t)=>new _O(e,t).patch;var EO=$O;const wO=ls,SO=(e,t)=>{const r=wO(e,t);return r&&r.prerelease.length?r.prerelease:null};var bO=SO;const Ph=Ut,PO=(e,t,r)=>new Ph(e,r).compare(new Ph(t,r));var Or=PO;const TO=Or,OO=(e,t,r)=>TO(t,e,r);var AO=OO;const CO=Or,NO=(e,t)=>CO(e,t,!0);var RO=NO;const Th=Ut,IO=(e,t,r)=>{const n=new Th(e,r),i=new Th(t,r);return n.compare(i)||n.compareBuild(i)};var Kf=IO;const DO=Kf,FO=(e,t)=>e.sort((r,n)=>DO(r,n,t));var kO=FO;const LO=Kf,jO=(e,t)=>e.sort((r,n)=>LO(n,r,t));var MO=jO;const UO=Or,xO=(e,t,r)=>UO(e,t,r)>0;var ul=xO;const qO=Or,VO=(e,t,r)=>qO(e,t,r)<0;var Yf=VO;const BO=Or,zO=(e,t,r)=>BO(e,t,r)===0;var Sy=zO;const HO=Or,GO=(e,t,r)=>HO(e,t,r)!==0;var by=GO;const WO=Or,KO=(e,t,r)=>WO(e,t,r)>=0;var Jf=KO;const YO=Or,JO=(e,t,r)=>YO(e,t,r)<=0;var Xf=JO;const XO=Sy,QO=by,ZO=ul,eA=Jf,tA=Yf,rA=Xf,nA=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return XO(e,r,n);case"!=":return QO(e,r,n);case">":return ZO(e,r,n);case">=":return eA(e,r,n);case"<":return tA(e,r,n);case"<=":return rA(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Py=nA;const iA=Ut,sA=ls,{safeRe:sa,t:oa}=Po,oA=(e,t)=>{if(e instanceof iA)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?sa[oa.COERCEFULL]:sa[oa.COERCE]);else{const l=t.includePrerelease?sa[oa.COERCERTLFULL]:sa[oa.COERCERTL];let u;for(;(u=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),l.lastIndex=u.index+u[1].length+u[2].length;l.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return sA(`${n}.${i}.${s}${o}${a}`,t)};var aA=oA,Jl,Oh;function lA(){return Oh||(Oh=1,Jl=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Jl}var cA=Ae;Ae.Node=li;Ae.create=Ae;function Ae(e){var t=this;if(t instanceof Ae||(t=new Ae),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Ae.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Ae.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Ae.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Ae.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)fA(this,arguments[e]);return this.length};Ae.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)dA(this,arguments[e]);return this.length};Ae.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Ae.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Ae.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Ae.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Ae.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Ae.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Ae.prototype.map=function(e,t){t=t||this;for(var r=new Ae,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Ae.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Ae,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Ae.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Ae.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Ae.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Ae.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Ae.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ae;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Ae.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ae;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Ae.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=uA(this,i,r[n]);return s};Ae.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function uA(e,t,r){var n=t===e.head?new li(r,null,t,e):new li(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function fA(e,t){e.tail=new li(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function dA(e,t){e.head=new li(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function li(e,t,r,n){if(!(this instanceof li))return new li(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{lA()(Ae)}catch{}const hA=cA,Jn=Symbol("max"),Jr=Symbol("length"),Si=Symbol("lengthCalculator"),Js=Symbol("allowStale"),Qn=Symbol("maxAge"),Kr=Symbol("dispose"),Ah=Symbol("noDisposeOnSet"),mt=Symbol("lruList"),Er=Symbol("cache"),Ty=Symbol("updateAgeOnGet"),Xl=()=>1;class pA{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Jn]=t.max||1/0;const r=t.length||Xl;if(this[Si]=typeof r!="function"?Xl:r,this[Js]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Qn]=t.maxAge||0,this[Kr]=t.dispose,this[Ah]=t.noDisposeOnSet||!1,this[Ty]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Jn]=t||1/0,bs(this)}get max(){return this[Jn]}set allowStale(t){this[Js]=!!t}get allowStale(){return this[Js]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Qn]=t,bs(this)}get maxAge(){return this[Qn]}set lengthCalculator(t){typeof t!="function"&&(t=Xl),t!==this[Si]&&(this[Si]=t,this[Jr]=0,this[mt].forEach(r=>{r.length=this[Si](r.value,r.key),this[Jr]+=r.length})),bs(this)}get lengthCalculator(){return this[Si]}get length(){return this[Jr]}get itemCount(){return this[mt].length}rforEach(t,r){r=r||this;for(let n=this[mt].tail;n!==null;){const i=n.prev;Ch(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[mt].head;n!==null;){const i=n.next;Ch(this,t,n,r),n=i}}keys(){return this[mt].toArray().map(t=>t.key)}values(){return this[mt].toArray().map(t=>t.value)}reset(){this[Kr]&&this[mt]&&this[mt].length&&this[mt].forEach(t=>this[Kr](t.key,t.value)),this[Er]=new Map,this[mt]=new hA,this[Jr]=0}dump(){return this[mt].map(t=>Ua(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[mt]}set(t,r,n){if(n=n||this[Qn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Si](r,t);if(this[Er].has(t)){if(s>this[Jn])return xi(this,this[Er].get(t)),!1;const l=this[Er].get(t).value;return this[Kr]&&(this[Ah]||this[Kr](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Jr]+=s-l.length,l.length=s,this.get(t),bs(this),!0}const o=new mA(t,r,s,i,n);return o.length>this[Jn]?(this[Kr]&&this[Kr](t,r),!1):(this[Jr]+=o.length,this[mt].unshift(o),this[Er].set(t,this[mt].head),bs(this),!0)}has(t){if(!this[Er].has(t))return!1;const r=this[Er].get(t).value;return!Ua(this,r)}get(t){return Ql(this,t,!0)}peek(t){return Ql(this,t,!1)}pop(){const t=this[mt].tail;return t?(xi(this,t),t.value):null}del(t){xi(this,this[Er].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Er].forEach((t,r)=>Ql(this,r,!1))}}const Ql=(e,t,r)=>{const n=e[Er].get(t);if(n){const i=n.value;if(Ua(e,i)){if(xi(e,n),!e[Js])return}else r&&(e[Ty]&&(n.value.now=Date.now()),e[mt].unshiftNode(n));return i.value}},Ua=(e,t)=>{if(!t||!t.maxAge&&!e[Qn])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Qn]&&r>e[Qn]},bs=e=>{if(e[Jr]>e[Jn])for(let t=e[mt].tail;e[Jr]>e[Jn]&&t!==null;){const r=t.prev;xi(e,t),t=r}},xi=(e,t)=>{if(t){const r=t.value;e[Kr]&&e[Kr](r.key,r.value),e[Jr]-=r.length,e[Er].delete(r.key),e[mt].removeNode(t)}};class mA{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Ch=(e,t,r,n)=>{let i=r.value;Ua(e,i)&&(xi(e,r),e[Js]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var gA=pA,Zl,Nh;function Ar(){if(Nh)return Zl;Nh=1;class e{constructor(G,Q){if(Q=n(Q),G instanceof e)return G.loose===!!Q.loose&&G.includePrerelease===!!Q.includePrerelease?G:new e(G.raw,Q);if(G instanceof i)return this.raw=G.value,this.set=[[G]],this.format(),this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=G.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(Z=>this.parseRange(Z.trim())).filter(Z=>Z.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Z=this.set[0];if(this.set=this.set.filter(K=>!g(K[0])),this.set.length===0)this.set=[Z];else if(this.set.length>1){for(const K of this.set)if(K.length===1&&E(K[0])){this.set=[K];break}}}this.format()}format(){return this.range=this.set.map(G=>G.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(G){const Z=((this.options.includePrerelease&&h)|(this.options.loose&&m))+":"+G,K=r.get(Z);if(K)return K;const I=this.options.loose,j=I?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];G=G.replace(j,Y(this.options.includePrerelease)),s("hyphen replace",G),G=G.replace(a[l.COMPARATORTRIM],u),s("comparator trim",G),G=G.replace(a[l.TILDETRIM],c),s("tilde trim",G),G=G.replace(a[l.CARETTRIM],f),s("caret trim",G);let A=G.split(" ").map(d=>y(d,this.options)).join(" ").split(/\s+/).map(d=>V(d,this.options));I&&(A=A.filter(d=>(s("loose invalid filter",d,this.options),!!d.match(a[l.COMPARATORLOOSE])))),s("range list",A);const w=new Map,R=A.map(d=>new i(d,this.options));for(const d of R){if(g(d))return[d];w.set(d.value,d)}w.size>1&&w.has("")&&w.delete("");const C=[...w.values()];return r.set(Z,C),C}intersects(G,Q){if(!(G instanceof e))throw new TypeError("a Range is required");return this.set.some(Z=>v(Z,Q)&&G.set.some(K=>v(K,Q)&&Z.every(I=>K.every(j=>I.intersects(j,Q)))))}test(G){if(!G)return!1;if(typeof G=="string")try{G=new o(G,this.options)}catch{return!1}for(let Q=0;Q<this.set.length;Q++)if(H(this.set[Q],G,this.options))return!0;return!1}}Zl=e;const t=gA,r=new t({max:1e3}),n=Wf,i=fl(),s=cl,o=Ut,{safeRe:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:f}=Po,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:m}=ll,g=W=>W.value==="<0.0.0-0",E=W=>W.value==="",v=(W,G)=>{let Q=!0;const Z=W.slice();let K=Z.pop();for(;Q&&Z.length;)Q=Z.every(I=>K.intersects(I,G)),K=Z.pop();return Q},y=(W,G)=>(s("comp",W,G),W=M(W,G),s("caret",W),W=S(W,G),s("tildes",W),W=b(W,G),s("xrange",W),W=T(W,G),s("stars",W),W),p=W=>!W||W.toLowerCase()==="x"||W==="*",S=(W,G)=>W.trim().split(/\s+/).map(Q=>N(Q,G)).join(" "),N=(W,G)=>{const Q=G.loose?a[l.TILDELOOSE]:a[l.TILDE];return W.replace(Q,(Z,K,I,j,A)=>{s("tilde",W,Z,K,I,j,A);let w;return p(K)?w="":p(I)?w=`>=${K}.0.0 <${+K+1}.0.0-0`:p(j)?w=`>=${K}.${I}.0 <${K}.${+I+1}.0-0`:A?(s("replaceTilde pr",A),w=`>=${K}.${I}.${j}-${A} <${K}.${+I+1}.0-0`):w=`>=${K}.${I}.${j} <${K}.${+I+1}.0-0`,s("tilde return",w),w})},M=(W,G)=>W.trim().split(/\s+/).map(Q=>O(Q,G)).join(" "),O=(W,G)=>{s("caret",W,G);const Q=G.loose?a[l.CARETLOOSE]:a[l.CARET],Z=G.includePrerelease?"-0":"";return W.replace(Q,(K,I,j,A,w)=>{s("caret",W,K,I,j,A,w);let R;return p(I)?R="":p(j)?R=`>=${I}.0.0${Z} <${+I+1}.0.0-0`:p(A)?I==="0"?R=`>=${I}.${j}.0${Z} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.0${Z} <${+I+1}.0.0-0`:w?(s("replaceCaret pr",w),I==="0"?j==="0"?R=`>=${I}.${j}.${A}-${w} <${I}.${j}.${+A+1}-0`:R=`>=${I}.${j}.${A}-${w} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.${A}-${w} <${+I+1}.0.0-0`):(s("no pr"),I==="0"?j==="0"?R=`>=${I}.${j}.${A}${Z} <${I}.${j}.${+A+1}-0`:R=`>=${I}.${j}.${A}${Z} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.${A} <${+I+1}.0.0-0`),s("caret return",R),R})},b=(W,G)=>(s("replaceXRanges",W,G),W.split(/\s+/).map(Q=>D(Q,G)).join(" ")),D=(W,G)=>{W=W.trim();const Q=G.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return W.replace(Q,(Z,K,I,j,A,w)=>{s("xRange",W,Z,K,I,j,A,w);const R=p(I),C=R||p(j),d=C||p(A),$=d;return K==="="&&$&&(K=""),w=G.includePrerelease?"-0":"",R?K===">"||K==="<"?Z="<0.0.0-0":Z="*":K&&$?(C&&(j=0),A=0,K===">"?(K=">=",C?(I=+I+1,j=0,A=0):(j=+j+1,A=0)):K==="<="&&(K="<",C?I=+I+1:j=+j+1),K==="<"&&(w="-0"),Z=`${K+I}.${j}.${A}${w}`):C?Z=`>=${I}.0.0${w} <${+I+1}.0.0-0`:d&&(Z=`>=${I}.${j}.0${w} <${I}.${+j+1}.0-0`),s("xRange return",Z),Z})},T=(W,G)=>(s("replaceStars",W,G),W.trim().replace(a[l.STAR],"")),V=(W,G)=>(s("replaceGTE0",W,G),W.trim().replace(a[G.includePrerelease?l.GTE0PRE:l.GTE0],"")),Y=W=>(G,Q,Z,K,I,j,A,w,R,C,d,$,L)=>(p(Z)?Q="":p(K)?Q=`>=${Z}.0.0${W?"-0":""}`:p(I)?Q=`>=${Z}.${K}.0${W?"-0":""}`:j?Q=`>=${Q}`:Q=`>=${Q}${W?"-0":""}`,p(R)?w="":p(C)?w=`<${+R+1}.0.0-0`:p(d)?w=`<${R}.${+C+1}.0-0`:$?w=`<=${R}.${C}.${d}-${$}`:W?w=`<${R}.${C}.${+d+1}-0`:w=`<=${w}`,`${Q} ${w}`.trim()),H=(W,G,Q)=>{for(let Z=0;Z<W.length;Z++)if(!W[Z].test(G))return!1;if(G.prerelease.length&&!Q.includePrerelease){for(let Z=0;Z<W.length;Z++)if(s(W[Z].semver),W[Z].semver!==i.ANY&&W[Z].semver.prerelease.length>0){const K=W[Z].semver;if(K.major===G.major&&K.minor===G.minor&&K.patch===G.patch)return!0}return!1}return!0};return Zl}var ec,Rh;function fl(){if(Rh)return ec;Rh=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=r(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=c.match(f);if(!h)throw new TypeError(`Invalid comparator: ${c}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}ec=t;const r=Wf,{safeRe:n,t:i}=Po,s=Py,o=cl,a=Ut,l=Ar();return ec}const yA=Ar(),vA=(e,t,r)=>{try{t=new yA(t,r)}catch{return!1}return t.test(e)};var dl=vA;const _A=Ar(),$A=(e,t)=>new _A(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var EA=$A;const wA=Ut,SA=Ar(),bA=(e,t,r)=>{let n=null,i=null,s=null;try{s=new SA(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new wA(n,r))}),n};var PA=bA;const TA=Ut,OA=Ar(),AA=(e,t,r)=>{let n=null,i=null,s=null;try{s=new OA(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new TA(n,r))}),n};var CA=AA;const tc=Ut,NA=Ar(),Ih=ul,RA=(e,t)=>{e=new NA(e,t);let r=new tc("0.0.0");if(e.test(r)||(r=new tc("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const a=new tc(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Ih(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Ih(r,s))&&(r=s)}return r&&e.test(r)?r:null};var IA=RA;const DA=Ar(),FA=(e,t)=>{try{return new DA(e,t).range||"*"}catch{return null}};var kA=FA;const LA=Ut,Oy=fl(),{ANY:jA}=Oy,MA=Ar(),UA=dl,Dh=ul,Fh=Yf,xA=Xf,qA=Jf,VA=(e,t,r,n)=>{e=new LA(e,n),t=new MA(t,n);let i,s,o,a,l;switch(r){case">":i=Dh,s=xA,o=Fh,a=">",l=">=";break;case"<":i=Fh,s=qA,o=Dh,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(UA(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const c=t.set[u];let f=null,h=null;if(c.forEach(m=>{m.semver===jA&&(m=new Oy(">=0.0.0")),f=f||m,h=h||m,i(m.semver,f.semver,n)?f=m:o(m.semver,h.semver,n)&&(h=m)}),f.operator===a||f.operator===l||(!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};var Qf=VA;const BA=Qf,zA=(e,t,r)=>BA(e,t,">",r);var HA=zA;const GA=Qf,WA=(e,t,r)=>GA(e,t,"<",r);var KA=WA;const kh=Ar(),YA=(e,t,r)=>(e=new kh(e,r),t=new kh(t,r),e.intersects(t,r));var JA=YA;const XA=dl,QA=Or;var ZA=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((c,f)=>QA(c,f,r));for(const c of o)XA(c,t,r)?(s=c,i||(i=c)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[c,f]of n)c===f?a.push(c):!f&&c===o[0]?a.push("*"):f?c===o[0]?a.push(`<=${f}`):a.push(`${c} - ${f}`):a.push(`>=${c}`);const l=a.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return l.length<u.length?l:t};const Lh=Ar(),Zf=fl(),{ANY:rc}=Zf,Ps=dl,ed=Or,eC=(e,t,r={})=>{if(e===t)return!0;e=new Lh(e,r),t=new Lh(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=rC(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},tC=[new Zf(">=0.0.0-0")],jh=[new Zf(">=0.0.0")],rC=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===rc){if(t.length===1&&t[0].semver===rc)return!0;r.includePrerelease?e=tC:e=jh}if(t.length===1&&t[0].semver===rc){if(r.includePrerelease)return!0;t=jh}const n=new Set;let i,s;for(const m of e)m.operator===">"||m.operator===">="?i=Mh(i,m,r):m.operator==="<"||m.operator==="<="?s=Uh(s,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(i&&s){if(o=ed(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const m of n){if(i&&!Ps(m,String(i),r)||s&&!Ps(m,String(s),r))return null;for(const g of t)if(!Ps(m,String(g),r))return!1;return!0}let a,l,u,c,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const m of t){if(c=c||m.operator===">"||m.operator===">=",u=u||m.operator==="<"||m.operator==="<=",i){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(a=Mh(i,m,r),a===m&&a!==i)return!1}else if(i.operator===">="&&!Ps(i.semver,String(m),r))return!1}if(s){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(l=Uh(s,m,r),l===m&&l!==s)return!1}else if(s.operator==="<="&&!Ps(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&c&&!i&&o!==0||h||f)},Mh=(e,t,r)=>{if(!e)return t;const n=ed(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Uh=(e,t,r)=>{if(!e)return t;const n=ed(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var nC=eC;const nc=Po,xh=ll,iC=Ut,qh=wy,sC=ls,oC=sO,aC=lO,lC=uO,cC=dO,uC=mO,fC=vO,dC=EO,hC=bO,pC=Or,mC=AO,gC=RO,yC=Kf,vC=kO,_C=MO,$C=ul,EC=Yf,wC=Sy,SC=by,bC=Jf,PC=Xf,TC=Py,OC=aA,AC=fl(),CC=Ar(),NC=dl,RC=EA,IC=PA,DC=CA,FC=IA,kC=kA,LC=Qf,jC=HA,MC=KA,UC=JA,xC=ZA,qC=nC;var td={parse:sC,valid:oC,clean:aC,inc:lC,diff:cC,major:uC,minor:fC,patch:dC,prerelease:hC,compare:pC,rcompare:mC,compareLoose:gC,compareBuild:yC,sort:vC,rsort:_C,gt:$C,lt:EC,eq:wC,neq:SC,gte:bC,lte:PC,cmp:TC,coerce:OC,Comparator:AC,Range:CC,satisfies:NC,toComparators:RC,maxSatisfying:IC,minSatisfying:DC,minVersion:FC,validRange:kC,outside:LC,gtr:jC,ltr:MC,intersects:UC,simplifyRange:xC,subset:qC,SemVer:iC,re:nc.re,src:nc.src,tokens:nc.t,SEMVER_SPEC_VERSION:xh.SEMVER_SPEC_VERSION,RELEASE_TYPES:xh.RELEASE_TYPES,compareIdentifiers:qh.compareIdentifiers,rcompareIdentifiers:qh.rcompareIdentifiers},hl={exports:{}},rd={exports:{}};const Ay=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};rd.exports=Ay;rd.exports.default=Ay;var VC=rd.exports;const BC=VC,xa=new WeakMap,Cy=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",s=function(...o){if(xa.set(s,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return BC(s,e),xa.set(s,n),s};hl.exports=Cy;hl.exports.default=Cy;hl.exports.callCount=e=>{if(!xa.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return xa.get(e)};var zC=hl.exports;(function(e,t){var r=lt&&lt.__classPrivateFieldSet||function(K,I,j,A,w){if(A==="m")throw new TypeError("Private method is not writable");if(A==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof I=="function"?K!==I||!w:!I.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return A==="a"?w.call(K,j):w?w.value=j:I.set(K,j),j},n=lt&&lt.__classPrivateFieldGet||function(K,I,j,A){if(j==="a"&&!A)throw new TypeError("Private accessor was defined without a getter");if(typeof I=="function"?K!==I||!A:!I.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?A:j==="a"?A.call(K):A?A.value:I.get(K)},i,s,o,a,l,u;Object.defineProperty(t,"__esModule",{value:!0});const c=nn,f=Le,h=Se,m=rs,g=lu,E=ts,v=h_,y=b_,p=A_,S=kr,N=qS,M=IT,O=BT,b=td,D=zC,T="aes-256-cbc",V=()=>Object.create(null),Y=K=>K!=null;let H="";try{delete require.cache[__filename],H=h.dirname((s=(i=e.parent)===null||i===void 0?void 0:i.filename)!==null&&s!==void 0?s:".")}catch{}const W=(K,I)=>{const j=new Set(["undefined","symbol","function"]),A=typeof I;if(j.has(A))throw new TypeError(`Setting a value of type \`${A}\` for key \`${K}\` is not allowed as it's not supported by JSON`)},G="__internal__",Q=`${G}.migrations.version`;class Z{constructor(I={}){var j;o.set(this,void 0),a.set(this,void 0),l.set(this,void 0),u.set(this,{}),this._deserialize=$=>JSON.parse($),this._serialize=$=>JSON.stringify($,void 0,"	");const A={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...I},w=D(()=>{const $=y.sync({cwd:H}),L=$&&JSON.parse(f.readFileSync($,"utf8"));return L??{}});if(!A.cwd){if(A.projectName||(A.projectName=w().name),!A.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");A.cwd=p(A.projectName,{suffix:A.projectSuffix}).config}if(r(this,l,A,"f"),A.schema){if(typeof A.schema!="object")throw new TypeError("The `schema` option must be an object.");const $=new N.default({allErrors:!0,useDefaults:!0});(0,M.default)($);const L={type:"object",properties:A.schema};r(this,o,$.compile(L),"f");for(const[P,_]of Object.entries(A.schema))_!=null&&_.default&&(n(this,u,"f")[P]=_.default)}A.defaults&&r(this,u,{...n(this,u,"f"),...A.defaults},"f"),A.serialize&&(this._serialize=A.serialize),A.deserialize&&(this._deserialize=A.deserialize),this.events=new E.EventEmitter,r(this,a,A.encryptionKey,"f");const R=A.fileExtension?`.${A.fileExtension}`:"";this.path=h.resolve(A.cwd,`${(j=A.configName)!==null&&j!==void 0?j:"config"}${R}`);const C=this.store,d=Object.assign(V(),A.defaults,C);this._validate(d);try{g.deepEqual(C,d)}catch{this.store=d}if(A.watch&&this._watch(),A.migrations){if(A.projectVersion||(A.projectVersion=w().version),!A.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(A.migrations,A.projectVersion,A.beforeEachMigration)}}get(I,j){if(n(this,l,"f").accessPropertiesByDotNotation)return this._get(I,j);const{store:A}=this;return I in A?A[I]:j}set(I,j){if(typeof I!="string"&&typeof I!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof I}`);if(typeof I!="object"&&j===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(I))throw new TypeError(`Please don't use the ${G} key, as it's used to manage this module internal operations.`);const{store:A}=this,w=(R,C)=>{W(R,C),n(this,l,"f").accessPropertiesByDotNotation?v.set(A,R,C):A[R]=C};if(typeof I=="object"){const R=I;for(const[C,d]of Object.entries(R))w(C,d)}else w(I,j);this.store=A}has(I){return n(this,l,"f").accessPropertiesByDotNotation?v.has(this.store,I):I in this.store}reset(...I){for(const j of I)Y(n(this,u,"f")[j])&&this.set(j,n(this,u,"f")[j])}delete(I){const{store:j}=this;n(this,l,"f").accessPropertiesByDotNotation?v.delete(j,I):delete j[I],this.store=j}clear(){this.store=V();for(const I of Object.keys(n(this,u,"f")))this.reset(I)}onDidChange(I,j){if(typeof I!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof I}`);if(typeof j!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof j}`);return this._handleChange(()=>this.get(I),j)}onDidAnyChange(I){if(typeof I!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof I}`);return this._handleChange(()=>this.store,I)}get size(){return Object.keys(this.store).length}get store(){try{const I=f.readFileSync(this.path,n(this,a,"f")?null:"utf8"),j=this._encryptData(I),A=this._deserialize(j);return this._validate(A),Object.assign(V(),A)}catch(I){if((I==null?void 0:I.code)==="ENOENT")return this._ensureDirectory(),V();if(n(this,l,"f").clearInvalidConfig&&I.name==="SyntaxError")return V();throw I}}set store(I){this._ensureDirectory(),this._validate(I),this._write(I),this.events.emit("change")}*[(o=new WeakMap,a=new WeakMap,l=new WeakMap,u=new WeakMap,Symbol.iterator)](){for(const[I,j]of Object.entries(this.store))yield[I,j]}_encryptData(I){if(!n(this,a,"f"))return I.toString();try{if(n(this,a,"f"))try{if(I.slice(16,17).toString()===":"){const j=I.slice(0,16),A=m.pbkdf2Sync(n(this,a,"f"),j.toString(),1e4,32,"sha512"),w=m.createDecipheriv(T,A,j);I=Buffer.concat([w.update(Buffer.from(I.slice(17))),w.final()]).toString("utf8")}else{const j=m.createDecipher(T,n(this,a,"f"));I=Buffer.concat([j.update(Buffer.from(I)),j.final()]).toString("utf8")}}catch{}}catch{}return I.toString()}_handleChange(I,j){let A=I();const w=()=>{const R=A,C=I();(0,c.isDeepStrictEqual)(C,R)||(A=C,j.call(this,C,R))};return this.events.on("change",w),()=>this.events.removeListener("change",w)}_validate(I){if(!n(this,o,"f")||n(this,o,"f").call(this,I)||!n(this,o,"f").errors)return;const A=n(this,o,"f").errors.map(({instancePath:w,message:R=""})=>`\`${w.slice(1)}\` ${R}`);throw new Error("Config schema violation: "+A.join("; "))}_ensureDirectory(){f.mkdirSync(h.dirname(this.path),{recursive:!0})}_write(I){let j=this._serialize(I);if(n(this,a,"f")){const A=m.randomBytes(16),w=m.pbkdf2Sync(n(this,a,"f"),A.toString(),1e4,32,"sha512"),R=m.createCipheriv(T,w,A);j=Buffer.concat([A,Buffer.from(":"),R.update(Buffer.from(j)),R.final()])}if(process.env.SNAP)f.writeFileSync(this.path,j,{mode:n(this,l,"f").configFileMode});else try{S.writeFileSync(this.path,j,{mode:n(this,l,"f").configFileMode})}catch(A){if((A==null?void 0:A.code)==="EXDEV"){f.writeFileSync(this.path,j,{mode:n(this,l,"f").configFileMode});return}throw A}}_watch(){this._ensureDirectory(),f.existsSync(this.path)||this._write(V()),process.platform==="win32"?f.watch(this.path,{persistent:!1},O(()=>{this.events.emit("change")},{wait:100})):f.watchFile(this.path,{persistent:!1},O(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(I,j,A){let w=this._get(Q,"0.0.0");const R=Object.keys(I).filter(d=>this._shouldPerformMigration(d,w,j));let C={...this.store};for(const d of R)try{A&&A(this,{fromVersion:w,toVersion:d,finalVersion:j,versions:R});const $=I[d];$(this),this._set(Q,d),w=d,C={...this.store}}catch($){throw this.store=C,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${$}`)}(this._isVersionInRangeFormat(w)||!b.eq(w,j))&&this._set(Q,j)}_containsReservedKey(I){return typeof I=="object"&&Object.keys(I)[0]===G?!0:typeof I!="string"?!1:n(this,l,"f").accessPropertiesByDotNotation?!!I.startsWith(`${G}.`):!1}_isVersionInRangeFormat(I){return b.clean(I)===null}_shouldPerformMigration(I,j,A){return this._isVersionInRangeFormat(I)?j!=="0.0.0"&&b.satisfies(j,I)?!1:b.satisfies(A,I):!(b.lte(I,j)||b.gt(I,A))}_get(I,j){return v.get(this.store,I,j)}_set(I,j){const{store:A}=this;v.set(A,I,j),this.store=A}}t.default=Z,e.exports=Z,e.exports.default=Z})(Rc,Rc.exports);var HC=Rc.exports;const Vh=Se,{app:ba,ipcMain:Kc,ipcRenderer:Bh,shell:GC}=te,WC=HC;let zh=!1;const Hh=()=>{if(!Kc||!ba)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:ba.getPath("userData"),appVersion:ba.getVersion()};return zh||(Kc.on("electron-store-get-data",t=>{t.returnValue=e}),zh=!0),e};class KC extends WC{constructor(t){let r,n;if(Bh){const i=Bh.sendSync("electron-store-get-data");if(!i)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=i)}else Kc&&ba&&({defaultCwd:r,appVersion:n}=Hh());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=Vh.isAbsolute(t.cwd)?t.cwd:Vh.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Hh()}openInEditor(){GC.openPath(this.path)}}var YC=KC;const JC=km(YC),Ny=Le,js=Se;var XC={findAndReadPackageJson:QC,tryReadJsonAt:Ri};function QC(){return Ri(tN())||Ri(eN())||Ri(process.resourcesPath,"app.asar")||Ri(process.resourcesPath,"app")||Ri(process.cwd())||{name:void 0,version:void 0}}function Ri(...e){if(e[0])try{const t=js.join(...e),r=ZC("package.json",t);if(!r)return;const n=JSON.parse(Ny.readFileSync(r,"utf8")),i=(n==null?void 0:n.productName)||(n==null?void 0:n.name);return!i||i.toLowerCase()==="electron"?void 0:i?{name:i,version:n==null?void 0:n.version}:void 0}catch{return}}function ZC(e,t){let r=t;for(;;){const n=js.parse(r),i=n.root,s=n.dir;if(Ny.existsSync(js.join(r,e)))return js.resolve(js.join(r,e));if(r===i)return null;r=s}}function eN(){const e=process.argv.filter(r=>r.indexOf("--user-data-dir=")===0);return e.length===0||typeof e[0]!="string"?null:e[0].replace("--user-data-dir=","")}function tN(){var e;try{return(e=require.main)==null?void 0:e.filename}catch{return}}const rN=ho,Un=Nn,bi=Se,nN=XC;let iN=class{constructor(){$e(this,"appName");$e(this,"appPackageJson");$e(this,"platform",process.platform)}getAppLogPath(t=this.getAppName()){return this.platform==="darwin"?bi.join(this.getSystemPathHome(),"Library/Logs",t):bi.join(this.getAppUserDataPath(t),"logs")}getAppName(){var t;return this.appName||((t=this.getAppPackageJson())==null?void 0:t.name)}getAppPackageJson(){return typeof this.appPackageJson!="object"&&(this.appPackageJson=nN.findAndReadPackageJson()),this.appPackageJson}getAppUserDataPath(t=this.getAppName()){return t?bi.join(this.getSystemPathAppData(),t):void 0}getAppVersion(){var t;return(t=this.getAppPackageJson())==null?void 0:t.version}getElectronLogPath(){return this.getAppLogPath()}getMacOsVersion(){const t=Number(Un.release().split(".")[0]);return t<=19?`10.${t-4}`:t-9}getOsVersion(){let t=Un.type().replace("_"," "),r=Un.release();return t==="Darwin"&&(t="macOS",r=this.getMacOsVersion()),`${t} ${r}`}getPathVariables(){const t=this.getAppName(),r=this.getAppVersion(),n=this;return{appData:this.getSystemPathAppData(),appName:t,appVersion:r,get electronDefaultDir(){return n.getElectronLogPath()},home:this.getSystemPathHome(),libraryDefaultDir:this.getAppLogPath(t),libraryTemplate:this.getAppLogPath("{appName}"),temp:this.getSystemPathTemp(),userData:this.getAppUserDataPath(t)}}getSystemPathAppData(){const t=this.getSystemPathHome();switch(this.platform){case"darwin":return bi.join(t,"Library/Application Support");case"win32":return process.env.APPDATA||bi.join(t,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||bi.join(t,".config")}}getSystemPathHome(){var t;return((t=Un.homedir)==null?void 0:t.call(Un))||process.env.HOME}getSystemPathTemp(){return Un.tmpdir()}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:void 0,os:this.getOsVersion()}}isDev(){return process.env.NODE_ENV==="development"||process.env.ELECTRON_IS_DEV==="1"}isElectron(){return!!process.versions.electron}onAppEvent(t,r){}onAppReady(t){t()}onEveryWebContentsEvent(t,r){}onIpc(t,r){}onIpcInvoke(t,r){}openUrl(t,r=console.error){const i={darwin:"open",win32:"start",linux:"xdg-open"}[process.platform]||"xdg-open";rN.exec(`${i} ${t}`,{},s=>{s&&r(s)})}setPlatform(t){this.platform=t}setPreloadFileForSessions({filePath:t,includeFutureSession:r=!0,getSessions:n=()=>[]}){}sendIpc(t,r){}showErrorBox(t,r){}};var sN=iN;const oN=Se,aN=sN;let lN=class extends aN{constructor({electron:r}={}){super();$e(this,"electron");this.electron=r}getAppName(){var n,i;let r;try{r=((n=this.electron.app)==null?void 0:n.name)||((i=this.electron.app)==null?void 0:i.getName())}catch{}return r||super.getAppName()}getAppUserDataPath(r){return this.getPath("userData")||super.getAppUserDataPath(r)}getAppVersion(){var n;let r;try{r=(n=this.electron.app)==null?void 0:n.getVersion()}catch{}return r||super.getAppVersion()}getElectronLogPath(){return this.getPath("logs")||super.getElectronLogPath()}getPath(r){var n;try{return(n=this.electron.app)==null?void 0:n.getPath(r)}catch{return}}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:`Electron ${process.versions.electron}`,os:this.getOsVersion()}}getSystemPathAppData(){return this.getPath("appData")||super.getSystemPathAppData()}isDev(){var r;return((r=this.electron.app)==null?void 0:r.isPackaged)!==void 0?!this.electron.app.isPackaged:typeof process.execPath=="string"?oN.basename(process.execPath).toLowerCase().startsWith("electron"):super.isDev()}onAppEvent(r,n){var i;return(i=this.electron.app)==null||i.on(r,n),()=>{var s;(s=this.electron.app)==null||s.off(r,n)}}onAppReady(r){var n,i,s;(n=this.electron.app)!=null&&n.isReady()?r():(i=this.electron.app)!=null&&i.once?(s=this.electron.app)==null||s.once("ready",r):r()}onEveryWebContentsEvent(r,n){var s,o,a;return(o=(s=this.electron.webContents)==null?void 0:s.getAllWebContents())==null||o.forEach(l=>{l.on(r,n)}),(a=this.electron.app)==null||a.on("web-contents-created",i),()=>{var l,u;(l=this.electron.webContents)==null||l.getAllWebContents().forEach(c=>{c.off(r,n)}),(u=this.electron.app)==null||u.off("web-contents-created",i)};function i(l,u){u.on(r,n)}}onIpc(r,n){var i;(i=this.electron.ipcMain)==null||i.on(r,n)}onIpcInvoke(r,n){var i,s;(s=(i=this.electron.ipcMain)==null?void 0:i.handle)==null||s.call(i,r,n)}openUrl(r,n=console.error){var i;(i=this.electron.shell)==null||i.openExternal(r).catch(n)}setPreloadFileForSessions({filePath:r,includeFutureSession:n=!0,getSessions:i=()=>{var s;return[(s=this.electron.session)==null?void 0:s.defaultSession]}}){for(const o of i().filter(Boolean))s(o);n&&this.onAppEvent("session-created",o=>{s(o)});function s(o){o.setPreloads([...o.getPreloads(),r])}}sendIpc(r,n){var i,s;(s=(i=this.electron.BrowserWindow)==null?void 0:i.getAllWindows())==null||s.forEach(o=>{var a;((a=o.webContents)==null?void 0:a.isDestroyed())===!1&&o.webContents.send(r,n)})}showErrorBox(r,n){var i;(i=this.electron.dialog)==null||i.showErrorBox(r,n)}};var cN=lN,Ry={exports:{}};(function(e){let t={};try{t=require("electron")}catch{}t.ipcRenderer&&r(t),e.exports=r;function r({contextBridge:n,ipcRenderer:i}){if(!i)return;i.on("__ELECTRON_LOG_IPC__",(o,a)=>{window.postMessage({cmd:"message",...a})}),i.invoke("__ELECTRON_LOG__",{cmd:"getOptions"}).catch(o=>console.error(new Error(`electron-log isn't initialized in the main process. Please call log.initialize() before. ${o.message}`)));const s={sendToMain(o){try{i.send("__ELECTRON_LOG__",o)}catch(a){console.error("electronLog.sendToMain ",a,"data:",o),i.send("__ELECTRON_LOG__",{cmd:"errorHandler",error:{message:a==null?void 0:a.message,stack:a==null?void 0:a.stack},errorName:"sendToMain"})}},log(...o){s.sendToMain({data:o,level:"info"})}};for(const o of["error","warn","info","verbose","debug","silly"])s[o]=(...a)=>s.sendToMain({data:a,level:o});if(n&&process.contextIsolated)try{n.exposeInMainWorld("__electronLog",s)}catch{}typeof window=="object"?window.__electronLog=s:__electronLog=s}})(Ry);var uN=Ry.exports;const Gh=Le,fN=Nn,Wh=Se,dN=uN;var hN={initialize({externalApi:e,getSessions:t,includeFutureSession:r,logger:n,preload:i=!0,spyRendererConsole:s=!1}){e.onAppReady(()=>{try{i&&pN({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:i}),s&&mN({externalApi:e,logger:n})}catch(o){n.warn(o)}})}};function pN({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:n}){let i=typeof n=="string"?n:void 0;try{i=Wh.resolve(__dirname,"../renderer/electron-log-preload.js")}catch{}if(!i||!Gh.existsSync(i)){i=Wh.join(e.getAppUserDataPath()||fN.tmpdir(),"electron-log-preload.js");const s=`
      try {
        (${dN.toString()})(require('electron'));
      } catch(e) {
        console.error(e);
      }
    `;Gh.writeFileSync(i,s,"utf8")}e.setPreloadFileForSessions({filePath:i,includeFutureSession:r,getSessions:t})}function mN({externalApi:e,logger:t}){const r=["verbose","info","warning","error"];e.onEveryWebContentsEvent("console-message",(n,i,s)=>{t.processMessage({data:[s],level:r[i],variables:{processType:"renderer"}})})}var gN=yN;function yN(e){return Object.defineProperties(t,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof t.labelPadding){case"boolean":return t.labelPadding?t.maxLabelLength:0;case"number":return t.labelPadding;default:return 0}}}});function t(r){t.maxLabelLength=Math.max(t.maxLabelLength,r.length);const n={};for(const i of[...e.levels,"log"])n[i]=(...s)=>e.logData(s,{level:i,scope:r});return n}}const vN=gN;var ni;let _N=(ni=class{constructor({allowUnknownLevel:t=!1,dependencies:r={},errorHandler:n,eventLogger:i,initializeFn:s,isDev:o=!1,levels:a=["error","warn","info","verbose","debug","silly"],logId:l,transportFactories:u={},variables:c}={}){$e(this,"dependencies",{});$e(this,"errorHandler",null);$e(this,"eventLogger",null);$e(this,"functions",{});$e(this,"hooks",[]);$e(this,"isDev",!1);$e(this,"levels",null);$e(this,"logId",null);$e(this,"scope",null);$e(this,"transports",{});$e(this,"variables",{});this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=t,this.dependencies=r,this.initializeFn=s,this.isDev=o,this.levels=a,this.logId=l,this.transportFactories=u,this.variables=c||{},this.scope=vN(this),this.addLevel("log",!1);for(const f of this.levels)this.addLevel(f,!1);this.errorHandler=n,n==null||n.setOptions({...r,logFn:this.error}),this.eventLogger=i,i==null||i.setOptions({...r,logger:this});for(const[f,h]of Object.entries(u))this.transports[f]=h(this,r);ni.instances[l]=this}static getInstance({logId:t}){return this.instances[t]||this.instances.default}addLevel(t,r=this.levels.length){r!==!1&&this.levels.splice(r,0,t),this[t]=(...n)=>this.logData(n,{level:t}),this.functions[t]=this[t]}catchErrors(t){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(t)}create(t){return typeof t=="string"&&(t={logId:t}),new ni({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...t})}compareLevels(t,r,n=this.levels){const i=n.indexOf(t),s=n.indexOf(r);return s===-1||i===-1?!0:s<=i}initialize(t={}){this.initializeFn({logger:this,...this.dependencies,...t})}logData(t,r={}){this.processMessage({data:t,...r})}processMessage(t,{transports:r=this.transports}={}){if(t.cmd==="errorHandler"){this.errorHandler.handle(t.error,{errorName:t.errorName,processType:"renderer",showDialog:!!t.showDialog});return}let n=t.level;this.allowUnknownLevel||(n=this.levels.includes(t.level)?t.level:"info");const i={date:new Date,...t,level:n,variables:{...this.variables,...t.variables}};for(const[s,o]of this.transportEntries(r))if(!(typeof o!="function"||o.level===!1)&&this.compareLevels(o.level,t.level))try{const a=this.hooks.reduce((l,u)=>l&&u(l,o,s),i);a&&o({...a,data:[...a.data]})}catch(a){this.processInternalErrorFn(a)}}processInternalErrorFn(t){}transportEntries(t=this.transports){return(Array.isArray(t)?t:Object.entries(t)).map(n=>{switch(typeof n){case"string":return this.transports[n]?[n,this.transports[n]]:null;case"function":return[n.name,n];default:return Array.isArray(n)?n:null}}).filter(Boolean)}},$e(ni,"instances",{}),ni);var $N=_N;let EN=class{constructor({externalApi:t,logFn:r=void 0,onError:n=void 0,showDialog:i=void 0}={}){$e(this,"externalApi");$e(this,"isActive",!1);$e(this,"logFn");$e(this,"onError");$e(this,"showDialog",!0);this.createIssue=this.createIssue.bind(this),this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.setOptions({externalApi:t,logFn:r,onError:n,showDialog:i}),this.startCatching=this.startCatching.bind(this),this.stopCatching=this.stopCatching.bind(this)}handle(t,{logFn:r=this.logFn,onError:n=this.onError,processType:i="browser",showDialog:s=this.showDialog,errorName:o=""}={}){var a;t=wN(t);try{if(typeof n=="function"){const l=((a=this.externalApi)==null?void 0:a.getVersions())||{},u=this.createIssue;if(n({createIssue:u,error:t,errorName:o,processType:i,versions:l})===!1)return}o?r(o,t):r(t),s&&!o.includes("rejection")&&this.externalApi&&this.externalApi.showErrorBox(`A JavaScript error occurred in the ${i} process`,t.stack)}catch{console.error(t)}}setOptions({externalApi:t,logFn:r,onError:n,showDialog:i}){typeof t=="object"&&(this.externalApi=t),typeof r=="function"&&(this.logFn=r),typeof n=="function"&&(this.onError=n),typeof i=="boolean"&&(this.showDialog=i)}startCatching({onError:t,showDialog:r}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:t,showDialog:r}),process.on("uncaughtException",this.handleError),process.on("unhandledRejection",this.handleRejection))}stopCatching(){this.isActive=!1,process.removeListener("uncaughtException",this.handleError),process.removeListener("unhandledRejection",this.handleRejection)}createIssue(t,r){var n;(n=this.externalApi)==null||n.openUrl(`${t}?${new URLSearchParams(r).toString()}`)}handleError(t){this.handle(t,{errorName:"Unhandled"})}handleRejection(t){const r=t instanceof Error?t:new Error(JSON.stringify(t));this.handle(r,{errorName:"Unhandled rejection"})}};function wN(e){if(e instanceof Error)return e;if(e&&typeof e=="object"){if(e.message)return Object.assign(new Error(e.message),e);try{return new Error(JSON.stringify(e))}catch(t){return new Error(`Couldn't normalize error ${String(e)}: ${t}`)}}return new Error(`Can't normalize error ${String(e)}`)}var SN=EN;let bN=class{constructor(t={}){$e(this,"disposers",[]);$e(this,"format","{eventSource}#{eventName}:");$e(this,"formatters",{app:{"certificate-error":({args:t})=>this.arrayToObject(t.slice(1,4),["url","error","certificate"]),"child-process-gone":({args:t})=>t.length===1?t[0]:t,"render-process-gone":({args:[t,r]})=>r&&typeof r=="object"?{...r,...this.getWebContentsDetails(t)}:[]},webContents:{"console-message":({args:[t,r,n,i]})=>{if(!(t<3))return{message:r,source:`${i}:${n}`}},"did-fail-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"did-fail-provisional-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"plugin-crashed":({args:t})=>this.arrayToObject(t,["name","version"]),"preload-error":({args:t})=>this.arrayToObject(t,["preloadPath","error"])}});$e(this,"events",{app:{"certificate-error":!0,"child-process-gone":!0,"render-process-gone":!0},webContents:{"did-fail-load":!0,"did-fail-provisional-load":!0,"plugin-crashed":!0,"preload-error":!0,unresponsive:!0}});$e(this,"externalApi");$e(this,"level","error");$e(this,"scope","");this.setOptions(t)}setOptions({events:t,externalApi:r,level:n,logger:i,format:s,formatters:o,scope:a}){typeof t=="object"&&(this.events=t),typeof r=="object"&&(this.externalApi=r),typeof n=="string"&&(this.level=n),typeof i=="object"&&(this.logger=i),(typeof s=="string"||typeof s=="function")&&(this.format=s),typeof o=="object"&&(this.formatters=o),typeof a=="string"&&(this.scope=a)}startLogging(t={}){this.setOptions(t),this.disposeListeners();for(const r of this.getEventNames(this.events.app))this.disposers.push(this.externalApi.onAppEvent(r,(...n)=>{this.handleEvent({eventSource:"app",eventName:r,handlerArgs:n})}));for(const r of this.getEventNames(this.events.webContents))this.disposers.push(this.externalApi.onEveryWebContentsEvent(r,(...n)=>{this.handleEvent({eventSource:"webContents",eventName:r,handlerArgs:n})}))}stopLogging(){this.disposeListeners()}arrayToObject(t,r){const n={};return r.forEach((i,s)=>{n[i]=t[s]}),t.length>r.length&&(n.unknownArgs=t.slice(r.length)),n}disposeListeners(){this.disposers.forEach(t=>t()),this.disposers=[]}formatEventLog({eventName:t,eventSource:r,handlerArgs:n}){var c;const[i,...s]=n;if(typeof this.format=="function")return this.format({args:s,event:i,eventName:t,eventSource:r});const o=(c=this.formatters[r])==null?void 0:c[t];let a=s;if(typeof o=="function"&&(a=o({args:s,event:i,eventName:t,eventSource:r})),!a)return;const l={};return Array.isArray(a)?l.args=a:typeof a=="object"&&Object.assign(l,a),r==="webContents"&&Object.assign(l,this.getWebContentsDetails(i==null?void 0:i.sender)),[this.format.replace("{eventSource}",r==="app"?"App":"WebContents").replace("{eventName}",t),l]}getEventNames(t){return!t||typeof t!="object"?[]:Object.entries(t).filter(([r,n])=>n).map(([r])=>r)}getWebContentsDetails(t){if(!(t!=null&&t.loadURL))return{};try{return{webContents:{id:t.id,url:t.getURL()}}}catch{return{}}}handleEvent({eventName:t,eventSource:r,handlerArgs:n}){var s;const i=this.formatEventLog({eventName:t,eventSource:r,handlerArgs:n});if(i){const o=this.scope?this.logger.scope(this.scope):this.logger;(s=o==null?void 0:o[this.level])==null||s.call(o,...i)}}};var PN=bN,To={transform:TN};function TN({logger:e,message:t,transport:r,initialData:n=(t==null?void 0:t.data)||[],transforms:i=r==null?void 0:r.transforms}){return i.reduce((s,o)=>typeof o=="function"?o({data:s,logger:e,message:t,transport:r}):s,n)}const{transform:ON}=To;var Iy={concatFirstStringElements:AN,formatScope:Kh,formatText:Jh,formatVariables:Yh,timeZoneFromOffset:Dy,format({message:e,logger:t,transport:r,data:n=e==null?void 0:e.data}){switch(typeof r.format){case"string":return ON({message:e,logger:t,transforms:[Yh,Kh,Jh],transport:r,initialData:[r.format,...n]});case"function":return r.format({data:n,level:(e==null?void 0:e.level)||"info",logger:t,message:e,transport:r});default:return n}}};function AN({data:e}){return typeof e[0]!="string"||typeof e[1]!="string"||e[0].match(/%[1cdfiOos]/)?e:[`${e[0]} ${e[1]}`,...e.slice(2)]}function Dy(e){const t=Math.abs(e),r=e>=0?"-":"+",n=Math.floor(t/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return`${r}${n}:${i}`}function Kh({data:e,logger:t,message:r}){const{defaultLabel:n,labelLength:i}=(t==null?void 0:t.scope)||{},s=e[0];let o=r.scope;o||(o=n);let a;return o===""?a=i>0?"".padEnd(i+3):"":typeof o=="string"?a=` (${o})`.padEnd(i+3):a="",e[0]=s.replace("{scope}",a),e}function Yh({data:e,message:t}){let r=e[0];if(typeof r!="string")return e;r=r.replace("{level}]",`${t.level}]`.padEnd(6," "));const n=t.date||new Date;return e[0]=r.replace(/\{(\w+)}/g,(i,s)=>{var o;switch(s){case"level":return t.level||"info";case"logId":return t.logId;case"y":return n.getFullYear().toString(10);case"m":return(n.getMonth()+1).toString(10).padStart(2,"0");case"d":return n.getDate().toString(10).padStart(2,"0");case"h":return n.getHours().toString(10).padStart(2,"0");case"i":return n.getMinutes().toString(10).padStart(2,"0");case"s":return n.getSeconds().toString(10).padStart(2,"0");case"ms":return n.getMilliseconds().toString(10).padStart(3,"0");case"z":return Dy(n.getTimezoneOffset());case"iso":return n.toISOString();default:return((o=t.variables)==null?void 0:o[s])||i}}).trim(),e}function Jh({data:e}){const t=e[0];if(typeof t!="string")return e;if(t.lastIndexOf("{text}")===t.length-6)return e[0]=t.replace(/\s?{text}/,""),e[0]===""&&e.shift(),e;const n=t.split("{text}");let i=[];return n[0]!==""&&i.push(n[0]),i=i.concat(e.slice(1)),n[1]!==""&&i.push(n[1]),i}var Fy={exports:{}};(function(e){const t=nn;e.exports={serialize:n,maxDepth({data:i,transport:s,depth:o=(s==null?void 0:s.depth)??6}){if(!i)return i;if(o<1)return Array.isArray(i)?"[array]":typeof i=="object"&&i?"[object]":i;if(Array.isArray(i))return i.map(l=>e.exports.maxDepth({data:l,depth:o-1}));if(typeof i!="object"||i&&typeof i.toISOString=="function")return i;if(i===null)return null;if(i instanceof Error)return i;const a={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(a[l]=e.exports.maxDepth({data:i[l],depth:o-1}));return a},toJSON({data:i}){return JSON.parse(JSON.stringify(i,r()))},toString({data:i,transport:s}){const o=(s==null?void 0:s.inspectOptions)||{},a=i.map(l=>{if(l!==void 0)try{const u=JSON.stringify(l,r(),"  ");return u===void 0?void 0:JSON.parse(u)}catch{return l}});return t.formatWithOptions(o,...a)}};function r(i={}){const s=new WeakSet;return function(o,a){if(typeof a=="object"&&a!==null){if(s.has(a))return;s.add(a)}return n(o,a,i)}}function n(i,s,o={}){const a=(o==null?void 0:o.serializeMapAndSet)!==!1;return s instanceof Error?s.stack:s&&(typeof s=="function"?`[function] ${s.toString()}`:s instanceof Date?s.toISOString():a&&s instanceof Map&&Object.fromEntries?Object.fromEntries(s):a&&s instanceof Set&&Array.from?Array.from(s):s)}})(Fy);var pl=Fy.exports,nd={transformStyles:ic,applyAnsiStyles({data:e}){return ic(e,CN,NN)},removeStyles({data:e}){return ic(e,()=>"")}};const ky={unset:"\x1B[0m",black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"};function CN(e){const t=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return ky[t]||""}function NN(e){return e+ky.unset}function ic(e,t,r){const n={};return e.reduce((i,s,o,a)=>{if(n[o])return i;if(typeof s=="string"){let l=o,u=!1;s=s.replace(/%[1cdfiOos]/g,c=>{if(l+=1,c!=="%c")return c;const f=a[l];return typeof f=="string"?(n[l]=!0,u=!0,t(f,s)):c}),u&&r&&(s=r(s))}return i.push(s),i},[])}const{concatFirstStringElements:RN,format:IN}=Iy,{maxDepth:DN,toJSON:FN}=pl,{applyAnsiStyles:kN,removeStyles:LN}=nd,{transform:jN}=To,Xh={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};var MN=Ly;const UN=process.platform==="win32"?">":"›",id=`%c{h}:{i}:{s}.{ms}{scope}%c ${UN} {text}`;Object.assign(Ly,{DEFAULT_FORMAT:id});function Ly(e){return Object.assign(t,{format:id,level:"silly",transforms:[xN,IN,VN,RN,DN,FN],useStyles:process.env.FORCE_STYLES,writeFn({message:r}){(Xh[r.level]||Xh.info)(...r.data)}});function t(r){const n=jN({logger:e,message:r,transport:t});t.writeFn({message:{...r,data:n}})}}function xN({data:e,message:t,transport:r}){return r.format!==id?e:[`color:${BN(t.level)}`,"color:unset",...e]}function qN(e,t){if(typeof e=="boolean")return e;const n=t==="error"||t==="warn"?process.stderr:process.stdout;return n&&n.isTTY}function VN(e){const{message:t,transport:r}=e;return(qN(r.useStyles,t.level)?kN:LN)(e)}function BN(e){const t={error:"red",warn:"yellow",info:"cyan",default:"unset"};return t[e]||t.default}const zN=ts,En=Le,Qh=Nn;let HN=class extends zN{constructor({path:r,writeOptions:n={encoding:"utf8",flag:"a",mode:438},writeAsync:i=!1}){super();$e(this,"asyncWriteQueue",[]);$e(this,"bytesWritten",0);$e(this,"hasActiveAsyncWriting",!1);$e(this,"path",null);$e(this,"initialSize");$e(this,"writeOptions",null);$e(this,"writeAsync",!1);this.path=r,this.writeOptions=n,this.writeAsync=i}get size(){return this.getSize()}clear(){try{return En.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(r){return r.code==="ENOENT"?!0:(this.emit("error",r,this),!1)}}crop(r){try{const n=GN(this.path,r||4096);this.clear(),this.writeLine(`[log cropped]${Qh.EOL}${n}`)}catch(n){this.emit("error",new Error(`Couldn't crop file ${this.path}. ${n.message}`),this)}}getSize(){if(this.initialSize===void 0)try{const r=En.statSync(this.path);this.initialSize=r.size}catch{this.initialSize=0}return this.initialSize+this.bytesWritten}increaseBytesWrittenCounter(r){this.bytesWritten+=Buffer.byteLength(r,this.writeOptions.encoding)}isNull(){return!1}nextAsyncWrite(){const r=this;if(this.hasActiveAsyncWriting||this.asyncWriteQueue.length===0)return;const n=this.asyncWriteQueue.join("");this.asyncWriteQueue=[],this.hasActiveAsyncWriting=!0,En.writeFile(this.path,n,this.writeOptions,i=>{r.hasActiveAsyncWriting=!1,i?r.emit("error",new Error(`Couldn't write to ${r.path}. ${i.message}`),this):r.increaseBytesWrittenCounter(n),r.nextAsyncWrite()})}reset(){this.initialSize=void 0,this.bytesWritten=0}toString(){return this.path}writeLine(r){if(r+=Qh.EOL,this.writeAsync){this.asyncWriteQueue.push(r),this.nextAsyncWrite();return}try{En.writeFileSync(this.path,r,this.writeOptions),this.increaseBytesWrittenCounter(r)}catch(n){this.emit("error",new Error(`Couldn't write to ${this.path}. ${n.message}`),this)}}};var jy=HN;function GN(e,t){const r=Buffer.alloc(t),n=En.statSync(e),i=Math.min(n.size,t),s=Math.max(0,n.size-t),o=En.openSync(e,"r"),a=En.readSync(o,r,0,i,s);return En.closeSync(o),r.toString("utf8",0,a)}const WN=jy;let KN=class extends WN{clear(){}crop(){}getSize(){return 0}isNull(){return!0}writeLine(){}};var YN=KN;const JN=ts,Zh=Le,ep=Se,XN=jy,QN=YN;let ZN=class extends JN{constructor(){super();$e(this,"store",{});this.emitError=this.emitError.bind(this)}provide({filePath:r,writeOptions:n,writeAsync:i=!1}){let s;try{if(r=ep.resolve(r),this.store[r])return this.store[r];s=this.createFile({filePath:r,writeOptions:n,writeAsync:i})}catch(o){s=new QN({path:r}),this.emitError(o,s)}return s.on("error",this.emitError),this.store[r]=s,s}createFile({filePath:r,writeOptions:n,writeAsync:i}){return this.testFileWriting(r),new XN({path:r,writeOptions:n,writeAsync:i})}emitError(r,n){this.emit("error",r,n)}testFileWriting(r){Zh.mkdirSync(ep.dirname(r),{recursive:!0}),Zh.writeFileSync(r,"",{flag:"a"})}};var eR=ZN;const sc=Le,tR=Nn,Ts=Se,rR=eR,{transform:nR}=To,{removeStyles:iR}=nd,{format:sR}=Iy,{toString:oR}=pl;var aR=cR;const lR=new rR;function cR(e,{registry:t=lR,externalApi:r}={}){let n;return t.listenerCount("error")<1&&t.on("error",(u,c)=>{o(`Can't write to ${c}`,u)}),Object.assign(i,{fileName:uR(e.variables.processType),format:"[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",getFile:a,inspectOptions:{depth:5},level:"silly",maxSize:1024**2,readAllLogs:l,sync:!0,transforms:[iR,sR,oR],writeOptions:{flag:"a",mode:438,encoding:"utf8"},archiveLogFn(u){const c=u.toString(),f=Ts.parse(c);try{sc.renameSync(c,Ts.join(f.dir,`${f.name}.old${f.ext}`))}catch(h){o("Could not rotate log",h);const m=Math.round(i.maxSize/4);u.crop(Math.min(m,256*1024))}},resolvePathFn(u){return Ts.join(u.libraryDefaultDir,u.fileName)}});function i(u){const c=a(u);i.maxSize>0&&c.size>i.maxSize&&(i.archiveLogFn(c),c.reset());const h=nR({logger:e,message:u,transport:i});c.writeLine(h)}function s(){n||(n=Object.create(Object.prototype,{...Object.getOwnPropertyDescriptors(r.getPathVariables()),fileName:{get(){return i.fileName},enumerable:!0}}),typeof i.archiveLog=="function"&&(i.archiveLogFn=i.archiveLog,o("archiveLog is deprecated. Use archiveLogFn instead")),typeof i.resolvePath=="function"&&(i.resolvePathFn=i.resolvePath,o("resolvePath is deprecated. Use resolvePathFn instead")))}function o(u,c=null,f="error"){const h=[`electron-log.transports.file: ${u}`];c&&h.push(c),e.transports.console({data:h,date:new Date,level:f})}function a(u){s();const c=i.resolvePathFn(n,u);return t.provide({filePath:c,writeAsync:!i.sync,writeOptions:i.writeOptions})}function l({fileFilter:u=c=>c.endsWith(".log")}={}){const c=Ts.dirname(i.resolvePathFn(n));return sc.readdirSync(c).map(f=>Ts.join(c,f)).filter(u).map(f=>{try{return{path:f,lines:sc.readFileSync(f,"utf8").split(tR.EOL)}}catch{return null}}).filter(Boolean)}}function uR(e=process.type){switch(e){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}const{maxDepth:fR,toJSON:dR}=pl,{transform:hR}=To;var pR=mR;function mR(e,{externalApi:t}){return Object.assign(r,{depth:3,eventId:"__ELECTRON_LOG_IPC__",level:e.isDev?"silly":!1,transforms:[dR,fR]}),t!=null&&t.isElectron()?r:void 0;function r(n){t==null||t.sendIpc(r.eventId,{...n,data:hR({logger:e,message:n,transport:r})})}}const gR=Dm,yR=Qv,{transform:vR}=To,{removeStyles:_R}=nd,{toJSON:$R,maxDepth:ER}=pl;var wR=SR;function SR(e){return Object.assign(t,{client:{name:"electron-application"},depth:6,level:!1,requestOptions:{},transforms:[_R,$R,ER],makeBodyFn({message:r}){return JSON.stringify({client:t.client,data:r.data,date:r.date.getTime(),level:r.level,scope:r.scope,variables:r.variables})},processErrorFn({error:r}){e.processMessage({data:[`electron-log: can't POST ${t.url}`,r],level:"warn"},{transports:["console","file"]})},sendRequestFn({serverUrl:r,requestOptions:n,body:i}){const o=(r.startsWith("https:")?yR:gR).request(r,{method:"POST",...n,headers:{"Content-Type":"application/json","Content-Length":i.length,...n.headers}});return o.write(i),o.end(),o}});function t(r){if(!t.url)return;const n=t.makeBodyFn({logger:e,message:{...r,data:vR({logger:e,message:r,transport:t})},transport:t}),i=t.sendRequestFn({serverUrl:t.url,requestOptions:t.requestOptions,body:Buffer.from(n,"utf8")});i.on("error",s=>t.processErrorFn({error:s,logger:e,message:r,request:i,transport:t}))}}const tp=$N,bR=SN,PR=PN,TR=MN,OR=aR,AR=pR,CR=wR;var NR=RR;function RR({dependencies:e,initializeFn:t}){var n;const r=new tp({dependencies:e,errorHandler:new bR,eventLogger:new PR,initializeFn:t,isDev:(n=e.externalApi)==null?void 0:n.isDev(),logId:"default",transportFactories:{console:TR,file:OR,ipc:AR,remote:CR},variables:{processType:"main"}});return r.default=r,r.Logger=tp,r.processInternalErrorFn=i=>{r.transports.console.writeFn({message:{data:["Unhandled electron-log error",i],level:"error"}})},r}const IR=te,DR=cN,{initialize:FR}=hN,kR=NR,sd=new DR({electron:IR}),ml=kR({dependencies:{externalApi:sd},initializeFn:FR});var LR=ml;sd.onIpc("__ELECTRON_LOG__",(e,t)=>{t.scope&&ml.Logger.getInstance(t).scope(t.scope);const r=new Date(t.date);My({...t,date:r.getTime()?r:new Date})});sd.onIpcInvoke("__ELECTRON_LOG__",(e,{cmd:t="",logId:r})=>{switch(t){case"getOptions":return{levels:ml.Logger.getInstance({logId:r}).levels,logId:r};default:return My({data:[`Unknown cmd '${t}'`],level:"error"}),{}}});function My(e){var t;(t=ml.Logger.getInstance(e))==null||t.processMessage(e)}const jR=LR;var MR=jR;const aa=km(MR);var oc={},ac={},ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.CancellationError=ci.CancellationToken=void 0;const UR=ts;class xR extends UR.EventEmitter{get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new Yc);const r=()=>{if(n!=null)try{this.removeListener("cancel",n),n=null}catch{}};let n=null;return new Promise((i,s)=>{let o=null;if(n=()=>{try{o!=null&&(o(),o=null)}finally{s(new Yc)}},this.cancelled){n();return}this.onCancel(n),t(i,s,a=>{o=a})}).then(i=>(r(),i)).catch(i=>{throw r(),i})}removeParentCancelHandler(){const t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}ci.CancellationToken=xR;class Yc extends Error{constructor(){super("cancelled")}}ci.CancellationError=Yc;var Ke={},Jc={exports:{}},la={exports:{}},lc,rp;function qR(){if(rp)return lc;rp=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;lc=function(c,f){f=f||{};var h=typeof c;if(h==="string"&&c.length>0)return o(c);if(h==="number"&&isFinite(c))return f.long?l(c):a(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function o(c){if(c=String(c),!(c.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(f){var h=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(c){var f=Math.abs(c);return f>=n?Math.round(c/n)+"d":f>=r?Math.round(c/r)+"h":f>=t?Math.round(c/t)+"m":f>=e?Math.round(c/e)+"s":c+"ms"}function l(c){var f=Math.abs(c);return f>=n?u(c,f,n,"day"):f>=r?u(c,f,r,"hour"):f>=t?u(c,f,t,"minute"):f>=e?u(c,f,e,"second"):c+" ms"}function u(c,f,h,m){var g=f>=h*1.5;return Math.round(c/h)+" "+m+(g?"s":"")}return lc}var cc,np;function Uy(){if(np)return cc;np=1;function e(t){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=s,n.enabled=a,n.humanize=qR(),n.destroy=c,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let h=0;for(let m=0;m<f.length;m++)h=(h<<5)-h+f.charCodeAt(m),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=r;function n(f){let h,m=null,g,E;function v(...y){if(!v.enabled)return;const p=v,S=Number(new Date),N=S-(h||S);p.diff=N,p.prev=h,p.curr=S,h=S,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let M=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(b,D)=>{if(b==="%%")return"%";M++;const T=n.formatters[D];if(typeof T=="function"){const V=y[M];b=T.call(p,V),y.splice(M,1),M--}return b}),n.formatArgs.call(p,y),(p.log||n.log).apply(p,y)}return v.namespace=f,v.useColors=n.useColors(),v.color=n.selectColor(f),v.extend=i,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(g!==n.namespaces&&(g=n.namespaces,E=n.enabled(f)),E),set:y=>{m=y}}),typeof n.init=="function"&&n.init(v),v}function i(f,h){const m=n(this.namespace+(typeof h>"u"?":":h)+f);return m.log=this.log,m}function s(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let h;const m=(typeof f=="string"?f:"").split(/[\s,]+/),g=m.length;for(h=0;h<g;h++)m[h]&&(f=m[h].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.slice(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function o(){const f=[...n.names.map(l),...n.skips.map(l).map(h=>"-"+h)].join(",");return n.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let h,m;for(h=0,m=n.skips.length;h<m;h++)if(n.skips[h].test(f))return!1;for(h=0,m=n.names.length;h<m;h++)if(n.names[h].test(f))return!0;return!1}function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return cc=e,cc}var ip;function VR(){return ip||(ip=1,function(e,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let c=0,f=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(c++,h==="%c"&&(f=c))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=Uy()(t);const{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}(la,la.exports)),la.exports}var ca={exports:{}},uc,sp;function BR(){return sp||(sp=1,uc=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}),uc}var fc,op;function zR(){if(op)return fc;op=1;const e=Nn,t=BR(),r=process.env;let n;t("no-color")||t("no-colors")||t("color=false")?n=!1:(t("color")||t("colors")||t("color=true")||t("color=always"))&&(n=!0),"FORCE_COLOR"in r&&(n=r.FORCE_COLOR.length===0||parseInt(r.FORCE_COLOR,10)!==0);function i(a){return a===0?!1:{level:a,hasBasic:!0,has256:a>=2,has16m:a>=3}}function s(a){if(n===!1)return 0;if(t("color=16m")||t("color=full")||t("color=truecolor"))return 3;if(t("color=256"))return 2;if(a&&!a.isTTY&&n!==!0)return 0;const l=n?1:0;if(process.platform==="win32"){const u=e.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(u[0])>=10&&Number(u[2])>=10586?Number(u[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(u=>u in r)||r.CI_NAME==="codeship"?1:l;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if(r.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in r){const u=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return u>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:(r.TERM==="dumb",l)}function o(a){const l=s(a);return i(l)}return fc={supportsColor:o,stdout:o(process.stdout),stderr:o(process.stderr)},fc}var ap;function HR(){return ap||(ap=1,function(e,t){const r=Zv,n=nn;t.init=c,t.log=a,t.formatArgs=s,t.save=l,t.load=u,t.useColors=i,t.destroy=n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const h=zR();h&&(h.stderr||h).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(process.env).filter(h=>/^debug_/i.test(h)).reduce((h,m)=>{const g=m.substring(6).toLowerCase().replace(/_([a-z])/g,(v,y)=>y.toUpperCase());let E=process.env[m];return/^(yes|on|true|enabled)$/i.test(E)?E=!0:/^(no|off|false|disabled)$/i.test(E)?E=!1:E==="null"?E=null:E=Number(E),h[g]=E,h},{});function i(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:r.isatty(process.stderr.fd)}function s(h){const{namespace:m,useColors:g}=this;if(g){const E=this.color,v="\x1B[3"+(E<8?E:"8;5;"+E),y=`  ${v};1m${m} \x1B[0m`;h[0]=y+h[0].split(`
`).join(`
`+y),h.push(v+"m+"+e.exports.humanize(this.diff)+"\x1B[0m")}else h[0]=o()+m+" "+h[0]}function o(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function a(...h){return process.stderr.write(n.format(...h)+`
`)}function l(h){h?process.env.DEBUG=h:delete process.env.DEBUG}function u(){return process.env.DEBUG}function c(h){h.inspectOpts={};const m=Object.keys(t.inspectOpts);for(let g=0;g<m.length;g++)h.inspectOpts[m[g]]=t.inspectOpts[m[g]]}e.exports=Uy()(t);const{formatters:f}=e.exports;f.o=function(h){return this.inspectOpts.colors=this.useColors,n.inspect(h,this.inspectOpts).split(`
`).map(m=>m.trim()).join(" ")},f.O=function(h){return this.inspectOpts.colors=this.useColors,n.inspect(h,this.inspectOpts)}}(ca,ca.exports)),ca.exports}typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Jc.exports=VR():Jc.exports=HR();var GR=Jc.exports,Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.ProgressCallbackTransform=void 0;const WR=po;class KR extends WR.Transform{constructor(t,r,n){super(),this.total=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}}Oo.ProgressCallbackTransform=KR;var lp;function YR(){if(lp)return Ke;lp=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.safeStringifyJson=Ke.configureRequestOptions=Ke.safeGetHeader=Ke.DigestTransform=Ke.configureRequestUrl=Ke.configureRequestOptionsFromUrl=Ke.HttpExecutor=Ke.parseJson=Ke.HttpError=Ke.createHttpError=void 0;const e=rs,t=GR,r=Le,n=po,i=ns,s=ci,o=ct(),a=Oo,l=(0,t.default)("electron-builder");function u(O,b=null){return new f(O.statusCode||-1,`${O.statusCode} ${O.statusMessage}`+(b==null?"":`
`+JSON.stringify(b,null,"  "))+`
Headers: `+M(O.headers),b)}Ke.createHttpError=u;const c=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class f extends Error{constructor(b,D=`HTTP error: ${c.get(b)||b}`,T=null){super(D),this.statusCode=b,this.description=T,this.name="HttpError",this.code=`HTTP_ERROR_${b}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}Ke.HttpError=f;function h(O){return O.then(b=>b==null||b.length===0?null:JSON.parse(b))}Ke.parseJson=h;class m{constructor(){this.maxRedirects=10}request(b,D=new s.CancellationToken,T){N(b);const V=T==null?void 0:JSON.stringify(T),Y=V?Buffer.from(V):void 0;if(Y!=null){l(V);const{headers:H,...W}=b;b={method:"post",headers:{"Content-Type":"application/json","Content-Length":Y.length,...H},...W}}return this.doApiRequest(b,D,H=>H.end(Y))}doApiRequest(b,D,T,V=0){return l.enabled&&l(`Request: ${M(b)}`),D.createPromise((Y,H,W)=>{const G=this.createRequest(b,Q=>{try{this.handleResponse(Q,b,D,Y,H,V,T)}catch(Z){H(Z)}});this.addErrorAndTimeoutHandlers(G,H,b.timeout),this.addRedirectHandlers(G,b,H,V,Q=>{this.doApiRequest(Q,D,T,V).then(Y).catch(H)}),T(G,H),W(()=>G.abort())})}addRedirectHandlers(b,D,T,V,Y){}addErrorAndTimeoutHandlers(b,D,T=60*1e3){this.addTimeOutHandler(b,D,T),b.on("error",D),b.on("aborted",()=>{D(new Error("Request has been aborted by the server"))})}handleResponse(b,D,T,V,Y,H,W){var G;if(l.enabled&&l(`Response: ${b.statusCode} ${b.statusMessage}, request options: ${M(D)}`),b.statusCode===404){Y(u(b,`method: ${D.method||"GET"} url: ${D.protocol||"https:"}//${D.hostname}${D.port?`:${D.port}`:""}${D.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(b.statusCode===204){V();return}const Q=(G=b.statusCode)!==null&&G!==void 0?G:0,Z=Q>=300&&Q<400,K=p(b,"location");if(Z&&K!=null){if(H>this.maxRedirects){Y(this.createMaxRedirectError());return}this.doApiRequest(m.prepareRedirectUrlOptions(K,D),T,W,H).then(V).catch(Y);return}b.setEncoding("utf8");let I="";b.on("error",Y),b.on("data",j=>I+=j),b.on("end",()=>{try{if(b.statusCode!=null&&b.statusCode>=400){const j=p(b,"content-type"),A=j!=null&&(Array.isArray(j)?j.find(w=>w.includes("json"))!=null:j.includes("json"));Y(u(b,`method: ${D.method||"GET"} url: ${D.protocol||"https:"}//${D.hostname}${D.port?`:${D.port}`:""}${D.path}

          Data:
          ${A?JSON.stringify(JSON.parse(I)):I}
          `))}else V(I.length===0?null:I)}catch(j){Y(j)}})}async downloadToBuffer(b,D){return await D.cancellationToken.createPromise((T,V,Y)=>{const H=[],W={headers:D.headers||void 0,redirect:"manual"};E(b,W),N(W),this.doDownload(W,{destination:null,options:D,onCancel:Y,callback:G=>{G==null?T(Buffer.concat(H)):V(G)},responseHandler:(G,Q)=>{let Z=0;G.on("data",K=>{if(Z+=K.length,Z>524288e3){Q(new Error("Maximum allowed size is 500 MB"));return}H.push(K)}),G.on("end",()=>{Q(null)})}},0)})}doDownload(b,D,T){const V=this.createRequest(b,Y=>{if(Y.statusCode>=400){D.callback(new Error(`Cannot download "${b.protocol||"https:"}//${b.hostname}${b.path}", status ${Y.statusCode}: ${Y.statusMessage}`));return}Y.on("error",D.callback);const H=p(Y,"location");if(H!=null){T<this.maxRedirects?this.doDownload(m.prepareRedirectUrlOptions(H,b),D,T++):D.callback(this.createMaxRedirectError());return}D.responseHandler==null?S(D,Y):D.responseHandler(Y,D.callback)});this.addErrorAndTimeoutHandlers(V,D.callback,b.timeout),this.addRedirectHandlers(V,b,D.callback,T,Y=>{this.doDownload(Y,D,T++)}),V.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(b,D,T){b.on("socket",V=>{V.setTimeout(T,()=>{b.abort(),D(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(b,D){const T=g(b,{...D}),V=T.headers;if(V!=null&&V.authorization){const Y=new i.URL(b);(Y.hostname.endsWith(".amazonaws.com")||Y.searchParams.has("X-Amz-Credential"))&&delete V.authorization}return T}static retryOnServerError(b,D=3){for(let T=0;;T++)try{return b()}catch(V){if(T<D&&(V instanceof f&&V.isServerError()||V.code==="EPIPE"))continue;throw V}}}Ke.HttpExecutor=m;function g(O,b){const D=N(b);return E(new i.URL(O),D),D}Ke.configureRequestOptionsFromUrl=g;function E(O,b){b.protocol=O.protocol,b.hostname=O.hostname,O.port?b.port=O.port:b.port&&delete b.port,b.path=O.pathname+O.search}Ke.configureRequestUrl=E;class v extends n.Transform{get actual(){return this._actual}constructor(b,D="sha512",T="base64"){super(),this.expected=b,this.algorithm=D,this.encoding=T,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,e.createHash)(D)}_transform(b,D,T){this.digester.update(b),T(null,b)}_flush(b){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(D){b(D);return}b(null)}validate(){if(this._actual==null)throw(0,o.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,o.newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}Ke.DigestTransform=v;function y(O,b,D){return O!=null&&b!=null&&O!==b?(D(new Error(`checksum mismatch: expected ${b} but got ${O} (X-Checksum-Sha2 header)`)),!1):!0}function p(O,b){const D=O.headers[b];return D==null?null:Array.isArray(D)?D.length===0?null:D[D.length-1]:D}Ke.safeGetHeader=p;function S(O,b){if(!y(p(b,"X-Checksum-Sha2"),O.options.sha2,O.callback))return;const D=[];if(O.options.onProgress!=null){const H=p(b,"content-length");H!=null&&D.push(new a.ProgressCallbackTransform(parseInt(H,10),O.options.cancellationToken,O.options.onProgress))}const T=O.options.sha512;T!=null?D.push(new v(T,"sha512",T.length===128&&!T.includes("+")&&!T.includes("Z")&&!T.includes("=")?"hex":"base64")):O.options.sha2!=null&&D.push(new v(O.options.sha2,"sha256","hex"));const V=(0,r.createWriteStream)(O.destination);D.push(V);let Y=b;for(const H of D)H.on("error",W=>{V.close(),O.options.cancellationToken.cancelled||O.callback(W)}),Y=Y.pipe(H);V.on("finish",()=>{V.close(O.callback)})}function N(O,b,D){D!=null&&(O.method=D),O.headers={...O.headers};const T=O.headers;return b!=null&&(T.authorization=b.startsWith("Basic")||b.startsWith("Bearer")?b:`token ${b}`),T["User-Agent"]==null&&(T["User-Agent"]="electron-builder"),(D==null||D==="GET"||T["Cache-Control"]==null)&&(T["Cache-Control"]="no-cache"),O.protocol==null&&process.versions.electron!=null&&(O.protocol="https:"),O}Ke.configureRequestOptions=N;function M(O,b){return JSON.stringify(O,(D,T)=>D.endsWith("Authorization")||D.endsWith("authorization")||D.endsWith("Password")||D.endsWith("PASSWORD")||D.endsWith("Token")||D.includes("password")||D.includes("token")||b!=null&&b.has(D)?"<stripped sensitive data>":T,2)}return Ke.safeStringifyJson=M,Ke}var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.getS3LikeProviderBaseUrl=Ki.githubUrl=void 0;function JR(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`}Ki.githubUrl=JR;function XR(e){const t=e.provider;if(t==="s3")return QR(e);if(t==="spaces")return ZR(e);throw new Error(`Not supported provider: ${t}`)}Ki.getS3LikeProviderBaseUrl=XR;function QR(e){let t;if(e.accelerate==!0)t=`https://${e.bucket}.s3-accelerate.amazonaws.com`;else if(e.endpoint!=null)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(e.region==null)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);e.region==="us-east-1"?t=`https://s3.amazonaws.com/${e.bucket}`:t=`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else e.region==="cn-north-1"?t=`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:t=`https://${e.bucket}.s3.amazonaws.com`;return xy(t,e.path)}function xy(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function ZR(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return xy(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}var gl={};Object.defineProperty(gl,"__esModule",{value:!0});gl.parseDn=void 0;function eI(e){let t=!1,r=null,n="",i=0;e=e.trim();const s=new Map;for(let o=0;o<=e.length;o++){if(o===e.length){r!==null&&s.set(r,n);break}const a=e[o];if(t){if(a==='"'){t=!1;continue}}else{if(a==='"'){t=!0;continue}if(a==="\\"){o++;const l=parseInt(e.slice(o,o+2),16);Number.isNaN(l)?n+=e[o]:(o++,n+=String.fromCharCode(l));continue}if(r===null&&a==="="){r=n,n="";continue}if(a===","||a===";"||a==="+"){r!==null&&s.set(r,n),r=null,n="";continue}}if(a===" "&&!t){if(n.length===0)continue;if(o>i){let l=o;for(;e[l]===" ";)l++;i=l}if(i>=e.length||e[i]===","||e[i]===";"||r===null&&e[i]==="="||r!==null&&e[i]==="+"){o=i-1;continue}}n+=a}return s}gl.parseDn=eI;var xn={},cp;function tI(){if(cp)return xn;cp=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.nil=xn.UUID=void 0;const e=rs,t=ct(),r="options.name must be either a string or a Buffer",n=(0,e.randomBytes)(16);n[0]=n[0]|1;const i={},s=[];for(let f=0;f<256;f++){const h=(f+256).toString(16).substr(1);i[h]=f,s[f]=h}class o{constructor(h){this.ascii=null,this.binary=null;const m=o.check(h);if(!m)throw new Error("not a UUID");this.version=m.version,m.format==="ascii"?this.ascii=h:this.binary=h}static v5(h,m){return u(h,"sha1",80,m)}toString(){return this.ascii==null&&(this.ascii=c(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(h,m=0){if(typeof h=="string")return h=h.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(h)?h==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(i[h[14]+h[15]]&240)>>4,variant:a((i[h[19]+h[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(h)){if(h.length<m+16)return!1;let g=0;for(;g<16&&h[m+g]===0;g++);return g===16?{version:void 0,variant:"nil",format:"binary"}:{version:(h[m+6]&240)>>4,variant:a((h[m+8]&224)>>5),format:"binary"}}throw(0,t.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(h){const m=Buffer.allocUnsafe(16);let g=0;for(let E=0;E<16;E++)m[E]=i[h[g++]+h[g++]],(E===3||E===5||E===7||E===9)&&(g+=1);return m}}xn.UUID=o,o.OID=o.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function a(f){switch(f){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var l;(function(f){f[f.ASCII=0]="ASCII",f[f.BINARY=1]="BINARY",f[f.OBJECT=2]="OBJECT"})(l||(l={}));function u(f,h,m,g,E=l.ASCII){const v=(0,e.createHash)(h);if(typeof f!="string"&&!Buffer.isBuffer(f))throw(0,t.newError)(r,"ERR_INVALID_UUID_NAME");v.update(g),v.update(f);const p=v.digest();let S;switch(E){case l.BINARY:p[6]=p[6]&15|m,p[8]=p[8]&63|128,S=p;break;case l.OBJECT:p[6]=p[6]&15|m,p[8]=p[8]&63|128,S=new o(p);break;default:S=s[p[0]]+s[p[1]]+s[p[2]]+s[p[3]]+"-"+s[p[4]]+s[p[5]]+"-"+s[p[6]&15|m]+s[p[7]]+"-"+s[p[8]&63|128]+s[p[9]]+"-"+s[p[10]]+s[p[11]]+s[p[12]]+s[p[13]]+s[p[14]]+s[p[15]];break}return S}function c(f){return s[f[0]]+s[f[1]]+s[f[2]]+s[f[3]]+"-"+s[f[4]]+s[f[5]]+"-"+s[f[6]]+s[f[7]]+"-"+s[f[8]]+s[f[9]]+"-"+s[f[10]]+s[f[11]]+s[f[12]]+s[f[13]]+s[f[14]]+s[f[15]]}return xn.nil=new o("00000000-0000-0000-0000-000000000000"),xn}var qn={},qy={};(function(e){(function(t){t.parser=function(P,_){return new n(P,_)},t.SAXParser=n,t.SAXStream=c,t.createStream=u,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(P,_){if(!(this instanceof n))return new n(P,_);var z=this;s(z),z.q=z.c="",z.bufferCheckPosition=t.MAX_BUFFER_LENGTH,z.opt=_||{},z.opt.lowercase=z.opt.lowercase||z.opt.lowercasetags,z.looseCase=z.opt.lowercase?"toLowerCase":"toUpperCase",z.tags=[],z.closed=z.closedRoot=z.sawRoot=!1,z.tag=z.error=null,z.strict=!!P,z.noscript=!!(P||z.opt.noscript),z.state=T.BEGIN,z.strictEntities=z.opt.strictEntities,z.ENTITIES=z.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),z.attribList=[],z.opt.xmlns&&(z.ns=Object.create(E)),z.trackPosition=z.opt.position!==!1,z.trackPosition&&(z.position=z.line=z.column=0),Y(z,"onready")}Object.create||(Object.create=function(P){function _(){}_.prototype=P;var z=new _;return z}),Object.keys||(Object.keys=function(P){var _=[];for(var z in P)P.hasOwnProperty(z)&&_.push(z);return _});function i(P){for(var _=Math.max(t.MAX_BUFFER_LENGTH,10),z=0,U=0,re=r.length;U<re;U++){var de=P[r[U]].length;if(de>_)switch(r[U]){case"textNode":W(P);break;case"cdata":H(P,"oncdata",P.cdata),P.cdata="";break;case"script":H(P,"onscript",P.script),P.script="";break;default:Q(P,"Max buffer length exceeded: "+r[U])}z=Math.max(z,de)}var be=t.MAX_BUFFER_LENGTH-z;P.bufferCheckPosition=be+P.position}function s(P){for(var _=0,z=r.length;_<z;_++)P[r[_]]=""}function o(P){W(P),P.cdata!==""&&(H(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(H(P,"onscript",P.script),P.script="")}n.prototype={end:function(){Z(this)},write:L,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=require("stream").Stream}catch{a=function(){}}a||(a=function(){});var l=t.EVENTS.filter(function(P){return P!=="error"&&P!=="end"});function u(P,_){return new c(P,_)}function c(P,_){if(!(this instanceof c))return new c(P,_);a.apply(this),this._parser=new n(P,_),this.writable=!0,this.readable=!0;var z=this;this._parser.onend=function(){z.emit("end")},this._parser.onerror=function(U){z.emit("error",U),z._parser.error=null},this._decoder=null,l.forEach(function(U){Object.defineProperty(z,"on"+U,{get:function(){return z._parser["on"+U]},set:function(re){if(!re)return z.removeAllListeners(U),z._parser["on"+U]=re,re;z.on(U,re)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(a.prototype,{constructor:{value:c}}),c.prototype.write=function(P){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(P)){if(!this._decoder){var _=e_.StringDecoder;this._decoder=new _("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},c.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},c.prototype.on=function(P,_){var z=this;return!z._parser["on"+P]&&l.indexOf(P)!==-1&&(z._parser["on"+P]=function(){var U=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);U.splice(0,0,P),z.emit.apply(z,U)}),a.prototype.on.call(z,P,_)};var f="[CDATA[",h="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",E={xml:m,xmlns:g},v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(P){return P===" "||P===`
`||P==="\r"||P==="	"}function M(P){return P==='"'||P==="'"}function O(P){return P===">"||N(P)}function b(P,_){return P.test(_)}function D(P,_){return!b(P,_)}var T=0;t.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(P){var _=t.ENTITIES[P],z=typeof _=="number"?String.fromCharCode(_):_;t.ENTITIES[P]=z});for(var V in t.STATE)t.STATE[t.STATE[V]]=V;T=t.STATE;function Y(P,_,z){P[_]&&P[_](z)}function H(P,_,z){P.textNode&&W(P),Y(P,_,z)}function W(P){P.textNode=G(P.opt,P.textNode),P.textNode&&Y(P,"ontext",P.textNode),P.textNode=""}function G(P,_){return P.trim&&(_=_.trim()),P.normalize&&(_=_.replace(/\s+/g," ")),_}function Q(P,_){return W(P),P.trackPosition&&(_+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),_=new Error(_),P.error=_,Y(P,"onerror",_),P}function Z(P){return P.sawRoot&&!P.closedRoot&&K(P,"Unclosed root tag"),P.state!==T.BEGIN&&P.state!==T.BEGIN_WHITESPACE&&P.state!==T.TEXT&&Q(P,"Unexpected end"),W(P),P.c="",P.closed=!0,Y(P,"onend"),n.call(P,P.strict,P.opt),P}function K(P,_){if(typeof P!="object"||!(P instanceof n))throw new Error("bad call to strictFail");P.strict&&Q(P,_)}function I(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var _=P.tags[P.tags.length-1]||P,z=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(z.ns=_.ns),P.attribList.length=0,H(P,"onopentagstart",z)}function j(P,_){var z=P.indexOf(":"),U=z<0?["",P]:P.split(":"),re=U[0],de=U[1];return _&&P==="xmlns"&&(re="xmlns",de=""),{prefix:re,local:de}}function A(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName)){P.attribName=P.attribValue="";return}if(P.opt.xmlns){var _=j(P.attribName,!0),z=_.prefix,U=_.local;if(z==="xmlns")if(U==="xml"&&P.attribValue!==m)K(P,"xml: prefix must be bound to "+m+`
Actual: `+P.attribValue);else if(U==="xmlns"&&P.attribValue!==g)K(P,"xmlns: prefix must be bound to "+g+`
Actual: `+P.attribValue);else{var re=P.tag,de=P.tags[P.tags.length-1]||P;re.ns===de.ns&&(re.ns=Object.create(de.ns)),re.ns[U]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,H(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}function w(P,_){if(P.opt.xmlns){var z=P.tag,U=j(P.tagName);z.prefix=U.prefix,z.local=U.local,z.uri=z.ns[U.prefix]||"",z.prefix&&!z.uri&&(K(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),z.uri=U.prefix);var re=P.tags[P.tags.length-1]||P;z.ns&&re.ns!==z.ns&&Object.keys(z.ns).forEach(function(ut){H(P,"onopennamespace",{prefix:ut,uri:z.ns[ut]})});for(var de=0,be=P.attribList.length;de<be;de++){var ke=P.attribList[de],ze=ke[0],Me=ke[1],Ie=j(ze,!0),Xe=Ie.prefix,Bt=Ie.local,Rt=Xe===""?"":z.ns[Xe]||"",It={name:ze,value:Me,prefix:Xe,local:Bt,uri:Rt};Xe&&Xe!=="xmlns"&&!Rt&&(K(P,"Unbound namespace prefix: "+JSON.stringify(Xe)),It.uri=Xe),P.tag.attributes[ze]=It,H(P,"onattribute",It)}P.attribList.length=0}P.tag.isSelfClosing=!!_,P.sawRoot=!0,P.tags.push(P.tag),H(P,"onopentag",P.tag),_||(!P.noscript&&P.tagName.toLowerCase()==="script"?P.state=T.SCRIPT:P.state=T.TEXT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function R(P){if(!P.tagName){K(P,"Weird empty close tag."),P.textNode+="</>",P.state=T.TEXT;return}if(P.script){if(P.tagName!=="script"){P.script+="</"+P.tagName+">",P.tagName="",P.state=T.SCRIPT;return}H(P,"onscript",P.script),P.script=""}var _=P.tags.length,z=P.tagName;P.strict||(z=z[P.looseCase]());for(var U=z;_--;){var re=P.tags[_];if(re.name!==U)K(P,"Unexpected close tag");else break}if(_<0){K(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",P.state=T.TEXT;return}P.tagName=z;for(var de=P.tags.length;de-- >_;){var be=P.tag=P.tags.pop();P.tagName=P.tag.name,H(P,"onclosetag",P.tagName);var ke={};for(var ze in be.ns)ke[ze]=be.ns[ze];var Me=P.tags[P.tags.length-1]||P;P.opt.xmlns&&be.ns!==Me.ns&&Object.keys(be.ns).forEach(function(Ie){var Xe=be.ns[Ie];H(P,"onclosenamespace",{prefix:Ie,uri:Xe})})}_===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=T.TEXT}function C(P){var _=P.entity,z=_.toLowerCase(),U,re="";return P.ENTITIES[_]?P.ENTITIES[_]:P.ENTITIES[z]?P.ENTITIES[z]:(_=z,_.charAt(0)==="#"&&(_.charAt(1)==="x"?(_=_.slice(2),U=parseInt(_,16),re=U.toString(16)):(_=_.slice(1),U=parseInt(_,10),re=U.toString(10))),_=_.replace(/^0+/,""),isNaN(U)||re.toLowerCase()!==_?(K(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint(U))}function d(P,_){_==="<"?(P.state=T.OPEN_WAKA,P.startTagPosition=P.position):N(_)||(K(P,"Non-whitespace before first tag."),P.textNode=_,P.state=T.TEXT)}function $(P,_){var z="";return _<P.length&&(z=P.charAt(_)),z}function L(P){var _=this;if(this.error)throw this.error;if(_.closed)return Q(_,"Cannot write after close. Assign an onready handler.");if(P===null)return Z(_);typeof P=="object"&&(P=P.toString());for(var z=0,U="";U=$(P,z++),_.c=U,!!U;)switch(_.trackPosition&&(_.position++,U===`
`?(_.line++,_.column=0):_.column++),_.state){case T.BEGIN:if(_.state=T.BEGIN_WHITESPACE,U==="\uFEFF")continue;d(_,U);continue;case T.BEGIN_WHITESPACE:d(_,U);continue;case T.TEXT:if(_.sawRoot&&!_.closedRoot){for(var re=z-1;U&&U!=="<"&&U!=="&";)U=$(P,z++),U&&_.trackPosition&&(_.position++,U===`
`?(_.line++,_.column=0):_.column++);_.textNode+=P.substring(re,z-1)}U==="<"&&!(_.sawRoot&&_.closedRoot&&!_.strict)?(_.state=T.OPEN_WAKA,_.startTagPosition=_.position):(!N(U)&&(!_.sawRoot||_.closedRoot)&&K(_,"Text data outside of root node."),U==="&"?_.state=T.TEXT_ENTITY:_.textNode+=U);continue;case T.SCRIPT:U==="<"?_.state=T.SCRIPT_ENDING:_.script+=U;continue;case T.SCRIPT_ENDING:U==="/"?_.state=T.CLOSE_TAG:(_.script+="<"+U,_.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(U==="!")_.state=T.SGML_DECL,_.sgmlDecl="";else if(!N(U))if(b(v,U))_.state=T.OPEN_TAG,_.tagName=U;else if(U==="/")_.state=T.CLOSE_TAG,_.tagName="";else if(U==="?")_.state=T.PROC_INST,_.procInstName=_.procInstBody="";else{if(K(_,"Unencoded <"),_.startTagPosition+1<_.position){var de=_.position-_.startTagPosition;U=new Array(de).join(" ")+U}_.textNode+="<"+U,_.state=T.TEXT}continue;case T.SGML_DECL:(_.sgmlDecl+U).toUpperCase()===f?(H(_,"onopencdata"),_.state=T.CDATA,_.sgmlDecl="",_.cdata=""):_.sgmlDecl+U==="--"?(_.state=T.COMMENT,_.comment="",_.sgmlDecl=""):(_.sgmlDecl+U).toUpperCase()===h?(_.state=T.DOCTYPE,(_.doctype||_.sawRoot)&&K(_,"Inappropriately located doctype declaration"),_.doctype="",_.sgmlDecl=""):U===">"?(H(_,"onsgmldeclaration",_.sgmlDecl),_.sgmlDecl="",_.state=T.TEXT):(M(U)&&(_.state=T.SGML_DECL_QUOTED),_.sgmlDecl+=U);continue;case T.SGML_DECL_QUOTED:U===_.q&&(_.state=T.SGML_DECL,_.q=""),_.sgmlDecl+=U;continue;case T.DOCTYPE:U===">"?(_.state=T.TEXT,H(_,"ondoctype",_.doctype),_.doctype=!0):(_.doctype+=U,U==="["?_.state=T.DOCTYPE_DTD:M(U)&&(_.state=T.DOCTYPE_QUOTED,_.q=U));continue;case T.DOCTYPE_QUOTED:_.doctype+=U,U===_.q&&(_.q="",_.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:_.doctype+=U,U==="]"?_.state=T.DOCTYPE:M(U)&&(_.state=T.DOCTYPE_DTD_QUOTED,_.q=U);continue;case T.DOCTYPE_DTD_QUOTED:_.doctype+=U,U===_.q&&(_.state=T.DOCTYPE_DTD,_.q="");continue;case T.COMMENT:U==="-"?_.state=T.COMMENT_ENDING:_.comment+=U;continue;case T.COMMENT_ENDING:U==="-"?(_.state=T.COMMENT_ENDED,_.comment=G(_.opt,_.comment),_.comment&&H(_,"oncomment",_.comment),_.comment=""):(_.comment+="-"+U,_.state=T.COMMENT);continue;case T.COMMENT_ENDED:U!==">"?(K(_,"Malformed comment"),_.comment+="--"+U,_.state=T.COMMENT):_.state=T.TEXT;continue;case T.CDATA:U==="]"?_.state=T.CDATA_ENDING:_.cdata+=U;continue;case T.CDATA_ENDING:U==="]"?_.state=T.CDATA_ENDING_2:(_.cdata+="]"+U,_.state=T.CDATA);continue;case T.CDATA_ENDING_2:U===">"?(_.cdata&&H(_,"oncdata",_.cdata),H(_,"onclosecdata"),_.cdata="",_.state=T.TEXT):U==="]"?_.cdata+="]":(_.cdata+="]]"+U,_.state=T.CDATA);continue;case T.PROC_INST:U==="?"?_.state=T.PROC_INST_ENDING:N(U)?_.state=T.PROC_INST_BODY:_.procInstName+=U;continue;case T.PROC_INST_BODY:if(!_.procInstBody&&N(U))continue;U==="?"?_.state=T.PROC_INST_ENDING:_.procInstBody+=U;continue;case T.PROC_INST_ENDING:U===">"?(H(_,"onprocessinginstruction",{name:_.procInstName,body:_.procInstBody}),_.procInstName=_.procInstBody="",_.state=T.TEXT):(_.procInstBody+="?"+U,_.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:b(y,U)?_.tagName+=U:(I(_),U===">"?w(_):U==="/"?_.state=T.OPEN_TAG_SLASH:(N(U)||K(_,"Invalid character in tag name"),_.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:U===">"?(w(_,!0),R(_)):(K(_,"Forward-slash in opening tag not followed by >"),_.state=T.ATTRIB);continue;case T.ATTRIB:if(N(U))continue;U===">"?w(_):U==="/"?_.state=T.OPEN_TAG_SLASH:b(v,U)?(_.attribName=U,_.attribValue="",_.state=T.ATTRIB_NAME):K(_,"Invalid attribute name");continue;case T.ATTRIB_NAME:U==="="?_.state=T.ATTRIB_VALUE:U===">"?(K(_,"Attribute without value"),_.attribValue=_.attribName,A(_),w(_)):N(U)?_.state=T.ATTRIB_NAME_SAW_WHITE:b(y,U)?_.attribName+=U:K(_,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(U==="=")_.state=T.ATTRIB_VALUE;else{if(N(U))continue;K(_,"Attribute without value"),_.tag.attributes[_.attribName]="",_.attribValue="",H(_,"onattribute",{name:_.attribName,value:""}),_.attribName="",U===">"?w(_):b(v,U)?(_.attribName=U,_.state=T.ATTRIB_NAME):(K(_,"Invalid attribute name"),_.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(N(U))continue;M(U)?(_.q=U,_.state=T.ATTRIB_VALUE_QUOTED):(K(_,"Unquoted attribute value"),_.state=T.ATTRIB_VALUE_UNQUOTED,_.attribValue=U);continue;case T.ATTRIB_VALUE_QUOTED:if(U!==_.q){U==="&"?_.state=T.ATTRIB_VALUE_ENTITY_Q:_.attribValue+=U;continue}A(_),_.q="",_.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:N(U)?_.state=T.ATTRIB:U===">"?w(_):U==="/"?_.state=T.OPEN_TAG_SLASH:b(v,U)?(K(_,"No whitespace between attributes"),_.attribName=U,_.attribValue="",_.state=T.ATTRIB_NAME):K(_,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!O(U)){U==="&"?_.state=T.ATTRIB_VALUE_ENTITY_U:_.attribValue+=U;continue}A(_),U===">"?w(_):_.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(_.tagName)U===">"?R(_):b(y,U)?_.tagName+=U:_.script?(_.script+="</"+_.tagName,_.tagName="",_.state=T.SCRIPT):(N(U)||K(_,"Invalid tagname in closing tag"),_.state=T.CLOSE_TAG_SAW_WHITE);else{if(N(U))continue;D(v,U)?_.script?(_.script+="</"+U,_.state=T.SCRIPT):K(_,"Invalid tagname in closing tag."):_.tagName=U}continue;case T.CLOSE_TAG_SAW_WHITE:if(N(U))continue;U===">"?R(_):K(_,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var be,ke;switch(_.state){case T.TEXT_ENTITY:be=T.TEXT,ke="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:be=T.ATTRIB_VALUE_QUOTED,ke="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:be=T.ATTRIB_VALUE_UNQUOTED,ke="attribValue";break}if(U===";")if(_.opt.unparsedEntities){var ze=C(_);_.entity="",_.state=be,_.write(ze)}else _[ke]+=C(_),_.entity="",_.state=be;else b(_.entity.length?S:p,U)?_.entity+=U:(K(_,"Invalid character in entity name"),_[ke]+="&"+_.entity+U,_.entity="",_.state=be);continue;default:throw new Error(_,"Unknown state: "+_.state)}return _.position>=_.bufferCheckPosition&&i(_),_}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var P=String.fromCharCode,_=Math.floor,z=function(){var U=16384,re=[],de,be,ke=-1,ze=arguments.length;if(!ze)return"";for(var Me="";++ke<ze;){var Ie=Number(arguments[ke]);if(!isFinite(Ie)||Ie<0||Ie>1114111||_(Ie)!==Ie)throw RangeError("Invalid code point: "+Ie);Ie<=65535?re.push(Ie):(Ie-=65536,de=(Ie>>10)+55296,be=Ie%1024+56320,re.push(de,be)),(ke+1===ze||re.length>U)&&(Me+=P.apply(null,re),re.length=0)}return Me};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:z,configurable:!0,writable:!0}):String.fromCodePoint=z}()})(e)})(qy);var up;function rI(){if(up)return qn;up=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.parseXml=qn.XElement=void 0;const e=qy,t=ct();class r{constructor(l){if(this.name=l,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!l)throw(0,t.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!i(l))throw(0,t.newError)(`Invalid element name: ${l}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(l){const u=this.attributes===null?null:this.attributes[l];if(u==null)throw(0,t.newError)(`No attribute "${l}"`,"ERR_XML_MISSED_ATTRIBUTE");return u}removeAttribute(l){this.attributes!==null&&delete this.attributes[l]}element(l,u=!1,c=null){const f=this.elementOrNull(l,u);if(f===null)throw(0,t.newError)(c||`No element "${l}"`,"ERR_XML_MISSED_ELEMENT");return f}elementOrNull(l,u=!1){if(this.elements===null)return null;for(const c of this.elements)if(s(c,l,u))return c;return null}getElements(l,u=!1){return this.elements===null?[]:this.elements.filter(c=>s(c,l,u))}elementValueOrEmpty(l,u=!1){const c=this.elementOrNull(l,u);return c===null?"":c.value}}qn.XElement=r;const n=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function i(a){return n.test(a)}function s(a,l,u){const c=a.name;return c===l||u===!0&&c.length===l.length&&c.toLowerCase()===l.toLowerCase()}function o(a){let l=null;const u=e.parser(!0,{}),c=[];return u.onopentag=f=>{const h=new r(f.name);if(h.attributes=f.attributes,l===null)l=h;else{const m=c[c.length-1];m.elements==null&&(m.elements=[]),m.elements.push(h)}c.push(h)},u.onclosetag=()=>{c.pop()},u.ontext=f=>{c.length>0&&(c[c.length-1].value=f)},u.oncdata=f=>{const h=c[c.length-1];h.value=f,h.isCData=!0},u.onerror=f=>{throw f},u.write(a),l}return qn.parseXml=o,qn}var fp;function ct(){return fp||(fp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.newError=e.asArray=e.CURRENT_APP_PACKAGE_FILE_NAME=e.CURRENT_APP_INSTALLER_FILE_NAME=e.XElement=e.parseXml=e.ProgressCallbackTransform=e.UUID=e.parseDn=e.githubUrl=e.getS3LikeProviderBaseUrl=e.configureRequestUrl=e.parseJson=e.safeStringifyJson=e.configureRequestOptionsFromUrl=e.configureRequestOptions=e.safeGetHeader=e.DigestTransform=e.HttpExecutor=e.createHttpError=e.HttpError=e.CancellationError=e.CancellationToken=void 0;var t=ci;Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}}),Object.defineProperty(e,"CancellationError",{enumerable:!0,get:function(){return t.CancellationError}});var r=YR();Object.defineProperty(e,"HttpError",{enumerable:!0,get:function(){return r.HttpError}}),Object.defineProperty(e,"createHttpError",{enumerable:!0,get:function(){return r.createHttpError}}),Object.defineProperty(e,"HttpExecutor",{enumerable:!0,get:function(){return r.HttpExecutor}}),Object.defineProperty(e,"DigestTransform",{enumerable:!0,get:function(){return r.DigestTransform}}),Object.defineProperty(e,"safeGetHeader",{enumerable:!0,get:function(){return r.safeGetHeader}}),Object.defineProperty(e,"configureRequestOptions",{enumerable:!0,get:function(){return r.configureRequestOptions}}),Object.defineProperty(e,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return r.configureRequestOptionsFromUrl}}),Object.defineProperty(e,"safeStringifyJson",{enumerable:!0,get:function(){return r.safeStringifyJson}}),Object.defineProperty(e,"parseJson",{enumerable:!0,get:function(){return r.parseJson}}),Object.defineProperty(e,"configureRequestUrl",{enumerable:!0,get:function(){return r.configureRequestUrl}});var n=Ki;Object.defineProperty(e,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return n.getS3LikeProviderBaseUrl}}),Object.defineProperty(e,"githubUrl",{enumerable:!0,get:function(){return n.githubUrl}});var i=gl;Object.defineProperty(e,"parseDn",{enumerable:!0,get:function(){return i.parseDn}});var s=tI();Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return s.UUID}});var o=Oo;Object.defineProperty(e,"ProgressCallbackTransform",{enumerable:!0,get:function(){return o.ProgressCallbackTransform}});var a=rI();Object.defineProperty(e,"parseXml",{enumerable:!0,get:function(){return a.parseXml}}),Object.defineProperty(e,"XElement",{enumerable:!0,get:function(){return a.XElement}}),e.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",e.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function l(c){return c==null?[]:Array.isArray(c)?c:[c]}e.asArray=l;function u(c,f){const h=new Error(c);return h.code=f,h}e.newError=u}(ac)),ac}var fi={},xt={};xt.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,s)=>i!=null?n(i):r(s)),e.apply(this,t)})},"name",{value:e.name})};xt.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var hn=t_,nI=process.cwd,Pa=null,iI=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Pa||(Pa=nI.call(process)),Pa};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var dp=process.chdir;process.chdir=function(e){Pa=null,dp.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,dp)}var sI=oI;function oI(e){hn.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(c,f,h){h&&process.nextTick(h)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(c,f,h,m){m&&process.nextTick(m)},e.lchownSync=function(){}),iI==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(c){function f(h,m,g){var E=Date.now(),v=0;c(h,m,function y(p){if(p&&(p.code==="EACCES"||p.code==="EPERM"||p.code==="EBUSY")&&Date.now()-E<6e4){setTimeout(function(){e.stat(m,function(S,N){S&&S.code==="ENOENT"?c(h,m,y):g(p)})},v),v<100&&(v+=10);return}g&&g(p)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,c),f}(e.rename)),e.read=typeof e.read!="function"?e.read:function(c){function f(h,m,g,E,v,y){var p;if(y&&typeof y=="function"){var S=0;p=function(N,M,O){if(N&&N.code==="EAGAIN"&&S<10)return S++,c.call(e,h,m,g,E,v,p);y.apply(this,arguments)}}return c.call(e,h,m,g,E,v,p)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,c),f}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(c){return function(f,h,m,g,E){for(var v=0;;)try{return c.call(e,f,h,m,g,E)}catch(y){if(y.code==="EAGAIN"&&v<10){v++;continue}throw y}}}(e.readSync);function t(c){c.lchmod=function(f,h,m){c.open(f,hn.O_WRONLY|hn.O_SYMLINK,h,function(g,E){if(g){m&&m(g);return}c.fchmod(E,h,function(v){c.close(E,function(y){m&&m(v||y)})})})},c.lchmodSync=function(f,h){var m=c.openSync(f,hn.O_WRONLY|hn.O_SYMLINK,h),g=!0,E;try{E=c.fchmodSync(m,h),g=!1}finally{if(g)try{c.closeSync(m)}catch{}else c.closeSync(m)}return E}}function r(c){hn.hasOwnProperty("O_SYMLINK")&&c.futimes?(c.lutimes=function(f,h,m,g){c.open(f,hn.O_SYMLINK,function(E,v){if(E){g&&g(E);return}c.futimes(v,h,m,function(y){c.close(v,function(p){g&&g(y||p)})})})},c.lutimesSync=function(f,h,m){var g=c.openSync(f,hn.O_SYMLINK),E,v=!0;try{E=c.futimesSync(g,h,m),v=!1}finally{if(v)try{c.closeSync(g)}catch{}else c.closeSync(g)}return E}):c.futimes&&(c.lutimes=function(f,h,m,g){g&&process.nextTick(g)},c.lutimesSync=function(){})}function n(c){return c&&function(f,h,m){return c.call(e,f,h,function(g){u(g)&&(g=null),m&&m.apply(this,arguments)})}}function i(c){return c&&function(f,h){try{return c.call(e,f,h)}catch(m){if(!u(m))throw m}}}function s(c){return c&&function(f,h,m,g){return c.call(e,f,h,m,function(E){u(E)&&(E=null),g&&g.apply(this,arguments)})}}function o(c){return c&&function(f,h,m){try{return c.call(e,f,h,m)}catch(g){if(!u(g))throw g}}}function a(c){return c&&function(f,h,m){typeof h=="function"&&(m=h,h=null);function g(E,v){v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),m&&m.apply(this,arguments)}return h?c.call(e,f,h,g):c.call(e,f,g)}}function l(c){return c&&function(f,h){var m=h?c.call(e,f,h):c.call(e,f);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function u(c){if(!c||c.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(c.code==="EINVAL"||c.code==="EPERM"))}}var hp=po.Stream,aI=lI;function lI(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);hp.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var u=o[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(c,f){if(c){s.emit("error",c),s.readable=!1;return}s.fd=f,s.emit("open",f),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);hp.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var cI=fI,uI=Object.getPrototypeOf||function(e){return e.__proto__};function fI(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:uI(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var Je=Le,dI=sI,hI=aI,pI=cI,ua=nn,St,qa;typeof Symbol=="function"&&typeof Symbol.for=="function"?(St=Symbol.for("graceful-fs.queue"),qa=Symbol.for("graceful-fs.previous")):(St="___graceful-fs.queue",qa="___graceful-fs.previous");function mI(){}function Vy(e,t){Object.defineProperty(e,St,{get:function(){return t}})}var ti=mI;ua.debuglog?ti=ua.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ti=function(){var e=ua.format.apply(ua,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!Je[St]){var gI=lt[St]||[];Vy(Je,gI),Je.close=function(e){function t(r,n){return e.call(Je,r,function(i){i||pp(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,qa,{value:e}),t}(Je.close),Je.closeSync=function(e){function t(r){e.apply(Je,arguments),pp()}return Object.defineProperty(t,qa,{value:e}),t}(Je.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ti(Je[St]),lu.equal(Je[St].length,0)})}lt[St]||Vy(lt,Je[St]);var qt=od(pI(Je));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Je.__patched&&(qt=od(Je),Je.__patched=!0);function od(e){dI(e),e.gracefulify=od,e.createReadStream=M,e.createWriteStream=O;var t=e.readFile;e.readFile=r;function r(T,V,Y){return typeof V=="function"&&(Y=V,V=null),H(T,V,Y);function H(W,G,Q,Z){return t(W,G,function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?Pi([H,[W,G,Q],K,Z||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(T,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(T,V,Y,H);function W(G,Q,Z,K,I){return n(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Pi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(T,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(T,V,Y,H);function W(G,Q,Z,K,I){return s(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Pi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=l);function l(T,V,Y,H){return typeof Y=="function"&&(H=Y,Y=0),W(T,V,Y,H);function W(G,Q,Z,K,I){return a(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Pi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var u=e.readdir;e.readdir=f;var c=/^v[0-5]\./;function f(T,V,Y){typeof V=="function"&&(Y=V,V=null);var H=c.test(process.version)?function(Q,Z,K,I){return u(Q,W(Q,Z,K,I))}:function(Q,Z,K,I){return u(Q,Z,W(Q,Z,K,I))};return H(T,V,Y);function W(G,Q,Z,K){return function(I,j){I&&(I.code==="EMFILE"||I.code==="ENFILE")?Pi([H,[G,Q,Z],I,K||Date.now(),Date.now()]):(j&&j.sort&&j.sort(),typeof Z=="function"&&Z.call(this,I,j))}}}if(process.version.substr(0,4)==="v0.8"){var h=hI(e);y=h.ReadStream,S=h.WriteStream}var m=e.ReadStream;m&&(y.prototype=Object.create(m.prototype),y.prototype.open=p);var g=e.WriteStream;g&&(S.prototype=Object.create(g.prototype),S.prototype.open=N),Object.defineProperty(e,"ReadStream",{get:function(){return y},set:function(T){y=T},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return S},set:function(T){S=T},enumerable:!0,configurable:!0});var E=y;Object.defineProperty(e,"FileReadStream",{get:function(){return E},set:function(T){E=T},enumerable:!0,configurable:!0});var v=S;Object.defineProperty(e,"FileWriteStream",{get:function(){return v},set:function(T){v=T},enumerable:!0,configurable:!0});function y(T,V){return this instanceof y?(m.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function p(){var T=this;D(T.path,T.flags,T.mode,function(V,Y){V?(T.autoClose&&T.destroy(),T.emit("error",V)):(T.fd=Y,T.emit("open",Y),T.read())})}function S(T,V){return this instanceof S?(g.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function N(){var T=this;D(T.path,T.flags,T.mode,function(V,Y){V?(T.destroy(),T.emit("error",V)):(T.fd=Y,T.emit("open",Y))})}function M(T,V){return new e.ReadStream(T,V)}function O(T,V){return new e.WriteStream(T,V)}var b=e.open;e.open=D;function D(T,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(T,V,Y,H);function W(G,Q,Z,K,I){return b(G,Q,Z,function(j,A){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Pi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}return e}function Pi(e){ti("ENQUEUE",e[0].name,e[1]),Je[St].push(e),ad()}var fa;function pp(){for(var e=Date.now(),t=0;t<Je[St].length;++t)Je[St][t].length>2&&(Je[St][t][3]=e,Je[St][t][4]=e);ad()}function ad(){if(clearTimeout(fa),fa=void 0,Je[St].length!==0){var e=Je[St].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)ti("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){ti("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),u=Math.min(l*1.2,100);a>=u?(ti("RETRY",t.name,r),t.apply(null,r.concat([i]))):Je[St].push(e)}fa===void 0&&(fa=setTimeout(ad,0))}}(function(e){const t=xt.fromCallback,r=qt,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,s){return typeof s=="function"?r.exists(i,s):new Promise(o=>r.exists(i,o))},e.read=function(i,s,o,a,l,u){return typeof u=="function"?r.read(i,s,o,a,l,u):new Promise((c,f)=>{r.read(i,s,o,a,l,(h,m,g)=>{if(h)return f(h);c({bytesRead:m,buffer:g})})})},e.write=function(i,s,...o){return typeof o[o.length-1]=="function"?r.write(i,s,...o):new Promise((a,l)=>{r.write(i,s,...o,(u,c,f)=>{if(u)return l(u);a({bytesWritten:c,buffer:f})})})},typeof r.writev=="function"&&(e.writev=function(i,s,...o){return typeof o[o.length-1]=="function"?r.writev(i,s,...o):new Promise((a,l)=>{r.writev(i,s,...o,(u,c,f)=>{if(u)return l(u);a({bytesWritten:c,buffers:f})})})}),typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(fi);var ld={},By={};const yI=Se;By.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(yI.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const zy=fi,{checkPath:Hy}=By,Gy=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};ld.makeDir=async(e,t)=>(Hy(e),zy.mkdir(e,{mode:Gy(t),recursive:!0}));ld.makeDirSync=(e,t)=>(Hy(e),zy.mkdirSync(e,{mode:Gy(t),recursive:!0}));const vI=xt.fromPromise,{makeDir:_I,makeDirSync:dc}=ld,hc=vI(_I);var qr={mkdirs:hc,mkdirsSync:dc,mkdirp:hc,mkdirpSync:dc,ensureDir:hc,ensureDirSync:dc};const $I=xt.fromPromise,Wy=fi;function EI(e){return Wy.access(e).then(()=>!0).catch(()=>!1)}var di={pathExists:$I(EI),pathExistsSync:Wy.existsSync};const qi=qt;function wI(e,t,r,n){qi.open(e,"r+",(i,s)=>{if(i)return n(i);qi.futimes(s,t,r,o=>{qi.close(s,a=>{n&&n(o||a)})})})}function SI(e,t,r){const n=qi.openSync(e,"r+");return qi.futimesSync(n,t,r),qi.closeSync(n)}var Ky={utimesMillis:wI,utimesMillisSync:SI};const Yi=fi,gt=Se,bI=nn;function PI(e,t,r){const n=r.dereference?i=>Yi.stat(i,{bigint:!0}):i=>Yi.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function TI(e,t,r){let n;const i=r.dereference?o=>Yi.statSync(o,{bigint:!0}):o=>Yi.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}function OI(e,t,r,n,i){bI.callbackify(PI)(e,t,n,(s,o)=>{if(s)return i(s);const{srcStat:a,destStat:l}=o;if(l){if(Ao(a,l)){const u=gt.basename(e),c=gt.basename(t);return r==="move"&&u!==c&&u.toLowerCase()===c.toLowerCase()?i(null,{srcStat:a,destStat:l,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!l.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!a.isDirectory()&&l.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return a.isDirectory()&&cd(e,t)?i(new Error(yl(e,t,r))):i(null,{srcStat:a,destStat:l})})}function AI(e,t,r,n){const{srcStat:i,destStat:s}=TI(e,t,n);if(s){if(Ao(i,s)){const o=gt.basename(e),a=gt.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&cd(e,t))throw new Error(yl(e,t,r));return{srcStat:i,destStat:s}}function Yy(e,t,r,n,i){const s=gt.resolve(gt.dirname(e)),o=gt.resolve(gt.dirname(r));if(o===s||o===gt.parse(o).root)return i();Yi.stat(o,{bigint:!0},(a,l)=>a?a.code==="ENOENT"?i():i(a):Ao(t,l)?i(new Error(yl(e,r,n))):Yy(e,t,o,n,i))}function Jy(e,t,r,n){const i=gt.resolve(gt.dirname(e)),s=gt.resolve(gt.dirname(r));if(s===i||s===gt.parse(s).root)return;let o;try{o=Yi.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(Ao(t,o))throw new Error(yl(e,r,n));return Jy(e,t,s,n)}function Ao(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function cd(e,t){const r=gt.resolve(e).split(gt.sep).filter(i=>i),n=gt.resolve(t).split(gt.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function yl(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var cs={checkPaths:OI,checkPathsSync:AI,checkParentPaths:Yy,checkParentPathsSync:Jy,isSrcSubdir:cd,areIdentical:Ao};const Qt=qt,no=Se,CI=qr.mkdirs,NI=di.pathExists,RI=Ky.utimesMillis,io=cs;function II(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),io.checkPaths(e,t,"copy",r,(i,s)=>{if(i)return n(i);const{srcStat:o,destStat:a}=s;io.checkParentPaths(e,o,t,"copy",l=>l?n(l):r.filter?Xy(mp,a,e,t,r,n):mp(a,e,t,r,n))})}function mp(e,t,r,n,i){const s=no.dirname(r);NI(s,(o,a)=>{if(o)return i(o);if(a)return Va(e,t,r,n,i);CI(s,l=>l?i(l):Va(e,t,r,n,i))})}function Xy(e,t,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?e(t,r,n,i,s):s(),o=>s(o))}function DI(e,t,r,n,i){return n.filter?Xy(Va,e,t,r,n,i):Va(e,t,r,n,i)}function Va(e,t,r,n,i){(n.dereference?Qt.stat:Qt.lstat)(t,(o,a)=>o?i(o):a.isDirectory()?xI(a,e,t,r,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?FI(a,e,t,r,n,i):a.isSymbolicLink()?BI(e,t,r,n,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function FI(e,t,r,n,i,s){return t?kI(e,r,n,i,s):Qy(e,r,n,i,s)}function kI(e,t,r,n,i){if(n.overwrite)Qt.unlink(r,s=>s?i(s):Qy(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function Qy(e,t,r,n,i){Qt.copyFile(t,r,s=>s?i(s):n.preserveTimestamps?LI(e.mode,t,r,i):vl(r,e.mode,i))}function LI(e,t,r,n){return jI(e)?MI(r,e,i=>i?n(i):gp(e,t,r,n)):gp(e,t,r,n)}function jI(e){return(e&128)===0}function MI(e,t,r){return vl(e,t|128,r)}function gp(e,t,r,n){UI(t,r,i=>i?n(i):vl(r,e,n))}function vl(e,t,r){return Qt.chmod(e,t,r)}function UI(e,t,r){Qt.stat(e,(n,i)=>n?r(n):RI(t,i.atime,i.mtime,r))}function xI(e,t,r,n,i,s){return t?Zy(r,n,i,s):qI(e.mode,r,n,i,s)}function qI(e,t,r,n,i){Qt.mkdir(r,s=>{if(s)return i(s);Zy(t,r,n,o=>o?i(o):vl(r,e,i))})}function Zy(e,t,r,n){Qt.readdir(e,(i,s)=>i?n(i):e0(s,e,t,r,n))}function e0(e,t,r,n,i){const s=e.pop();return s?VI(e,s,t,r,n,i):i()}function VI(e,t,r,n,i,s){const o=no.join(r,t),a=no.join(n,t);io.checkPaths(o,a,"copy",i,(l,u)=>{if(l)return s(l);const{destStat:c}=u;DI(c,o,a,i,f=>f?s(f):e0(e,r,n,i,s))})}function BI(e,t,r,n,i){Qt.readlink(t,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=no.resolve(process.cwd(),o)),e)Qt.readlink(r,(a,l)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?Qt.symlink(o,r,i):i(a):(n.dereference&&(l=no.resolve(process.cwd(),l)),io.isSrcSubdir(o,l)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${l}'.`)):e.isDirectory()&&io.isSrcSubdir(l,o)?i(new Error(`Cannot overwrite '${l}' with '${o}'.`)):zI(o,r,i)));else return Qt.symlink(o,r,i)})}function zI(e,t,r){Qt.unlink(t,n=>n?r(n):Qt.symlink(e,t,r))}var HI=II;const At=qt,so=Se,GI=qr.mkdirsSync,WI=Ky.utimesMillisSync,oo=cs;function KI(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:i}=oo.checkPathsSync(e,t,"copy",r);return oo.checkParentPathsSync(e,n,t,"copy"),YI(i,e,t,r)}function YI(e,t,r,n){if(n.filter&&!n.filter(t,r))return;const i=so.dirname(r);return At.existsSync(i)||GI(i),t0(e,t,r,n)}function JI(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return t0(e,t,r,n)}function t0(e,t,r,n){const s=(n.dereference?At.statSync:At.lstatSync)(t);if(s.isDirectory())return nD(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return XI(s,e,t,r,n);if(s.isSymbolicLink())return oD(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function XI(e,t,r,n,i){return t?QI(e,r,n,i):r0(e,r,n,i)}function QI(e,t,r,n){if(n.overwrite)return At.unlinkSync(r),r0(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function r0(e,t,r,n){return At.copyFileSync(t,r),n.preserveTimestamps&&ZI(e.mode,t,r),ud(r,e.mode)}function ZI(e,t,r){return eD(e)&&tD(r,e),rD(t,r)}function eD(e){return(e&128)===0}function tD(e,t){return ud(e,t|128)}function ud(e,t){return At.chmodSync(e,t)}function rD(e,t){const r=At.statSync(e);return WI(t,r.atime,r.mtime)}function nD(e,t,r,n,i){return t?n0(r,n,i):iD(e.mode,r,n,i)}function iD(e,t,r,n){return At.mkdirSync(r),n0(t,r,n),ud(r,e)}function n0(e,t,r){At.readdirSync(e).forEach(n=>sD(n,e,t,r))}function sD(e,t,r,n){const i=so.join(t,e),s=so.join(r,e),{destStat:o}=oo.checkPathsSync(i,s,"copy",n);return JI(o,i,s,n)}function oD(e,t,r,n){let i=At.readlinkSync(t);if(n.dereference&&(i=so.resolve(process.cwd(),i)),e){let s;try{s=At.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return At.symlinkSync(i,r);throw o}if(n.dereference&&(s=so.resolve(process.cwd(),s)),oo.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(At.statSync(r).isDirectory()&&oo.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return aD(i,r)}else return At.symlinkSync(i,r)}function aD(e,t){return At.unlinkSync(t),At.symlinkSync(e,t)}var lD=KI;const cD=xt.fromCallback;var fd={copy:cD(HI),copySync:lD};const yp=qt,i0=Se,je=lu,ao=process.platform==="win32";function s0(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||yp[r],r=r+"Sync",e[r]=e[r]||yp[r]}),e.maxBusyTries=e.maxBusyTries||3}function dd(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),je(e,"rimraf: missing path"),je.strictEqual(typeof e,"string","rimraf: path should be a string"),je.strictEqual(typeof r,"function","rimraf: callback function required"),je(t,"rimraf: invalid options argument provided"),je.strictEqual(typeof t,"object","rimraf: options should be object"),s0(t),vp(e,t,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<t.maxBusyTries){n++;const o=n*100;return setTimeout(()=>vp(e,t,i),o)}s.code==="ENOENT"&&(s=null)}r(s)})}function vp(e,t,r){je(e),je(t),je(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&ao)return _p(e,t,n,r);if(i&&i.isDirectory())return Ta(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return ao?_p(e,t,s,r):Ta(e,t,s,r);if(s.code==="EISDIR")return Ta(e,t,s,r)}return r(s)})})}function _p(e,t,r,n){je(e),je(t),je(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?Ta(e,t,r,n):t.unlink(e,n)})})}function $p(e,t,r){let n;je(e),je(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Oa(e,t,r):t.unlinkSync(e)}function Ta(e,t,r,n){je(e),je(t),je(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?uD(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function uD(e,t,r){je(e),je(t),je(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return t.rmdir(e,r);i.forEach(a=>{dd(i0.join(e,a),t,l=>{if(!o){if(l)return r(o=l);--s===0&&t.rmdir(e,r)}})})})}function o0(e,t){let r;t=t||{},s0(t),je(e,"rimraf: missing path"),je.strictEqual(typeof e,"string","rimraf: path should be a string"),je(t,"rimraf: missing options"),je.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&ao&&$p(e,t,n)}try{r&&r.isDirectory()?Oa(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return ao?$p(e,t,n):Oa(e,t,n);if(n.code!=="EISDIR")throw n;Oa(e,t,n)}}function Oa(e,t,r){je(e),je(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")fD(e,t);else if(n.code!=="ENOENT")throw n}}function fD(e,t){if(je(e),je(t),t.readdirSync(e).forEach(r=>o0(i0.join(e,r),t)),ao){const r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}var dD=dd;dd.sync=o0;const Ba=qt,hD=xt.fromCallback,a0=dD;function pD(e,t){if(Ba.rm)return Ba.rm(e,{recursive:!0,force:!0},t);a0(e,t)}function mD(e){if(Ba.rmSync)return Ba.rmSync(e,{recursive:!0,force:!0});a0.sync(e)}var _l={remove:hD(pD),removeSync:mD};const gD=xt.fromPromise,l0=fi,c0=Se,u0=qr,f0=_l,Ep=gD(async function(t){let r;try{r=await l0.readdir(t)}catch{return u0.mkdirs(t)}return Promise.all(r.map(n=>f0.remove(c0.join(t,n))))});function wp(e){let t;try{t=l0.readdirSync(e)}catch{return u0.mkdirsSync(e)}t.forEach(r=>{r=c0.join(e,r),f0.removeSync(r)})}var yD={emptyDirSync:wp,emptydirSync:wp,emptyDir:Ep,emptydir:Ep};const vD=xt.fromCallback,d0=Se,wn=qt,h0=qr;function _D(e,t){function r(){wn.writeFile(e,"",n=>{if(n)return t(n);t()})}wn.stat(e,(n,i)=>{if(!n&&i.isFile())return t();const s=d0.dirname(e);wn.stat(s,(o,a)=>{if(o)return o.code==="ENOENT"?h0.mkdirs(s,l=>{if(l)return t(l);r()}):t(o);a.isDirectory()?r():wn.readdir(s,l=>{if(l)return t(l)})})})}function $D(e){let t;try{t=wn.statSync(e)}catch{}if(t&&t.isFile())return;const r=d0.dirname(e);try{wn.statSync(r).isDirectory()||wn.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")h0.mkdirsSync(r);else throw n}wn.writeFileSync(e,"")}var ED={createFile:vD(_D),createFileSync:$D};const wD=xt.fromCallback,p0=Se,gn=qt,m0=qr,SD=di.pathExists,{areIdentical:g0}=cs;function bD(e,t,r){function n(i,s){gn.link(i,s,o=>{if(o)return r(o);r(null)})}gn.lstat(t,(i,s)=>{gn.lstat(e,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(s&&g0(a,s))return r(null);const l=p0.dirname(t);SD(l,(u,c)=>{if(u)return r(u);if(c)return n(e,t);m0.mkdirs(l,f=>{if(f)return r(f);n(e,t)})})})})}function PD(e,t){let r;try{r=gn.lstatSync(t)}catch{}try{const s=gn.lstatSync(e);if(r&&g0(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}const n=p0.dirname(t);return gn.existsSync(n)||m0.mkdirsSync(n),gn.linkSync(e,t)}var TD={createLink:wD(bD),createLinkSync:PD};const Sn=Se,Xs=qt,OD=di.pathExists;function AD(e,t,r){if(Sn.isAbsolute(e))return Xs.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{const n=Sn.dirname(t),i=Sn.join(n,e);return OD(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:e}):Xs.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:e,toDst:Sn.relative(n,e)})))}}function CD(e,t){let r;if(Sn.isAbsolute(e)){if(r=Xs.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const n=Sn.dirname(t),i=Sn.join(n,e);if(r=Xs.existsSync(i),r)return{toCwd:i,toDst:e};if(r=Xs.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:Sn.relative(n,e)}}}var ND={symlinkPaths:AD,symlinkPathsSync:CD};const y0=qt;function RD(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);y0.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function ID(e,t){let r;if(t)return t;try{r=y0.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var DD={symlinkType:RD,symlinkTypeSync:ID};const FD=xt.fromCallback,v0=Se,wr=fi,_0=qr,kD=_0.mkdirs,LD=_0.mkdirsSync,$0=ND,jD=$0.symlinkPaths,MD=$0.symlinkPathsSync,E0=DD,UD=E0.symlinkType,xD=E0.symlinkTypeSync,qD=di.pathExists,{areIdentical:w0}=cs;function VD(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,wr.lstat(t,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([wr.stat(e),wr.stat(t)]).then(([o,a])=>{if(w0(o,a))return n(null);Sp(e,t,r,n)}):Sp(e,t,r,n)})}function Sp(e,t,r,n){jD(e,t,(i,s)=>{if(i)return n(i);e=s.toDst,UD(s.toCwd,r,(o,a)=>{if(o)return n(o);const l=v0.dirname(t);qD(l,(u,c)=>{if(u)return n(u);if(c)return wr.symlink(e,t,a,n);kD(l,f=>{if(f)return n(f);wr.symlink(e,t,a,n)})})})})}function BD(e,t,r){let n;try{n=wr.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const a=wr.statSync(e),l=wr.statSync(t);if(w0(a,l))return}const i=MD(e,t);e=i.toDst,r=xD(i.toCwd,r);const s=v0.dirname(t);return wr.existsSync(s)||LD(s),wr.symlinkSync(e,t,r)}var zD={createSymlink:FD(VD),createSymlinkSync:BD};const{createFile:bp,createFileSync:Pp}=ED,{createLink:Tp,createLinkSync:Op}=TD,{createSymlink:Ap,createSymlinkSync:Cp}=zD;var HD={createFile:bp,createFileSync:Pp,ensureFile:bp,ensureFileSync:Pp,createLink:Tp,createLinkSync:Op,ensureLink:Tp,ensureLinkSync:Op,createSymlink:Ap,createSymlinkSync:Cp,ensureSymlink:Ap,ensureSymlinkSync:Cp};function GD(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){const s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function WD(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var hd={stringify:GD,stripBom:WD};let Ji;try{Ji=qt}catch{Ji=Le}const $l=xt,{stringify:S0,stripBom:b0}=hd;async function KD(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Ji,n="throws"in t?t.throws:!0;let i=await $l.fromCallback(r.readFile)(e,t);i=b0(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return s}const YD=$l.fromPromise(KD);function JD(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Ji,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=b0(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function XD(e,t,r={}){const n=r.fs||Ji,i=S0(t,r);await $l.fromCallback(n.writeFile)(e,i,r)}const QD=$l.fromPromise(XD);function ZD(e,t,r={}){const n=r.fs||Ji,i=S0(t,r);return n.writeFileSync(e,i,r)}const eF={readFile:YD,readFileSync:JD,writeFile:QD,writeFileSync:ZD};var tF=eF;const da=tF;var rF={readJson:da.readFile,readJsonSync:da.readFileSync,writeJson:da.writeFile,writeJsonSync:da.writeFileSync};const nF=xt.fromCallback,Qs=qt,P0=Se,T0=qr,iF=di.pathExists;function sF(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");const i=P0.dirname(e);iF(i,(s,o)=>{if(s)return n(s);if(o)return Qs.writeFile(e,t,r,n);T0.mkdirs(i,a=>{if(a)return n(a);Qs.writeFile(e,t,r,n)})})}function oF(e,...t){const r=P0.dirname(e);if(Qs.existsSync(r))return Qs.writeFileSync(e,...t);T0.mkdirsSync(r),Qs.writeFileSync(e,...t)}var pd={outputFile:nF(sF),outputFileSync:oF};const{stringify:aF}=hd,{outputFile:lF}=pd;async function cF(e,t,r={}){const n=aF(t,r);await lF(e,n,r)}var uF=cF;const{stringify:fF}=hd,{outputFileSync:dF}=pd;function hF(e,t,r){const n=fF(t,r);dF(e,n,r)}var pF=hF;const mF=xt.fromPromise,Mt=rF;Mt.outputJson=mF(uF);Mt.outputJsonSync=pF;Mt.outputJSON=Mt.outputJson;Mt.outputJSONSync=Mt.outputJsonSync;Mt.writeJSON=Mt.writeJson;Mt.writeJSONSync=Mt.writeJsonSync;Mt.readJSON=Mt.readJson;Mt.readJSONSync=Mt.readJsonSync;var gF=Mt;const yF=qt,Xc=Se,vF=fd.copy,O0=_l.remove,_F=qr.mkdirp,$F=di.pathExists,Np=cs;function EF(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};const i=r.overwrite||r.clobber||!1;Np.checkPaths(e,t,"move",r,(s,o)=>{if(s)return n(s);const{srcStat:a,isChangingCase:l=!1}=o;Np.checkParentPaths(e,a,t,"move",u=>{if(u)return n(u);if(wF(t))return Rp(e,t,i,l,n);_F(Xc.dirname(t),c=>c?n(c):Rp(e,t,i,l,n))})})}function wF(e){const t=Xc.dirname(e);return Xc.parse(t).root===t}function Rp(e,t,r,n,i){if(n)return pc(e,t,r,i);if(r)return O0(t,s=>s?i(s):pc(e,t,r,i));$F(t,(s,o)=>s?i(s):o?i(new Error("dest already exists.")):pc(e,t,r,i))}function pc(e,t,r,n){yF.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):SF(e,t,r,n):n())}function SF(e,t,r,n){vF(e,t,{overwrite:r,errorOnExist:!0},s=>s?n(s):O0(e,n))}var bF=EF;const A0=qt,Qc=Se,PF=fd.copySync,C0=_l.removeSync,TF=qr.mkdirpSync,Ip=cs;function OF(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=Ip.checkPathsSync(e,t,"move",r);return Ip.checkParentPathsSync(e,i,t,"move"),AF(t)||TF(Qc.dirname(t)),CF(e,t,n,s)}function AF(e){const t=Qc.dirname(e);return Qc.parse(t).root===t}function CF(e,t,r,n){if(n)return mc(e,t,r);if(r)return C0(t),mc(e,t,r);if(A0.existsSync(t))throw new Error("dest already exists.");return mc(e,t,r)}function mc(e,t,r){try{A0.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return NF(e,t,r)}}function NF(e,t,r){return PF(e,t,{overwrite:r,errorOnExist:!0}),C0(e)}var RF=OF;const IF=xt.fromCallback;var DF={move:IF(bF),moveSync:RF},Rn={...fi,...fd,...yD,...HD,...gF,...qr,...DF,...pd,...di,..._l},Vn={},bt={},md={},Cr={};function N0(e){return typeof e>"u"||e===null}function FF(e){return typeof e=="object"&&e!==null}function kF(e){return Array.isArray(e)?e:N0(e)?[]:[e]}function LF(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function jF(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function MF(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Cr.isNothing=N0;Cr.isObject=FF;Cr.toArray=kF;Cr.repeat=jF;Cr.isNegativeZero=MF;Cr.extend=LF;function R0(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function lo(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=R0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}lo.prototype=Object.create(Error.prototype);lo.prototype.constructor=lo;lo.prototype.toString=function(t){return this.name+": "+R0(this,t)};var Co=lo,Ms=Cr;function gc(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"→")+o,pos:n-t+s.length}}function yc(e,t){return Ms.repeat(" ",t-e.length)+e}function UF(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,u,c=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+c+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)u=gc(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),f),a=Ms.repeat(" ",t.indent)+yc((e.line-l+1).toString(),c)+" | "+u.str+`
`+a;for(u=gc(e.buffer,n[o],i[o],e.position,f),a+=Ms.repeat(" ",t.indent)+yc((e.line+1).toString(),c)+" | "+u.str+`
`,a+=Ms.repeat("-",t.indent+c+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)u=gc(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),f),a+=Ms.repeat(" ",t.indent)+yc((e.line+l+1).toString(),c)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var xF=UF,Dp=Co,qF=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],VF=["scalar","sequence","mapping"];function BF(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function zF(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(qF.indexOf(r)===-1)throw new Dp('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=BF(t.styleAliases||null),VF.indexOf(this.kind)===-1)throw new Dp('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Vt=zF,Os=Co,vc=Vt;function Fp(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function HF(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Zc(e){return this.extend(e)}Zc.prototype.extend=function(t){var r=[],n=[];if(t instanceof vc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Os("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof vc))throw new Os("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Os("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Os("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof vc))throw new Os("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Zc.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Fp(i,"implicit"),i.compiledExplicit=Fp(i,"explicit"),i.compiledTypeMap=HF(i.compiledImplicit,i.compiledExplicit),i};var I0=Zc,GF=Vt,D0=new GF("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),WF=Vt,F0=new WF("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),KF=Vt,k0=new KF("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),YF=I0,L0=new YF({explicit:[D0,F0,k0]}),JF=Vt;function XF(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function QF(){return null}function ZF(e){return e===null}var j0=new JF("tag:yaml.org,2002:null",{kind:"scalar",resolve:XF,construct:QF,predicate:ZF,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),ek=Vt;function tk(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function rk(e){return e==="true"||e==="True"||e==="TRUE"}function nk(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var M0=new ek("tag:yaml.org,2002:bool",{kind:"scalar",resolve:tk,construct:rk,predicate:nk,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),ik=Cr,sk=Vt;function ok(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function ak(e){return 48<=e&&e<=55}function lk(e){return 48<=e&&e<=57}function ck(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!ok(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!ak(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!lk(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function uk(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function fk(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ik.isNegativeZero(e)}var U0=new sk("tag:yaml.org,2002:int",{kind:"scalar",resolve:ck,construct:uk,predicate:fk,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),x0=Cr,dk=Vt,hk=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function pk(e){return!(e===null||!hk.test(e)||e[e.length-1]==="_")}function mk(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var gk=/^[-+]?[0-9]+e/;function yk(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(x0.isNegativeZero(e))return"-0.0";return r=e.toString(10),gk.test(r)?r.replace("e",".e"):r}function vk(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||x0.isNegativeZero(e))}var q0=new dk("tag:yaml.org,2002:float",{kind:"scalar",resolve:pk,construct:mk,predicate:vk,represent:yk,defaultStyle:"lowercase"}),V0=L0.extend({implicit:[j0,M0,U0,q0]}),B0=V0,_k=Vt,z0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),H0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function $k(e){return e===null?!1:z0.exec(e)!==null||H0.exec(e)!==null}function Ek(e){var t,r,n,i,s,o,a,l=0,u=null,c,f,h;if(t=z0.exec(e),t===null&&(t=H0.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=+t[10],f=+(t[11]||0),u=(c*60+f)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,s,o,a,l)),u&&h.setTime(h.getTime()-u),h}function wk(e){return e.toISOString()}var G0=new _k("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:$k,construct:Ek,instanceOf:Date,represent:wk}),Sk=Vt;function bk(e){return e==="<<"||e===null}var W0=new Sk("tag:yaml.org,2002:merge",{kind:"scalar",resolve:bk}),Pk=Vt,gd=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Tk(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=gd;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Ok(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=gd,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function Ak(e){var t="",r=0,n,i,s=e.length,o=gd;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function Ck(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var K0=new Pk("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Tk,construct:Ok,predicate:Ck,represent:Ak}),Nk=Vt,Rk=Object.prototype.hasOwnProperty,Ik=Object.prototype.toString;function Dk(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,Ik.call(i)!=="[object Object]")return!1;for(s in i)if(Rk.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function Fk(e){return e!==null?e:[]}var Y0=new Nk("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Dk,construct:Fk}),kk=Vt,Lk=Object.prototype.toString;function jk(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],Lk.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function Mk(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var J0=new kk("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:jk,construct:Mk}),Uk=Vt,xk=Object.prototype.hasOwnProperty;function qk(e){if(e===null)return!0;var t,r=e;for(t in r)if(xk.call(r,t)&&r[t]!==null)return!1;return!0}function Vk(e){return e!==null?e:{}}var X0=new Uk("tag:yaml.org,2002:set",{kind:"mapping",resolve:qk,construct:Vk}),yd=B0.extend({implicit:[G0,W0],explicit:[K0,Y0,J0,X0]}),Xn=Cr,Q0=Co,Bk=xF,zk=yd,On=Object.prototype.hasOwnProperty,za=1,Z0=2,ev=3,Ha=4,_c=1,Hk=2,kp=3,Gk=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Wk=/[\x85\u2028\u2029]/,Kk=/[,\[\]\{\}]/,tv=/^(?:!|!!|![a-z\-]+!)$/i,rv=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Lp(e){return Object.prototype.toString.call(e)}function Mr(e){return e===10||e===13}function ri(e){return e===9||e===32}function Zt(e){return e===9||e===32||e===10||e===13}function Fi(e){return e===44||e===91||e===93||e===123||e===125}function Yk(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Jk(e){return e===120?2:e===117?4:e===85?8:0}function Xk(e){return 48<=e&&e<=57?e-48:-1}function jp(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function Qk(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var nv=new Array(256),iv=new Array(256);for(var Ti=0;Ti<256;Ti++)nv[Ti]=jp(Ti)?1:0,iv[Ti]=jp(Ti);function Zk(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||zk,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function sv(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Bk(r),new Q0(t,r)}function le(e,t){throw sv(e,t)}function Ga(e,t){e.onWarning&&e.onWarning.call(null,sv(e,t))}var Mp={YAML:function(t,r,n){var i,s,o;t.version!==null&&le(t,"duplication of %YAML directive"),n.length!==1&&le(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&le(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&le(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Ga(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&le(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],tv.test(i)||le(t,"ill-formed tag handle (first argument) of the TAG directive"),On.call(t.tagMap,i)&&le(t,'there is a previously declared suffix for "'+i+'" tag handle'),rv.test(s)||le(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{le(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function Tn(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||le(e,"expected valid JSON character");else Gk.test(a)&&le(e,"the stream contains non-printable characters");e.result+=a}}function Up(e,t,r,n){var i,s,o,a;for(Xn.isObject(r)||le(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],On.call(t,s)||(t[s]=r[s],n[s]=!0)}function ki(e,t,r,n,i,s,o,a,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&le(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Lp(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&Lp(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)Up(e,t,s[u],r);else Up(e,t,s,r);else!e.json&&!On.call(r,i)&&On.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,le(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function vd(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):le(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function at(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;ri(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Mr(i))for(vd(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Ga(e,"deficient indentation"),n}function El(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Zt(r)))}function _d(e,t){t===1?e.result+=" ":t>1&&(e.result+=Xn.repeat(`
`,t-1))}function eL(e,t,r){var n,i,s,o,a,l,u,c,f=e.kind,h=e.result,m;if(m=e.input.charCodeAt(e.position),Zt(m)||Fi(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=e.input.charCodeAt(e.position+1),Zt(i)||r&&Fi(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;m!==0;){if(m===58){if(i=e.input.charCodeAt(e.position+1),Zt(i)||r&&Fi(i))break}else if(m===35){if(n=e.input.charCodeAt(e.position-1),Zt(n))break}else{if(e.position===e.lineStart&&El(e)||r&&Fi(m))break;if(Mr(m))if(l=e.line,u=e.lineStart,c=e.lineIndent,at(e,!1,-1),e.lineIndent>=t){a=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=u,e.lineIndent=c;break}}a&&(Tn(e,s,o,!1),_d(e,e.line-l),s=o=e.position,a=!1),ri(m)||(o=e.position+1),m=e.input.charCodeAt(++e.position)}return Tn(e,s,o,!1),e.result?!0:(e.kind=f,e.result=h,!1)}function tL(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Tn(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Mr(r)?(Tn(e,n,i,!0),_d(e,at(e,!1,t)),n=i=e.position):e.position===e.lineStart&&El(e)?le(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);le(e,"unexpected end of the stream within a single quoted scalar")}function rL(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Tn(e,r,e.position,!0),e.position++,!0;if(a===92){if(Tn(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Mr(a))at(e,!1,t);else if(a<256&&nv[a])e.result+=iv[a],e.position++;else if((o=Jk(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=Yk(a))>=0?s=(s<<4)+o:le(e,"expected hexadecimal character");e.result+=Qk(s),e.position++}else le(e,"unknown escape sequence");r=n=e.position}else Mr(a)?(Tn(e,r,n,!0),_d(e,at(e,!1,t)),r=n=e.position):e.position===e.lineStart&&El(e)?le(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}le(e,"unexpected end of the stream within a double quoted scalar")}function nL(e,t){var r=!0,n,i,s,o=e.tag,a,l=e.anchor,u,c,f,h,m,g=Object.create(null),E,v,y,p;if(p=e.input.charCodeAt(e.position),p===91)c=93,m=!1,a=[];else if(p===123)c=125,m=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),p=e.input.charCodeAt(++e.position);p!==0;){if(at(e,!0,t),p=e.input.charCodeAt(e.position),p===c)return e.position++,e.tag=o,e.anchor=l,e.kind=m?"mapping":"sequence",e.result=a,!0;r?p===44&&le(e,"expected the node content, but found ','"):le(e,"missed comma between flow collection entries"),v=E=y=null,f=h=!1,p===63&&(u=e.input.charCodeAt(e.position+1),Zt(u)&&(f=h=!0,e.position++,at(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Xi(e,t,za,!1,!0),v=e.tag,E=e.result,at(e,!0,t),p=e.input.charCodeAt(e.position),(h||e.line===n)&&p===58&&(f=!0,p=e.input.charCodeAt(++e.position),at(e,!0,t),Xi(e,t,za,!1,!0),y=e.result),m?ki(e,a,g,v,E,y,n,i,s):f?a.push(ki(e,null,g,v,E,y,n,i,s)):a.push(E),at(e,!0,t),p=e.input.charCodeAt(e.position),p===44?(r=!0,p=e.input.charCodeAt(++e.position)):r=!1}le(e,"unexpected end of the stream within a flow collection")}function iL(e,t){var r,n,i=_c,s=!1,o=!1,a=t,l=0,u=!1,c,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)_c===i?i=f===43?kp:Hk:le(e,"repeat of a chomping mode identifier");else if((c=Xk(f))>=0)c===0?le(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?le(e,"repeat of an indentation width identifier"):(a=t+c-1,o=!0);else break;if(ri(f)){do f=e.input.charCodeAt(++e.position);while(ri(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!Mr(f)&&f!==0)}for(;f!==0;){for(vd(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),Mr(f)){l++;continue}if(e.lineIndent<a){i===kp?e.result+=Xn.repeat(`
`,s?1+l:l):i===_c&&s&&(e.result+=`
`);break}for(n?ri(f)?(u=!0,e.result+=Xn.repeat(`
`,s?1+l:l)):u?(u=!1,e.result+=Xn.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=Xn.repeat(`
`,l):e.result+=Xn.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!Mr(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Tn(e,r,e.position,!1)}return!0}function xp(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,le(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Zt(o))));){if(a=!0,e.position++,at(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Xi(e,t,ev,!1,!0),s.push(e.result),at(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)le(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function sL(e,t,r){var n,i,s,o,a,l,u=e.tag,c=e.anchor,f={},h=Object.create(null),m=null,g=null,E=null,v=!1,y=!1,p;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),p=e.input.charCodeAt(e.position);p!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,le(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(p===63||p===58)&&Zt(n))p===63?(v&&(ki(e,f,h,m,g,null,o,a,l),m=g=E=null),y=!0,v=!0,i=!0):v?(v=!1,i=!0):le(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=n;else{if(o=e.line,a=e.lineStart,l=e.position,!Xi(e,r,Z0,!1,!0))break;if(e.line===s){for(p=e.input.charCodeAt(e.position);ri(p);)p=e.input.charCodeAt(++e.position);if(p===58)p=e.input.charCodeAt(++e.position),Zt(p)||le(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(ki(e,f,h,m,g,null,o,a,l),m=g=E=null),y=!0,v=!1,i=!1,m=e.tag,g=e.result;else if(y)le(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=c,!0}else if(y)le(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=c,!0}if((e.line===s||e.lineIndent>t)&&(v&&(o=e.line,a=e.lineStart,l=e.position),Xi(e,t,Ha,!0,i)&&(v?g=e.result:E=e.result),v||(ki(e,f,h,m,g,E,o,a,l),m=g=E=null),at(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&p!==0)le(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&ki(e,f,h,m,g,null,o,a,l),y&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=f),y}function oL(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&le(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):le(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Zt(o);)o===33&&(n?le(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),tv.test(i)||le(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),Kk.test(s)&&le(e,"tag suffix cannot contain flow indicator characters")}s&&!rv.test(s)&&le(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{le(e,"tag name is malformed: "+s)}return r?e.tag=s:On.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:le(e,'undeclared tag handle "'+i+'"'),!0}function aL(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&le(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Zt(r)&&!Fi(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&le(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function lL(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Zt(n)&&!Fi(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&le(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),On.call(e.anchorMap,r)||le(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],at(e,!0,-1),!0}function Xi(e,t,r,n,i){var s,o,a,l=1,u=!1,c=!1,f,h,m,g,E,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Ha===r||ev===r,n&&at(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;oL(e)||aL(e);)at(e,!0,-1)?(u=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=u||i),(l===1||Ha===r)&&(za===r||Z0===r?E=t:E=t+1,v=e.position-e.lineStart,l===1?a&&(xp(e,v)||sL(e,v,E))||nL(e,E)?c=!0:(o&&iL(e,E)||tL(e,E)||rL(e,E)?c=!0:lL(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&le(e,"alias node should not have any properties")):eL(e,E,za===r)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(c=a&&xp(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&le(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,h=e.implicitTypes.length;f<h;f+=1)if(g=e.implicitTypes[f],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(On.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,m=e.typeMap.multi[e.kind||"fallback"],f=0,h=m.length;f<h;f+=1)if(e.tag.slice(0,m[f].tag.length)===m[f].tag){g=m[f];break}g||le(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&le(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):le(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function cL(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(at(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Zt(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&le(e,"directive name must not be less than one character in length");o!==0;){for(;ri(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Mr(o));break}if(Mr(o))break;for(r=e.position;o!==0&&!Zt(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&vd(e),On.call(Mp,n)?Mp[n](e,n,i):Ga(e,'unknown document directive "'+n+'"')}if(at(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,at(e,!0,-1)):s&&le(e,"directives end mark is expected"),Xi(e,e.lineIndent-1,Ha,!1,!0),at(e,!0,-1),e.checkLineBreaks&&Wk.test(e.input.slice(t,e.position))&&Ga(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&El(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,at(e,!0,-1));return}if(e.position<e.length-1)le(e,"end of the stream or a document separator is expected");else return}function ov(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Zk(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,le(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)cL(r);return r.documents}function uL(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=ov(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function fL(e,t){var r=ov(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Q0("expected a single document in the stream, but found more")}}md.loadAll=uL;md.load=fL;var av={},wl=Cr,No=Co,dL=yd,lv=Object.prototype.toString,cv=Object.prototype.hasOwnProperty,$d=65279,hL=9,co=10,pL=13,mL=32,gL=33,yL=34,eu=35,vL=37,_L=38,$L=39,EL=42,uv=44,wL=45,Wa=58,SL=61,bL=62,PL=63,TL=64,fv=91,dv=93,OL=96,hv=123,AL=124,pv=125,Nt={};Nt[0]="\\0";Nt[7]="\\a";Nt[8]="\\b";Nt[9]="\\t";Nt[10]="\\n";Nt[11]="\\v";Nt[12]="\\f";Nt[13]="\\r";Nt[27]="\\e";Nt[34]='\\"';Nt[92]="\\\\";Nt[133]="\\N";Nt[160]="\\_";Nt[8232]="\\L";Nt[8233]="\\P";var CL=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],NL=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function RL(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&cv.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function IL(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new No("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+wl.repeat("0",n-t.length)+t}var DL=1,uo=2;function FL(e){this.schema=e.schema||dL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=wl.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=RL(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?uo:DL,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function qp(e,t){for(var r=wl.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function tu(e,t){return`
`+wl.repeat(" ",e.indent*t)}function kL(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Ka(e){return e===mL||e===hL}function fo(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==$d||65536<=e&&e<=1114111}function Vp(e){return fo(e)&&e!==$d&&e!==pL&&e!==co}function Bp(e,t,r){var n=Vp(e),i=n&&!Ka(e);return(r?n:n&&e!==uv&&e!==fv&&e!==dv&&e!==hv&&e!==pv)&&e!==eu&&!(t===Wa&&!i)||Vp(t)&&!Ka(t)&&e===eu||t===Wa&&i}function LL(e){return fo(e)&&e!==$d&&!Ka(e)&&e!==wL&&e!==PL&&e!==Wa&&e!==uv&&e!==fv&&e!==dv&&e!==hv&&e!==pv&&e!==eu&&e!==_L&&e!==EL&&e!==gL&&e!==AL&&e!==SL&&e!==bL&&e!==$L&&e!==yL&&e!==vL&&e!==TL&&e!==OL}function jL(e){return!Ka(e)&&e!==Wa}function Us(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function mv(e){var t=/^\n* /;return t.test(e)}var gv=1,ru=2,yv=3,vv=4,Ii=5;function ML(e,t,r,n,i,s,o,a){var l,u=0,c=null,f=!1,h=!1,m=n!==-1,g=-1,E=LL(Us(e,0))&&jL(Us(e,e.length-1));if(t||o)for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=Us(e,l),!fo(u))return Ii;E=E&&Bp(u,c,a),c=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=Us(e,l),u===co)f=!0,m&&(h=h||l-g-1>n&&e[g+1]!==" ",g=l);else if(!fo(u))return Ii;E=E&&Bp(u,c,a),c=u}h=h||m&&l-g-1>n&&e[g+1]!==" "}return!f&&!h?E&&!o&&!i(e)?gv:s===uo?Ii:ru:r>9&&mv(e)?Ii:o?s===uo?Ii:ru:h?vv:yv}function UL(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===uo?'""':"''";if(!e.noCompatMode&&(CL.indexOf(t)!==-1||NL.test(t)))return e.quotingType===uo?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function l(u){return kL(e,u)}switch(ML(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case gv:return t;case ru:return"'"+t.replace(/'/g,"''")+"'";case yv:return"|"+zp(t,e.indent)+Hp(qp(t,s));case vv:return">"+zp(t,e.indent)+Hp(qp(xL(t,o),s));case Ii:return'"'+qL(t)+'"';default:throw new No("impossible error: invalid scalar style")}}()}function zp(e,t){var r=mv(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function Hp(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function xL(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,Gp(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+Gp(l,t),i=s}return n}function Gp(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+=`
`+e.slice(i,s),i=s+1),o=a;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}function qL(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Us(e,i),n=Nt[r],!n&&fo(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||IL(r);return t}function VL(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(rn(e,t,a,!1,!1)||typeof a>"u"&&rn(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Wp(e,t,r,n){var i="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(rn(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&rn(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=tu(e,t)),e.dump&&co===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function BL(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,u,c;for(o=0,a=s.length;o<a;o+=1)c="",n!==""&&(c+=", "),e.condenseFlow&&(c+='"'),l=s[o],u=r[l],e.replacer&&(u=e.replacer.call(r,l,u)),rn(e,t,l,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),rn(e,t,u,!1,!1)&&(c+=e.dump,n+=c));e.tag=i,e.dump="{"+n+"}"}function zL(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,u,c,f,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new No("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)h="",(!n||i!=="")&&(h+=tu(e,t)),u=o[a],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),rn(e,t+1,u,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&co===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,f&&(h+=tu(e,t)),rn(e,t+1,c,!0,f)&&(e.dump&&co===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}function Kp(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,lv.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(cv.call(a.represent,l))n=a.represent[l](t,l);else throw new No("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function rn(e,t,r,n,i,s,o){e.tag=null,e.dump=r,Kp(e,r,!1)||Kp(e,r,!0);var a=lv.call(e.dump),l=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var c=a==="[object Object]"||a==="[object Array]",f,h;if(c&&(f=e.duplicates.indexOf(r),h=f!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(c&&h&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(zL(e,t,e.dump,i),h&&(e.dump="&ref_"+f+e.dump)):(BL(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Wp(e,t-1,e.dump,i):Wp(e,t,e.dump,i),h&&(e.dump="&ref_"+f+e.dump)):(VL(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&UL(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new No("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}function HL(e,t){var r=[],n=[],i,s;for(nu(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function nu(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)nu(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)nu(e[n[i]],t,r)}function GL(e,t){t=t||{};var r=new FL(t);r.noRefs||HL(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),rn(r,0,n,!0,!0)?r.dump+`
`:""}av.dump=GL;var _v=md,WL=av;function Ed(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}bt.Type=Vt;bt.Schema=I0;bt.FAILSAFE_SCHEMA=L0;bt.JSON_SCHEMA=V0;bt.CORE_SCHEMA=B0;bt.DEFAULT_SCHEMA=yd;bt.load=_v.load;bt.loadAll=_v.loadAll;bt.dump=WL.dump;bt.YAMLException=Co;bt.types={binary:K0,float:q0,map:k0,null:j0,pairs:J0,set:X0,timestamp:G0,bool:M0,int:U0,merge:W0,omap:Y0,seq:F0,str:D0};bt.safeLoad=Ed("safeLoad","load");bt.safeLoadAll=Ed("safeLoadAll","loadAll");bt.safeDump=Ed("safeDump","dump");var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});Sl.Lazy=void 0;class KL{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;const t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}}Sl.Lazy=KL;var Qi={},Ya={exports:{}};Ya.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Function]",g="[object GeneratorFunction]",E="[object Map]",v="[object Number]",y="[object Null]",p="[object Object]",S="[object Promise]",N="[object Proxy]",M="[object RegExp]",O="[object Set]",b="[object String]",D="[object Symbol]",T="[object Undefined]",V="[object WeakMap]",Y="[object ArrayBuffer]",H="[object DataView]",W="[object Float32Array]",G="[object Float64Array]",Q="[object Int8Array]",Z="[object Int16Array]",K="[object Int32Array]",I="[object Uint8Array]",j="[object Uint8ClampedArray]",A="[object Uint16Array]",w="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,C=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,$={};$[W]=$[G]=$[Q]=$[Z]=$[K]=$[I]=$[j]=$[A]=$[w]=!0,$[a]=$[l]=$[Y]=$[c]=$[H]=$[f]=$[h]=$[m]=$[E]=$[v]=$[p]=$[M]=$[O]=$[b]=$[V]=!1;var L=typeof lt=="object"&&lt&&lt.Object===Object&&lt,P=typeof self=="object"&&self&&self.Object===Object&&self,_=L||P||Function("return this")(),z=t&&!t.nodeType&&t,U=z&&!0&&e&&!e.nodeType&&e,re=U&&U.exports===z,de=re&&L.process,be=function(){try{return de&&de.binding&&de.binding("util")}catch{}}(),ke=be&&be.isTypedArray;function ze(k,B){for(var ee=-1,ne=k==null?0:k.length,qe=0,he=[];++ee<ne;){var Ze=k[ee];B(Ze,ee,k)&&(he[qe++]=Ze)}return he}function Me(k,B){for(var ee=-1,ne=B.length,qe=k.length;++ee<ne;)k[qe+ee]=B[ee];return k}function Ie(k,B){for(var ee=-1,ne=k==null?0:k.length;++ee<ne;)if(B(k[ee],ee,k))return!0;return!1}function Xe(k,B){for(var ee=-1,ne=Array(k);++ee<k;)ne[ee]=B(ee);return ne}function Bt(k){return function(B){return k(B)}}function Rt(k,B){return k.has(B)}function It(k,B){return k==null?void 0:k[B]}function ut(k){var B=-1,ee=Array(k.size);return k.forEach(function(ne,qe){ee[++B]=[qe,ne]}),ee}function st(k,B){return function(ee){return k(B(ee))}}function ir(k){var B=-1,ee=Array(k.size);return k.forEach(function(ne){ee[++B]=ne}),ee}var dr=Array.prototype,Dt=Function.prototype,zt=Object.prototype,hr=_["__core-js_shared__"],dt=Dt.toString,ot=zt.hasOwnProperty,fs=function(){var k=/[^.]+$/.exec(hr&&hr.keys&&hr.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),ds=zt.toString,In=RegExp("^"+dt.call(ot).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hs=re?_.Buffer:void 0,hi=_.Symbol,ps=_.Uint8Array,er=zt.propertyIsEnumerable,Dl=dr.splice,Vr=hi?hi.toStringTag:void 0,Fo=Object.getOwnPropertySymbols,Fl=hs?hs.isBuffer:void 0,kl=st(Object.keys,Object),ms=yi(_,"DataView"),sr=yi(_,"Map"),gs=yi(_,"Promise"),pi=yi(_,"Set"),ys=yi(_,"WeakMap"),Br=yi(Object,"create"),ko=Fn(ms),Ll=Fn(sr),Lo=Fn(gs),jl=Fn(pi),jo=Fn(ys),x=hi?hi.prototype:void 0,F=x?x.valueOf:void 0;function q(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var ne=k[B];this.set(ne[0],ne[1])}}function X(){this.__data__=Br?Br(null):{},this.size=0}function J(k){var B=this.has(k)&&delete this.__data__[k];return this.size-=B?1:0,B}function ie(k){var B=this.__data__;if(Br){var ee=B[k];return ee===n?void 0:ee}return ot.call(B,k)?B[k]:void 0}function ae(k){var B=this.__data__;return Br?B[k]!==void 0:ot.call(B,k)}function Ee(k,B){var ee=this.__data__;return this.size+=this.has(k)?0:1,ee[k]=Br&&B===void 0?n:B,this}q.prototype.clear=X,q.prototype.delete=J,q.prototype.get=ie,q.prototype.has=ae,q.prototype.set=Ee;function we(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var ne=k[B];this.set(ne[0],ne[1])}}function He(){this.__data__=[],this.size=0}function ge(k){var B=this.__data__,ee=Gr(B,k);if(ee<0)return!1;var ne=B.length-1;return ee==ne?B.pop():Dl.call(B,ee,1),--this.size,!0}function Fe(k){var B=this.__data__,ee=Gr(B,k);return ee<0?void 0:B[ee][1]}function Ge(k){return Gr(this.__data__,k)>-1}function ce(k,B){var ee=this.__data__,ne=Gr(ee,k);return ne<0?(++this.size,ee.push([k,B])):ee[ne][1]=B,this}we.prototype.clear=He,we.prototype.delete=ge,we.prototype.get=Fe,we.prototype.has=Ge,we.prototype.set=ce;function Oe(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var ne=k[B];this.set(ne[0],ne[1])}}function Qe(){this.size=0,this.__data__={hash:new q,map:new(sr||we),string:new q}}function Ue(k){var B=xo(this,k).delete(k);return this.size-=B?1:0,B}function Nr(k){return xo(this,k).get(k)}function or(k){return xo(this,k).has(k)}function ar(k,B){var ee=xo(this,k),ne=ee.size;return ee.set(k,B),this.size+=ee.size==ne?0:1,this}Oe.prototype.clear=Qe,Oe.prototype.delete=Ue,Oe.prototype.get=Nr,Oe.prototype.has=or,Oe.prototype.set=ar;function pr(k){var B=-1,ee=k==null?0:k.length;for(this.__data__=new Oe;++B<ee;)this.add(k[B])}function zr(k){return this.__data__.set(k,n),this}function Ht(k){return this.__data__.has(k)}pr.prototype.add=pr.prototype.push=zr,pr.prototype.has=Ht;function ft(k){var B=this.__data__=new we(k);this.size=B.size}function Hr(){this.__data__=new we,this.size=0}function mr(k){var B=this.__data__,ee=B.delete(k);return this.size=B.size,ee}function Dn(k){return this.__data__.get(k)}function Mo(k){return this.__data__.has(k)}function Uo(k,B){var ee=this.__data__;if(ee instanceof we){var ne=ee.__data__;if(!sr||ne.length<r-1)return ne.push([k,B]),this.size=++ee.size,this;ee=this.__data__=new Oe(ne)}return ee.set(k,B),this.size=ee.size,this}ft.prototype.clear=Hr,ft.prototype.delete=mr,ft.prototype.get=Dn,ft.prototype.has=Mo,ft.prototype.set=Uo;function mi(k,B){var ee=qo(k),ne=!ee&&zv(k),qe=!ee&&!ne&&Ml(k),he=!ee&&!ne&&!qe&&Cd(k),Ze=ee||ne||qe||he,ht=Ze?Xe(k.length,String):[],yt=ht.length;for(var We in k)(B||ot.call(k,We))&&!(Ze&&(We=="length"||qe&&(We=="offset"||We=="parent")||he&&(We=="buffer"||We=="byteLength"||We=="byteOffset")||Uv(We,yt)))&&ht.push(We);return ht}function Gr(k,B){for(var ee=k.length;ee--;)if(Pd(k[ee][0],B))return ee;return-1}function gi(k,B,ee){var ne=B(k);return qo(k)?ne:Me(ne,ee(k))}function sn(k){return k==null?k===void 0?T:y:Vr&&Vr in Object(k)?jv(k):Bv(k)}function vs(k){return _s(k)&&sn(k)==a}function on(k,B,ee,ne,qe){return k===B?!0:k==null||B==null||!_s(k)&&!_s(B)?k!==k&&B!==B:Rv(k,B,ee,ne,on,qe)}function Rv(k,B,ee,ne,qe,he){var Ze=qo(k),ht=qo(B),yt=Ze?l:an(k),We=ht?l:an(B);yt=yt==a?p:yt,We=We==a?p:We;var tr=yt==p,gr=We==p,Pt=yt==We;if(Pt&&Ml(k)){if(!Ml(B))return!1;Ze=!0,tr=!1}if(Pt&&!tr)return he||(he=new ft),Ze||Cd(k)?Sd(k,B,ee,ne,qe,he):kv(k,B,yt,ee,ne,qe,he);if(!(ee&i)){var lr=tr&&ot.call(k,"__wrapped__"),cr=gr&&ot.call(B,"__wrapped__");if(lr||cr){var ln=lr?k.value():k,Wr=cr?B.value():B;return he||(he=new ft),qe(ln,Wr,ee,ne,he)}}return Pt?(he||(he=new ft),Lv(k,B,ee,ne,qe,he)):!1}function Iv(k){if(!Ad(k)||qv(k))return!1;var B=Td(k)?In:C;return B.test(Fn(k))}function Dv(k){return _s(k)&&Od(k.length)&&!!$[sn(k)]}function Fv(k){if(!Vv(k))return kl(k);var B=[];for(var ee in Object(k))ot.call(k,ee)&&ee!="constructor"&&B.push(ee);return B}function Sd(k,B,ee,ne,qe,he){var Ze=ee&i,ht=k.length,yt=B.length;if(ht!=yt&&!(Ze&&yt>ht))return!1;var We=he.get(k);if(We&&he.get(B))return We==B;var tr=-1,gr=!0,Pt=ee&s?new pr:void 0;for(he.set(k,B),he.set(B,k);++tr<ht;){var lr=k[tr],cr=B[tr];if(ne)var ln=Ze?ne(cr,lr,tr,B,k,he):ne(lr,cr,tr,k,B,he);if(ln!==void 0){if(ln)continue;gr=!1;break}if(Pt){if(!Ie(B,function(Wr,kn){if(!Rt(Pt,kn)&&(lr===Wr||qe(lr,Wr,ee,ne,he)))return Pt.push(kn)})){gr=!1;break}}else if(!(lr===cr||qe(lr,cr,ee,ne,he))){gr=!1;break}}return he.delete(k),he.delete(B),gr}function kv(k,B,ee,ne,qe,he,Ze){switch(ee){case H:if(k.byteLength!=B.byteLength||k.byteOffset!=B.byteOffset)return!1;k=k.buffer,B=B.buffer;case Y:return!(k.byteLength!=B.byteLength||!he(new ps(k),new ps(B)));case c:case f:case v:return Pd(+k,+B);case h:return k.name==B.name&&k.message==B.message;case M:case b:return k==B+"";case E:var ht=ut;case O:var yt=ne&i;if(ht||(ht=ir),k.size!=B.size&&!yt)return!1;var We=Ze.get(k);if(We)return We==B;ne|=s,Ze.set(k,B);var tr=Sd(ht(k),ht(B),ne,qe,he,Ze);return Ze.delete(k),tr;case D:if(F)return F.call(k)==F.call(B)}return!1}function Lv(k,B,ee,ne,qe,he){var Ze=ee&i,ht=bd(k),yt=ht.length,We=bd(B),tr=We.length;if(yt!=tr&&!Ze)return!1;for(var gr=yt;gr--;){var Pt=ht[gr];if(!(Ze?Pt in B:ot.call(B,Pt)))return!1}var lr=he.get(k);if(lr&&he.get(B))return lr==B;var cr=!0;he.set(k,B),he.set(B,k);for(var ln=Ze;++gr<yt;){Pt=ht[gr];var Wr=k[Pt],kn=B[Pt];if(ne)var Nd=Ze?ne(kn,Wr,Pt,B,k,he):ne(Wr,kn,Pt,k,B,he);if(!(Nd===void 0?Wr===kn||qe(Wr,kn,ee,ne,he):Nd)){cr=!1;break}ln||(ln=Pt=="constructor")}if(cr&&!ln){var Vo=k.constructor,Bo=B.constructor;Vo!=Bo&&"constructor"in k&&"constructor"in B&&!(typeof Vo=="function"&&Vo instanceof Vo&&typeof Bo=="function"&&Bo instanceof Bo)&&(cr=!1)}return he.delete(k),he.delete(B),cr}function bd(k){return gi(k,Wv,Mv)}function xo(k,B){var ee=k.__data__;return xv(B)?ee[typeof B=="string"?"string":"hash"]:ee.map}function yi(k,B){var ee=It(k,B);return Iv(ee)?ee:void 0}function jv(k){var B=ot.call(k,Vr),ee=k[Vr];try{k[Vr]=void 0;var ne=!0}catch{}var qe=ds.call(k);return ne&&(B?k[Vr]=ee:delete k[Vr]),qe}var Mv=Fo?function(k){return k==null?[]:(k=Object(k),ze(Fo(k),function(B){return er.call(k,B)}))}:Kv,an=sn;(ms&&an(new ms(new ArrayBuffer(1)))!=H||sr&&an(new sr)!=E||gs&&an(gs.resolve())!=S||pi&&an(new pi)!=O||ys&&an(new ys)!=V)&&(an=function(k){var B=sn(k),ee=B==p?k.constructor:void 0,ne=ee?Fn(ee):"";if(ne)switch(ne){case ko:return H;case Ll:return E;case Lo:return S;case jl:return O;case jo:return V}return B});function Uv(k,B){return B=B??o,!!B&&(typeof k=="number"||d.test(k))&&k>-1&&k%1==0&&k<B}function xv(k){var B=typeof k;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?k!=="__proto__":k===null}function qv(k){return!!fs&&fs in k}function Vv(k){var B=k&&k.constructor,ee=typeof B=="function"&&B.prototype||zt;return k===ee}function Bv(k){return ds.call(k)}function Fn(k){if(k!=null){try{return dt.call(k)}catch{}try{return k+""}catch{}}return""}function Pd(k,B){return k===B||k!==k&&B!==B}var zv=vs(function(){return arguments}())?vs:function(k){return _s(k)&&ot.call(k,"callee")&&!er.call(k,"callee")},qo=Array.isArray;function Hv(k){return k!=null&&Od(k.length)&&!Td(k)}var Ml=Fl||Yv;function Gv(k,B){return on(k,B)}function Td(k){if(!Ad(k))return!1;var B=sn(k);return B==m||B==g||B==u||B==N}function Od(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=o}function Ad(k){var B=typeof k;return k!=null&&(B=="object"||B=="function")}function _s(k){return k!=null&&typeof k=="object"}var Cd=ke?Bt(ke):Dv;function Wv(k){return Hv(k)?mi(k):Fv(k)}function Kv(){return[]}function Yv(){return!1}e.exports=Gv})(Ya,Ya.exports);var YL=Ya.exports;Object.defineProperty(Qi,"__esModule",{value:!0});Qi.createTempUpdateFile=Qi.DownloadedUpdateHelper=void 0;const JL=rs,XL=Le,Yp=YL,Bn=Rn,Zs=Se;class QL{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return Zs.join(this.cacheDir,"pending")}async validateDownloadedPath(t,r,n,i){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return Yp(this.versionInfo,r)&&Yp(this.fileInfo.info,n.info)&&await(0,Bn.pathExists)(t)?t:null;const s=await this.getValidCachedUpdateFile(n,i);return s===null?null:(i.info(`Update has already been downloaded to ${t}).`),this._file=s,s)}async setDownloadedFile(t,r,n,i,s,o){this._file=t,this._packageFile=r,this.versionInfo=n,this.fileInfo=i,this._downloadedFileInfo={fileName:s,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},o&&await(0,Bn.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,Bn.emptyDir)(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,r){var n;const i=this.getUpdateInfoFile();if(!await(0,Bn.pathExists)(i))return null;let o;try{o=await(0,Bn.readJson)(i)}catch(c){let f="No cached update info available";return c.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),f+=` (error on read: ${c.message})`),r.info(f),null}if(!((n=(o==null?void 0:o.fileName)!==null)!==null&&n!==void 0?n:!1))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==o.sha512)return r.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${o.sha512}, expected: ${t.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const l=Zs.join(this.cacheDirForPendingUpdate,o.fileName);if(!await(0,Bn.pathExists)(l))return r.info("Cached update file doesn't exist"),null;const u=await ZL(l);return t.info.sha512!==u?(r.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${u}, expected: ${t.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=o,l)}getUpdateInfoFile(){return Zs.join(this.cacheDirForPendingUpdate,"update-info.json")}}Qi.DownloadedUpdateHelper=QL;function ZL(e,t="sha512",r="base64",n){return new Promise((i,s)=>{const o=(0,JL.createHash)(t);o.on("error",s).setEncoding(r),(0,XL.createReadStream)(e,{...n,highWaterMark:1024*1024}).on("error",s).on("end",()=>{o.end(),i(o.read())}).pipe(o,{end:!1})})}async function ej(e,t,r){let n=0,i=Zs.join(t,e);for(let s=0;s<3;s++)try{return await(0,Bn.unlink)(i),i}catch(o){if(o.code==="ENOENT")return i;r.warn(`Error on remove temp update file: ${o}`),i=Zs.join(t,`${n++}-${e}`)}return i}Qi.createTempUpdateFile=ej;var bl={},Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.getAppCacheDir=void 0;const $c=Se,tj=Nn;function rj(){const e=(0,tj.homedir)();let t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||$c.join(e,"AppData","Local"):process.platform==="darwin"?t=$c.join(e,"Library","Caches"):t=process.env.XDG_CACHE_HOME||$c.join(e,".cache"),t}Pl.getAppCacheDir=rj;Object.defineProperty(bl,"__esModule",{value:!0});bl.ElectronAppAdapter=void 0;const Jp=Se,nj=Pl;class ij{constructor(t=te.app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?Jp.join(process.resourcesPath,"app-update.yml"):Jp.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,nj.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(t){this.app.once("quit",(r,n)=>t(n))}}bl.ElectronAppAdapter=ij;var $v={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronHttpExecutor=e.getNetSession=e.NET_SESSION_NAME=void 0;const t=ct();e.NET_SESSION_NAME="electron-updater";function r(){return te.session.fromPartition(e.NET_SESSION_NAME,{cache:!1})}e.getNetSession=r;class n extends t.HttpExecutor{constructor(s){super(),this.proxyLoginCallback=s,this.cachedSession=null}async download(s,o,a){return await a.cancellationToken.createPromise((l,u,c)=>{const f={headers:a.headers||void 0,redirect:"manual"};(0,t.configureRequestUrl)(s,f),(0,t.configureRequestOptions)(f),this.doDownload(f,{destination:o,options:a,onCancel:c,callback:h=>{h==null?l(o):u(h)},responseHandler:null},0)})}createRequest(s,o){s.headers&&s.headers.Host&&(s.host=s.headers.Host,delete s.headers.Host),this.cachedSession==null&&(this.cachedSession=r());const a=te.net.request({...s,session:this.cachedSession});return a.on("response",o),this.proxyLoginCallback!=null&&a.on("login",this.proxyLoginCallback),a}addRedirectHandlers(s,o,a,l,u){s.on("redirect",(c,f,h)=>{s.abort(),l>this.maxRedirects?a(this.createMaxRedirectError()):u(t.HttpExecutor.prepareRedirectUrlOptions(h,o))})}}e.ElectronHttpExecutor=n})($v);var Ro={},Ct={},sj=1/0,oj="[object Symbol]",Ev=/[\\^$.*+?()[\]{}|]/g,aj=RegExp(Ev.source),lj=typeof lt=="object"&&lt&&lt.Object===Object&&lt,cj=typeof self=="object"&&self&&self.Object===Object&&self,uj=lj||cj||Function("return this")(),fj=Object.prototype,dj=fj.toString,Xp=uj.Symbol,Qp=Xp?Xp.prototype:void 0,Zp=Qp?Qp.toString:void 0;function hj(e){if(typeof e=="string")return e;if(mj(e))return Zp?Zp.call(e):"";var t=e+"";return t=="0"&&1/e==-sj?"-0":t}function pj(e){return!!e&&typeof e=="object"}function mj(e){return typeof e=="symbol"||pj(e)&&dj.call(e)==oj}function gj(e){return e==null?"":hj(e)}function yj(e){return e=gj(e),e&&aj.test(e)?e.replace(Ev,"\\$&"):e}var vj=yj;Object.defineProperty(Ct,"__esModule",{value:!0});Ct.blockmapFiles=Ct.getChannelFilename=Ct.newUrlFromBase=Ct.newBaseUrl=void 0;const wv=ns,_j=vj;function $j(e){const t=new wv.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}Ct.newBaseUrl=$j;function iu(e,t,r=!1){const n=new wv.URL(e,t),i=t.search;return i!=null&&i.length!==0?n.search=i:r&&(n.search=`noCache=${Date.now().toString(32)}`),n}Ct.newUrlFromBase=iu;function Ej(e){return`${e}.yml`}Ct.getChannelFilename=Ej;function wj(e,t,r){const n=iu(`${e.pathname}.blockmap`,e);return[iu(`${e.pathname.replace(new RegExp(_j(r),"g"),t)}.blockmap`,e),n]}Ct.blockmapFiles=wj;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.resolveFiles=tt.getFileList=tt.parseUpdateInfo=tt.findFile=tt.Provider=void 0;const An=ct(),Sj=bt,em=Ct;class bj{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){const t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(t==="x64"?"":`-${t}`)}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return`${t}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,r,n){return this.executor.request(this.createRequestOptions(t,r),n)}createRequestOptions(t,r){const n={};return this.requestHeaders==null?r!=null&&(n.headers=r):n.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},(0,An.configureRequestUrl)(t,n),n}}tt.Provider=bj;function Pj(e,t,r){if(e.length===0)throw(0,An.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const n=e.find(i=>i.url.pathname.toLowerCase().endsWith(`.${t}`));return n??(r==null?e[0]:e.find(i=>!r.some(s=>i.url.pathname.toLowerCase().endsWith(`.${s}`))))}tt.findFile=Pj;function Tj(e,t,r){if(e==null)throw(0,An.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let n;try{n=(0,Sj.load)(e)}catch(i){throw(0,An.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): ${i.stack||i.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return n}tt.parseUpdateInfo=Tj;function Sv(e){const t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw(0,An.newError)(`No files provided: ${(0,An.safeStringifyJson)(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}tt.getFileList=Sv;function Oj(e,t,r=n=>n){const i=Sv(e).map(a=>{if(a.sha2==null&&a.sha512==null)throw(0,An.newError)(`Update info doesn't contain nor sha256 neither sha512 checksum: ${(0,An.safeStringifyJson)(a)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:(0,em.newUrlFromBase)(r(a.url),t),info:a}}),s=e.packages,o=s==null?null:s[process.arch]||s.ia32;return o!=null&&(i[0].packageInfo={...o,path:(0,em.newUrlFromBase)(r(o.path),t).href}),i}tt.resolveFiles=Oj;Object.defineProperty(Ro,"__esModule",{value:!0});Ro.GenericProvider=void 0;const tm=ct(),Ec=Ct,wc=tt;class Aj extends wc.Provider{constructor(t,r,n){super(n),this.configuration=t,this.updater=r,this.baseUrl=(0,Ec.newBaseUrl)(this.configuration.url)}get channel(){const t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){const t=(0,Ec.getChannelFilename)(this.channel),r=(0,Ec.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,wc.parseUpdateInfo)(await this.httpRequest(r),t,r)}catch(i){if(i instanceof tm.HttpError&&i.statusCode===404)throw(0,tm.newError)(`Cannot find channel "${t}" update info: ${i.stack||i.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&n<3){await new Promise((s,o)=>{try{setTimeout(s,1e3*n)}catch(a){o(a)}});continue}throw i}}resolveFiles(t){return(0,wc.resolveFiles)(t,this.baseUrl)}}Ro.GenericProvider=Aj;var Zi={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.BitbucketProvider=void 0;const rm=ct(),Sc=Ct,bc=tt;class Cj extends bc.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r;const{owner:i,slug:s}=t;this.baseUrl=(0,Sc.newBaseUrl)(`https://api.bitbucket.org/2.0/repositories/${i}/${s}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const t=new rm.CancellationToken,r=(0,Sc.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,Sc.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,void 0,t);return(0,bc.parseUpdateInfo)(i,r,n)}catch(i){throw(0,rm.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,bc.resolveFiles)(t,this.baseUrl)}toString(){const{owner:t,slug:r}=this.configuration;return`Bitbucket (owner: ${t}, slug: ${r}, channel: ${this.channel})`}}Tl.BitbucketProvider=Cj;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.computeReleaseNotes=tn.GitHubProvider=tn.BaseGitHubProvider=void 0;const Yr=ct(),eo=td,Nj=ns,Li=Ct,su=tt,Pc=/\/tag\/([^/]+)$/;class bv extends su.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=(0,Li.newBaseUrl)((0,Yr.githubUrl)(t,r));const i=r==="github.com"?"api.github.com":r;this.baseApiUrl=(0,Li.newBaseUrl)((0,Yr.githubUrl)(t,i))}computeGithubBasePath(t){const r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?`/api/v3${t}`:t}}tn.BaseGitHubProvider=bv;class Rj extends bv{constructor(t,r,n){super(t,"github.com",n),this.options=t,this.updater=r}async getLatestVersion(){var t,r,n,i;const s=new Yr.CancellationToken,o=await this.httpRequest((0,Li.newUrlFromBase)(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},s),a=(0,Yr.parseXml)(o);let l=a.element("entry",!1,"No published versions on GitHub"),u=null;try{if(this.updater.allowPrerelease){const E=((t=this.updater)===null||t===void 0?void 0:t.channel)||((r=eo.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if(E===null)u=Pc.exec(l.element("link").attribute("href"))[1];else for(const v of a.getElements("entry")){const y=Pc.exec(v.element("link").attribute("href"));if(y===null)continue;const p=y[1],S=((n=eo.prerelease(p))===null||n===void 0?void 0:n[0])||null,N=!E||["alpha","beta"].includes(E),M=S!==null&&!["alpha","beta"].includes(String(S));if(N&&!M&&!(E==="beta"&&S==="alpha")){u=p;break}if(S&&S===E){u=p;break}}}else{u=await this.getLatestTagName(s);for(const E of a.getElements("entry"))if(Pc.exec(E.element("link").attribute("href"))[1]===u){l=E;break}}}catch(E){throw(0,Yr.newError)(`Cannot parse releases feed: ${E.stack||E.message},
XML:
${o}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(u==null)throw(0,Yr.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let c,f="",h="";const m=async E=>{f=(0,Li.getChannelFilename)(E),h=(0,Li.newUrlFromBase)(this.getBaseDownloadPath(String(u),f),this.baseUrl);const v=this.createRequestOptions(h);try{return await this.executor.request(v,s)}catch(y){throw y instanceof Yr.HttpError&&y.statusCode===404?(0,Yr.newError)(`Cannot find ${f} in the latest release artifacts (${h}): ${y.stack||y.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):y}};try{const E=this.updater.allowPrerelease?this.getCustomChannelName(String(((i=eo.prerelease(u))===null||i===void 0?void 0:i[0])||"latest")):this.getDefaultChannelName();c=await m(E)}catch(E){if(this.updater.allowPrerelease)c=await m(this.getDefaultChannelName());else throw E}const g=(0,su.parseUpdateInfo)(c,f,h);return g.releaseName==null&&(g.releaseName=l.elementValueOrEmpty("title")),g.releaseNotes==null&&(g.releaseNotes=Pv(this.updater.currentVersion,this.updater.fullChangelog,a,l)),{tag:u,...g}}async getLatestTagName(t){const r=this.options,n=r.host==null||r.host==="github.com"?(0,Li.newUrlFromBase)(`${this.basePath}/latest`,this.baseUrl):new Nj.URL(`${this.computeGithubBasePath(`/repos/${r.owner}/${r.repo}/releases`)}/latest`,this.baseApiUrl);try{const i=await this.httpRequest(n,{Accept:"application/json"},t);return i==null?null:JSON.parse(i).tag_name}catch(i){throw(0,Yr.newError)(`Unable to find latest version on GitHub (${n}), please ensure a production release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(t){return(0,su.resolveFiles)(t,this.baseUrl,r=>this.getBaseDownloadPath(t.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(t,r){return`${this.basePath}/download/${t}/${r}`}}tn.GitHubProvider=Rj;function nm(e){const t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function Pv(e,t,r,n){if(!t)return nm(n);const i=[];for(const s of r.getElements("entry")){const o=/\/tag\/v?([^/]+)$/.exec(s.element("link").attribute("href"))[1];eo.lt(e,o)&&i.push({version:o,note:nm(s)})}return i.sort((s,o)=>eo.rcompare(s.version,o.version))}tn.computeReleaseNotes=Pv;var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.KeygenProvider=void 0;const im=ct(),Tc=Ct,Oc=tt;class Ij extends Oc.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r,this.baseUrl=(0,Tc.newBaseUrl)(`https://api.keygen.sh/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const t=new im.CancellationToken,r=(0,Tc.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,Tc.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},t);return(0,Oc.parseUpdateInfo)(i,r,n)}catch(i){throw(0,im.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,Oc.resolveFiles)(t,this.baseUrl)}toString(){const{account:t,product:r,platform:n}=this.configuration;return`Keygen (account: ${t}, product: ${r}, platform: ${n}, channel: ${this.channel})`}}Ol.KeygenProvider=Ij;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.PrivateGitHubProvider=void 0;const Oi=ct(),Dj=bt,Fj=Se,sm=ns,om=Ct,kj=tn,Lj=tt;class jj extends kj.BaseGitHubProvider{constructor(t,r,n,i){super(t,"api.github.com",i),this.updater=r,this.token=n}createRequestOptions(t,r){const n=super.createRequestOptions(t,r);return n.redirect="manual",n}async getLatestVersion(){const t=new Oi.CancellationToken,r=(0,om.getChannelFilename)(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(t),i=n.assets.find(a=>a.name===r);if(i==null)throw(0,Oi.newError)(`Cannot find ${r} in the release ${n.html_url||n.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const s=new sm.URL(i.url);let o;try{o=(0,Dj.load)(await this.httpRequest(s,this.configureHeaders("application/octet-stream"),t))}catch(a){throw a instanceof Oi.HttpError&&a.statusCode===404?(0,Oi.newError)(`Cannot find ${r} in the latest release artifacts (${s}): ${a.stack||a.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):a}return o.assets=n.assets,o}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:`token ${this.token}`}}async getLatestVersionInfo(t){const r=this.updater.allowPrerelease;let n=this.basePath;r||(n=`${n}/latest`);const i=(0,om.newUrlFromBase)(n,this.baseUrl);try{const s=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return r?s.find(o=>o.prerelease)||s[0]:s}catch(s){throw(0,Oi.newError)(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${s.stack||s.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(t){return(0,Lj.getFileList)(t).map(r=>{const n=Fj.posix.basename(r.url).replace(/ /g,"-"),i=t.assets.find(s=>s!=null&&s.name===n);if(i==null)throw(0,Oi.newError)(`Cannot find asset "${n}" in: ${JSON.stringify(t.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new sm.URL(i.url),info:r}})}}Al.PrivateGitHubProvider=jj;Object.defineProperty(Zi,"__esModule",{value:!0});Zi.createClient=Zi.isUrlProbablySupportMultiRangeRequests=void 0;const ha=ct(),Mj=Tl,am=Ro,Uj=tn,xj=Ol,qj=Al;function Tv(e){return!e.includes("s3.amazonaws.com")}Zi.isUrlProbablySupportMultiRangeRequests=Tv;function Vj(e,t,r){if(typeof e=="string")throw(0,ha.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const n=e.provider;switch(n){case"github":{const i=e,s=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return s==null?new Uj.GitHubProvider(i,t,r):new qj.PrivateGitHubProvider(i,t,s,r)}case"bitbucket":return new Mj.BitbucketProvider(e,t,r);case"keygen":return new xj.KeygenProvider(e,t,r);case"s3":case"spaces":return new am.GenericProvider({provider:"generic",url:(0,ha.getS3LikeProviderBaseUrl)(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{const i=e;return new am.GenericProvider(i,t,{...r,isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&Tv(i.url)})}case"custom":{const i=e,s=i.updateProvider;if(!s)throw(0,ha.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new s(i,t,r)}default:throw(0,ha.newError)(`Unsupported provider: ${n}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}Zi.createClient=Vj;var lm;function wd(){if(lm)return Vn;lm=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.NoOpLogger=Vn.AppUpdater=void 0;const e=ct(),t=rs,r=ts,n=Rn,i=bt,s=Sl,o=Se,a=td,l=Qi,u=bl,c=$v,f=Ro,h=us(),m=Zi;let g=class Ov extends r.EventEmitter{get channel(){return this._channel}set channel(p){if(this._channel!=null){if(typeof p!="string")throw(0,e.newError)(`Channel must be a string, but got: ${p}`,"ERR_UPDATER_INVALID_CHANNEL");if(p.length===0)throw(0,e.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=p,this.allowDowngrade=!0}addAuthHeader(p){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:p})}get netSession(){return(0,c.getNetSession)()}get logger(){return this._logger}set logger(p){this._logger=p??new v}set updateConfigPath(p){this.clientPromise=null,this._appUpdateConfigPath=p,this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig())}constructor(p,S){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new h.UpdaterSignal(this),this._appUpdateConfigPath=null,this.clientPromise=null,this.stagingUserIdPromise=new s.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",O=>{this._logger.error(`Error: ${O.stack||O.message}`)}),S==null?(this.app=new u.ElectronAppAdapter,this.httpExecutor=new c.ElectronHttpExecutor((O,b)=>this.emit("login",O,b))):(this.app=S,this.httpExecutor=null);const N=this.app.version,M=(0,a.parse)(N);if(M==null)throw(0,e.newError)(`App version is not a valid semver version: "${N}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=M,this.allowPrerelease=E(M),p!=null&&(this.setFeedURL(p),typeof p!="string"&&p.requestHeaders&&(this.requestHeaders=p.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(p){const S=this.createProviderRuntimeOptions();let N;typeof p=="string"?N=new f.GenericProvider({provider:"generic",url:p},this,{...S,isUseMultipleRangeRequest:(0,m.isUrlProbablySupportMultiRangeRequests)(p)}):N=(0,m.createClient)(p,this,S),this.clientPromise=Promise.resolve(N)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let p=this.checkForUpdatesPromise;if(p!=null)return this._logger.info("Checking for update (already in progress)"),p;const S=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),p=this.doCheckForUpdates().then(N=>(S(),N)).catch(N=>{throw S(),this.emit("error",N,`Cannot check for updates: ${(N.stack||N).toString()}`),N}),this.checkForUpdatesPromise=p,p}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(p){return this.checkForUpdates().then(S=>S!=null&&S.downloadPromise?(S.downloadPromise.then(()=>{const N=Ov.formatDownloadNotification(S.updateInfo.version,this.app.name,p);new te.Notification(N).show()}),S):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),S))}static formatDownloadNotification(p,S,N){return N==null&&(N={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),N={title:N.title.replace("{appName}",S).replace("{version}",p),body:N.body.replace("{appName}",S).replace("{version}",p)},N}async isStagingMatch(p){const S=p.stagingPercentage;let N=S;if(N==null)return!0;if(N=parseInt(N,10),isNaN(N))return this._logger.warn(`Staging percentage is NaN: ${S}`),!0;N=N/100;const M=await this.stagingUserIdPromise.value,b=e.UUID.parse(M).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${N}, percentage: ${b}, user id: ${M}`),b<N}computeFinalHeaders(p){return this.requestHeaders!=null&&Object.assign(p,this.requestHeaders),p}async isUpdateAvailable(p){const S=(0,a.parse)(p.version);if(S==null)throw(0,e.newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${p.version}"`,"ERR_UPDATER_INVALID_VERSION");const N=this.currentVersion;if((0,a.eq)(S,N)||!await this.isStagingMatch(p))return!1;const O=(0,a.gt)(S,N),b=(0,a.lt)(S,N);return O?!0:this.allowDowngrade&&b}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(N=>(0,m.createClient)(N,this,this.createProviderRuntimeOptions())));const p=await this.clientPromise,S=await this.stagingUserIdPromise.value;return p.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":S})),{info:await p.getLatestVersion(),provider:p}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const p=await this.getUpdateInfoAndProvider(),S=p.info;if(!await this.isUpdateAvailable(S))return this._logger.info(`Update for version ${this.currentVersion} is not available (latest version: ${S.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",S),{versionInfo:S,updateInfo:S};this.updateInfoAndProvider=p,this.onUpdateAvailable(S);const N=new e.CancellationToken;return{versionInfo:S,updateInfo:S,cancellationToken:N,downloadPromise:this.autoDownload?this.downloadUpdate(N):null}}onUpdateAvailable(p){this._logger.info(`Found version ${p.version} (url: ${(0,e.asArray)(p.files).map(S=>S.url).join(", ")})`),this.emit("update-available",p)}downloadUpdate(p=new e.CancellationToken){const S=this.updateInfoAndProvider;if(S==null){const M=new Error("Please check update first");return this.dispatchError(M),Promise.reject(M)}this._logger.info(`Downloading update from ${(0,e.asArray)(S.info.files).map(M=>M.url).join(", ")}`);const N=M=>{if(!(M instanceof e.CancellationError))try{this.dispatchError(M)}catch(O){this._logger.warn(`Cannot dispatch error event: ${O.stack||O}`)}return M};try{return this.doDownloadUpdate({updateInfoAndProvider:S,requestHeaders:this.computeRequestHeaders(S.provider),cancellationToken:p,disableWebInstaller:this.disableWebInstaller}).catch(M=>{throw N(M)})}catch(M){return Promise.reject(N(M))}}dispatchError(p){this.emit("error",p,(p.stack||p).toString())}dispatchUpdateDownloaded(p){this.emit(h.UPDATE_DOWNLOADED,p)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,i.load)(await(0,n.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(p){const S=p.fileExtraDownloadHeaders;if(S!=null){const N=this.requestHeaders;return N==null?S:{...S,...N}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const p=o.join(this.app.userDataPath,".updaterId");try{const N=await(0,n.readFile)(p,"utf-8");if(e.UUID.check(N))return N;this._logger.warn(`Staging user id file exists, but content was invalid: ${N}`)}catch(N){N.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${N}`)}const S=e.UUID.v5((0,t.randomBytes)(4096),e.UUID.OID);this._logger.info(`Generated new staging user ID: ${S}`);try{await(0,n.outputFile)(p,S)}catch(N){this._logger.warn(`Couldn't write out staging user ID: ${N}`)}return S}get isAddNoCacheQuery(){const p=this.requestHeaders;if(p==null)return!0;for(const S of Object.keys(p)){const N=S.toLowerCase();if(N==="authorization"||N==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let p=this.downloadedUpdateHelper;if(p==null){const S=(await this.configOnDisk.value).updaterCacheDirName,N=this._logger;S==null&&N.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const M=o.join(this.app.baseCachePath,S||this.app.name);N.debug!=null&&N.debug(`updater cache dir: ${M}`),p=new l.DownloadedUpdateHelper(M),this.downloadedUpdateHelper=p}return p}async executeDownload(p){const S=p.fileInfo,N={headers:p.downloadUpdateOptions.requestHeaders,cancellationToken:p.downloadUpdateOptions.cancellationToken,sha2:S.info.sha2,sha512:S.info.sha512};this.listenerCount(h.DOWNLOAD_PROGRESS)>0&&(N.onProgress=j=>this.emit(h.DOWNLOAD_PROGRESS,j));const M=p.downloadUpdateOptions.updateInfoAndProvider.info,O=M.version,b=S.packageInfo;function D(){const j=decodeURIComponent(p.fileInfo.url.pathname);return j.endsWith(`.${p.fileExtension}`)?o.basename(j):p.fileInfo.info.url}const T=await this.getOrCreateDownloadHelper(),V=T.cacheDirForPendingUpdate;await(0,n.mkdir)(V,{recursive:!0});const Y=D();let H=o.join(V,Y);const W=b==null?null:o.join(V,`package-${O}${o.extname(b.path)||".7z"}`),G=async j=>(await T.setDownloadedFile(H,W,M,S,Y,j),await p.done({...M,downloadedFile:H}),W==null?[H]:[H,W]),Q=this._logger,Z=await T.validateDownloadedPath(H,M,S,Q);if(Z!=null)return H=Z,await G(!1);const K=async()=>(await T.clear().catch(()=>{}),await(0,n.unlink)(H).catch(()=>{})),I=await(0,l.createTempUpdateFile)(`temp-${Y}`,V,Q);try{await p.task(I,N,W,K),await(0,n.rename)(I,H)}catch(j){throw await K(),j instanceof e.CancellationError&&(Q.info("cancelled"),this.emit("update-cancelled",M)),j}return Q.info(`New version ${O} has been downloaded to ${H}`),await G(!0)}};Vn.AppUpdater=g;function E(y){const p=(0,a.prerelease)(y);return p!=null&&p.length>0}class v{info(p){}warn(p){}error(p){}}return Vn.NoOpLogger=v,Vn}var As={},Cs={},cm;function Cl(){if(cm)return Cs;cm=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.BaseUpdater=void 0;const e=ho,t=wd();let r=class extends t.AppUpdater{constructor(i,s){super(i,s),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(i=!1,s=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(i,i?s:this.autoRunAppAfterInstall)?setImmediate(()=>{te.autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(i){return super.executeDownload({...i,done:s=>(this.dispatchUpdateDownloaded(s),this.addQuitHandler(),Promise.resolve())})}install(i=!1,s=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const o=this.downloadedUpdateHelper,a=o==null?null:o.file,l=o==null?null:o.downloadedFileInfo;if(a==null||l==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${i}, isForceRunAfter: ${s}`),this.doInstall({installerPath:a,isSilent:i,isForceRunAfter:s,isAdminRightsRequired:l.isAdminRightsRequired})}catch(u){return this.dispatchError(u),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(i=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(i!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${i}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}wrapSudo(){const{name:i}=this.app,s=`"${i} would like to update"`,o=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),a=[o];return/kdesudo/i.test(o)?(a.push("--comment",s),a.push("-c")):/gksudo/i.test(o)?a.push("--message",s):/pkexec/i.test(o)&&a.push("--disable-internal-agent"),a.join(" ")}spawnSyncLog(i,s=[],o={}){return this._logger.info(`Executing: ${i} with args: ${s}`),(0,e.spawnSync)(i,s,{env:{...process.env,...o},encoding:"utf-8",shell:!0}).stdout.trim()}async spawnLog(i,s=[],o=void 0,a="ignore"){return this._logger.info(`Executing: ${i} with args: ${s}`),new Promise((l,u)=>{try{const c={stdio:a,env:o,detached:!0},f=(0,e.spawn)(i,s,c);f.on("error",h=>{u(h)}),f.unref(),f.pid!==void 0&&l(!0)}catch(c){u(c)}})}};return Cs.BaseUpdater=r,Cs}var Io={},Do={},ui={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.computeOperations=Cn.OperationKind=void 0;var Zn;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Zn||(Cn.OperationKind=Zn={}));function Bj(e,t,r){const n=fm(e.files),i=fm(t.files);let s=null;const o=t.files[0],a=[],l=o.name,u=n.get(l);if(u==null)throw new Error(`no file ${l} in old blockmap`);const c=i.get(l);let f=0;const{checksumToOffset:h,checksumToOldSize:m}=Hj(n.get(l),u.offset,r);let g=o.offset;for(let E=0;E<c.checksums.length;g+=c.sizes[E],E++){const v=c.sizes[E],y=c.checksums[E];let p=h.get(y);p!=null&&m.get(y)!==v&&(r.warn(`Checksum ("${y}") matches, but size differs (old: ${m.get(y)}, new: ${v})`),p=void 0),p===void 0?(f++,s!=null&&s.kind===Zn.DOWNLOAD&&s.end===g?s.end+=v:(s={kind:Zn.DOWNLOAD,start:g,end:g+v},um(s,a,y,E))):s!=null&&s.kind===Zn.COPY&&s.end===p?s.end+=v:(s={kind:Zn.COPY,start:p,end:p+v},um(s,a,y,E))}return f>0&&r.info(`File${o.name==="file"?"":" "+o.name} has ${f} changed blocks`),a}Cn.computeOperations=Bj;const zj=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function um(e,t,r,n){if(zj&&t.length!==0){const i=t[t.length-1];if(i.kind===e.kind&&e.start<i.end&&e.start>i.start){const s=[i.start,i.end,e.start,e.end].reduce((o,a)=>o<a?o:a);throw new Error(`operation (block index: ${n}, checksum: ${r}, kind: ${Zn[e.kind]}) overlaps previous operation (checksum: ${r}):
abs: ${i.start} until ${i.end} and ${e.start} until ${e.end}
rel: ${i.start-s} until ${i.end-s} and ${e.start-s} until ${e.end-s}`)}}t.push(e)}function Hj(e,t,r){const n=new Map,i=new Map;let s=t;for(let o=0;o<e.checksums.length;o++){const a=e.checksums[o],l=e.sizes[o],u=i.get(a);if(u===void 0)n.set(a,s),i.set(a,l);else if(r.debug!=null){const c=u===l?"(same size)":`(size: ${u}, this size: ${l})`;r.debug(`${a} duplicated in blockmap ${c}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}s+=l}return{checksumToOffset:n,checksumToOldSize:i}}function fm(e){const t=new Map;for(const r of e)t.set(r.name,r);return t}Object.defineProperty(ui,"__esModule",{value:!0});ui.DataSplitter=ui.copyData=void 0;const pa=ct(),Gj=Le,Wj=po,Kj=Cn,dm=Buffer.from(`\r
\r
`);var pn;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(pn||(pn={}));function Av(e,t,r,n,i){const s=(0,Gj.createReadStream)("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",n),s.once("end",i),s.pipe(t,{end:!1})}ui.copyData=Av;class Yj extends Wj.Writable{constructor(t,r,n,i,s,o){super(),this.out=t,this.options=r,this.partIndexToTaskIndex=n,this.partIndexToLength=s,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=pn.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,r,n){if(this.isFinished){console.error(`Trailing ignored data: ${t.length} bytes`);return}this.handleData(t).then(n).catch(n)}async handleData(t){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw(0,pa.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const n=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=n,r=n}else if(this.remainingPartDataCount>0){const n=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=n,await this.processPartData(t,0,n),r=n}if(r!==t.length){if(this.readState===pn.HEADER){const n=this.searchHeaderListEnd(t,r);if(n===-1)return;r=n,this.readState=pn.BODY,this.headerListBuffer=null}for(;;){if(this.readState===pn.BODY)this.readState=pn.INIT;else{this.partIndex++;let o=this.partIndexToTaskIndex.get(this.partIndex);if(o==null)if(this.isFinished)o=this.options.end;else throw(0,pa.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");const a=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(a<o)await this.copyExistingData(a,o);else if(a>o)throw(0,pa.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(t,r),r===-1){this.readState=pn.HEADER;return}}const n=this.partIndexToLength[this.partIndex],i=r+n,s=Math.min(i,t.length);if(await this.processPartStarted(t,r,s),this.remainingPartDataCount=n-(s-r),this.remainingPartDataCount>0)return;if(r=i+this.boundaryLength,r>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-i);return}}}}copyExistingData(t,r){return new Promise((n,i)=>{const s=()=>{if(t===r){n();return}const o=this.options.tasks[t];if(o.kind!==Kj.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}Av(o,this.out,this.options.oldFileFd,i,()=>{t++,s()})};s()})}searchHeaderListEnd(t,r){const n=t.indexOf(dm,r);if(n!==-1)return n+dm.length;const i=r===0?t:t.slice(r);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){const t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw(0,pa.newError)(`Expected length: ${t} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,r,n){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,r,n)}processPartData(t,r,n){this.actualPartLength+=n-r;const i=this.out;return i.write(r===0&&t.length===n?t:t.slice(r,n))?Promise.resolve():new Promise((s,o)=>{i.on("error",o),i.once("drain",()=>{i.removeListener("error",o),s()})})}}ui.DataSplitter=Yj;var es={};Object.defineProperty(es,"__esModule",{value:!0});es.checkIsRangesSupported=es.executeTasksUsingMultipleRangeRequests=void 0;const ou=ct(),hm=ui,pm=Cn;function Jj(e,t,r,n,i){const s=o=>{if(o>=t.length){e.fileMetadataBuffer!=null&&r.write(e.fileMetadataBuffer),r.end();return}const a=o+1e3;Xj(e,{tasks:t,start:o,end:Math.min(t.length,a),oldFileFd:n},r,()=>s(a),i)};return s}es.executeTasksUsingMultipleRangeRequests=Jj;function Xj(e,t,r,n,i){let s="bytes=",o=0;const a=new Map,l=[];for(let f=t.start;f<t.end;f++){const h=t.tasks[f];h.kind===pm.OperationKind.DOWNLOAD&&(s+=`${h.start}-${h.end-1}, `,a.set(o,f),o++,l.push(h.end-h.start))}if(o<=1){const f=h=>{if(h>=t.end){n();return}const m=t.tasks[h++];if(m.kind===pm.OperationKind.COPY)(0,hm.copyData)(m,r,t.oldFileFd,i,()=>f(h));else{const g=e.createRequestOptions();g.headers.Range=`bytes=${m.start}-${m.end-1}`;const E=e.httpExecutor.createRequest(g,v=>{au(v,i)&&(v.pipe(r,{end:!1}),v.once("end",()=>f(h)))});e.httpExecutor.addErrorAndTimeoutHandlers(E,i),E.end()}};f(t.start);return}const u=e.createRequestOptions();u.headers.Range=s.substring(0,s.length-2);const c=e.httpExecutor.createRequest(u,f=>{if(!au(f,i))return;const h=(0,ou.safeGetHeader)(f,"content-type"),m=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(h);if(m==null){i(new Error(`Content-Type "multipart/byteranges" is expected, but got "${h}"`));return}const g=new hm.DataSplitter(r,t,a,m[1]||m[2],l,n);g.on("error",i),f.pipe(g),f.on("end",()=>{setTimeout(()=>{c.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(c,i),c.end()}function au(e,t){if(e.statusCode>=400)return t((0,ou.createHttpError)(e)),!1;if(e.statusCode!==206){const r=(0,ou.safeGetHeader)(e,"accept-ranges");if(r==null||r==="none")return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}es.checkIsRangesSupported=au;var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.ProgressDifferentialDownloadCallbackTransform=void 0;const Qj=po;var ji;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(ji||(ji={}));class Zj extends Qj.Transform{constructor(t,r,n){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=ji.COPY,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}if(this.operationType==ji.COPY){n(null,t);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}beginFileCopy(){this.operationType=ji.COPY}beginRangeDownload(){this.operationType=ji.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}}Nl.ProgressDifferentialDownloadCallbackTransform=Zj;Object.defineProperty(Do,"__esModule",{value:!0});Do.DifferentialDownloader=void 0;const Ns=ct(),Ac=Rn,eM=Le,tM=ui,rM=ns,ma=Cn,mm=es,nM=Nl;class iM{constructor(t,r,n){this.blockAwareFileInfo=t,this.httpExecutor=r,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){const t={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,Ns.configureRequestUrl)(this.options.newUrl,t),(0,Ns.configureRequestOptions)(t),t}doDownload(t,r){if(t.version!==r.version)throw new Error(`version is different (${t.version} - ${r.version}), full download is required`);const n=this.logger,i=(0,ma.computeOperations)(t,r,n);n.debug!=null&&n.debug(JSON.stringify(i,null,2));let s=0,o=0;for(const l of i){const u=l.end-l.start;l.kind===ma.OperationKind.DOWNLOAD?s+=u:o+=u}const a=this.blockAwareFileInfo.size;if(s+o+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==a)throw new Error(`Internal error, size mismatch: downloadSize: ${s}, copySize: ${o}, newSize: ${a}`);return n.info(`Full: ${gm(a)}, To download: ${gm(s)} (${Math.round(s/(a/100))}%)`),this.downloadFile(i)}downloadFile(t){const r=[],n=()=>Promise.all(r.map(i=>(0,Ac.close)(i.descriptor).catch(s=>{this.logger.error(`cannot close file "${i.path}": ${s}`)})));return this.doDownloadFile(t,r).then(n).catch(i=>n().catch(s=>{try{this.logger.error(`cannot close files: ${s}`)}catch(o){try{console.error(o)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(t,r){const n=await(0,Ac.open)(this.options.oldFile,"r");r.push({descriptor:n,path:this.options.oldFile});const i=await(0,Ac.open)(this.options.newFile,"w");r.push({descriptor:i,path:this.options.newFile});const s=(0,eM.createWriteStream)(this.options.newFile,{fd:i});await new Promise((o,a)=>{const l=[];let u;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const y=[];let p=0;for(const N of t)N.kind===ma.OperationKind.DOWNLOAD&&(y.push(N.end-N.start),p+=N.end-N.start);const S={expectedByteCounts:y,grandTotal:p};u=new nM.ProgressDifferentialDownloadCallbackTransform(S,this.options.cancellationToken,this.options.onProgress),l.push(u)}const c=new Ns.DigestTransform(this.blockAwareFileInfo.sha512);c.isValidateOnEnd=!1,l.push(c),s.on("finish",()=>{s.close(()=>{r.splice(1,1);try{c.validate()}catch(y){a(y);return}o(void 0)})}),l.push(s);let f=null;for(const y of l)y.on("error",a),f==null?f=y:f=f.pipe(y);const h=l[0];let m;if(this.options.isUseMultipleRangeRequest){m=(0,mm.executeTasksUsingMultipleRangeRequests)(this,t,h,n,a),m(0);return}let g=0,E=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const v=this.createRequestOptions();v.redirect="manual",m=y=>{var p,S;if(y>=t.length){this.fileMetadataBuffer!=null&&h.write(this.fileMetadataBuffer),h.end();return}const N=t[y++];if(N.kind===ma.OperationKind.COPY){u&&u.beginFileCopy(),(0,tM.copyData)(N,h,n,a,()=>m(y));return}const M=`bytes=${N.start}-${N.end-1}`;v.headers.range=M,(S=(p=this.logger)===null||p===void 0?void 0:p.debug)===null||S===void 0||S.call(p,`download range: ${M}`),u&&u.beginRangeDownload();const O=this.httpExecutor.createRequest(v,b=>{b.on("error",a),b.on("abort",()=>{a(new Error("response has been aborted by the server"))}),b.statusCode>=400&&a((0,Ns.createHttpError)(b)),b.pipe(h,{end:!1}),b.once("end",()=>{u&&u.endRangeDownload(),++g===100?(g=0,setTimeout(()=>m(y),1e3)):m(y)})});O.on("redirect",(b,D,T)=>{this.logger.info(`Redirect to ${sM(T)}`),E=T,(0,Ns.configureRequestUrl)(new rM.URL(E),v),O.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(O,a),O.end()},m(0)})}async readRemoteBytes(t,r){const n=Buffer.allocUnsafe(r+1-t),i=this.createRequestOptions();i.headers.range=`bytes=${t}-${r}`;let s=0;if(await this.request(i,o=>{o.copy(n,s),s+=o.length}),s!==n.length)throw new Error(`Received data length ${s} is not equal to expected ${n.length}`);return n}request(t,r){return new Promise((n,i)=>{const s=this.httpExecutor.createRequest(t,o=>{(0,mm.checkIsRangesSupported)(o,i)&&(o.on("data",r),o.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(s,i),s.end()})}}Do.DifferentialDownloader=iM;function gm(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function sM(e){const t=e.indexOf("?");return t<0?e:e.substring(0,t)}Object.defineProperty(Io,"__esModule",{value:!0});Io.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const Ai=Rn,oM=Do,aM=Fm;class lM extends oM.DifferentialDownloader{async download(){const t=this.blockAwareFileInfo,r=t.size,n=r-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,r-1);const i=Cv(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await cM(this.options.oldFile),i)}}Io.FileWithEmbeddedBlockMapDifferentialDownloader=lM;function Cv(e){return JSON.parse((0,aM.inflateRawSync)(e).toString())}async function cM(e){const t=await(0,Ai.open)(e,"r");try{const r=(await(0,Ai.fstat)(t)).size,n=Buffer.allocUnsafe(4);await(0,Ai.read)(t,n,0,n.length,r-n.length);const i=Buffer.allocUnsafe(n.readUInt32BE(0));return await(0,Ai.read)(t,i,0,i.length,r-n.length-i.length),await(0,Ai.close)(t),Cv(i)}catch(r){throw await(0,Ai.close)(t),r}}var ym;function vm(){if(ym)return As;ym=1,Object.defineProperty(As,"__esModule",{value:!0}),As.AppImageUpdater=void 0;const e=ct(),t=ho,r=Rn,n=Le,i=Se,s=Cl(),o=Io,a=us(),l=tt;let u=class extends s.BaseUpdater{constructor(f,h){super(f,h)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(f){const h=f.updateInfoAndProvider.provider,m=(0,l.findFile)(h.resolveFiles(f.updateInfoAndProvider.info),"AppImage",["rpm","deb"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:m,downloadUpdateOptions:f,task:async(g,E)=>{const v=process.env.APPIMAGE;if(v==null)throw(0,e.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let y=!1;try{const p={newUrl:m.url,oldFile:v,logger:this._logger,newFile:g,isUseMultipleRangeRequest:h.isUseMultipleRangeRequest,requestHeaders:f.requestHeaders,cancellationToken:f.cancellationToken};this.listenerCount(a.DOWNLOAD_PROGRESS)>0&&(p.onProgress=S=>this.emit(a.DOWNLOAD_PROGRESS,S)),await new o.FileWithEmbeddedBlockMapDifferentialDownloader(m.info,this.httpExecutor,p).download()}catch(p){this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),y=process.platform==="linux"}y&&await this.httpExecutor.download(m.url,g,E),await(0,r.chmod)(g,493)}})}doInstall(f){const h=process.env.APPIMAGE;if(h==null)throw(0,e.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(0,n.unlinkSync)(h);let m;const g=i.basename(h);i.basename(f.installerPath)===g||!/\d+\.\d+\.\d+/.test(g)?m=h:m=i.join(i.dirname(h),i.basename(f.installerPath)),(0,t.execFileSync)("mv",["-f",f.installerPath,m]),m!==h&&this.emit("appimage-filename-updated",m);const E={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return f.isForceRunAfter?this.spawnLog(m,[],E):(E.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,t.execFileSync)(m,[],{env:E})),!0}};return As.AppImageUpdater=u,As}var Rs={},_m;function $m(){if(_m)return Rs;_m=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.DebUpdater=void 0;const e=Cl(),t=us(),r=tt;let n=class extends e.BaseUpdater{constructor(s,o){super(s,o)}doDownloadUpdate(s){const o=s.updateInfoAndProvider.provider,a=(0,r.findFile)(o.resolveFiles(s.updateInfoAndProvider.info),"deb",["AppImage","rpm"]);return this.executeDownload({fileExtension:"deb",fileInfo:a,downloadUpdateOptions:s,task:async(l,u)=>{this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(u.onProgress=c=>this.emit(t.DOWNLOAD_PROGRESS,c)),await this.httpExecutor.download(a.url,l,u)}})}doInstall(s){const o=this.wrapSudo(),a=/pkexec/i.test(o)?"":'"',l=["dpkg","-i",s.installerPath,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(o,[`${a}/bin/bash`,"-c",`'${l.join(" ")}'${a}`]),s.isForceRunAfter&&this.app.relaunch(),!0}};return Rs.DebUpdater=n,Rs}var Is={},Em;function wm(){if(Em)return Is;Em=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.RpmUpdater=void 0;const e=Cl(),t=us(),r=tt;let n=class extends e.BaseUpdater{constructor(s,o){super(s,o)}doDownloadUpdate(s){const o=s.updateInfoAndProvider.provider,a=(0,r.findFile)(o.resolveFiles(s.updateInfoAndProvider.info),"rpm",["AppImage","deb"]);return this.executeDownload({fileExtension:"rpm",fileInfo:a,downloadUpdateOptions:s,task:async(l,u)=>{this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(u.onProgress=c=>this.emit(t.DOWNLOAD_PROGRESS,c)),await this.httpExecutor.download(a.url,l,u)}})}doInstall(s){const o=s.installerPath,a=this.wrapSudo(),l=/pkexec/i.test(a)?"":'"',u=this.spawnSyncLog("which zypper");let c;if(u)c=[u,"remove","-y",`'${this.app.name}'`,";",u,"clean","--all",";",u,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",o];else{const f=this.spawnSyncLog("which dnf || which yum");c=[f,"-y","remove",`'${this.app.name}'`,";",f,"-y","install",o]}return this.spawnSyncLog(a,[`${l}/bin/bash`,"-c",`'${c.join(" ")}'${l}`]),s.isForceRunAfter&&this.app.relaunch(),!0}};return Is.RpmUpdater=n,Is}var Ds={},Sm;function bm(){if(Sm)return Ds;Sm=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.MacUpdater=void 0;const e=ct(),t=Rn,r=Le,n=Dm,i=wd(),s=tt,o=ho,a=rs;let l=class extends i.AppUpdater{constructor(c,f){super(c,f),this.nativeUpdater=te.autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",h=>{this._logger.warn(h),this.emit("error",h)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0})}debug(c){this._logger.debug!=null&&this._logger.debug(c)}async doDownloadUpdate(c){let f=c.updateInfoAndProvider.provider.resolveFiles(c.updateInfoAndProvider.info);const h=this._logger,m="sysctl.proc_translated";let g=!1;try{this.debug("Checking for macOS Rosetta environment"),g=(0,o.execFileSync)("sysctl",[m],{encoding:"utf8"}).includes(`${m}: 1`),h.info(`Checked for macOS Rosetta environment (isRosetta=${g})`)}catch(p){h.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${p}`)}let E=!1;try{this.debug("Checking for arm64 in uname");const S=(0,o.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");h.info(`Checked 'uname -a': arm64=${S}`),E=E||S}catch(p){h.warn(`uname shell command to check for arm64 failed: ${p}`)}E=E||process.arch==="arm64"||g;const v=p=>{var S;return p.url.pathname.includes("arm64")||((S=p.info.url)===null||S===void 0?void 0:S.includes("arm64"))};E&&f.some(v)?f=f.filter(p=>E===v(p)):f=f.filter(p=>!v(p));const y=(0,s.findFile)(f,"zip",["pkg","dmg"]);if(y==null)throw(0,e.newError)(`ZIP file not provided: ${(0,e.safeStringifyJson)(f)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");return this.executeDownload({fileExtension:"zip",fileInfo:y,downloadUpdateOptions:c,task:(p,S)=>this.httpExecutor.download(y.url,p,S),done:p=>this.updateDownloaded(y,p)})}async updateDownloaded(c,f){var h,m;const g=f.downloadedFile,E=(h=c.info.size)!==null&&h!==void 0?h:(await(0,t.stat)(g)).size,v=this._logger,y=`fileToProxy=${c.url.href}`;this.debug(`Creating proxy server for native Squirrel.Mac (${y})`),(m=this.server)===null||m===void 0||m.close(),this.server=(0,n.createServer)(),this.debug(`Proxy server for native Squirrel.Mac is created (${y})`),this.server.on("close",()=>{v.info(`Proxy server for native Squirrel.Mac is closed (${y})`)});const p=S=>{const N=S.address();return typeof N=="string"?N:`http://127.0.0.1:${N==null?void 0:N.port}`};return await new Promise((S,N)=>{const M=(0,a.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),O=Buffer.from(`autoupdater:${M}`,"ascii"),b=`/${(0,a.randomBytes)(64).toString("hex")}.zip`;this.server.on("request",(D,T)=>{const V=D.url;if(v.info(`${V} requested`),V==="/"){if(!D.headers.authorization||D.headers.authorization.indexOf("Basic ")===-1){T.statusCode=401,T.statusMessage="Invalid Authentication Credentials",T.end(),v.warn("No authenthication info");return}const W=D.headers.authorization.split(" ")[1],G=Buffer.from(W,"base64").toString("ascii"),[Q,Z]=G.split(":");if(Q!=="autoupdater"||Z!==M){T.statusCode=401,T.statusMessage="Invalid Authentication Credentials",T.end(),v.warn("Invalid authenthication credentials");return}const K=Buffer.from(`{ "url": "${p(this.server)}${b}" }`);T.writeHead(200,{"Content-Type":"application/json","Content-Length":K.length}),T.end(K);return}if(!V.startsWith(b)){v.warn(`${V} requested, but not supported`),T.writeHead(404),T.end();return}v.info(`${b} requested by Squirrel.Mac, pipe ${g}`);let Y=!1;T.on("finish",()=>{Y||(this.nativeUpdater.removeListener("error",N),S([]))});const H=(0,r.createReadStream)(g);H.on("error",W=>{try{T.end()}catch(G){v.warn(`cannot end response: ${G}`)}Y=!0,this.nativeUpdater.removeListener("error",N),N(new Error(`Cannot pipe "${g}": ${W}`))}),T.writeHead(200,{"Content-Type":"application/zip","Content-Length":E}),H.pipe(T)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${y})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${p(this.server)}, ${y})`),this.nativeUpdater.setFeedURL({url:p(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${O.toString("base64")}`}}),this.dispatchUpdateDownloaded(f),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",N),this.nativeUpdater.checkForUpdates()):S([])})})}quitAndInstall(){var c;this.squirrelDownloadedUpdate?(this.nativeUpdater.quitAndInstall(),(c=this.server)===null||c===void 0||c.close()):(this.nativeUpdater.on("update-downloaded",()=>{var f;this.nativeUpdater.quitAndInstall(),(f=this.server)===null||f===void 0||f.close()}),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}};return Ds.MacUpdater=l,Ds}var Fs={},Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.GenericDifferentialDownloader=void 0;const uM=Do;class fM extends uM.DifferentialDownloader{download(t,r){return this.doDownload(t,r)}}Rl.GenericDifferentialDownloader=fM;var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.verifySignature=void 0;const Pm=ct(),Nv=ho,dM=Nn;function hM(e,t,r){return new Promise((n,i)=>{const s=t.replace(/'/g,"''");(0,Nv.execFile)("chcp 65001 >NUL & powershell.exe",["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`"Get-AuthenticodeSignature -LiteralPath '${s}' | ConvertTo-Json -Compress"`],{shell:!0,timeout:20*1e3},(o,a,l)=>{try{if(o!=null||l){Tm(r,o,l,i),n(null);return}const u=pM(a);if(u.Status===0){const f=(0,Pm.parseDn)(u.SignerCertificate.Subject);let h=!1;for(const m of e){const g=(0,Pm.parseDn)(m);if(g.size?h=Array.from(g.keys()).every(v=>g.get(v)===f.get(v)):m===f.get("CN")&&(r.warn(`Signature validated using only CN ${m}. Please add your full Distinguished Name (DN) to publisherNames configuration`),h=!0),h){n(null);return}}}const c=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(u,(f,h)=>f==="RawData"?void 0:h,2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${c}`),n(c)}catch(u){Tm(r,u,null,i),n(null);return}})})}Il.verifySignature=hM;function pM(e){const t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;const r=t.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),delete t.Path,t}function Tm(e,t,r,n){if(mM()){e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{(0,Nv.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(i){e.warn(`Cannot execute ConvertTo-Json: ${i.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}t!=null&&n(t),r&&n(new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`))}function mM(){const e=dM.release();return e.startsWith("6.")&&!e.startsWith("6.3")}var Om;function Am(){if(Om)return Fs;Om=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.NsisUpdater=void 0;const e=ct(),t=Se,r=Cl(),n=Io,i=Rl,s=us(),o=Ct,a=tt,l=Rn,u=Il,c=ns,f=Fm;let h=class extends r.BaseUpdater{constructor(g,E){super(g,E),this._verifyUpdateCodeSignature=(v,y)=>(0,u.verifySignature)(v,y,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(g){g&&(this._verifyUpdateCodeSignature=g)}doDownloadUpdate(g){const E=g.updateInfoAndProvider.provider,v=(0,a.findFile)(E.resolveFiles(g.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:g,fileInfo:v,task:async(y,p,S,N)=>{const M=v.packageInfo,O=M!=null&&S!=null;if(O&&g.disableWebInstaller)throw(0,e.newError)(`Unable to download new version ${g.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");!O&&!g.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(O||await this.differentialDownloadInstaller(v,g,y,E))&&await this.httpExecutor.download(v.url,y,p);const b=await this.verifySignature(y);if(b!=null)throw await N(),(0,e.newError)(`New version ${g.updateInfoAndProvider.info.version} is not signed by the application owner: ${b}`,"ERR_UPDATER_INVALID_SIGNATURE");if(O&&await this.differentialDownloadWebPackage(g,M,S,E))try{await this.httpExecutor.download(new c.URL(M.path),S,{headers:g.requestHeaders,cancellationToken:g.cancellationToken,sha512:M.sha512})}catch(D){try{await(0,l.unlink)(S)}catch{}throw D}}})}async verifySignature(g){let E;try{if(E=(await this.configOnDisk.value).publisherName,E==null)return null}catch(v){if(v.code==="ENOENT")return null;throw v}return await this._verifyUpdateCodeSignature(Array.isArray(E)?E:[E],g)}doInstall(g){const E=["--updated"];g.isSilent&&E.push("/S"),g.isForceRunAfter&&E.push("--force-run"),this.installDirectory&&E.push(`/D=${this.installDirectory}`);const v=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;v!=null&&E.push(`--package-file=${v}`);const y=()=>{this.spawnLog(t.join(process.resourcesPath,"elevate.exe"),[g.installerPath].concat(E)).catch(p=>this.dispatchError(p))};return g.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),y(),!0):(this.spawnLog(g.installerPath,E).catch(p=>{const S=p.code;this._logger.info(`Cannot run installer: error code: ${S}, error message: "${p.message}", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT`),S==="UNKNOWN"||S==="EACCES"?y():S==="ENOENT"?te.shell.openPath(g.installerPath).catch(N=>this.dispatchError(N)):this.dispatchError(p)}),!0)}async differentialDownloadInstaller(g,E,v,y){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const p=(0,o.blockmapFiles)(g.url,this.app.version,E.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${p[0]}", new: ${p[1]})`);const S=async O=>{const b=await this.httpExecutor.downloadToBuffer(O,{headers:E.requestHeaders,cancellationToken:E.cancellationToken});if(b==null||b.length===0)throw new Error(`Blockmap "${O.href}" is empty`);try{return JSON.parse((0,f.gunzipSync)(b).toString())}catch(D){throw new Error(`Cannot parse blockmap "${O.href}", error: ${D}`)}},N={newUrl:g.url,oldFile:t.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_INSTALLER_FILE_NAME),logger:this._logger,newFile:v,isUseMultipleRangeRequest:y.isUseMultipleRangeRequest,requestHeaders:E.requestHeaders,cancellationToken:E.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(N.onProgress=O=>this.emit(s.DOWNLOAD_PROGRESS,O));const M=await Promise.all(p.map(O=>S(O)));return await new i.GenericDifferentialDownloader(g.info,this.httpExecutor,N).download(M[0],M[1]),!1}catch(p){if(this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),this._testOnlyOptions!=null)throw p;return!0}}async differentialDownloadWebPackage(g,E,v,y){if(E.blockMapSize==null)return!0;try{const p={newUrl:new c.URL(E.path),oldFile:t.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:v,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:y.isUseMultipleRangeRequest,cancellationToken:g.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(p.onProgress=S=>this.emit(s.DOWNLOAD_PROGRESS,S)),await new n.FileWithEmbeddedBlockMapDifferentialDownloader(E,this.httpExecutor,p).download()}catch(p){return this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),process.platform==="win32"}return!1}};return Fs.NsisUpdater=h,Fs}var Cm;function us(){return Cm||(Cm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdaterSignal=e.UPDATE_DOWNLOADED=e.DOWNLOAD_PROGRESS=e.NsisUpdater=e.MacUpdater=e.RpmUpdater=e.DebUpdater=e.AppImageUpdater=e.Provider=e.CancellationToken=e.NoOpLogger=e.AppUpdater=void 0;const t=ct();Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}});const r=Rn,n=Se;var i=wd();Object.defineProperty(e,"AppUpdater",{enumerable:!0,get:function(){return i.AppUpdater}}),Object.defineProperty(e,"NoOpLogger",{enumerable:!0,get:function(){return i.NoOpLogger}});var s=tt;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return s.Provider}});var o=vm();Object.defineProperty(e,"AppImageUpdater",{enumerable:!0,get:function(){return o.AppImageUpdater}});var a=$m();Object.defineProperty(e,"DebUpdater",{enumerable:!0,get:function(){return a.DebUpdater}});var l=wm();Object.defineProperty(e,"RpmUpdater",{enumerable:!0,get:function(){return l.RpmUpdater}});var u=bm();Object.defineProperty(e,"MacUpdater",{enumerable:!0,get:function(){return u.MacUpdater}});var c=Am();Object.defineProperty(e,"NsisUpdater",{enumerable:!0,get:function(){return c.NsisUpdater}});let f;function h(){if(process.platform==="win32")f=new(Am()).NsisUpdater;else if(process.platform==="darwin")f=new(bm()).MacUpdater;else{f=new(vm()).AppImageUpdater;try{const E=n.join(process.resourcesPath,"package-type");if(!(0,r.existsSync)(E))return f;console.info("Checking for beta autoupdate feature for deb/rpm distributions");const v=(0,r.readFileSync)(E).toString().trim();switch(console.info("Found package-type:",v),v){case"deb":f=new($m()).DebUpdater;break;case"rpm":f=new(wm()).RpmUpdater;break;default:break}}catch(E){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",E.message)}}return f}Object.defineProperty(e,"autoUpdater",{enumerable:!0,get:()=>f||h()}),e.DOWNLOAD_PROGRESS="download-progress",e.UPDATE_DOWNLOADED="update-downloaded";class m{constructor(v){this.emitter=v}login(v){g(this.emitter,"login",v)}progress(v){g(this.emitter,e.DOWNLOAD_PROGRESS,v)}updateDownloaded(v){g(this.emitter,e.UPDATE_DOWNLOADED,v)}updateCancelled(v){g(this.emitter,"update-cancelled",v)}}e.UpdaterSignal=m;function g(E,v,y){E.on(v,y)}}(oc)),oc}var Ja=us();const gM=nn.promisify(Le.readdir),Nm=nn.promisify(Le.readFile),yM=nn.promisify(Le.mkdir);process.env.DIST=rt.join(__dirname,"../dist");process.env.PUBLIC=te.app.isPackaged?process.env.DIST:rt.join(process.env.DIST,"../public");let me,ei,Wt,et;console.log(te.app.getPath("userData"));const Rm=process.env.VITE_DEV_SERVER_URL,Ce=new JC,Im=[{label:"File",submenu:[{role:"quit"}]},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"}]},{label:"View",submenu:[{role:"reload"},{role:"forceReload"},{role:"toggleDevTools"},{type:"separator"},{role:"resetZoom"},{role:"zoomIn"},{role:"zoomOut"},{type:"separator"},{role:"togglefullscreen"}]}];function vM(){ei=new te.BrowserWindow({width:500,height:300,transparent:!0,frame:!1,alwaysOnTop:!0}),ei.loadFile("splash.html"),ei.on("closed",()=>{ei=null})}function _M(){me=new te.BrowserWindow({width:1e3,height:900,show:!1,backgroundColor:"#000000",icon:rt.join(process.env.PUBLIC,"electron-vite.svg"),webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:rt.join(__dirname,"preload.js")}}),Mm.enable(me.webContents),me.webContents.on("did-finish-load",()=>{me==null||me.webContents.send("main-process-message",new Date().toLocaleString())}),me.on("resize",()=>{const[i,s]=(me==null?void 0:me.getSize())??[void 0,void 0];console.log(`resizing ${i} ${s}`);const o=Ce.get("setup",!0);console.log("Is Setup Screen:",o),o?(Ce.set("setupWindowSize",{width:i,height:s}),console.log("changed chat size")):Ce.set("chatWindowSize",{width:i,height:s})}),te.ipcMain.handle("setup",async()=>Ce.get("setup",!0)),te.ipcMain.handle("getSetupWindowSize",()=>Ce.get("setupWindowSize",{width:1e3,height:900})),te.ipcMain.handle("changeSetupWindowSize",()=>{const[i,s]=(me==null?void 0:me.getSize())??[void 0,void 0];console.log(`Setup Window size will be : ${i} ${s}`),Ce.set("setupWindowSize",{width:i,height:s})}),te.ipcMain.handle("getChatWindowSize",()=>Ce.get("chatWindowSize",{width:500,height:900})),te.ipcMain.handle("changeChatWindowSize",()=>{const[i,s]=(me==null?void 0:me.getSize())??[void 0,void 0];console.log(`Chat Window size will be : ${i} ${s}`),Ce.set("chatWindowSize",{width:i,height:s})}),te.ipcMain.handle("setSetup",async(i,s)=>{console.log(s),Ce.set("setup",s)}),te.ipcMain.handle("saveURLS",async(i,s)=>{console.log(s),Ce.set("urls",s)}),te.ipcMain.handle("saveEmoteURLS",async(i,s)=>{console.log(s),Ce.set("emoteurls",s)}),te.ipcMain.handle("saveFontSize",async(i,s)=>{console.log(s),Ce.set("fontSize",s)}),te.ipcMain.handle("getFontSize",async()=>(console.log(Ce.get("fontSize",14)),Ce.get("fontSize",14))),te.ipcMain.handle("getURLs",async()=>Ce.get("urls",[])),te.ipcMain.handle("getEmoteURLs",async()=>Ce.get("emoteurls",[])),te.ipcMain.handle("setWindowSize",async(i,s,o)=>{me==null||me.setSize(s,o)}),te.ipcMain.handle("saveBadgesEnabled",async(i,s)=>{console.log(`isBadgesEnabled is ${s}`),Ce.set("isBadgesEnabled",s)}),te.ipcMain.handle("getBadgesEnabled",async()=>{const i=Ce.get("isBadgesEnabled",!1);return console.log(`isBadgesEnabled is ${i}`),i}),te.ipcMain.handle("savePlatformIconsEnabled",async(i,s)=>{console.log(`isPlatformIconsEnabled is ${s}`),Ce.set("isPlatformIconsEnabled",s)}),te.ipcMain.handle("getPlatformIconsEnabled",async()=>{const i=Ce.get("isPlatformIconsEnabled",!1);return console.log(`isPlatformIconsEnabled is ${i}`),i}),te.ipcMain.handle("saveToolbarEnabled",async(i,s)=>{if(console.log(`isToolbarEnabled is ${s}`),Ce.set("isToolbarEnabled",s),s){const o=te.Menu.buildFromTemplate(Im);te.Menu.setApplicationMenu(o)}else te.Menu.setApplicationMenu(null)}),te.ipcMain.handle("getToolbarEnabled",async()=>{const i=Ce.get("isToolbarEnabled",!1);return console.log(`isToolbarEnabled is ${i}`),i}),te.ipcMain.handle("saveTimestampsEnabled",async(i,s)=>{console.log(`isTimestampsEnabled is ${s}`),Ce.set("isTimestampsEnabled",s)}),te.ipcMain.handle("getTimestampsEnabled",async()=>{const i=Ce.get("isTimestampsEnabled",!1);return console.log(`isTimestampsEnabled is ${i}`),i}),te.ipcMain.handle("openTutorial",async()=>{console.log("Opening Tutorial..."),e()});function e(){const i=new te.BrowserWindow({width:850,height:650,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});return i.loadFile("tutorial.html"),i.setMenu(null),i}te.ipcMain.handle("openEmoteTutorial",async()=>{console.log("Opening Tutorial..."),t()});function t(){const i=new te.BrowserWindow({width:850,height:650,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});return i.loadFile("emoteTutorial.html"),i.setMenu(null),i}te.ipcMain.handle("isTwitchLoggedIn",async()=>{const i=rt.join(te.app.getPath("userData"),"twitch-cookies.json");return Le.existsSync(i)}),te.ipcMain.handle("center",async()=>{me==null||me.center(),console.log("Window centered")}),te.ipcMain.handle("getEmotesFromURL",async(i,s)=>{var l,u;console.log(`server handling... from ${s}`),Wt||(Wt=new te.BrowserWindow({width:600,height:300,webPreferences:{nodeIntegration:!0,contextIsolation:!1}}),Wt.loadFile("downloading.html"),Wt.setMenu(null),Wt.on("closed",()=>{Wt=null}),Wt.on("closed",()=>{Wt=null,et&&!et.killed&&(et.kill(),console.log("Download process was terminated."))}));const o=te.app.getPath("userData"),a=te.app.isPackaged?rt.join(process.resourcesPath,"emotes.js"):rt.join("./emotes.js");if(te.app.isPackaged){const c=rt.join(process.resourcesPath,"app.asar.unpacked","node_modules");et=zo.spawn("node",[a,o,s],{stdio:"pipe",windowsHide:!1,env:{...process.env,NODE_PATH:c,ELECTRON_RUN_AS_NODE:"1"}})}else et=zo.spawn("node",[a,o,s],{stdio:"pipe",windowsHide:!1});(l=et.stdout)==null||l.on("data",c=>{Wt&&(console.log(c),Wt.webContents.send("update-download-status",`${c.toString()}`))}),(u=et.stderr)==null||u.on("data",c=>{Wt&&(console.log(c),Wt.webContents.send("update-download-status",`${c.toString()}`))}),et.on("exit",(c,f)=>{if(Wt){let h=`Download complete with code ${c}.`;f&&(h+=` Terminated with signal ${f}.`),Wt.webContents.send("update-download-status",h),c===0&&(me==null||me.webContents.send("emotes-ready",!0),Ce.set("emotes-ready",!0))}})}),te.ipcMain.handle("checkEmotesReady",async()=>{const i=Ce.get("emotes-ready",!1);return console.log(i),i}),te.ipcMain.handle("setEmotesReady",async i=>{Ce.set("emotes-ready",i)}),te.ipcMain.handle("startServer",async()=>{var f,h;console.log("server handling...");const i=Ce.get("urls"),s=JSON.stringify(i),o=rt.join(te.app.getPath("userData"),"twitch-cookies.json"),a=rt.join(te.app.getPath("userData"),"youtube-cookies.json");let l="[]",u="[]";if(Le.existsSync(o)){const m=JSON.parse(Le.readFileSync(o,"utf-8"));l=JSON.stringify(m)}if(Le.existsSync(a)){const m=JSON.parse(Le.readFileSync(a,"utf-8"));u=JSON.stringify(m)}const c=te.app.isPackaged?rt.join(process.resourcesPath,"worker.js"):rt.join("./worker.js");if(console.log(c),te.app.isPackaged){const m=rt.join(process.resourcesPath,"app.asar.unpacked","node_modules");et=zo.spawn("node",[c,s,l,u],{stdio:"pipe",windowsHide:!1,env:{...process.env,NODE_PATH:m,ELECTRON_RUN_AS_NODE:"1"}})}else et=zo.spawn("node",[c,s,l,u],{stdio:"pipe",windowsHide:!1});aa.info("Server has been started"),(f=et.stdout)==null||f.on("data",m=>{console.log(`stdout: ${m}`),aa.info(`Child stdout:
${m}`)}),(h=et.stderr)==null||h.on("data",m=>{console.error(`Child stderr:
${m}`),aa.info(`Child stderr:
${m}`)}),et.on("exit",(m,g)=>{console.log(`Child exited with code ${m} and signal ${g}`),aa.info(`Child exited with code ${m} and signal ${g}`)})}),te.ipcMain.handle("getEmoteFiles",async()=>{const i=te.app.getPath("userData"),s=rt.join(i,"downloaded_emotes");if(!Le.existsSync(s))return await yM(s,{recursive:!0}),[];try{const o=await gM(s);if(o.length===0)return[];const l=o.filter(c=>c!=="emotes.json").map(async c=>{const f=rt.join(s,c),m=(await Nm(f)).toString("base64"),g=rt.basename(c,".webp");return{data:`data:image/webp;base64,${m}`,name:g}});return await Promise.all(l)}catch(o){throw console.error("Failed to get emote files:",o),o}}),te.ipcMain.handle("getEmotesJSON",async()=>{const i=te.app.getPath("userData"),s=rt.join(i,"downloaded_emotes"),o=rt.join(s,"emotes.json");try{const a=await Nm(o,{encoding:"utf8"});return JSON.parse(a)}catch(a){throw console.error("Failed to read emotes.json:",a),a}}),te.ipcMain.handle("open-settings-window",async()=>{console.log("setup updated"),Ce.set("setup",!0),me==null||me.webContents.send("setup-updated",!0)}),te.ipcMain.handle("closeServer",async()=>{var i;if(console.log("clossing server"),et&&!et.killed){const s=JSON.stringify({action:"shutdown"});(i=et.stdin)==null||i.write(s+`
`),console.log("Shutdown command sent to child process."),await new Promise(o=>{et==null||et.on("exit",()=>{console.log("Child process exited gracefully."),o()})})}else console.log("No child process to terminate.")}),te.ipcMain.handle("loginWithTwitch",async()=>{console.log("Attempting to log in with Twitch"),r()}),te.ipcMain.handle("loginWithYouTube",async()=>{console.log("Attempting to log in with YouTube"),n()});function r(){const i=new te.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});return i.loadURL("https://www.twitch.tv/login"),i.webContents.on("did-navigate",async(s,o)=>{if(!o.includes("https://www.twitch.tv/login")){const a=await i.webContents.session.cookies.get({domain:".twitch.tv"});console.log("Twitch Login Cookies:",a);const l=rt.join(te.app.getPath("userData"),"twitch-cookies.json");Le.writeFileSync(l,JSON.stringify(a,null,2)),i.close()}}),i}function n(){const i=new te.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0}}),s="https://www.youtube.com/live_chat?is_popout=1&v=HugDvUEbsKc";return i.loadURL(s),i.on("close",async o=>{o.preventDefault();const a=await i.webContents.session.cookies.get({});console.log("YouTube Login Cookies:",a);const l=rt.join(te.app.getPath("userData"),"youtube-cookies.json");Le.writeFileSync(l,JSON.stringify(a,null,2)),i.removeAllListeners("close"),i.close()}),i}if(Rm?me.loadURL(Rm):me.loadFile(rt.join(process.env.DIST,"index.html")),Ce.get("isToolbarEnabled",!1)){const i=te.Menu.buildFromTemplate(Im);te.Menu.setApplicationMenu(i)}else te.Menu.setApplicationMenu(null);me.once("ready-to-show",()=>{ei==null||ei.close(),me==null||me.show()}),me==null||me.on("closed",()=>{me=null})}te.app.on("before-quit",()=>{et==null||et.kill()});te.app.on("window-all-closed",()=>{me=null,process.platform!=="darwin"&&te.app.quit()});te.app.on("ready",()=>{Ja.autoUpdater.checkForUpdatesAndNotify()});Ja.autoUpdater.on("update-available",()=>{te.dialog.showMessageBox({type:"info",title:"Update Available",message:"A new version of the application is available. It will be downloaded in the background.",buttons:["OK"]}).then(e=>{console.log("User response:",e.response)}).catch(e=>{console.error("Failed to show update dialog:",e)})});Ja.autoUpdater.on("update-downloaded",()=>{Ja.autoUpdater.quitAndInstall()});Mm.initialize();te.app.whenReady().then(vM).then(_M);
