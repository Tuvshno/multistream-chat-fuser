"use strict";var Kv=Object.defineProperty;var Yv=(e,t,r)=>t in e?Kv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _e=(e,t,r)=>(Yv(e,typeof t!="symbol"?t+"":t,r),r);const re=require("electron"),es=require("events"),Ot=require("node:path"),Se=require("path"),ts=require("util"),Je=require("fs"),rs=require("crypto"),au=require("assert"),An=require("os"),zo=require("node:child_process"),ho=require("child_process"),Rm=require("http"),Jv=require("https"),Xv=require("tty"),po=require("stream"),ns=require("url"),Qv=require("string_decoder"),Zv=require("constants"),Im=require("zlib");var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fm={},Oa={exports:{}},lu={};Object.defineProperty(lu,"__esModule",{value:!0});const Ml=(e,t)=>`${e.id}-${t}`;class e_{constructor(){this.nextId=0,this.storage={},this.owners={},this.electronIds=new WeakMap}add(t,r,n){const i=this.saveToStorage(n),s=Ml(t,r);let o=this.owners[s];return o||(o=this.owners[s]=new Map,this.registerDeleteListener(t,r)),o.has(i)||(o.set(i,0),this.storage[i].count++),o.set(i,o.get(i)+1),i}get(t){const r=this.storage[t];if(r!=null)return r.object}remove(t,r,n){const i=Ml(t,r),s=this.owners[i];if(s&&s.has(n)){const o=s.get(n)-1;o<=0?(s.delete(n),this.dereference(n)):s.set(n,o)}}clear(t,r){const n=Ml(t,r),i=this.owners[n];if(i){for(const s of i.keys())this.dereference(s);delete this.owners[n]}}saveToStorage(t){let r=this.electronIds.get(t);return r||(r=++this.nextId,this.storage[r]={count:0,object:t},this.electronIds.set(t,r)),r}dereference(t){const r=this.storage[t];r!=null&&(r.count-=1,r.count===0&&(this.electronIds.delete(r.object),delete this.storage[t]))}registerDeleteListener(t,r){const n=r.split("-")[0],i=(s,o)=>{o&&o.toString()===n&&(t.removeListener("render-view-deleted",i),this.clear(t,r))};t.on("render-view-deleted",i)}}lu.default=new e_;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.deserialize=Dr.serialize=Dr.isSerializableObject=Dr.isPromise=void 0;const t_=re;function r_(e){return e&&e.then&&e.then instanceof Function&&e.constructor&&e.constructor.reject&&e.constructor.reject instanceof Function&&e.constructor.resolve&&e.constructor.resolve instanceof Function}Dr.isPromise=r_;const n_=[Boolean,Number,String,Date,Error,RegExp,ArrayBuffer];function cu(e){return e===null||ArrayBuffer.isView(e)||n_.some(t=>e instanceof t)}Dr.isSerializableObject=cu;const km=function(e,t){const n=Object.entries(e).map(([i,s])=>[i,t(s)]);return Object.fromEntries(n)};function i_(e){const t=[],r=e.getScaleFactors();if(r.length===1){const n=r[0],i=e.getSize(n),s=e.toBitmap({scaleFactor:n});t.push({scaleFactor:n,size:i,buffer:s})}else for(const n of r){const i=e.getSize(n),s=e.toDataURL({scaleFactor:n});t.push({scaleFactor:n,size:i,dataURL:s})}return{__ELECTRON_SERIALIZED_NativeImage__:!0,representations:t}}function s_(e){const t=t_.nativeImage.createEmpty();if(e.representations.length===1){const{buffer:r,size:n,scaleFactor:i}=e.representations[0],{width:s,height:o}=n;t.addRepresentation({buffer:r,scaleFactor:i,width:s,height:o})}else for(const r of e.representations){const{dataURL:n,size:i,scaleFactor:s}=r,{width:o,height:a}=i;t.addRepresentation({dataURL:n,scaleFactor:s,width:o,height:a})}return t}function Ac(e){return e&&e.constructor&&e.constructor.name==="NativeImage"?i_(e):Array.isArray(e)?e.map(Ac):cu(e)?e:e instanceof Object?km(e,Ac):e}Dr.serialize=Ac;function Cc(e){return e&&e.__ELECTRON_SERIALIZED_NativeImage__?s_(e):Array.isArray(e)?e.map(Cc):cu(e)?e:e instanceof Object?km(e,Cc):e}Dr.deserialize=Cc;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.getElectronBinding=void 0;const o_=e=>process._linkedBinding?process._linkedBinding("electron_common_"+e):process.electronBinding?process.electronBinding(e):null;Ja.getElectronBinding=o_;Oa.exports;(function(e,t){var r=ot&&ot.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.isInitialized=t.enable=t.isRemoteModuleEnabled=void 0;const n=es,i=r(lu),s=Dr,o=re,a=Ja,{Promise:l}=ot,c=a.getElectronBinding("v8_util"),u=(()=>{var I,j;const A=Number((j=(I=process.versions.electron)===null||I===void 0?void 0:I.split("."))===null||j===void 0?void 0:j[0]);return Number.isNaN(A)||A<14})(),f=["length","name","arguments","caller","prototype"],h=new Map,m=new FinalizationRegistry(I=>{const j=I.id[0]+"~"+I.id[1],A=h.get(j);if(A!==void 0&&A.deref()===void 0&&(h.delete(j),!I.webContents.isDestroyed()))try{I.webContents.sendToFrame(I.frameId,"REMOTE_RENDERER_RELEASE_CALLBACK",I.id[0],I.id[1])}catch(w){console.warn(`sendToFrame() failed: ${w}`)}});function y(I){const j=I[0]+"~"+I[1],A=h.get(j);if(A!==void 0){const w=A.deref();if(w!==void 0)return w}}function E(I,j,A,w){const R=new WeakRef(w),C=I[0]+"~"+I[1];return h.set(C,R),m.register(w,{id:I,webContents:j,frameId:A}),w}const v=new WeakMap,g=function(I){let j=Object.getOwnPropertyNames(I);return typeof I=="function"&&(j=j.filter(A=>!f.includes(A))),j.map(A=>{const w=Object.getOwnPropertyDescriptor(I,A);let R,C=!1;return w.get===void 0&&typeof I[A]=="function"?R="method":((w.set||w.writable)&&(C=!0),R="get"),{name:A,enumerable:w.enumerable,writable:C,type:R}})},p=function(I){const j=Object.getPrototypeOf(I);return j===null||j===Object.prototype?null:{members:g(j),proto:p(j)}},S=function(I,j,A,w=!1){let R;switch(typeof A){case"object":A instanceof Buffer?R="buffer":A&&A.constructor&&A.constructor.name==="NativeImage"?R="nativeimage":Array.isArray(A)?R="array":A instanceof Error?R="error":s.isSerializableObject(A)?R="value":s.isPromise(A)?R="promise":Object.prototype.hasOwnProperty.call(A,"callee")&&A.length!=null?R="array":w&&c.getHiddenValue(A,"simple")?R="value":R="object";break;case"function":R="function";break;default:R="value";break}return R==="array"?{type:R,members:A.map(C=>S(I,j,C,w))}:R==="nativeimage"?{type:R,value:s.serialize(A)}:R==="object"||R==="function"?{type:R,name:A.constructor?A.constructor.name:"",id:i.default.add(I,j,A),members:g(A),proto:p(A)}:R==="buffer"?{type:R,value:A}:R==="promise"?(A.then(function(){},function(){}),{type:R,then:S(I,j,function(C,d){A.then(C,d)})}):R==="error"?{type:R,value:A,members:Object.keys(A).map(C=>({name:C,value:S(I,j,A[C])}))}:{type:"value",value:A}},N=function(I){const j=new Error(I);throw j.code="EBADRPC",j.errno=-72,j},M=(I,j)=>{let w=`Attempting to call a function in a renderer window that has been closed or released.
Function provided here: ${v.get(j)}`;if(I instanceof n.EventEmitter){const R=I.eventNames().filter(C=>I.listeners(C).includes(j));R.length>0&&(w+=`
Remote event names: ${R.join(", ")}`,R.forEach(C=>{I.removeListener(C,j)}))}console.warn(w)},O=(I,j)=>new Proxy(Object,{get(A,w,R){return w==="name"?j:Reflect.get(A,w,R)}}),b=function(I,j,A,w){const R=function(C){switch(C.type){case"nativeimage":return s.deserialize(C.value);case"value":return C.value;case"remote-object":return i.default.get(C.id);case"array":return b(I,j,A,C.value);case"buffer":return Buffer.from(C.value.buffer,C.value.byteOffset,C.value.byteLength);case"promise":return l.resolve({then:R(C.then)});case"object":{const d=C.name!=="Object"?Object.create({constructor:O(Object,C.name)}):{};for(const{name:$,value:L}of C.members)d[$]=R(L);return d}case"function-with-return-value":{const d=R(C.value);return function(){return d}}case"function":{const d=[A,C.id],$=y(d);if($!==void 0)return $;const L=function(...P){let _=!1;if(!I.isDestroyed())try{_=I.sendToFrame(j,"REMOTE_RENDERER_CALLBACK",A,C.id,S(I,A,P))!==!1}catch(z){console.warn(`sendToFrame() failed: ${z}`)}_||M(this,L)};return v.set(L,C.location),Object.defineProperty(L,"length",{value:C.length}),E(d,I,j,L),L}default:throw new TypeError(`Unknown type: ${C.type}`)}};return w.map(R)},D=function(I){const j=I.getLastWebPreferences()||{};return j.enableRemoteModule!=null?!!j.enableRemoteModule:!1},T=new WeakMap,V=function(I){return u&&!T.has(I)&&T.set(I,D(I)),T.get(I)};t.isRemoteModuleEnabled=V;function Y(I){T.set(I,!0)}t.enable=Y;const H=function(I,j){o.ipcMain.on(I,(A,w,...R)=>{let C;if(!t.isRemoteModuleEnabled(A.sender)){A.returnValue={type:"exception",value:S(A.sender,w,new Error('@electron/remote is disabled for this WebContents. Call require("@electron/remote/main").enable(webContents) to enable it.'))};return}try{C=j(A,w,...R)}catch(d){C={type:"exception",value:S(A.sender,w,d)}}C!==void 0&&(A.returnValue=C)})},W=function(I,j,...A){const w={sender:I,returnValue:void 0,defaultPrevented:!1};return o.app.emit(j,w,I,...A),I.emit(j,w,...A),w},G=function(I,j,A){A&&console.warn(`WebContents (${I.id}): ${j}`,A)};let Q=!1;function Z(){return Q}t.isInitialized=Z;function K(){if(Q)throw new Error("@electron/remote has already been initialized");Q=!0,H("REMOTE_BROWSER_WRONG_CONTEXT_ERROR",function(I,j,A,w){const C=y([A,w]);C!==void 0&&M(I.sender,C)}),H("REMOTE_BROWSER_REQUIRE",function(I,j,A,w){G(I.sender,`remote.require('${A}')`,w);const R=W(I.sender,"remote-require",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.require('${A}')`);if(process.mainModule)R.returnValue=process.mainModule.require(A);else{let C=e;for(;C.parent;)C=C.parent;R.returnValue=C.require(A)}}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_BUILTIN",function(I,j,A,w){G(I.sender,`remote.getBuiltin('${A}')`,w);const R=W(I.sender,"remote-get-builtin",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.getBuiltin('${A}')`);R.returnValue=re[A]}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_GLOBAL",function(I,j,A,w){G(I.sender,`remote.getGlobal('${A}')`,w);const R=W(I.sender,"remote-get-global",A);if(R.returnValue===void 0){if(R.defaultPrevented)throw new Error(`Blocked remote.getGlobal('${A}')`);R.returnValue=ot[A]}return S(I.sender,j,R.returnValue)}),H("REMOTE_BROWSER_GET_CURRENT_WINDOW",function(I,j,A){G(I.sender,"remote.getCurrentWindow()",A);const w=W(I.sender,"remote-get-current-window");if(w.returnValue===void 0){if(w.defaultPrevented)throw new Error("Blocked remote.getCurrentWindow()");w.returnValue=I.sender.getOwnerBrowserWindow()}return S(I.sender,j,w.returnValue)}),H("REMOTE_BROWSER_GET_CURRENT_WEB_CONTENTS",function(I,j,A){G(I.sender,"remote.getCurrentWebContents()",A);const w=W(I.sender,"remote-get-current-web-contents");if(w.returnValue===void 0){if(w.defaultPrevented)throw new Error("Blocked remote.getCurrentWebContents()");w.returnValue=I.sender}return S(I.sender,j,w.returnValue)}),H("REMOTE_BROWSER_CONSTRUCTOR",function(I,j,A,w){w=b(I.sender,I.frameId,j,w);const R=i.default.get(A);return R==null&&N(`Cannot call constructor on missing remote object ${A}`),S(I.sender,j,new R(...w))}),H("REMOTE_BROWSER_FUNCTION_CALL",function(I,j,A,w){w=b(I.sender,I.frameId,j,w);const R=i.default.get(A);R==null&&N(`Cannot call function on missing remote object ${A}`);try{return S(I.sender,j,R(...w),!0)}catch(C){const d=new Error(`Could not call remote function '${R.name||"anonymous"}'. Check that the function signature is correct. Underlying error: ${C}
`+(C instanceof Error?`Underlying stack: ${C.stack}
`:""));throw d.cause=C,d}}),H("REMOTE_BROWSER_MEMBER_CONSTRUCTOR",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);return C==null&&N(`Cannot call constructor '${w}' on missing remote object ${A}`),S(I.sender,j,new C[w](...R))}),H("REMOTE_BROWSER_MEMBER_CALL",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);C==null&&N(`Cannot call method '${w}' on missing remote object ${A}`);try{return S(I.sender,j,C[w](...R),!0)}catch(d){const $=new Error(`Could not call remote method '${w}'. Check that the method signature is correct. Underlying error: ${d}`+(d instanceof Error?`Underlying stack: ${d.stack}
`:""));throw $.cause=d,$}}),H("REMOTE_BROWSER_MEMBER_SET",function(I,j,A,w,R){R=b(I.sender,I.frameId,j,R);const C=i.default.get(A);return C==null&&N(`Cannot set property '${w}' on missing remote object ${A}`),C[w]=R[0],null}),H("REMOTE_BROWSER_MEMBER_GET",function(I,j,A,w){const R=i.default.get(A);return R==null&&N(`Cannot get property '${w}' on missing remote object ${A}`),S(I.sender,j,R[w])}),H("REMOTE_BROWSER_DEREFERENCE",function(I,j,A){i.default.remove(I.sender,j,A)}),H("REMOTE_BROWSER_CONTEXT_RELEASE",(I,j)=>(i.default.clear(I.sender,j),null))}t.initialize=K})(Oa,Oa.exports);var a_=Oa.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.isInitialized=e.initialize=void 0;var t=a_;Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}}),Object.defineProperty(e,"isInitialized",{enumerable:!0,get:function(){return t.isInitialized}}),Object.defineProperty(e,"enable",{enumerable:!0,get:function(){return t.enable}})})(Fm);var Lm=Fm,Nc={exports:{}},l_=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const Fn=l_,c_=new Set(["__proto__","prototype","constructor"]),u_=e=>!e.some(t=>c_.has(t));function Ho(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let i=t[n];for(;i[i.length-1]==="\\"&&t[n+1]!==void 0;)i=i.slice(0,-1)+".",i+=t[++n];r.push(i)}return u_(r)?r:[]}var f_={get(e,t,r){if(!Fn(e)||typeof t!="string")return r===void 0?e:r;const n=Ho(t);if(n.length!==0){for(let i=0;i<n.length;i++)if(e=e[n[i]],e==null){if(i!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!Fn(e)||typeof t!="string")return e;const n=e,i=Ho(t);for(let s=0;s<i.length;s++){const o=i[s];Fn(e[o])||(e[o]={}),s===i.length-1&&(e[o]=r),e=e[o]}return n},delete(e,t){if(!Fn(e)||typeof t!="string")return!1;const r=Ho(t);for(let n=0;n<r.length;n++){const i=r[n];if(n===r.length-1)return delete e[i],!0;if(e=e[i],!Fn(e))return!1}},has(e,t){if(!Fn(e)||typeof t!="string")return!1;const r=Ho(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(Fn(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},uu={exports:{}},fu={exports:{}},du={exports:{}},hu={exports:{}};const jm=Je;hu.exports=e=>new Promise(t=>{jm.access(e,r=>{t(!r)})});hu.exports.sync=e=>{try{return jm.accessSync(e),!0}catch{return!1}};var d_=hu.exports,pu={exports:{}},mu={exports:{}};const Mm=(e,...t)=>new Promise(r=>{r(e(...t))});mu.exports=Mm;mu.exports.default=Mm;var h_=mu.exports;const p_=h_,Um=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},i=(a,l,...c)=>{r++;const u=p_(a,...c);l(u),u.then(n,n)},s=(a,l,...c)=>{r<e?i(a,l,...c):t.push(i.bind(null,a,l,...c))},o=(a,...l)=>new Promise(c=>s(a,c,...l));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};pu.exports=Um;pu.exports.default=Um;var m_=pu.exports;const Nd=m_;class xm extends Error{constructor(t){super(),this.value=t}}const g_=(e,t)=>Promise.resolve(e).then(t),y_=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new xm(t[0])));var v_=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=Nd(r.concurrency),i=[...e].map(o=>[o,n(g_,o,t)]),s=Nd(r.preserveOrder?1:1/0);return Promise.all(i.map(o=>s(y_,o))).then(()=>{}).catch(o=>o instanceof xm?o.value:Promise.reject(o))};const qm=Se,Vm=d_,__=v_;du.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),__(e,r=>Vm(qm.resolve(t.cwd,r)),t));du.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(Vm.sync(qm.resolve(t.cwd,r)))return r};var $_=du.exports;const mn=Se,Bm=$_;fu.exports=(e,t={})=>{const r=mn.resolve(t.cwd||""),{root:n}=mn.parse(r),i=[].concat(e);return new Promise(s=>{(function o(a){Bm(i,{cwd:a}).then(l=>{l?s(mn.join(a,l)):a===n?s(null):o(mn.dirname(a))})})(r)})};fu.exports.sync=(e,t={})=>{let r=mn.resolve(t.cwd||"");const{root:n}=mn.parse(r),i=[].concat(e);for(;;){const s=Bm.sync(i,{cwd:r});if(s)return mn.join(r,s);if(r===n)return null;r=mn.dirname(r)}};var E_=fu.exports;const zm=E_;uu.exports=async({cwd:e}={})=>zm("package.json",{cwd:e});uu.exports.sync=({cwd:e}={})=>zm.sync("package.json",{cwd:e});var w_=uu.exports,gu={exports:{}};const Ke=Se,Hm=An,hn=Hm.homedir(),yu=Hm.tmpdir(),{env:Ii}=process,S_=e=>{const t=Ke.join(hn,"Library");return{data:Ke.join(t,"Application Support",e),config:Ke.join(t,"Preferences",e),cache:Ke.join(t,"Caches",e),log:Ke.join(t,"Logs",e),temp:Ke.join(yu,e)}},b_=e=>{const t=Ii.APPDATA||Ke.join(hn,"AppData","Roaming"),r=Ii.LOCALAPPDATA||Ke.join(hn,"AppData","Local");return{data:Ke.join(r,e,"Data"),config:Ke.join(t,e,"Config"),cache:Ke.join(r,e,"Cache"),log:Ke.join(r,e,"Log"),temp:Ke.join(yu,e)}},P_=e=>{const t=Ke.basename(hn);return{data:Ke.join(Ii.XDG_DATA_HOME||Ke.join(hn,".local","share"),e),config:Ke.join(Ii.XDG_CONFIG_HOME||Ke.join(hn,".config"),e),cache:Ke.join(Ii.XDG_CACHE_HOME||Ke.join(hn,".cache"),e),log:Ke.join(Ii.XDG_STATE_HOME||Ke.join(hn,".local","state"),e),temp:Ke.join(yu,t,e)}},Gm=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?S_(e):process.platform==="win32"?b_(e):P_(e)};gu.exports=Gm;gu.exports.default=Gm;var T_=gu.exports,Fr={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.NOOP=Ne.LIMIT_FILES_DESCRIPTORS=Ne.LIMIT_BASENAME_LENGTH=Ne.IS_USER_ROOT=Ne.IS_POSIX=Ne.DEFAULT_TIMEOUT_SYNC=Ne.DEFAULT_TIMEOUT_ASYNC=Ne.DEFAULT_WRITE_OPTIONS=Ne.DEFAULT_READ_OPTIONS=Ne.DEFAULT_FOLDER_MODE=Ne.DEFAULT_FILE_MODE=Ne.DEFAULT_ENCODING=void 0;const O_="utf8";Ne.DEFAULT_ENCODING=O_;const A_=438;Ne.DEFAULT_FILE_MODE=A_;const C_=511;Ne.DEFAULT_FOLDER_MODE=C_;const N_={};Ne.DEFAULT_READ_OPTIONS=N_;const R_={};Ne.DEFAULT_WRITE_OPTIONS=R_;const I_=5e3;Ne.DEFAULT_TIMEOUT_ASYNC=I_;const D_=100;Ne.DEFAULT_TIMEOUT_SYNC=D_;const F_=!!process.getuid;Ne.IS_POSIX=F_;const k_=process.getuid?!process.getuid():!1;Ne.IS_USER_ROOT=k_;const L_=128;Ne.LIMIT_BASENAME_LENGTH=L_;const j_=1e4;Ne.LIMIT_FILES_DESCRIPTORS=j_;const M_=()=>{};Ne.NOOP=M_;var Xa={},qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.attemptifySync=qi.attemptifyAsync=void 0;const Wm=Ne,U_=(e,t=Wm.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};qi.attemptifyAsync=U_;const x_=(e,t=Wm.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};qi.attemptifySync=x_;var vu={};Object.defineProperty(vu,"__esModule",{value:!0});const q_=Ne,Km={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!q_.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Km.isChangeErrorOk(e))throw e}};vu.default=Km;var Vi={},_u={};Object.defineProperty(_u,"__esModule",{value:!0});const V_=Ne,Me={interval:25,intervalId:void 0,limit:V_.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{Me.intervalId||(Me.intervalId=setInterval(Me.tick,Me.interval))},reset:()=>{Me.intervalId&&(clearInterval(Me.intervalId),delete Me.intervalId)},add:e=>{Me.queueWaiting.add(e),Me.queueActive.size<Me.limit/2?Me.tick():Me.init()},remove:e=>{Me.queueWaiting.delete(e),Me.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>Me.remove(r),r=()=>e(t);Me.add(r)}),tick:()=>{if(!(Me.queueActive.size>=Me.limit)){if(!Me.queueWaiting.size)return Me.reset();for(const e of Me.queueWaiting){if(Me.queueActive.size>=Me.limit)break;Me.queueWaiting.delete(e),Me.queueActive.add(e),e()}}}};_u.default=Me;Object.defineProperty(Vi,"__esModule",{value:!0});Vi.retryifySync=Vi.retryifyAsync=void 0;const B_=_u,z_=(e,t)=>function(r){return function n(){return B_.default.schedule().then(i=>e.apply(void 0,arguments).then(s=>(i(),s),s=>{if(i(),Date.now()>=r)throw s;if(t(s)){const o=Math.round(100+400*Math.random());return new Promise(l=>setTimeout(l,o)).then(()=>n.apply(void 0,arguments))}throw s}))}};Vi.retryifyAsync=z_;const H_=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(i){if(Date.now()>r)throw i;if(t(i))return n.apply(void 0,arguments);throw i}}};Vi.retryifySync=H_;Object.defineProperty(Xa,"__esModule",{value:!0});const Ie=Je,Ft=ts,kt=qi,ht=vu,Gt=Vi,G_={chmodAttempt:kt.attemptifyAsync(Ft.promisify(Ie.chmod),ht.default.onChangeError),chownAttempt:kt.attemptifyAsync(Ft.promisify(Ie.chown),ht.default.onChangeError),closeAttempt:kt.attemptifyAsync(Ft.promisify(Ie.close)),fsyncAttempt:kt.attemptifyAsync(Ft.promisify(Ie.fsync)),mkdirAttempt:kt.attemptifyAsync(Ft.promisify(Ie.mkdir)),realpathAttempt:kt.attemptifyAsync(Ft.promisify(Ie.realpath)),statAttempt:kt.attemptifyAsync(Ft.promisify(Ie.stat)),unlinkAttempt:kt.attemptifyAsync(Ft.promisify(Ie.unlink)),closeRetry:Gt.retryifyAsync(Ft.promisify(Ie.close),ht.default.isRetriableError),fsyncRetry:Gt.retryifyAsync(Ft.promisify(Ie.fsync),ht.default.isRetriableError),openRetry:Gt.retryifyAsync(Ft.promisify(Ie.open),ht.default.isRetriableError),readFileRetry:Gt.retryifyAsync(Ft.promisify(Ie.readFile),ht.default.isRetriableError),renameRetry:Gt.retryifyAsync(Ft.promisify(Ie.rename),ht.default.isRetriableError),statRetry:Gt.retryifyAsync(Ft.promisify(Ie.stat),ht.default.isRetriableError),writeRetry:Gt.retryifyAsync(Ft.promisify(Ie.write),ht.default.isRetriableError),chmodSyncAttempt:kt.attemptifySync(Ie.chmodSync,ht.default.onChangeError),chownSyncAttempt:kt.attemptifySync(Ie.chownSync,ht.default.onChangeError),closeSyncAttempt:kt.attemptifySync(Ie.closeSync),mkdirSyncAttempt:kt.attemptifySync(Ie.mkdirSync),realpathSyncAttempt:kt.attemptifySync(Ie.realpathSync),statSyncAttempt:kt.attemptifySync(Ie.statSync),unlinkSyncAttempt:kt.attemptifySync(Ie.unlinkSync),closeSyncRetry:Gt.retryifySync(Ie.closeSync,ht.default.isRetriableError),fsyncSyncRetry:Gt.retryifySync(Ie.fsyncSync,ht.default.isRetriableError),openSyncRetry:Gt.retryifySync(Ie.openSync,ht.default.isRetriableError),readFileSyncRetry:Gt.retryifySync(Ie.readFileSync,ht.default.isRetriableError),renameSyncRetry:Gt.retryifySync(Ie.renameSync,ht.default.isRetriableError),statSyncRetry:Gt.retryifySync(Ie.statSync,ht.default.isRetriableError),writeSyncRetry:Gt.retryifySync(Ie.writeSync,ht.default.isRetriableError)};Xa.default=G_;var $u={};Object.defineProperty($u,"__esModule",{value:!0});const W_={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};$u.default=W_;var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});const Go={},Rc={next:e=>{const t=Go[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Rc.next(e)):delete Go[e]},schedule:e=>new Promise(t=>{let r=Go[e];r||(r=Go[e]=[]),r.push(t),!(r.length>1)&&t(()=>Rc.next(e))})};Eu.default=Rc;var wu={};Object.defineProperty(wu,"__esModule",{value:!0});const K_=Se,Rd=Ne,Id=Xa,tr={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",i=`.${n}${r}${t}`;return`${e}${i}`},get:(e,t,r=!0)=>{const n=tr.truncate(t(e));return n in tr.store?tr.get(e,t,r):(tr.store[n]=r,[n,()=>delete tr.store[n]])},purge:e=>{tr.store[e]&&(delete tr.store[e],Id.default.unlinkAttempt(e))},purgeSync:e=>{tr.store[e]&&(delete tr.store[e],Id.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in tr.store)tr.purgeSync(e)},truncate:e=>{const t=K_.basename(e);if(t.length<=Rd.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Rd.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",tr.purgeSyncAll);wu.default=tr;Object.defineProperty(Fr,"__esModule",{value:!0});Fr.writeFileSync=Fr.writeFile=Fr.readFileSync=Fr.readFile=void 0;const Ym=Se,_t=Ne,Ce=Xa,rr=$u,Y_=Eu,gn=wu;function Jm(e,t=_t.DEFAULT_READ_OPTIONS){var r;if(rr.default.isString(t))return Jm(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:_t.DEFAULT_TIMEOUT_ASYNC);return Ce.default.readFileRetry(n)(e,t)}Fr.readFile=Jm;function Xm(e,t=_t.DEFAULT_READ_OPTIONS){var r;if(rr.default.isString(t))return Xm(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:_t.DEFAULT_TIMEOUT_SYNC);return Ce.default.readFileSyncRetry(n)(e,t)}Fr.readFileSync=Xm;const Qm=(e,t,r,n)=>{if(rr.default.isFunction(r))return Qm(e,t,_t.DEFAULT_WRITE_OPTIONS,r);const i=Zm(e,t,r);return n&&i.then(n,n),i};Fr.writeFile=Qm;const Zm=async(e,t,r=_t.DEFAULT_WRITE_OPTIONS)=>{var n;if(rr.default.isString(r))return Zm(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:_t.DEFAULT_TIMEOUT_ASYNC);let s=null,o=null,a=null,l=null,c=null;try{r.schedule&&(s=await r.schedule(e)),o=await Y_.default.schedule(e),e=await Ce.default.realpathAttempt(e)||e,[l,a]=gn.default.get(e,r.tmpCreate||gn.default.create,r.tmpPurge!==!1);const u=_t.IS_POSIX&&rr.default.isUndefined(r.chown),f=rr.default.isUndefined(r.mode);if(u||f){const m=await Ce.default.statAttempt(e);m&&(r={...r},u&&(r.chown={uid:m.uid,gid:m.gid}),f&&(r.mode=m.mode))}const h=Ym.dirname(e);await Ce.default.mkdirAttempt(h,{mode:_t.DEFAULT_FOLDER_MODE,recursive:!0}),c=await Ce.default.openRetry(i)(l,"w",r.mode||_t.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(l),rr.default.isString(t)?await Ce.default.writeRetry(i)(c,t,0,r.encoding||_t.DEFAULT_ENCODING):rr.default.isUndefined(t)||await Ce.default.writeRetry(i)(c,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await Ce.default.fsyncRetry(i)(c):Ce.default.fsyncAttempt(c)),await Ce.default.closeRetry(i)(c),c=null,r.chown&&await Ce.default.chownAttempt(l,r.chown.uid,r.chown.gid),r.mode&&await Ce.default.chmodAttempt(l,r.mode);try{await Ce.default.renameRetry(i)(l,e)}catch(m){if(m.code!=="ENAMETOOLONG")throw m;await Ce.default.renameRetry(i)(l,gn.default.truncate(e))}a(),l=null}finally{c&&await Ce.default.closeAttempt(c),l&&gn.default.purge(l),s&&s(),o&&o()}},eg=(e,t,r=_t.DEFAULT_WRITE_OPTIONS)=>{var n;if(rr.default.isString(r))return eg(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:_t.DEFAULT_TIMEOUT_SYNC);let s=null,o=null,a=null;try{e=Ce.default.realpathSyncAttempt(e)||e,[o,s]=gn.default.get(e,r.tmpCreate||gn.default.create,r.tmpPurge!==!1);const l=_t.IS_POSIX&&rr.default.isUndefined(r.chown),c=rr.default.isUndefined(r.mode);if(l||c){const f=Ce.default.statSyncAttempt(e);f&&(r={...r},l&&(r.chown={uid:f.uid,gid:f.gid}),c&&(r.mode=f.mode))}const u=Ym.dirname(e);Ce.default.mkdirSyncAttempt(u,{mode:_t.DEFAULT_FOLDER_MODE,recursive:!0}),a=Ce.default.openSyncRetry(i)(o,"w",r.mode||_t.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),rr.default.isString(t)?Ce.default.writeSyncRetry(i)(a,t,0,r.encoding||_t.DEFAULT_ENCODING):rr.default.isUndefined(t)||Ce.default.writeSyncRetry(i)(a,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Ce.default.fsyncSyncRetry(i)(a):Ce.default.fsyncAttempt(a)),Ce.default.closeSyncRetry(i)(a),a=null,r.chown&&Ce.default.chownSyncAttempt(o,r.chown.uid,r.chown.gid),r.mode&&Ce.default.chmodSyncAttempt(o,r.mode);try{Ce.default.renameSyncRetry(i)(o,e)}catch(f){if(f.code!=="ENAMETOOLONG")throw f;Ce.default.renameSyncRetry(i)(o,gn.default.truncate(e))}s(),o=null}finally{a&&Ce.default.closeSyncAttempt(a),o&&gn.default.purge(o)}};Fr.writeFileSync=eg;var Ic={exports:{}},tg={},br={},Bi={},mo={},ve={},to={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,N)=>`${S}${N}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,N)=>(N instanceof r&&(S[N.str]=(S[N.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(g,...p){const S=[g[0]];let N=0;for(;N<p.length;)a(S,p[N]),S.push(g[++N]);return new n(S)}e._=i;const s=new n("+");function o(g,...p){const S=[m(g[0])];let N=0;for(;N<p.length;)S.push(s),a(S,p[N]),S.push(s,m(g[++N]));return l(S),new n(S)}e.str=o;function a(g,p){p instanceof n?g.push(...p._items):p instanceof r?g.push(p):g.push(f(p))}e.addCodeArg=a;function l(g){let p=1;for(;p<g.length-1;){if(g[p]===s){const S=c(g[p-1],g[p+1]);if(S!==void 0){g.splice(p-1,3,S);continue}g[p++]="+"}p++}}function c(g,p){if(p==='""')return g;if(g==='""')return p;if(typeof g=="string")return p instanceof r||g[g.length-1]!=='"'?void 0:typeof p!="string"?`${g.slice(0,-1)}${p}"`:p[0]==='"'?g.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(g instanceof r))return`"${g}${p.slice(1)}`}function u(g,p){return p.emptyStr()?g:g.emptyStr()?p:o`${g}${p}`}e.strConcat=u;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:m(Array.isArray(g)?g.join(","):g)}function h(g){return new n(m(g))}e.stringify=h;function m(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function y(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new n(`.${g}`):i`[${g}]`}e.getProperty=y;function E(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=E;function v(g){return new n(g.toString())}e.regexpCode=v})(to);var Dc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=to;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=i;class s extends t.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:f}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(c),{prefix:m}=h,y=(f=u.key)!==null&&f!==void 0?f:u.ref;let E=this._values[m];if(E){const p=E.get(y);if(p)return p}else E=this._values[m]=new Map;E.set(y,h);const v=this._scope[m]||(this._scope[m]=[]),g=v.length;return v[g]=u.ref,h.setValue(u,{property:m,itemIndex:g}),h}getValue(c,u){const f=this._values[c];if(f)return f.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${c}${f.scopePath}`})}scopeCode(c=this._values,u,f){return this._reduceValues(c,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,f)}_reduceValues(c,u,f={},h){let m=t.nil;for(const y in c){const E=c[y];if(!E)continue;const v=f[y]=f[y]||new Map;E.forEach(g=>{if(v.has(g))return;v.set(g,n.Started);let p=u(g);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${S} ${g} = ${p};${this.opts._n}`}else if(p=h==null?void 0:h(g))m=(0,t._)`${m}${p}${this.opts._n}`;else throw new r(g);v.set(g,n.Completed)})}return m}}e.ValueScope=a})(Dc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=to,r=Dc;var n=to;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Dc;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(d,$){return this}}class o extends s{constructor(d,$,L){super(),this.varKind=d,this.name=$,this.rhs=L}render({es5:d,_n:$}){const L=d?r.varKinds.var:this.varKind,P=this.rhs===void 0?"":` = ${this.rhs}`;return`${L} ${this.name}${P};`+$}optimizeNames(d,$){if(d[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,d,$)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(d,$,L){super(),this.lhs=d,this.rhs=$,this.sideEffects=L}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,$){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=G(this.rhs,d,$),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(d,this.rhs)}}class l extends a{constructor(d,$,L,P){super(d,L,P),this.op=$}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class c extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class u extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class f extends s{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends s{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,$){return this.code=G(this.code,d,$),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce(($,L)=>$+L.render(d),"")}optimizeNodes(){const{nodes:d}=this;let $=d.length;for(;$--;){const L=d[$].optimizeNodes();Array.isArray(L)?d.splice($,1,...L):L?d[$]=L:d.splice($,1)}return d.length>0?this:void 0}optimizeNames(d,$){const{nodes:L}=this;let P=L.length;for(;P--;){const _=L[P];_.optimizeNames(d,$)||(Q(d,_.names),L.splice(P,1))}return L.length>0?this:void 0}get names(){return this.nodes.reduce((d,$)=>H(d,$.names),{})}}class y extends m{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class E extends m{}class v extends y{}v.kind="else";class g extends y{constructor(d,$){super($),this.condition=d}render(d){let $=`if(${this.condition})`+super.render(d);return this.else&&($+="else "+this.else.render(d)),$}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let $=this.else;if($){const L=$.optimizeNodes();$=this.else=Array.isArray(L)?new v(L):L}if($)return d===!1?$ instanceof g?$:$.nodes:this.nodes.length?this:new g(Z(d),$ instanceof g?[$]:$.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,$){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(d,$),!!(super.optimizeNames(d,$)||this.else))return this.condition=G(this.condition,d,$),this}get names(){const d=super.names;return W(d,this.condition),this.else&&H(d,this.else.names),d}}g.kind="if";class p extends y{}p.kind="for";class S extends p{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iteration=G(this.iteration,d,$),this}get names(){return H(super.names,this.iteration.names)}}class N extends p{constructor(d,$,L,P){super(),this.varKind=d,this.name=$,this.from=L,this.to=P}render(d){const $=d.es5?r.varKinds.var:this.varKind,{name:L,from:P,to:_}=this;return`for(${$} ${L}=${P}; ${L}<${_}; ${L}++)`+super.render(d)}get names(){const d=W(super.names,this.from);return W(d,this.to)}}class M extends p{constructor(d,$,L,P){super(),this.loop=d,this.varKind=$,this.name=L,this.iterable=P}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iterable=G(this.iterable,d,$),this}get names(){return H(super.names,this.iterable.names)}}class O extends y{constructor(d,$,L){super(),this.name=d,this.args=$,this.async=L}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}O.kind="func";class b extends m{render(d){return"return "+super.render(d)}}b.kind="return";class D extends y{render(d){let $="try"+super.render(d);return this.catch&&($+=this.catch.render(d)),this.finally&&($+=this.finally.render(d)),$}optimizeNodes(){var d,$;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(d,$){var L,P;return super.optimizeNames(d,$),(L=this.catch)===null||L===void 0||L.optimizeNames(d,$),(P=this.finally)===null||P===void 0||P.optimizeNames(d,$),this}get names(){const d=super.names;return this.catch&&H(d,this.catch.names),this.finally&&H(d,this.finally.names),d}}class T extends y{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}T.kind="catch";class V extends y{render(d){return"finally"+super.render(d)}}V.kind="finally";class Y{constructor(d,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,$){const L=this._extScope.value(d,$);return(this._values[L.prefix]||(this._values[L.prefix]=new Set)).add(L),L}getScopeValue(d,$){return this._extScope.getValue(d,$)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,$,L,P){const _=this._scope.toName($);return L!==void 0&&P&&(this._constants[_.str]=L),this._leafNode(new o(d,_,L)),_}const(d,$,L){return this._def(r.varKinds.const,d,$,L)}let(d,$,L){return this._def(r.varKinds.let,d,$,L)}var(d,$,L){return this._def(r.varKinds.var,d,$,L)}assign(d,$,L){return this._leafNode(new a(d,$,L))}add(d,$){return this._leafNode(new l(d,e.operators.ADD,$))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const $=["{"];for(const[L,P]of d)$.length>1&&$.push(","),$.push(L),(L!==P||this.opts.es5)&&($.push(":"),(0,t.addCodeArg)($,P));return $.push("}"),new t._Code($)}if(d,$,L){if(this._blockNode(new g(d)),$&&L)this.code($).else().code(L).endIf();else if($)this.code($).endIf();else if(L)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new g(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(d,$){return this._blockNode(d),$&&this.code($).endFor(),this}for(d,$){return this._for(new S(d),$)}forRange(d,$,L,P,_=this.opts.es5?r.varKinds.var:r.varKinds.let){const z=this._scope.toName(d);return this._for(new N(_,z,$,L),()=>P(z))}forOf(d,$,L,P=r.varKinds.const){const _=this._scope.toName(d);if(this.opts.es5){const z=$ instanceof t.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,t._)`${z}.length`,U=>{this.var(_,(0,t._)`${z}[${U}]`),L(_)})}return this._for(new M("of",P,_,$),()=>L(_))}forIn(d,$,L,P=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${$})`,L);const _=this._scope.toName(d);return this._for(new M("in",P,_,$),()=>L(_))}endFor(){return this._endBlockNode(p)}label(d){return this._leafNode(new c(d))}break(d){return this._leafNode(new u(d))}return(d){const $=new b;if(this._blockNode($),this.code(d),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,$,L){if(!$&&!L)throw new Error('CodeGen: "try" without "catch" and "finally"');const P=new D;if(this._blockNode(P),this.code(d),$){const _=this.name("e");this._currNode=P.catch=new T(_),$(_)}return L&&(this._currNode=P.finally=new V,this.code(L)),this._endBlockNode(T,V)}throw(d){return this._leafNode(new f(d))}block(d,$){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock($),this}endBlock(d){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const L=this._nodes.length-$;if(L<0||d!==void 0&&L!==d)throw new Error(`CodeGen: wrong number of nodes: ${L} vs ${d} expected`);return this._nodes.length=$,this}func(d,$=t.nil,L,P){return this._blockNode(new O(d,$,L)),P&&this.code(P).endFunc(),this}endFunc(){return this._endBlockNode(O)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,$){const L=this._currNode;if(L instanceof d||$&&L instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${d.kind}/${$.kind}`:d.kind}"`)}_elseNode(d){const $=this._currNode;if(!($ instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const $=this._nodes;$[$.length-1]=d}}e.CodeGen=Y;function H(C,d){for(const $ in d)C[$]=(C[$]||0)+(d[$]||0);return C}function W(C,d){return d instanceof t._CodeOrName?H(C,d.names):C}function G(C,d,$){if(C instanceof t.Name)return L(C);if(!P(C))return C;return new t._Code(C._items.reduce((_,z)=>(z instanceof t.Name&&(z=L(z)),z instanceof t._Code?_.push(...z._items):_.push(z),_),[]));function L(_){const z=$[_.str];return z===void 0||d[_.str]!==1?_:(delete d[_.str],z)}function P(_){return _ instanceof t._Code&&_._items.some(z=>z instanceof t.Name&&d[z.str]===1&&$[z.str]!==void 0)}}function Q(C,d){for(const $ in d)C[$]=(C[$]||0)-(d[$]||0)}function Z(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${R(C)}`}e.not=Z;const K=w(e.operators.AND);function I(...C){return C.reduce(K)}e.and=I;const j=w(e.operators.OR);function A(...C){return C.reduce(j)}e.or=A;function w(C){return(d,$)=>d===t.nil?$:$===t.nil?d:(0,t._)`${R(d)} ${C} ${R($)}`}function R(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(ve);var Pe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=ve,r=to;function n(O){const b={};for(const D of O)b[D]=!0;return b}e.toHash=n;function i(O,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(O,b),!o(b,O.self.RULES.all))}e.alwaysValidSchema=i;function s(O,b=O.schema){const{opts:D,self:T}=O;if(!D.strictSchema||typeof b=="boolean")return;const V=T.RULES.keywords;for(const Y in b)V[Y]||M(O,`unknown keyword: "${Y}"`)}e.checkUnknownRules=s;function o(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(b[D])return!0;return!1}e.schemaHasRules=o;function a(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(D!=="$ref"&&b.all[D])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:O,schemaPath:b},D,T,V){if(!V){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${O}${b}${(0,t.getProperty)(T)}`}e.schemaRefOrVal=l;function c(O){return h(decodeURIComponent(O))}e.unescapeFragment=c;function u(O){return encodeURIComponent(f(O))}e.escapeFragment=u;function f(O){return typeof O=="number"?`${O}`:O.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function h(O){return O.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(O,b){if(Array.isArray(O))for(const D of O)b(D);else b(O)}e.eachItem=m;function y({mergeNames:O,mergeToName:b,mergeValues:D,resultToName:T}){return(V,Y,H,W)=>{const G=H===void 0?Y:H instanceof t.Name?(Y instanceof t.Name?O(V,Y,H):b(V,Y,H),H):Y instanceof t.Name?(b(V,H,Y),Y):D(Y,H);return W===t.Name&&!(G instanceof t.Name)?T(V,G):G}}e.mergeEvaluated={props:y({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>{O.if((0,t._)`${b} === true`,()=>O.assign(D,!0),()=>O.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${b})`))}),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>{b===!0?O.assign(D,!0):(O.assign(D,(0,t._)`${D} || {}`),v(O,D,b))}),mergeValues:(O,b)=>O===!0?!0:{...O,...b},resultToName:E}),items:y({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>O.assign(D,(0,t._)`${b} === true ? true : ${D} > ${b} ? ${D} : ${b}`)),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>O.assign(D,b===!0?!0:(0,t._)`${D} > ${b} ? ${D} : ${b}`)),mergeValues:(O,b)=>O===!0?!0:Math.max(O,b),resultToName:(O,b)=>O.var("items",b)})};function E(O,b){if(b===!0)return O.var("props",!0);const D=O.var("props",(0,t._)`{}`);return b!==void 0&&v(O,D,b),D}e.evaluatedPropsToName=E;function v(O,b,D){Object.keys(D).forEach(T=>O.assign((0,t._)`${b}${(0,t.getProperty)(T)}`,!0))}e.setEvaluated=v;const g={};function p(O,b){return O.scopeValue("func",{ref:b,code:g[b.code]||(g[b.code]=new r._Code(b.code))})}e.useFunc=p;var S;(function(O){O[O.Num=0]="Num",O[O.Str=1]="Str"})(S=e.Type||(e.Type={}));function N(O,b,D){if(O instanceof t.Name){const T=b===S.Num;return D?T?(0,t._)`"[" + ${O} + "]"`:(0,t._)`"['" + ${O} + "']"`:T?(0,t._)`"/" + ${O}`:(0,t._)`"/" + ${O}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(O).toString():"/"+f(O)}e.getErrorPath=N;function M(O,b,D=O.opts.strictSchema){if(D){if(b=`strict mode: ${b}`,D===!0)throw new Error(b);O.self.logger.warn(b)}}e.checkStrictMode=M})(Pe);var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});const Pt=ve,J_={data:new Pt.Name("data"),valCxt:new Pt.Name("valCxt"),instancePath:new Pt.Name("instancePath"),parentData:new Pt.Name("parentData"),parentDataProperty:new Pt.Name("parentDataProperty"),rootData:new Pt.Name("rootData"),dynamicAnchors:new Pt.Name("dynamicAnchors"),vErrors:new Pt.Name("vErrors"),errors:new Pt.Name("errors"),this:new Pt.Name("this"),self:new Pt.Name("self"),scope:new Pt.Name("scope"),json:new Pt.Name("json"),jsonPos:new Pt.Name("jsonPos"),jsonLen:new Pt.Name("jsonLen"),jsonPart:new Pt.Name("jsonPart")};Mr.default=J_;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ve,r=Pe,n=Mr;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:g})=>g?(0,t.str)`"${v}" keyword must be ${g} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,g=e.keywordError,p,S){const{it:N}=v,{gen:M,compositeRule:O,allErrors:b}=N,D=f(v,g,p);S??(O||b)?l(M,D):c(N,(0,t._)`[${D}]`)}e.reportError=i;function s(v,g=e.keywordError,p){const{it:S}=v,{gen:N,compositeRule:M,allErrors:O}=S,b=f(v,g,p);l(N,b),M||O||c(S,n.default.vErrors)}e.reportExtraError=s;function o(v,g){v.assign(n.default.errors,g),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(g,()=>v.assign((0,t._)`${n.default.vErrors}.length`,g),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:g,schemaValue:p,data:S,errsCount:N,it:M}){if(N===void 0)throw new Error("ajv implementation error");const O=v.name("err");v.forRange("i",N,n.default.errors,b=>{v.const(O,(0,t._)`${n.default.vErrors}[${b}]`),v.if((0,t._)`${O}.instancePath === undefined`,()=>v.assign((0,t._)`${O}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,t._)`${O}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${g}`),M.opts.verbose&&(v.assign((0,t._)`${O}.schema`,p),v.assign((0,t._)`${O}.data`,S))})}e.extendErrors=a;function l(v,g){const p=v.const("err",g);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${p}]`),(0,t._)`${n.default.vErrors}.push(${p})`),v.code((0,t._)`${n.default.errors}++`)}function c(v,g){const{gen:p,validateName:S,schemaEnv:N}=v;N.$async?p.throw((0,t._)`new ${v.ValidationError}(${g})`):(p.assign((0,t._)`${S}.errors`,g),p.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(v,g,p){const{createErrors:S}=v.it;return S===!1?(0,t._)`{}`:h(v,g,p)}function h(v,g,p={}){const{gen:S,it:N}=v,M=[m(N,p),y(v,p)];return E(v,g,M),S.object(...M)}function m({errorPath:v},{instancePath:g}){const p=g?(0,t.str)`${v}${(0,r.getErrorPath)(g,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,p)]}function y({keyword:v,it:{errSchemaPath:g}},{schemaPath:p,parentSchema:S}){let N=S?g:(0,t.str)`${g}/${v}`;return p&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(p,r.Type.Str)}`),[u.schemaPath,N]}function E(v,{params:g,message:p},S){const{keyword:N,data:M,schemaValue:O,it:b}=v,{opts:D,propertyName:T,topSchemaRef:V,schemaPath:Y}=b;S.push([u.keyword,N],[u.params,typeof g=="function"?g(v):g||(0,t._)`{}`]),D.messages&&S.push([u.message,typeof p=="function"?p(v):p]),D.verbose&&S.push([u.schema,O],[u.parentSchema,(0,t._)`${V}${Y}`],[n.default.data,M]),T&&S.push([u.propertyName,T])}})(mo);Object.defineProperty(Bi,"__esModule",{value:!0});Bi.boolOrEmptySchema=Bi.topBoolOrEmptySchema=void 0;const X_=mo,Q_=ve,Z_=Mr,e$={message:"boolean schema is false"};function t$(e){const{gen:t,schema:r,validateName:n}=e;r===!1?rg(e,!1):typeof r=="object"&&r.$async===!0?t.return(Z_.default.data):(t.assign((0,Q_._)`${n}.errors`,null),t.return(!0))}Bi.topBoolOrEmptySchema=t$;function r$(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),rg(e)):r.var(t,!0)}Bi.boolOrEmptySchema=r$;function rg(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,X_.reportError)(i,e$,void 0,t)}var go={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.getRules=ni.isJSONType=void 0;const n$=["string","number","integer","boolean","null","object","array"],i$=new Set(n$);function s$(e){return typeof e=="string"&&i$.has(e)}ni.isJSONType=s$;function o$(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ni.getRules=o$;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.shouldUseRule=Jr.shouldUseGroup=Jr.schemaHasRulesForType=void 0;function a$({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&ng(e,n)}Jr.schemaHasRulesForType=a$;function ng(e,t){return t.rules.some(r=>ig(e,r))}Jr.shouldUseGroup=ng;function ig(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Jr.shouldUseRule=ig;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ni,r=Jr,n=mo,i=ve,s=Pe;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const N=l(S.type);if(N.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!N.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&N.push("null")}return N}e.getSchemaTypes=a;function l(S){const N=Array.isArray(S)?S:S?[S]:[];if(N.every(t.isJSONType))return N;throw new Error("type must be JSONType or JSONType[]: "+N.join(","))}e.getJSONTypes=l;function c(S,N){const{gen:M,data:O,opts:b}=S,D=f(N,b.coerceTypes),T=N.length>0&&!(D.length===0&&N.length===1&&(0,r.schemaHasRulesForType)(S,N[0]));if(T){const V=E(N,O,b.strictNumbers,o.Wrong);M.if(V,()=>{D.length?h(S,N,D):g(S)})}return T}e.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function f(S,N){return N?S.filter(M=>u.has(M)||N==="array"&&M==="array"):[]}function h(S,N,M){const{gen:O,data:b,opts:D}=S,T=O.let("dataType",(0,i._)`typeof ${b}`),V=O.let("coerced",(0,i._)`undefined`);D.coerceTypes==="array"&&O.if((0,i._)`${T} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>O.assign(b,(0,i._)`${b}[0]`).assign(T,(0,i._)`typeof ${b}`).if(E(N,b,D.strictNumbers),()=>O.assign(V,b))),O.if((0,i._)`${V} !== undefined`);for(const H of M)(u.has(H)||H==="array"&&D.coerceTypes==="array")&&Y(H);O.else(),g(S),O.endIf(),O.if((0,i._)`${V} !== undefined`,()=>{O.assign(b,V),m(S,V)});function Y(H){switch(H){case"string":O.elseIf((0,i._)`${T} == "number" || ${T} == "boolean"`).assign(V,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(V,(0,i._)`""`);return;case"number":O.elseIf((0,i._)`${T} == "boolean" || ${b} === null
              || (${T} == "string" && ${b} && ${b} == +${b})`).assign(V,(0,i._)`+${b}`);return;case"integer":O.elseIf((0,i._)`${T} === "boolean" || ${b} === null
              || (${T} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(V,(0,i._)`+${b}`);return;case"boolean":O.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(V,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(V,!0);return;case"null":O.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),O.assign(V,null);return;case"array":O.elseIf((0,i._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${b} === null`).assign(V,(0,i._)`[${b}]`)}}}function m({gen:S,parentData:N,parentDataProperty:M},O){S.if((0,i._)`${N} !== undefined`,()=>S.assign((0,i._)`${N}[${M}]`,O))}function y(S,N,M,O=o.Correct){const b=O===o.Correct?i.operators.EQ:i.operators.NEQ;let D;switch(S){case"null":return(0,i._)`${N} ${b} null`;case"array":D=(0,i._)`Array.isArray(${N})`;break;case"object":D=(0,i._)`${N} && typeof ${N} == "object" && !Array.isArray(${N})`;break;case"integer":D=T((0,i._)`!(${N} % 1) && !isNaN(${N})`);break;case"number":D=T();break;default:return(0,i._)`typeof ${N} ${b} ${S}`}return O===o.Correct?D:(0,i.not)(D);function T(V=i.nil){return(0,i.and)((0,i._)`typeof ${N} == "number"`,V,M?(0,i._)`isFinite(${N})`:i.nil)}}e.checkDataType=y;function E(S,N,M,O){if(S.length===1)return y(S[0],N,M,O);let b;const D=(0,s.toHash)(S);if(D.array&&D.object){const T=(0,i._)`typeof ${N} != "object"`;b=D.null?T:(0,i._)`!${N} || ${T}`,delete D.null,delete D.array,delete D.object}else b=i.nil;D.number&&delete D.integer;for(const T in D)b=(0,i.and)(b,y(T,N,M,O));return b}e.checkDataTypes=E;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:N})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${N}}`};function g(S){const N=p(S);(0,n.reportError)(N,v)}e.reportTypeError=g;function p(S){const{gen:N,data:M,schema:O}=S,b=(0,s.schemaRefOrVal)(S,O,"type");return{gen:N,keyword:"type",data:M,schema:O.type,schemaCode:b,schemaValue:b,parentSchema:O,params:{},it:S}}})(go);var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.assignDefaults=void 0;const yi=ve,l$=Pe;function c$(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Dd(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Dd(e,s,i.default))}Qa.assignDefaults=c$;function Dd(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const a=(0,yi._)`${s}${(0,yi.getProperty)(t)}`;if(i){(0,l$.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,yi._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,yi._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,yi._)`${a} = ${(0,yi.stringify)(r)}`)}var kr={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.validateUnion=ge.validateArray=ge.usePattern=ge.callValidateCode=ge.schemaProperties=ge.allSchemaProperties=ge.noPropertyInData=ge.propertyInData=ge.isOwnProperty=ge.hasPropFunc=ge.reportMissingProp=ge.checkMissingProp=ge.checkReportMissingProp=void 0;const xe=ve,Su=Pe,an=Mr,u$=Pe;function f$(e,t){const{gen:r,data:n,it:i}=e;r.if(Pu(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,xe._)`${t}`},!0),e.error()})}ge.checkReportMissingProp=f$;function d$({gen:e,data:t,it:{opts:r}},n,i){return(0,xe.or)(...n.map(s=>(0,xe.and)(Pu(e,t,s,r.ownProperties),(0,xe._)`${i} = ${s}`)))}ge.checkMissingProp=d$;function h$(e,t){e.setParams({missingProperty:t},!0),e.error()}ge.reportMissingProp=h$;function sg(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,xe._)`Object.prototype.hasOwnProperty`})}ge.hasPropFunc=sg;function bu(e,t,r){return(0,xe._)`${sg(e)}.call(${t}, ${r})`}ge.isOwnProperty=bu;function p$(e,t,r,n){const i=(0,xe._)`${t}${(0,xe.getProperty)(r)} !== undefined`;return n?(0,xe._)`${i} && ${bu(e,t,r)}`:i}ge.propertyInData=p$;function Pu(e,t,r,n){const i=(0,xe._)`${t}${(0,xe.getProperty)(r)} === undefined`;return n?(0,xe.or)(i,(0,xe.not)(bu(e,t,r))):i}ge.noPropertyInData=Pu;function og(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ge.allSchemaProperties=og;function m$(e,t){return og(t).filter(r=>!(0,Su.alwaysValidSchema)(e,t[r]))}ge.schemaProperties=m$;function g$({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,l,c){const u=c?(0,xe._)`${e}, ${t}, ${n}${i}`:t,f=[[an.default.instancePath,(0,xe.strConcat)(an.default.instancePath,s)],[an.default.parentData,o.parentData],[an.default.parentDataProperty,o.parentDataProperty],[an.default.rootData,an.default.rootData]];o.opts.dynamicRef&&f.push([an.default.dynamicAnchors,an.default.dynamicAnchors]);const h=(0,xe._)`${u}, ${r.object(...f)}`;return l!==xe.nil?(0,xe._)`${a}.call(${l}, ${h})`:(0,xe._)`${a}(${h})`}ge.callValidateCode=g$;const y$=(0,xe._)`new RegExp`;function v$({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,xe._)`${i.code==="new RegExp"?y$:(0,u$.useFunc)(e,i)}(${r}, ${n})`})}ge.usePattern=v$;function _$(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const l=t.const("len",(0,xe._)`${r}.length`);t.forRange("i",0,l,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:Su.Type.Num},s),t.if((0,xe.not)(s),a)})}}ge.validateArray=_$;function $$(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Su.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,c)=>{const u=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},a);t.assign(o,(0,xe._)`${o} || ${a}`),e.mergeValidEvaluated(u,a)||t.if((0,xe.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ge.validateUnion=$$;Object.defineProperty(kr,"__esModule",{value:!0});kr.validateKeywordUsage=kr.validSchemaType=kr.funcKeywordCode=kr.macroKeywordCode=void 0;const Lt=ve,Bn=Mr,E$=ge,w$=mo;function S$(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),l=ag(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const c=r.name("valid");e.subschema({schema:a,schemaPath:Lt.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}kr.macroKeywordCode=S$;function b$(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:l}=e;T$(l,t);const c=!a&&t.compile?t.compile.call(l.self,s,o,l):t.validate,u=ag(n,i,c),f=n.let("valid");e.block$data(f,h),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function h(){if(t.errors===!1)E(),t.modifying&&Fd(e),v(()=>e.error());else{const g=t.async?m():y();t.modifying&&Fd(e),v(()=>P$(e,g))}}function m(){const g=n.let("ruleErrs",null);return n.try(()=>E((0,Lt._)`await `),p=>n.assign(f,!1).if((0,Lt._)`${p} instanceof ${l.ValidationError}`,()=>n.assign(g,(0,Lt._)`${p}.errors`),()=>n.throw(p))),g}function y(){const g=(0,Lt._)`${u}.errors`;return n.assign(g,null),E(Lt.nil),g}function E(g=t.async?(0,Lt._)`await `:Lt.nil){const p=l.opts.passContext?Bn.default.this:Bn.default.self,S=!("compile"in t&&!a||t.schema===!1);n.assign(f,(0,Lt._)`${g}${(0,E$.callValidateCode)(e,u,p,S)}`,t.modifying)}function v(g){var p;n.if((0,Lt.not)((p=t.valid)!==null&&p!==void 0?p:f),g)}}kr.funcKeywordCode=b$;function Fd(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Lt._)`${n.parentData}[${n.parentDataProperty}]`))}function P$(e,t){const{gen:r}=e;r.if((0,Lt._)`Array.isArray(${t})`,()=>{r.assign(Bn.default.vErrors,(0,Lt._)`${Bn.default.vErrors} === null ? ${t} : ${Bn.default.vErrors}.concat(${t})`).assign(Bn.default.errors,(0,Lt._)`${Bn.default.vErrors}.length`),(0,w$.extendErrors)(e)},()=>e.error())}function T$({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function ag(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Lt.stringify)(r)})}function O$(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}kr.validSchemaType=O$;function A$({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const l=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}kr.validateKeywordUsage=A$;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.extendSubschemaMode=wn.extendSubschemaData=wn.getSubschema=void 0;const Rr=ve,lg=Pe;function C$(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Rr._)`${e.schemaPath}${(0,Rr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Rr._)`${e.schemaPath}${(0,Rr.getProperty)(t)}${(0,Rr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,lg.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}wn.getSubschema=C$;function N$(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:c,dataPathArr:u,opts:f}=t,h=a.let("data",(0,Rr._)`${t.data}${(0,Rr.getProperty)(r)}`,!0);l(h),e.errorPath=(0,Rr.str)`${c}${(0,lg.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Rr._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(i!==void 0){const c=i instanceof Rr.Name?i:a.let("data",i,!0);l(c),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function l(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}wn.extendSubschemaData=N$;function R$(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}wn.extendSubschemaMode=R$;var $t={},Za=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},cg={exports:{}},yn=cg.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};ma(t,n,i,e,"",e)};yn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};yn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};yn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};yn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ma(e,t,r,n,i,s,o,a,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,l,c);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in yn.arrayKeywords)for(var h=0;h<f.length;h++)ma(e,t,r,f[h],i+"/"+u+"/"+h,s,i,u,n,h)}else if(u in yn.propsKeywords){if(f&&typeof f=="object")for(var m in f)ma(e,t,r,f[m],i+"/"+u+"/"+I$(m),s,i,u,n,m)}else(u in yn.keywords||e.allKeys&&!(u in yn.skipKeywords))&&ma(e,t,r,f,i+"/"+u,s,i,u,n)}r(n,i,s,o,a,l,c)}}function I$(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var D$=cg.exports;Object.defineProperty($t,"__esModule",{value:!0});$t.getSchemaRefs=$t.resolveUrl=$t.normalizeId=$t._getFullPath=$t.getFullPath=$t.inlineRef=void 0;const F$=Pe,k$=Za,L$=D$,j$=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function M$(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Fc(e):t?ug(e)<=t:!1}$t.inlineRef=M$;const U$=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Fc(e){for(const t in e){if(U$.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Fc)||typeof r=="object"&&Fc(r))return!0}return!1}function ug(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!j$.has(r)&&(typeof e[r]=="object"&&(0,F$.eachItem)(e[r],n=>t+=ug(n)),t===1/0))return 1/0}return t}function fg(e,t="",r){r!==!1&&(t=ji(t));const n=e.parse(t);return dg(e,n)}$t.getFullPath=fg;function dg(e,t){return e.serialize(t).split("#")[0]+"#"}$t._getFullPath=dg;const x$=/#\/?$/;function ji(e){return e?e.replace(x$,""):""}$t.normalizeId=ji;function q$(e,t,r){return r=ji(r),e.resolve(t,r)}$t.resolveUrl=q$;const V$=/^[a-z_][-a-z0-9._]*$/i;function B$(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=ji(e[r]||t),s={"":i},o=fg(n,i,!1),a={},l=new Set;return L$(e,{allKeys:!0},(f,h,m,y)=>{if(y===void 0)return;const E=o+h;let v=s[y];typeof f[r]=="string"&&(v=g.call(this,f[r])),p.call(this,f.$anchor),p.call(this,f.$dynamicAnchor),s[h]=v;function g(S){const N=this.opts.uriResolver.resolve;if(S=ji(v?N(v,S):S),l.has(S))throw u(S);l.add(S);let M=this.refs[S];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?c(f,M.schema,S):S!==ji(E)&&(S[0]==="#"?(c(f,a[S],S),a[S]=f):this.refs[S]=E),S}function p(S){if(typeof S=="string"){if(!V$.test(S))throw new Error(`invalid anchor "${S}"`);g.call(this,`#${S}`)}}}),a;function c(f,h,m){if(h!==void 0&&!k$(f,h))throw u(m)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}$t.getSchemaRefs=B$;Object.defineProperty(br,"__esModule",{value:!0});br.getData=br.KeywordCxt=br.validateFunctionCode=void 0;const hg=Bi,kd=go,Tu=Jr,Aa=go,z$=Qa,xs=kr,Ul=wn,se=ve,ue=Mr,H$=$t,Xr=Pe,$s=mo;function G$(e){if(gg(e)&&(yg(e),mg(e))){Y$(e);return}pg(e,()=>(0,hg.topBoolOrEmptySchema)(e))}br.validateFunctionCode=G$;function pg({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,se._)`${ue.default.data}, ${ue.default.valCxt}`,n.$async,()=>{e.code((0,se._)`"use strict"; ${Ld(r,i)}`),K$(e,i),e.code(s)}):e.func(t,(0,se._)`${ue.default.data}, ${W$(i)}`,n.$async,()=>e.code(Ld(r,i)).code(s))}function W$(e){return(0,se._)`{${ue.default.instancePath}="", ${ue.default.parentData}, ${ue.default.parentDataProperty}, ${ue.default.rootData}=${ue.default.data}${e.dynamicRef?(0,se._)`, ${ue.default.dynamicAnchors}={}`:se.nil}}={}`}function K$(e,t){e.if(ue.default.valCxt,()=>{e.var(ue.default.instancePath,(0,se._)`${ue.default.valCxt}.${ue.default.instancePath}`),e.var(ue.default.parentData,(0,se._)`${ue.default.valCxt}.${ue.default.parentData}`),e.var(ue.default.parentDataProperty,(0,se._)`${ue.default.valCxt}.${ue.default.parentDataProperty}`),e.var(ue.default.rootData,(0,se._)`${ue.default.valCxt}.${ue.default.rootData}`),t.dynamicRef&&e.var(ue.default.dynamicAnchors,(0,se._)`${ue.default.valCxt}.${ue.default.dynamicAnchors}`)},()=>{e.var(ue.default.instancePath,(0,se._)`""`),e.var(ue.default.parentData,(0,se._)`undefined`),e.var(ue.default.parentDataProperty,(0,se._)`undefined`),e.var(ue.default.rootData,ue.default.data),t.dynamicRef&&e.var(ue.default.dynamicAnchors,(0,se._)`{}`)})}function Y$(e){const{schema:t,opts:r,gen:n}=e;pg(e,()=>{r.$comment&&t.$comment&&_g(e),eE(e),n.let(ue.default.vErrors,null),n.let(ue.default.errors,0),r.unevaluated&&J$(e),vg(e),nE(e)})}function J$(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,se._)`${r}.evaluated`),t.if((0,se._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,se._)`${e.evaluated}.props`,(0,se._)`undefined`)),t.if((0,se._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,se._)`${e.evaluated}.items`,(0,se._)`undefined`))}function Ld(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,se._)`/*# sourceURL=${r} */`:se.nil}function X$(e,t){if(gg(e)&&(yg(e),mg(e))){Q$(e,t);return}(0,hg.boolOrEmptySchema)(e,t)}function mg({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function gg(e){return typeof e.schema!="boolean"}function Q$(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&_g(e),tE(e),rE(e);const s=n.const("_errs",ue.default.errors);vg(e,s),n.var(t,(0,se._)`${s} === ${ue.default.errors}`)}function yg(e){(0,Xr.checkUnknownRules)(e),Z$(e)}function vg(e,t){if(e.opts.jtd)return jd(e,[],!1,t);const r=(0,kd.getSchemaTypes)(e.schema),n=(0,kd.coerceAndCheckDataType)(e,r);jd(e,r,!n,t)}function Z$(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Xr.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function eE(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Xr.checkStrictMode)(e,"default is ignored in the schema root")}function tE(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,H$.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function rE(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function _g({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,se._)`${ue.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,se.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,se._)`${ue.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function nE(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,se._)`${ue.default.errors} === 0`,()=>t.return(ue.default.data),()=>t.throw((0,se._)`new ${i}(${ue.default.vErrors})`)):(t.assign((0,se._)`${n}.errors`,ue.default.vErrors),s.unevaluated&&iE(e),t.return((0,se._)`${ue.default.errors} === 0`))}function iE({gen:e,evaluated:t,props:r,items:n}){r instanceof se.Name&&e.assign((0,se._)`${t}.props`,r),n instanceof se.Name&&e.assign((0,se._)`${t}.items`,n)}function jd(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:a,opts:l,self:c}=e,{RULES:u}=c;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Xr.schemaHasRulesButRef)(s,u))){i.block(()=>wg(e,"$ref",u.all.$ref.definition));return}l.jtd||sE(e,t),i.block(()=>{for(const h of u.rules)f(h);f(u.post)});function f(h){(0,Tu.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Aa.checkDataType)(h.type,o,l.strictNumbers)),Md(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Aa.reportTypeError)(e)),i.endIf()):Md(e,h),a||i.if((0,se._)`${ue.default.errors} === ${n||0}`))}}function Md(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,z$.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,Tu.shouldUseRule)(n,s)&&wg(e,s.keyword,s.definition,t.type)})}function sE(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(oE(e,t),e.opts.allowUnionTypes||aE(e,t),lE(e,e.dataTypes))}function oE(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{$g(e.dataTypes,r)||Ou(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),uE(e,t)}}function aE(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Ou(e,"use allowUnionTypes to allow union type keyword")}function lE(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,Tu.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>cE(t,o))&&Ou(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function cE(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function $g(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function uE(e,t){const r=[];for(const n of e.dataTypes)$g(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Ou(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Xr.checkStrictMode)(e,t,e.opts.strictTypes)}let Eg=class{constructor(t,r,n){if((0,xs.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Xr.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Sg(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,xs.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ue.default.errors))}result(t,r,n){this.failResult((0,se.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,se.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,se._)`${r} !== undefined && (${(0,se.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?$s.reportExtraError:$s.reportError)(this,this.def.error,r)}$dataError(){(0,$s.reportError)(this,this.def.$dataError||$s.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$s.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=se.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=se.nil,r=se.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,se.or)((0,se._)`${i} === undefined`,r)),t!==se.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==se.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,se.or)(o(),a());function o(){if(n.length){if(!(r instanceof se.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,se._)`${(0,Aa.checkDataTypes)(l,r,s.opts.strictNumbers,Aa.DataType.Wrong)}`}return se.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,se._)`!${l}(${r})`}return se.nil}}subschema(t,r){const n=(0,Ul.getSubschema)(this.it,t);(0,Ul.extendSubschemaData)(n,this.it,t),(0,Ul.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return X$(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Xr.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Xr.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,se.Name)),!0}};br.KeywordCxt=Eg;function wg(e,t,r,n){const i=new Eg(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,xs.funcKeywordCode)(i,r):"macro"in r?(0,xs.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,xs.funcKeywordCode)(i,r)}const fE=/^\/(?:[^~]|~0|~1)*$/,dE=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Sg(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return ue.default.rootData;if(e[0]==="/"){if(!fE.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=ue.default.rootData}else{const c=dE.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+c[1];if(i=c[2],i==="#"){if(u>=t)throw new Error(l("property/index",u));return n[t-u]}if(u>t)throw new Error(l("data",u));if(s=r[t-u],!i)return s}let o=s;const a=i.split("/");for(const c of a)c&&(s=(0,se._)`${s}${(0,se.getProperty)((0,Xr.unescapeJsonPointer)(c))}`,o=(0,se._)`${o} && ${s}`);return o;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${t}`}}br.getData=Sg;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});let hE=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};yo.default=hE;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});const xl=$t;let pE=class extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,xl.resolveUrl)(t,r,n),this.missingSchema=(0,xl.normalizeId)((0,xl.getFullPath)(t,this.missingRef))}};vo.default=pE;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.resolveSchema=Yt.getCompilingSchema=Yt.resolveRef=Yt.compileSchema=Yt.SchemaEnv=void 0;const gr=ve,mE=yo,kn=Mr,wr=$t,Ud=Pe,gE=br;let el=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,wr.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Yt.SchemaEnv=el;function Au(e){const t=bg.call(this,e);if(t)return t;const r=(0,wr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new gr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:mE.default,code:(0,gr._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const c={gen:o,allErrors:this.opts.allErrors,data:kn.default.data,parentData:kn.default.parentData,parentDataProperty:kn.default.parentDataProperty,dataNames:[kn.default.data],dataPathArr:[gr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,gr.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:gr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,gr._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,gE.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);const f=o.toString();u=`${o.scopeRefs(kn.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const m=new Function(`${kn.default.self}`,`${kn.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:E}=c;m.evaluated={props:y instanceof gr.Name?void 0:y,items:E instanceof gr.Name?void 0:E,dynamicProps:y instanceof gr.Name,dynamicItems:E instanceof gr.Name},m.source&&(m.source.evaluated=(0,gr.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}Yt.compileSchema=Au;function yE(e,t,r){var n;r=(0,wr.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=$E.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new el({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=vE.call(this,s)}Yt.resolveRef=yE;function vE(e){return(0,wr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Au.call(this,e)}function bg(e){for(const t of this._compilations)if(_E(t,e))return t}Yt.getCompilingSchema=bg;function _E(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function $E(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||tl.call(this,e,t)}function tl(e,t){const r=this.opts.uriResolver.parse(t),n=(0,wr._getFullPath)(this.opts.uriResolver,r);let i=(0,wr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return ql.call(this,r,e);const s=(0,wr.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=tl.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:ql.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Au.call(this,o),s===(0,wr.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,c=a[l];return c&&(i=(0,wr.resolveUrl)(this.opts.uriResolver,i,c)),new el({schema:a,schemaId:l,root:e,baseId:i})}return ql.call(this,r,o)}}Yt.resolveSchema=tl;const EE=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ql(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Ud.unescapeFragment)(a)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!EE.has(a)&&c&&(t=(0,wr.resolveUrl)(this.opts.uriResolver,t,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Ud.schemaHasRulesButRef)(r,this.RULES)){const a=(0,wr.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=tl.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new el({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const wE="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",SE="Meta-schema for $data reference (JSON AnySchema extension proposal)",bE="object",PE=["$data"],TE={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},OE=!1,AE={$id:wE,description:SE,type:bE,required:PE,properties:TE,additionalProperties:OE};var Cu={},kc={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(ot,function(r){function n(){for(var x=arguments.length,F=Array(x),q=0;q<x;q++)F[q]=arguments[q];if(F.length>1){F[0]=F[0].slice(0,-1);for(var X=F.length-1,J=1;J<X;++J)F[J]=F[J].slice(1,-1);return F[X]=F[X].slice(1),F.join("")}else return F[0]}function i(x){return"(?:"+x+")"}function s(x){return x===void 0?"undefined":x===null?"null":Object.prototype.toString.call(x).split(" ").pop().split("]").shift().toLowerCase()}function o(x){return x.toUpperCase()}function a(x){return x!=null?x instanceof Array?x:typeof x.length!="number"||x.split||x.setInterval||x.call?[x]:Array.prototype.slice.call(x):[]}function l(x,F){var q=x;if(F)for(var X in F)q[X]=F[X];return q}function c(x){var F="[A-Za-z]",q="[0-9]",X=n(q,"[A-Fa-f]"),J=i(i("%[EFef]"+X+"%"+X+X+"%"+X+X)+"|"+i("%[89A-Fa-f]"+X+"%"+X+X)+"|"+i("%"+X+X)),ie="[\\:\\/\\?\\#\\[\\]\\@]",ae="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",$e=n(ie,ae),we=x?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Be=x?"[\\uE000-\\uF8FF]":"[]",me=n(F,q,"[\\-\\.\\_\\~]",we);i(F+n(F,q,"[\\+\\-\\.]")+"*"),i(i(J+"|"+n(me,ae,"[\\:]"))+"*");var De=i(i("25[0-5]")+"|"+i("2[0-4]"+q)+"|"+i("1"+q+q)+"|"+i("0?[1-9]"+q)+"|0?0?"+q),ze=i(De+"\\."+De+"\\."+De+"\\."+De),ce=i(X+"{1,4}"),Oe=i(i(ce+"\\:"+ce)+"|"+ze),Qe=i(i(ce+"\\:")+"{6}"+Oe),je=i("\\:\\:"+i(ce+"\\:")+"{5}"+Oe),Cr=i(i(ce)+"?\\:\\:"+i(ce+"\\:")+"{4}"+Oe),sr=i(i(i(ce+"\\:")+"{0,1}"+ce)+"?\\:\\:"+i(ce+"\\:")+"{3}"+Oe),or=i(i(i(ce+"\\:")+"{0,2}"+ce)+"?\\:\\:"+i(ce+"\\:")+"{2}"+Oe),hr=i(i(i(ce+"\\:")+"{0,3}"+ce)+"?\\:\\:"+ce+"\\:"+Oe),Br=i(i(i(ce+"\\:")+"{0,4}"+ce)+"?\\:\\:"+Oe),Ht=i(i(i(ce+"\\:")+"{0,5}"+ce)+"?\\:\\:"+ce),ct=i(i(i(ce+"\\:")+"{0,6}"+ce)+"?\\:\\:"),zr=i([Qe,je,Cr,sr,or,hr,Br,Ht,ct].join("|")),pr=i(i(me+"|"+J)+"+");i("[vV]"+X+"+\\."+n(me,ae,"[\\:]")+"+"),i(i(J+"|"+n(me,ae))+"*");var Rn=i(J+"|"+n(me,ae,"[\\:\\@]"));return i(i(J+"|"+n(me,ae,"[\\@]"))+"+"),i(i(Rn+"|"+n("[\\/\\?]",Be))+"*"),{NOT_SCHEME:new RegExp(n("[^]",F,q,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",me,ae),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",me,ae),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",me,ae),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",me,ae),"g"),NOT_QUERY:new RegExp(n("[^\\%]",me,ae,"[\\:\\@\\/\\?]",Be),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",me,ae,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",me,ae),"g"),UNRESERVED:new RegExp(me,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",me,$e),"g"),PCT_ENCODED:new RegExp(J,"g"),IPV4ADDRESS:new RegExp("^("+ze+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zr+")"+i(i("\\%25|\\%(?!"+X+"{2})")+"("+pr+")")+"?\\]?$")}}var u=c(!1),f=c(!0),h=function(){function x(F,q){var X=[],J=!0,ie=!1,ae=void 0;try{for(var $e=F[Symbol.iterator](),we;!(J=(we=$e.next()).done)&&(X.push(we.value),!(q&&X.length===q));J=!0);}catch(Be){ie=!0,ae=Be}finally{try{!J&&$e.return&&$e.return()}finally{if(ie)throw ae}}return X}return function(F,q){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return x(F,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(x){if(Array.isArray(x)){for(var F=0,q=Array(x.length);F<x.length;F++)q[F]=x[F];return q}else return Array.from(x)},y=2147483647,E=36,v=1,g=26,p=38,S=700,N=72,M=128,O="-",b=/^xn--/,D=/[^\0-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Y=E-v,H=Math.floor,W=String.fromCharCode;function G(x){throw new RangeError(V[x])}function Q(x,F){for(var q=[],X=x.length;X--;)q[X]=F(x[X]);return q}function Z(x,F){var q=x.split("@"),X="";q.length>1&&(X=q[0]+"@",x=q[1]),x=x.replace(T,".");var J=x.split("."),ie=Q(J,F).join(".");return X+ie}function K(x){for(var F=[],q=0,X=x.length;q<X;){var J=x.charCodeAt(q++);if(J>=55296&&J<=56319&&q<X){var ie=x.charCodeAt(q++);(ie&64512)==56320?F.push(((J&1023)<<10)+(ie&1023)+65536):(F.push(J),q--)}else F.push(J)}return F}var I=function(F){return String.fromCodePoint.apply(String,m(F))},j=function(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:E},A=function(F,q){return F+22+75*(F<26)-((q!=0)<<5)},w=function(F,q,X){var J=0;for(F=X?H(F/S):F>>1,F+=H(F/q);F>Y*g>>1;J+=E)F=H(F/Y);return H(J+(Y+1)*F/(F+p))},R=function(F){var q=[],X=F.length,J=0,ie=M,ae=N,$e=F.lastIndexOf(O);$e<0&&($e=0);for(var we=0;we<$e;++we)F.charCodeAt(we)>=128&&G("not-basic"),q.push(F.charCodeAt(we));for(var Be=$e>0?$e+1:0;Be<X;){for(var me=J,De=1,ze=E;;ze+=E){Be>=X&&G("invalid-input");var ce=j(F.charCodeAt(Be++));(ce>=E||ce>H((y-J)/De))&&G("overflow"),J+=ce*De;var Oe=ze<=ae?v:ze>=ae+g?g:ze-ae;if(ce<Oe)break;var Qe=E-Oe;De>H(y/Qe)&&G("overflow"),De*=Qe}var je=q.length+1;ae=w(J-me,je,me==0),H(J/je)>y-ie&&G("overflow"),ie+=H(J/je),J%=je,q.splice(J++,0,ie)}return String.fromCodePoint.apply(String,q)},C=function(F){var q=[];F=K(F);var X=F.length,J=M,ie=0,ae=N,$e=!0,we=!1,Be=void 0;try{for(var me=F[Symbol.iterator](),De;!($e=(De=me.next()).done);$e=!0){var ze=De.value;ze<128&&q.push(W(ze))}}catch(nn){we=!0,Be=nn}finally{try{!$e&&me.return&&me.return()}finally{if(we)throw Be}}var ce=q.length,Oe=ce;for(ce&&q.push(O);Oe<X;){var Qe=y,je=!0,Cr=!1,sr=void 0;try{for(var or=F[Symbol.iterator](),hr;!(je=(hr=or.next()).done);je=!0){var Br=hr.value;Br>=J&&Br<Qe&&(Qe=Br)}}catch(nn){Cr=!0,sr=nn}finally{try{!je&&or.return&&or.return()}finally{if(Cr)throw sr}}var Ht=Oe+1;Qe-J>H((y-ie)/Ht)&&G("overflow"),ie+=(Qe-J)*Ht,J=Qe;var ct=!0,zr=!1,pr=void 0;try{for(var Rn=F[Symbol.iterator](),Mo;!(ct=(Mo=Rn.next()).done);ct=!0){var Uo=Mo.value;if(Uo<J&&++ie>y&&G("overflow"),Uo==J){for(var pi=ie,Hr=E;;Hr+=E){var mi=Hr<=ae?v:Hr>=ae+g?g:Hr-ae;if(pi<mi)break;var rn=pi-mi,vs=E-mi;q.push(W(A(mi+rn%vs,0))),pi=H(rn/vs)}q.push(W(A(pi,0))),ae=w(ie,Ht,Oe==ce),ie=0,++Oe}}}catch(nn){zr=!0,pr=nn}finally{try{!ct&&Rn.return&&Rn.return()}finally{if(zr)throw pr}}++ie,++J}return q.join("")},d=function(F){return Z(F,function(q){return b.test(q)?R(q.slice(4).toLowerCase()):q})},$=function(F){return Z(F,function(q){return D.test(q)?"xn--"+C(q):q})},L={version:"2.1.0",ucs2:{decode:K,encode:I},decode:R,encode:C,toASCII:$,toUnicode:d},P={};function _(x){var F=x.charCodeAt(0),q=void 0;return F<16?q="%0"+F.toString(16).toUpperCase():F<128?q="%"+F.toString(16).toUpperCase():F<2048?q="%"+(F>>6|192).toString(16).toUpperCase()+"%"+(F&63|128).toString(16).toUpperCase():q="%"+(F>>12|224).toString(16).toUpperCase()+"%"+(F>>6&63|128).toString(16).toUpperCase()+"%"+(F&63|128).toString(16).toUpperCase(),q}function z(x){for(var F="",q=0,X=x.length;q<X;){var J=parseInt(x.substr(q+1,2),16);if(J<128)F+=String.fromCharCode(J),q+=3;else if(J>=194&&J<224){if(X-q>=6){var ie=parseInt(x.substr(q+4,2),16);F+=String.fromCharCode((J&31)<<6|ie&63)}else F+=x.substr(q,6);q+=6}else if(J>=224){if(X-q>=9){var ae=parseInt(x.substr(q+4,2),16),$e=parseInt(x.substr(q+7,2),16);F+=String.fromCharCode((J&15)<<12|(ae&63)<<6|$e&63)}else F+=x.substr(q,9);q+=9}else F+=x.substr(q,3),q+=3}return F}function U(x,F){function q(X){var J=z(X);return J.match(F.UNRESERVED)?J:X}return x.scheme&&(x.scheme=String(x.scheme).replace(F.PCT_ENCODED,q).toLowerCase().replace(F.NOT_SCHEME,"")),x.userinfo!==void 0&&(x.userinfo=String(x.userinfo).replace(F.PCT_ENCODED,q).replace(F.NOT_USERINFO,_).replace(F.PCT_ENCODED,o)),x.host!==void 0&&(x.host=String(x.host).replace(F.PCT_ENCODED,q).toLowerCase().replace(F.NOT_HOST,_).replace(F.PCT_ENCODED,o)),x.path!==void 0&&(x.path=String(x.path).replace(F.PCT_ENCODED,q).replace(x.scheme?F.NOT_PATH:F.NOT_PATH_NOSCHEME,_).replace(F.PCT_ENCODED,o)),x.query!==void 0&&(x.query=String(x.query).replace(F.PCT_ENCODED,q).replace(F.NOT_QUERY,_).replace(F.PCT_ENCODED,o)),x.fragment!==void 0&&(x.fragment=String(x.fragment).replace(F.PCT_ENCODED,q).replace(F.NOT_FRAGMENT,_).replace(F.PCT_ENCODED,o)),x}function te(x){return x.replace(/^0*(.*)/,"$1")||"0"}function de(x,F){var q=x.match(F.IPV4ADDRESS)||[],X=h(q,2),J=X[1];return J?J.split(".").map(te).join("."):x}function be(x,F){var q=x.match(F.IPV6ADDRESS)||[],X=h(q,3),J=X[1],ie=X[2];if(J){for(var ae=J.toLowerCase().split("::").reverse(),$e=h(ae,2),we=$e[0],Be=$e[1],me=Be?Be.split(":").map(te):[],De=we.split(":").map(te),ze=F.IPV4ADDRESS.test(De[De.length-1]),ce=ze?7:8,Oe=De.length-ce,Qe=Array(ce),je=0;je<ce;++je)Qe[je]=me[je]||De[Oe+je]||"";ze&&(Qe[ce-1]=de(Qe[ce-1],F));var Cr=Qe.reduce(function(Ht,ct,zr){if(!ct||ct==="0"){var pr=Ht[Ht.length-1];pr&&pr.index+pr.length===zr?pr.length++:Ht.push({index:zr,length:1})}return Ht},[]),sr=Cr.sort(function(Ht,ct){return ct.length-Ht.length})[0],or=void 0;if(sr&&sr.length>1){var hr=Qe.slice(0,sr.index),Br=Qe.slice(sr.index+sr.length);or=hr.join(":")+"::"+Br.join(":")}else or=Qe.join(":");return ie&&(or+="%"+ie),or}else return x}var Fe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ve="".match(/(){0}/)[1]===void 0;function Le(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q={},X=F.iri!==!1?f:u;F.reference==="suffix"&&(x=(F.scheme?F.scheme+":":"")+"//"+x);var J=x.match(Fe);if(J){Ve?(q.scheme=J[1],q.userinfo=J[3],q.host=J[4],q.port=parseInt(J[5],10),q.path=J[6]||"",q.query=J[7],q.fragment=J[8],isNaN(q.port)&&(q.port=J[5])):(q.scheme=J[1]||void 0,q.userinfo=x.indexOf("@")!==-1?J[3]:void 0,q.host=x.indexOf("//")!==-1?J[4]:void 0,q.port=parseInt(J[5],10),q.path=J[6]||"",q.query=x.indexOf("?")!==-1?J[7]:void 0,q.fragment=x.indexOf("#")!==-1?J[8]:void 0,isNaN(q.port)&&(q.port=x.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?J[4]:void 0)),q.host&&(q.host=be(de(q.host,X),X)),q.scheme===void 0&&q.userinfo===void 0&&q.host===void 0&&q.port===void 0&&!q.path&&q.query===void 0?q.reference="same-document":q.scheme===void 0?q.reference="relative":q.fragment===void 0?q.reference="absolute":q.reference="uri",F.reference&&F.reference!=="suffix"&&F.reference!==q.reference&&(q.error=q.error||"URI is not a "+F.reference+" reference.");var ie=P[(F.scheme||q.scheme||"").toLowerCase()];if(!F.unicodeSupport&&(!ie||!ie.unicodeSupport)){if(q.host&&(F.domainHost||ie&&ie.domainHost))try{q.host=L.toASCII(q.host.replace(X.PCT_ENCODED,z).toLowerCase())}catch(ae){q.error=q.error||"Host's domain name can not be converted to ASCII via punycode: "+ae}U(q,u)}else U(q,X);ie&&ie.parse&&ie.parse(q,F)}else q.error=q.error||"URI can not be parsed.";return q}function Re(x,F){var q=F.iri!==!1?f:u,X=[];return x.userinfo!==void 0&&(X.push(x.userinfo),X.push("@")),x.host!==void 0&&X.push(be(de(String(x.host),q),q).replace(q.IPV6ADDRESS,function(J,ie,ae){return"["+ie+(ae?"%25"+ae:"")+"]"})),(typeof x.port=="number"||typeof x.port=="string")&&(X.push(":"),X.push(String(x.port))),X.length?X.join(""):void 0}var Xe=/^\.\.?\//,Bt=/^\/\.(\/|$)/,Rt=/^\/\.\.(\/|$)/,It=/^\/?(?:.|\n)*?(?=\/|$)/;function lt(x){for(var F=[];x.length;)if(x.match(Xe))x=x.replace(Xe,"");else if(x.match(Bt))x=x.replace(Bt,"/");else if(x.match(Rt))x=x.replace(Rt,"/"),F.pop();else if(x==="."||x==="..")x="";else{var q=x.match(It);if(q){var X=q[0];x=x.slice(X.length),F.push(X)}else throw new Error("Unexpected dot segment condition")}return F.join("")}function nt(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=F.iri?f:u,X=[],J=P[(F.scheme||x.scheme||"").toLowerCase()];if(J&&J.serialize&&J.serialize(x,F),x.host&&!q.IPV6ADDRESS.test(x.host)){if(F.domainHost||J&&J.domainHost)try{x.host=F.iri?L.toUnicode(x.host):L.toASCII(x.host.replace(q.PCT_ENCODED,z).toLowerCase())}catch($e){x.error=x.error||"Host's domain name can not be converted to "+(F.iri?"Unicode":"ASCII")+" via punycode: "+$e}}U(x,q),F.reference!=="suffix"&&x.scheme&&(X.push(x.scheme),X.push(":"));var ie=Re(x,F);if(ie!==void 0&&(F.reference!=="suffix"&&X.push("//"),X.push(ie),x.path&&x.path.charAt(0)!=="/"&&X.push("/")),x.path!==void 0){var ae=x.path;!F.absolutePath&&(!J||!J.absolutePath)&&(ae=lt(ae)),ie===void 0&&(ae=ae.replace(/^\/\//,"/%2F")),X.push(ae)}return x.query!==void 0&&(X.push("?"),X.push(x.query)),x.fragment!==void 0&&(X.push("#"),X.push(x.fragment)),X.join("")}function nr(x,F){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=arguments[3],J={};return X||(x=Le(nt(x,q),q),F=Le(nt(F,q),q)),q=q||{},!q.tolerant&&F.scheme?(J.scheme=F.scheme,J.userinfo=F.userinfo,J.host=F.host,J.port=F.port,J.path=lt(F.path||""),J.query=F.query):(F.userinfo!==void 0||F.host!==void 0||F.port!==void 0?(J.userinfo=F.userinfo,J.host=F.host,J.port=F.port,J.path=lt(F.path||""),J.query=F.query):(F.path?(F.path.charAt(0)==="/"?J.path=lt(F.path):((x.userinfo!==void 0||x.host!==void 0||x.port!==void 0)&&!x.path?J.path="/"+F.path:x.path?J.path=x.path.slice(0,x.path.lastIndexOf("/")+1)+F.path:J.path=F.path,J.path=lt(J.path)),J.query=F.query):(J.path=x.path,F.query!==void 0?J.query=F.query:J.query=x.query),J.userinfo=x.userinfo,J.host=x.host,J.port=x.port),J.scheme=x.scheme),J.fragment=F.fragment,J}function fr(x,F,q){var X=l({scheme:"null"},q);return nt(nr(Le(x,X),Le(F,X),X,!0),X)}function Dt(x,F){return typeof x=="string"?x=nt(Le(x,F),F):s(x)==="object"&&(x=Le(nt(x,F),F)),x}function zt(x,F,q){return typeof x=="string"?x=nt(Le(x,q),q):s(x)==="object"&&(x=nt(x,q)),typeof F=="string"?F=nt(Le(F,q),q):s(F)==="object"&&(F=nt(F,q)),x===F}function dr(x,F){return x&&x.toString().replace(!F||!F.iri?u.ESCAPE:f.ESCAPE,_)}function ft(x,F){return x&&x.toString().replace(!F||!F.iri?u.PCT_ENCODED:f.PCT_ENCODED,z)}var it={scheme:"http",domainHost:!0,parse:function(F,q){return F.host||(F.error=F.error||"HTTP URIs must have a host."),F},serialize:function(F,q){var X=String(F.scheme).toLowerCase()==="https";return(F.port===(X?443:80)||F.port==="")&&(F.port=void 0),F.path||(F.path="/"),F}},fs={scheme:"https",domainHost:it.domainHost,parse:it.parse,serialize:it.serialize};function ds(x){return typeof x.secure=="boolean"?x.secure:String(x.scheme).toLowerCase()==="wss"}var Nn={scheme:"ws",domainHost:!0,parse:function(F,q){var X=F;return X.secure=ds(X),X.resourceName=(X.path||"/")+(X.query?"?"+X.query:""),X.path=void 0,X.query=void 0,X},serialize:function(F,q){if((F.port===(ds(F)?443:80)||F.port==="")&&(F.port=void 0),typeof F.secure=="boolean"&&(F.scheme=F.secure?"wss":"ws",F.secure=void 0),F.resourceName){var X=F.resourceName.split("?"),J=h(X,2),ie=J[0],ae=J[1];F.path=ie&&ie!=="/"?ie:void 0,F.query=ae,F.resourceName=void 0}return F.fragment=void 0,F}},hs={scheme:"wss",domainHost:Nn.domainHost,parse:Nn.parse,serialize:Nn.serialize},di={},ps="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Zt="[0-9A-Fa-f]",Il=i(i("%[EFef]"+Zt+"%"+Zt+Zt+"%"+Zt+Zt)+"|"+i("%[89A-Fa-f]"+Zt+"%"+Zt+Zt)+"|"+i("%"+Zt+Zt)),qr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Fo="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Dl=n(Fo,'[\\"\\\\]'),Fl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ms=new RegExp(ps,"g"),ir=new RegExp(Il,"g"),gs=new RegExp(n("[^]",qr,"[\\.]",'[\\"]',Dl),"g"),hi=new RegExp(n("[^]",ps,Fl),"g"),ys=hi;function Vr(x){var F=z(x);return F.match(ms)?F:x}var ko={scheme:"mailto",parse:function(F,q){var X=F,J=X.to=X.path?X.path.split(","):[];if(X.path=void 0,X.query){for(var ie=!1,ae={},$e=X.query.split("&"),we=0,Be=$e.length;we<Be;++we){var me=$e[we].split("=");switch(me[0]){case"to":for(var De=me[1].split(","),ze=0,ce=De.length;ze<ce;++ze)J.push(De[ze]);break;case"subject":X.subject=ft(me[1],q);break;case"body":X.body=ft(me[1],q);break;default:ie=!0,ae[ft(me[0],q)]=ft(me[1],q);break}}ie&&(X.headers=ae)}X.query=void 0;for(var Oe=0,Qe=J.length;Oe<Qe;++Oe){var je=J[Oe].split("@");if(je[0]=ft(je[0]),q.unicodeSupport)je[1]=ft(je[1],q).toLowerCase();else try{je[1]=L.toASCII(ft(je[1],q).toLowerCase())}catch(Cr){X.error=X.error||"Email address's domain name can not be converted to ASCII via punycode: "+Cr}J[Oe]=je.join("@")}return X},serialize:function(F,q){var X=F,J=a(F.to);if(J){for(var ie=0,ae=J.length;ie<ae;++ie){var $e=String(J[ie]),we=$e.lastIndexOf("@"),Be=$e.slice(0,we).replace(ir,Vr).replace(ir,o).replace(gs,_),me=$e.slice(we+1);try{me=q.iri?L.toUnicode(me):L.toASCII(ft(me,q).toLowerCase())}catch(Oe){X.error=X.error||"Email address's domain name can not be converted to "+(q.iri?"Unicode":"ASCII")+" via punycode: "+Oe}J[ie]=Be+"@"+me}X.path=J.join(",")}var De=F.headers=F.headers||{};F.subject&&(De.subject=F.subject),F.body&&(De.body=F.body);var ze=[];for(var ce in De)De[ce]!==di[ce]&&ze.push(ce.replace(ir,Vr).replace(ir,o).replace(hi,_)+"="+De[ce].replace(ir,Vr).replace(ir,o).replace(ys,_));return ze.length&&(X.query=ze.join("&")),X}},kl=/^([^\:]+)\:(.*)/,Lo={scheme:"urn",parse:function(F,q){var X=F.path&&F.path.match(kl),J=F;if(X){var ie=q.scheme||J.scheme||"urn",ae=X[1].toLowerCase(),$e=X[2],we=ie+":"+(q.nid||ae),Be=P[we];J.nid=ae,J.nss=$e,J.path=void 0,Be&&(J=Be.parse(J,q))}else J.error=J.error||"URN can not be parsed.";return J},serialize:function(F,q){var X=q.scheme||F.scheme||"urn",J=F.nid,ie=X+":"+(q.nid||J),ae=P[ie];ae&&(F=ae.serialize(F,q));var $e=F,we=F.nss;return $e.path=(J||q.nid)+":"+we,$e}},Ll=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,jo={scheme:"urn:uuid",parse:function(F,q){var X=F;return X.uuid=X.nss,X.nss=void 0,!q.tolerant&&(!X.uuid||!X.uuid.match(Ll))&&(X.error=X.error||"UUID is not valid."),X},serialize:function(F,q){var X=F;return X.nss=(F.uuid||"").toLowerCase(),X}};P[it.scheme]=it,P[fs.scheme]=fs,P[Nn.scheme]=Nn,P[hs.scheme]=hs,P[ko.scheme]=ko,P[Lo.scheme]=Lo,P[jo.scheme]=jo,r.SCHEMES=P,r.pctEncChar=_,r.pctDecChars=z,r.parse=Le,r.removeDotSegments=lt,r.serialize=nt,r.resolveComponents=nr,r.resolve=fr,r.normalize=Dt,r.equal=zt,r.escapeComponent=dr,r.unescapeComponent=ft,Object.defineProperty(r,"__esModule",{value:!0})})})(kc,kc.exports);var Pg=kc.exports;Object.defineProperty(Cu,"__esModule",{value:!0});const Tg=Pg;Tg.code='require("ajv/dist/runtime/uri").default';Cu.default=Tg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=br;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ve;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=yo,i=vo,s=ni,o=Yt,a=ve,l=$t,c=go,u=Pe,f=AE,h=Cu,m=(A,w)=>new RegExp(A,w);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function S(A){var w,R,C,d,$,L,P,_,z,U,te,de,be,Fe,Ve,Le,Re,Xe,Bt,Rt,It,lt,nt,nr,fr;const Dt=A.strict,zt=(w=A.code)===null||w===void 0?void 0:w.optimize,dr=zt===!0||zt===void 0?1:zt||0,ft=(C=(R=A.code)===null||R===void 0?void 0:R.regExp)!==null&&C!==void 0?C:m,it=(d=A.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(L=($=A.strictSchema)!==null&&$!==void 0?$:Dt)!==null&&L!==void 0?L:!0,strictNumbers:(_=(P=A.strictNumbers)!==null&&P!==void 0?P:Dt)!==null&&_!==void 0?_:!0,strictTypes:(U=(z=A.strictTypes)!==null&&z!==void 0?z:Dt)!==null&&U!==void 0?U:"log",strictTuples:(de=(te=A.strictTuples)!==null&&te!==void 0?te:Dt)!==null&&de!==void 0?de:"log",strictRequired:(Fe=(be=A.strictRequired)!==null&&be!==void 0?be:Dt)!==null&&Fe!==void 0?Fe:!1,code:A.code?{...A.code,optimize:dr,regExp:ft}:{optimize:dr,regExp:ft},loopRequired:(Ve=A.loopRequired)!==null&&Ve!==void 0?Ve:p,loopEnum:(Le=A.loopEnum)!==null&&Le!==void 0?Le:p,meta:(Re=A.meta)!==null&&Re!==void 0?Re:!0,messages:(Xe=A.messages)!==null&&Xe!==void 0?Xe:!0,inlineRefs:(Bt=A.inlineRefs)!==null&&Bt!==void 0?Bt:!0,schemaId:(Rt=A.schemaId)!==null&&Rt!==void 0?Rt:"$id",addUsedSchema:(It=A.addUsedSchema)!==null&&It!==void 0?It:!0,validateSchema:(lt=A.validateSchema)!==null&&lt!==void 0?lt:!0,validateFormats:(nt=A.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(nr=A.unicodeRegExp)!==null&&nr!==void 0?nr:!0,int32range:(fr=A.int32range)!==null&&fr!==void 0?fr:!0,uriResolver:it}}class N{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...S(w)};const{es5:R,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:R,lines:C}),this.logger=H(w.logger);const d=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,w,"NOT SUPPORTED"),M.call(this,g,w,"DEPRECATED","warn"),this._metaOpts=V.call(this),w.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&T.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),b.call(this),w.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:R,schemaId:C}=this.opts;let d=f;C==="id"&&(d={...f},d.id=d.$id,delete d.$id),R&&w&&this.addMetaSchema(d,d[C],!1)}defaultMeta(){const{meta:w,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[R]||w:void 0}validate(w,R){let C;if(typeof w=="string"){if(C=this.getSchema(w),!C)throw new Error(`no schema with key or ref "${w}"`)}else C=this.compile(w);const d=C(R);return"$async"in C||(this.errors=C.errors),d}compile(w,R){const C=this._addSchema(w,R);return C.validate||this._compileSchemaEnv(C)}compileAsync(w,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return d.call(this,w,R);async function d(U,te){await $.call(this,U.$schema);const de=this._addSchema(U,te);return de.validate||L.call(this,de)}async function $(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function L(U){try{return this._compileSchemaEnv(U)}catch(te){if(!(te instanceof i.default))throw te;return P.call(this,te),await _.call(this,te.missingSchema),L.call(this,U)}}function P({missingSchema:U,missingRef:te}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${te} cannot be resolved`)}async function _(U){const te=await z.call(this,U);this.refs[U]||await $.call(this,te.$schema),this.refs[U]||this.addSchema(te,U,R)}async function z(U){const te=this._loading[U];if(te)return te;try{return await(this._loading[U]=C(U))}finally{delete this._loading[U]}}}addSchema(w,R,C,d=this.opts.validateSchema){if(Array.isArray(w)){for(const L of w)this.addSchema(L,void 0,C,d);return this}let $;if(typeof w=="object"){const{schemaId:L}=this.opts;if($=w[L],$!==void 0&&typeof $!="string")throw new Error(`schema ${L} must be string`)}return R=(0,l.normalizeId)(R||$),this._checkUnique(R),this.schemas[R]=this._addSchema(w,C,R,d,!0),this}addMetaSchema(w,R,C=this.opts.validateSchema){return this.addSchema(w,R,!0,C),this}validateSchema(w,R){if(typeof w=="boolean")return!0;let C;if(C=w.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(C,w);if(!d&&R){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return d}getSchema(w){let R;for(;typeof(R=O.call(this,w))=="string";)w=R;if(R===void 0){const{schemaId:C}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:C});if(R=o.resolveSchema.call(this,d,w),!R)return;this.refs[w]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=O.call(this,w);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const R=w;this._cache.delete(R);let C=w[this.opts.schemaId];return C&&(C=(0,l.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const R of w)this.addKeyword(R);return this}addKeyword(w,R){let C;if(typeof w=="string")C=w,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=C);else if(typeof w=="object"&&R===void 0){if(R=w,C=R.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,C,R),!R)return(0,u.eachItem)(C,$=>Q.call(this,$)),this;K.call(this,R);const d={...R,type:(0,c.getJSONTypes)(R.type),schemaType:(0,c.getJSONTypes)(R.schemaType)};return(0,u.eachItem)(C,d.type.length===0?$=>Q.call(this,$,d):$=>d.type.forEach(L=>Q.call(this,$,d,L))),this}getKeyword(w){const R=this.RULES.all[w];return typeof R=="object"?R.definition:!!R}removeKeyword(w){const{RULES:R}=this;delete R.keywords[w],delete R.all[w];for(const C of R.rules){const d=C.rules.findIndex($=>$.keyword===w);d>=0&&C.rules.splice(d,1)}return this}addFormat(w,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[w]=R,this}errorsText(w=this.errors,{separator:R=", ",dataVar:C="data"}={}){return!w||w.length===0?"No errors":w.map(d=>`${C}${d.instancePath} ${d.message}`).reduce((d,$)=>d+R+$)}$dataMetaSchema(w,R){const C=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const d of R){const $=d.split("/").slice(1);let L=w;for(const P of $)L=L[P];for(const P in C){const _=C[P];if(typeof _!="object")continue;const{$data:z}=_.definition,U=L[P];z&&U&&(L[P]=j(U))}}return w}_removeAllSchemas(w,R){for(const C in w){const d=w[C];(!R||R.test(C))&&(typeof d=="string"?delete w[C]:d&&!d.meta&&(this._cache.delete(d.schema),delete w[C]))}}_addSchema(w,R,C,d=this.opts.validateSchema,$=this.opts.addUsedSchema){let L;const{schemaId:P}=this.opts;if(typeof w=="object")L=w[P];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let _=this._cache.get(w);if(_!==void 0)return _;C=(0,l.normalizeId)(L||C);const z=l.getSchemaRefs.call(this,w,C);return _=new o.SchemaEnv({schema:w,schemaId:P,meta:R,baseId:C,localRefs:z}),this._cache.set(_.schema,_),$&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=_),d&&this.validateSchema(w,!0),_}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=R}}}e.default=N,N.ValidationError=n.default,N.MissingRefError=i.default;function M(A,w,R,C="error"){for(const d in A){const $=d;$ in w&&this.logger[C](`${R}: option ${d}. ${A[$]}`)}}function O(A){return A=(0,l.normalizeId)(A),this.schemas[A]||this.refs[A]}function b(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const w in A)this.addSchema(A[w],w)}function D(){for(const A in this.opts.formats){const w=this.opts.formats[A];w&&this.addFormat(A,w)}}function T(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in A){const R=A[w];R.keyword||(R.keyword=w),this.addKeyword(R)}}function V(){const A={...this.opts};for(const w of y)delete A[w];return A}const Y={log(){},warn(){},error(){}};function H(A){if(A===!1)return Y;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function G(A,w){const{RULES:R}=this;if((0,u.eachItem)(A,C=>{if(R.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!W.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function Q(A,w,R){var C;const d=w==null?void 0:w.post;if(R&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let L=d?$.post:$.rules.find(({type:_})=>_===R);if(L||(L={type:R,rules:[]},$.rules.push(L)),$.keywords[A]=!0,!w)return;const P={keyword:A,definition:{...w,type:(0,c.getJSONTypes)(w.type),schemaType:(0,c.getJSONTypes)(w.schemaType)}};w.before?Z.call(this,L,P,w.before):L.rules.push(P),$.all[A]=P,(C=w.implements)===null||C===void 0||C.forEach(_=>this.addKeyword(_))}function Z(A,w,R){const C=A.rules.findIndex(d=>d.keyword===R);C>=0?A.rules.splice(C,0,w):(A.rules.push(w),this.logger.warn(`rule ${R} is not defined`))}function K(A){let{metaSchema:w}=A;w!==void 0&&(A.$data&&this.opts.$data&&(w=j(w)),A.validateSchema=this.compile(w,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(A){return{anyOf:[A,I]}}})(tg);var Nu={},Ru={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});const CE={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Iu.default=CE;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.callRef=ii.getValidate=void 0;const NE=vo,xd=ge,Wt=ve,vi=Mr,qd=Yt,Wo=Pe,RE={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:l}=n,{root:c}=s;if((r==="#"||r==="#/")&&i===c.baseId)return f();const u=qd.resolveRef.call(l,c,i,r);if(u===void 0)throw new NE.default(n.opts.uriResolver,i,r);if(u instanceof qd.SchemaEnv)return h(u);return m(u);function f(){if(s===c)return ga(e,o,s,s.$async);const y=t.scopeValue("root",{ref:c});return ga(e,(0,Wt._)`${y}.validate`,c,c.$async)}function h(y){const E=Og(e,y);ga(e,E,y,y.$async)}function m(y){const E=t.scopeValue("schema",a.code.source===!0?{ref:y,code:(0,Wt.stringify)(y)}:{ref:y}),v=t.name("valid"),g=e.subschema({schema:y,dataTypes:[],schemaPath:Wt.nil,topSchemaRef:E,errSchemaPath:r},v);e.mergeEvaluated(g),e.ok(v)}}};function Og(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Wt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ii.getValidate=Og;function ga(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,c=l.passContext?vi.default.this:Wt.nil;n?u():f();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");const y=i.let("valid");i.try(()=>{i.code((0,Wt._)`await ${(0,xd.callValidateCode)(e,t,c)}`),m(t),o||i.assign(y,!0)},E=>{i.if((0,Wt._)`!(${E} instanceof ${s.ValidationError})`,()=>i.throw(E)),h(E),o||i.assign(y,!1)}),e.ok(y)}function f(){e.result((0,xd.callValidateCode)(e,t,c),()=>m(t),()=>h(t))}function h(y){const E=(0,Wt._)`${y}.errors`;i.assign(vi.default.vErrors,(0,Wt._)`${vi.default.vErrors} === null ? ${E} : ${vi.default.vErrors}.concat(${E})`),i.assign(vi.default.errors,(0,Wt._)`${vi.default.vErrors}.length`)}function m(y){var E;if(!s.opts.unevaluated)return;const v=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Wo.mergeEvaluated.props(i,v.props,s.props));else{const g=i.var("props",(0,Wt._)`${y}.evaluated.props`);s.props=Wo.mergeEvaluated.props(i,g,s.props,Wt.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Wo.mergeEvaluated.items(i,v.items,s.items));else{const g=i.var("items",(0,Wt._)`${y}.evaluated.items`);s.items=Wo.mergeEvaluated.items(i,g,s.items,Wt.Name)}}}ii.callRef=ga;ii.default=RE;Object.defineProperty(Ru,"__esModule",{value:!0});const IE=Iu,DE=ii,FE=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",IE.default,DE.default];Ru.default=FE;var Du={},Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});const Ca=ve,ln=Ca.operators,Na={maximum:{okStr:"<=",ok:ln.LTE,fail:ln.GT},minimum:{okStr:">=",ok:ln.GTE,fail:ln.LT},exclusiveMaximum:{okStr:"<",ok:ln.LT,fail:ln.GTE},exclusiveMinimum:{okStr:">",ok:ln.GT,fail:ln.LTE}},kE={message:({keyword:e,schemaCode:t})=>(0,Ca.str)`must be ${Na[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Ca._)`{comparison: ${Na[e].okStr}, limit: ${t}}`},LE={keyword:Object.keys(Na),type:"number",schemaType:"number",$data:!0,error:kE,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Ca._)`${r} ${Na[t].fail} ${n} || isNaN(${r})`)}};Fu.default=LE;var ku={};Object.defineProperty(ku,"__esModule",{value:!0});const qs=ve,jE={message:({schemaCode:e})=>(0,qs.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,qs._)`{multipleOf: ${e}}`},ME={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:jE,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,qs._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,qs._)`${o} !== parseInt(${o})`;e.fail$data((0,qs._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};ku.default=ME;var Lu={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});function Ag(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}ju.default=Ag;Ag.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Lu,"__esModule",{value:!0});const zn=ve,UE=Pe,xE=ju,qE={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,zn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,zn._)`{limit: ${e}}`},VE={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:qE,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?zn.operators.GT:zn.operators.LT,o=i.opts.unicode===!1?(0,zn._)`${r}.length`:(0,zn._)`${(0,UE.useFunc)(e.gen,xE.default)}(${r})`;e.fail$data((0,zn._)`${o} ${s} ${n}`)}};Lu.default=VE;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});const BE=ge,Ra=ve,zE={message:({schemaCode:e})=>(0,Ra.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Ra._)`{pattern: ${e}}`},HE={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:zE,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,Ra._)`(new RegExp(${i}, ${o}))`:(0,BE.usePattern)(e,n);e.fail$data((0,Ra._)`!${a}.test(${t})`)}};Mu.default=HE;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});const Vs=ve,GE={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Vs.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Vs._)`{limit: ${e}}`},WE={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:GE,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Vs.operators.GT:Vs.operators.LT;e.fail$data((0,Vs._)`Object.keys(${r}).length ${i} ${n}`)}};Uu.default=WE;var xu={};Object.defineProperty(xu,"__esModule",{value:!0});const Es=ge,Bs=ve,KE=Pe,YE={message:({params:{missingProperty:e}})=>(0,Bs.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Bs._)`{missingProperty: ${e}}`},JE={keyword:"required",type:"object",schemaType:"array",$data:!0,error:YE,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const l=r.length>=a.loopRequired;if(o.allErrors?c():u(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:y}=e.it;for(const E of r)if((m==null?void 0:m[E])===void 0&&!y.has(E)){const v=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${E}" is not defined at "${v}" (strictRequired)`;(0,KE.checkStrictMode)(o,g,o.opts.strictRequired)}}function c(){if(l||s)e.block$data(Bs.nil,f);else for(const m of r)(0,Es.checkReportMissingProp)(e,m)}function u(){const m=t.let("missing");if(l||s){const y=t.let("valid",!0);e.block$data(y,()=>h(m,y)),e.ok(y)}else t.if((0,Es.checkMissingProp)(e,r,m)),(0,Es.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Es.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function h(m,y){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(y,(0,Es.propertyInData)(t,i,m,a.ownProperties)),t.if((0,Bs.not)(y),()=>{e.error(),t.break()})},Bs.nil)}}};xu.default=JE;var qu={};Object.defineProperty(qu,"__esModule",{value:!0});const zs=ve,XE={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,zs.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,zs._)`{limit: ${e}}`},QE={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:XE,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?zs.operators.GT:zs.operators.LT;e.fail$data((0,zs._)`${r}.length ${i} ${n}`)}};qu.default=QE;var Vu={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});const Cg=Za;Cg.code='require("ajv/dist/runtime/equal").default';_o.default=Cg;Object.defineProperty(Vu,"__esModule",{value:!0});const Vl=go,yt=ve,ZE=Pe,ew=_o,tw={message:({params:{i:e,j:t}})=>(0,yt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,yt._)`{i: ${e}, j: ${t}}`},rw={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:tw,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;const l=t.let("valid"),c=s.items?(0,Vl.getSchemaTypes)(s.items):[];e.block$data(l,u,(0,yt._)`${o} === false`),e.ok(l);function u(){const y=t.let("i",(0,yt._)`${r}.length`),E=t.let("j");e.setParams({i:y,j:E}),t.assign(l,!0),t.if((0,yt._)`${y} > 1`,()=>(f()?h:m)(y,E))}function f(){return c.length>0&&!c.some(y=>y==="object"||y==="array")}function h(y,E){const v=t.name("item"),g=(0,Vl.checkDataTypes)(c,v,a.opts.strictNumbers,Vl.DataType.Wrong),p=t.const("indices",(0,yt._)`{}`);t.for((0,yt._)`;${y}--;`,()=>{t.let(v,(0,yt._)`${r}[${y}]`),t.if(g,(0,yt._)`continue`),c.length>1&&t.if((0,yt._)`typeof ${v} == "string"`,(0,yt._)`${v} += "_"`),t.if((0,yt._)`typeof ${p}[${v}] == "number"`,()=>{t.assign(E,(0,yt._)`${p}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,yt._)`${p}[${v}] = ${y}`)})}function m(y,E){const v=(0,ZE.useFunc)(t,ew.default),g=t.name("outer");t.label(g).for((0,yt._)`;${y}--;`,()=>t.for((0,yt._)`${E} = ${y}; ${E}--;`,()=>t.if((0,yt._)`${v}(${r}[${y}], ${r}[${E}])`,()=>{e.error(),t.assign(l,!1).break(g)})))}}};Vu.default=rw;var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});const Lc=ve,nw=Pe,iw=_o,sw={message:"must be equal to constant",params:({schemaCode:e})=>(0,Lc._)`{allowedValue: ${e}}`},ow={keyword:"const",$data:!0,error:sw,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Lc._)`!${(0,nw.useFunc)(t,iw.default)}(${r}, ${i})`):e.fail((0,Lc._)`${s} !== ${r}`)}};Bu.default=ow;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});const ks=ve,aw=Pe,lw=_o,cw={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ks._)`{allowedValues: ${e}}`},uw={keyword:"enum",schemaType:"array",$data:!0,error:cw,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let l;const c=()=>l??(l=(0,aw.useFunc)(t,lw.default));let u;if(a||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);u=(0,ks.or)(...i.map((y,E)=>h(m,E)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",s,m=>t.if((0,ks._)`${c()}(${r}, ${m})`,()=>t.assign(u,!0).break()))}function h(m,y){const E=i[y];return typeof E=="object"&&E!==null?(0,ks._)`${c()}(${r}, ${m}[${y}])`:(0,ks._)`${r} === ${E}`}}};zu.default=uw;Object.defineProperty(Du,"__esModule",{value:!0});const fw=Fu,dw=ku,hw=Lu,pw=Mu,mw=Uu,gw=xu,yw=qu,vw=Vu,_w=Bu,$w=zu,Ew=[fw.default,dw.default,hw.default,pw.default,mw.default,gw.default,yw.default,vw.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},_w.default,$w.default];Du.default=Ew;var Hu={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.validateAdditionalItems=void 0;const Hn=ve,jc=Pe,ww={message:({params:{len:e}})=>(0,Hn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Hn._)`{limit: ${e}}`},Sw={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:ww,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,jc.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ng(e,n)}};function Ng(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,Hn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Hn._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,jc.alwaysValidSchema)(o,n)){const c=r.var("valid",(0,Hn._)`${a} <= ${t.length}`);r.if((0,Hn.not)(c),()=>l(c)),e.ok(c)}function l(c){r.forRange("i",t.length,a,u=>{e.subschema({keyword:s,dataProp:u,dataPropType:jc.Type.Num},c),o.allErrors||r.if((0,Hn.not)(c),()=>r.break())})}}is.validateAdditionalItems=Ng;is.default=Sw;var Gu={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.validateTuple=void 0;const Vd=ve,ya=Pe,bw=ge,Pw={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Rg(e,"additionalItems",t);r.items=!0,!(0,ya.alwaysValidSchema)(r,t)&&e.ok((0,bw.validateArray)(e))}};function Rg(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;u(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=ya.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),c=n.const("len",(0,Vd._)`${s}.length`);r.forEach((f,h)=>{(0,ya.alwaysValidSchema)(a,f)||(n.if((0,Vd._)`${c} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function u(f){const{opts:h,errSchemaPath:m}=a,y=r.length,E=y===f.minItems&&(y===f.maxItems||f[t]===!1);if(h.strictTuples&&!E){const v=`"${o}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,ya.checkStrictMode)(a,v,h.strictTuples)}}}ss.validateTuple=Rg;ss.default=Pw;Object.defineProperty(Gu,"__esModule",{value:!0});const Tw=ss,Ow={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Tw.validateTuple)(e,"items")};Gu.default=Ow;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});const Bd=ve,Aw=Pe,Cw=ge,Nw=is,Rw={message:({params:{len:e}})=>(0,Bd.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Bd._)`{limit: ${e}}`},Iw={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Rw,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,Aw.alwaysValidSchema)(n,t)&&(i?(0,Nw.validateAdditionalItems)(e,i):e.ok((0,Cw.validateArray)(e)))}};Wu.default=Iw;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});const cr=ve,Ko=Pe,Dw={message:({params:{min:e,max:t}})=>t===void 0?(0,cr.str)`must contain at least ${e} valid item(s)`:(0,cr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,cr._)`{minContains: ${e}}`:(0,cr._)`{minContains: ${e}, maxContains: ${t}}`},Fw={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Dw,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,a;const{minContains:l,maxContains:c}=n;s.opts.next?(o=l===void 0?1:l,a=c):o=1;const u=t.const("len",(0,cr._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Ko.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Ko.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Ko.alwaysValidSchema)(s,r)){let E=(0,cr._)`${u} >= ${o}`;a!==void 0&&(E=(0,cr._)`${E} && ${u} <= ${a}`),e.pass(E);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?m(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,cr._)`${i}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){const E=t.name("_valid"),v=t.let("count",0);m(E,()=>t.if(E,()=>y(v)))}function m(E,v){t.forRange("i",0,u,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:Ko.Type.Num,compositeRule:!0},E),v()})}function y(E){t.code((0,cr._)`${E}++`),a===void 0?t.if((0,cr._)`${E} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,cr._)`${E} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,cr._)`${E} >= ${o}`,()=>t.assign(f,!0)))}}};Ku.default=Fw;var Ig={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ve,r=Pe,n=ge;e.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const f=c===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:f}})=>(0,t._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${u}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,u]=s(l);o(l,c),a(l,u)}};function s({schema:l}){const c={},u={};for(const f in l){if(f==="__proto__")continue;const h=Array.isArray(l[f])?c:u;h[f]=l[f]}return[c,u]}function o(l,c=l.schema){const{gen:u,data:f,it:h}=l;if(Object.keys(c).length===0)return;const m=u.let("missing");for(const y in c){const E=c[y];if(E.length===0)continue;const v=(0,n.propertyInData)(u,f,y,h.opts.ownProperties);l.setParams({property:y,depsCount:E.length,deps:E.join(", ")}),h.allErrors?u.if(v,()=>{for(const g of E)(0,n.checkReportMissingProp)(l,g)}):(u.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,E,m)})`),(0,n.reportMissingProp)(l,m),u.else())}}e.validatePropertyDeps=o;function a(l,c=l.schema){const{gen:u,data:f,keyword:h,it:m}=l,y=u.name("valid");for(const E in c)(0,r.alwaysValidSchema)(m,c[E])||(u.if((0,n.propertyInData)(u,f,E,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:E},y);l.mergeValidEvaluated(v,y)},()=>u.var(y,!0)),l.ok(y))}e.validateSchemaDeps=a,e.default=i})(Ig);var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});const Dg=ve,kw=Pe,Lw={message:"property name must be valid",params:({params:e})=>(0,Dg._)`{propertyName: ${e.propertyName}}`},jw={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Lw,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,kw.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,Dg.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Yu.default=jw;var rl={};Object.defineProperty(rl,"__esModule",{value:!0});const Yo=ge,vr=ve,Mw=Mr,Jo=Pe,Uw={message:"must NOT have additional properties",params:({params:e})=>(0,vr._)`{additionalProperty: ${e.additionalProperty}}`},xw={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Uw,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,Jo.alwaysValidSchema)(o,r))return;const c=(0,Yo.allSchemaProperties)(n.properties),u=(0,Yo.allSchemaProperties)(n.patternProperties);f(),e.ok((0,vr._)`${s} === ${Mw.default.errors}`);function f(){t.forIn("key",i,v=>{!c.length&&!u.length?y(v):t.if(h(v),()=>y(v))})}function h(v){let g;if(c.length>8){const p=(0,Jo.schemaRefOrVal)(o,n.properties,"properties");g=(0,Yo.isOwnProperty)(t,p,v)}else c.length?g=(0,vr.or)(...c.map(p=>(0,vr._)`${v} === ${p}`)):g=vr.nil;return u.length&&(g=(0,vr.or)(g,...u.map(p=>(0,vr._)`${(0,Yo.usePattern)(e,p)}.test(${v})`))),(0,vr.not)(g)}function m(v){t.code((0,vr._)`delete ${i}[${v}]`)}function y(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Jo.alwaysValidSchema)(o,r)){const g=t.name("valid");l.removeAdditional==="failing"?(E(v,g,!1),t.if((0,vr.not)(g),()=>{e.reset(),m(v)})):(E(v,g),a||t.if((0,vr.not)(g),()=>t.break()))}}function E(v,g,p){const S={keyword:"additionalProperties",dataProp:v,dataPropType:Jo.Type.Str};p===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,g)}}};rl.default=xw;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});const qw=br,zd=ge,Bl=Pe,Hd=rl,Vw={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Hd.default.code(new qw.KeywordCxt(s,Hd.default,"additionalProperties"));const o=(0,zd.allSchemaProperties)(r);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Bl.mergeEvaluated.props(t,(0,Bl.toHash)(o),s.props));const a=o.filter(f=>!(0,Bl.alwaysValidSchema)(s,r[f]));if(a.length===0)return;const l=t.name("valid");for(const f of a)c(f)?u(f):(t.if((0,zd.propertyInData)(t,i,f,s.opts.ownProperties)),u(f),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(l);function c(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};Ju.default=Vw;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});const Gd=ge,Xo=ve,Wd=Pe,Kd=Pe,Bw={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,Gd.allSchemaProperties)(r),l=a.filter(E=>(0,Wd.alwaysValidSchema)(s,r[E]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const c=o.strictSchema&&!o.allowMatchingProperties&&i.properties,u=t.name("valid");s.props!==!0&&!(s.props instanceof Xo.Name)&&(s.props=(0,Kd.evaluatedPropsToName)(t,s.props));const{props:f}=s;h();function h(){for(const E of a)c&&m(E),s.allErrors?y(E):(t.var(u,!0),y(E),t.if(u))}function m(E){for(const v in c)new RegExp(E).test(v)&&(0,Wd.checkStrictMode)(s,`property ${v} matches pattern ${E} (use allowMatchingProperties)`)}function y(E){t.forIn("key",n,v=>{t.if((0,Xo._)`${(0,Gd.usePattern)(e,E)}.test(${v})`,()=>{const g=l.includes(E);g||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:v,dataPropType:Kd.Type.Str},u),s.opts.unevaluated&&f!==!0?t.assign((0,Xo._)`${f}[${v}]`,!0):!g&&!s.allErrors&&t.if((0,Xo.not)(u),()=>t.break())})})}}};Xu.default=Bw;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});const zw=Pe,Hw={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,zw.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Qu.default=Hw;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});const Gw=ge,Ww={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Gw.validateUnion,error:{message:"must match a schema in anyOf"}};Zu.default=Ww;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});const va=ve,Kw=Pe,Yw={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,va._)`{passingSchemas: ${e.passing}}`},Jw={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Yw,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(c),e.result(o,()=>e.reset(),()=>e.error(!0));function c(){s.forEach((u,f)=>{let h;(0,Kw.alwaysValidSchema)(i,u)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&t.if((0,va._)`${l} && ${o}`).assign(o,!1).assign(a,(0,va._)`[${a}, ${f}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,f),h&&e.mergeEvaluated(h,va.Name)})})}}};ef.default=Jw;var tf={};Object.defineProperty(tf,"__esModule",{value:!0});const Xw=Pe,Qw={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,Xw.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};tf.default=Qw;var rf={};Object.defineProperty(rf,"__esModule",{value:!0});const Ia=ve,Fg=Pe,Zw={message:({params:e})=>(0,Ia.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Ia._)`{failingKeyword: ${e.ifClause}}`},eS={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Zw,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Fg.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Yd(n,"then"),s=Yd(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&s){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(a,c("then",u),c("else",u))}else i?t.if(a,c("then")):t.if((0,Ia.not)(a),c("else"));e.pass(o,()=>e.error(!0));function l(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(u)}function c(u,f){return()=>{const h=e.subschema({keyword:u},a);t.assign(o,a),e.mergeValidEvaluated(h,o),f?t.assign(f,(0,Ia._)`${u}`):e.setParams({ifClause:u})}}}};function Yd(e,t){const r=e.schema[t];return r!==void 0&&!(0,Fg.alwaysValidSchema)(e,r)}rf.default=eS;var nf={};Object.defineProperty(nf,"__esModule",{value:!0});const tS=Pe,rS={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,tS.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};nf.default=rS;Object.defineProperty(Hu,"__esModule",{value:!0});const nS=is,iS=Gu,sS=ss,oS=Wu,aS=Ku,lS=Ig,cS=Yu,uS=rl,fS=Ju,dS=Xu,hS=Qu,pS=Zu,mS=ef,gS=tf,yS=rf,vS=nf;function _S(e=!1){const t=[hS.default,pS.default,mS.default,gS.default,yS.default,vS.default,cS.default,uS.default,lS.default,fS.default,dS.default];return e?t.push(iS.default,oS.default):t.push(nS.default,sS.default),t.push(aS.default),t}Hu.default=_S;var sf={},of={};Object.defineProperty(of,"__esModule",{value:!0});const tt=ve,$S={message:({schemaCode:e})=>(0,tt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,tt._)`{format: ${e}}`},ES={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:$S,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:c,schemaEnv:u,self:f}=a;if(!l.validateFormats)return;i?h():m();function h(){const y=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),E=r.const("fDef",(0,tt._)`${y}[${o}]`),v=r.let("fType"),g=r.let("format");r.if((0,tt._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(v,(0,tt._)`${E}.type || "string"`).assign(g,(0,tt._)`${E}.validate`),()=>r.assign(v,(0,tt._)`"string"`).assign(g,E)),e.fail$data((0,tt.or)(p(),S()));function p(){return l.strictSchema===!1?tt.nil:(0,tt._)`${o} && !${g}`}function S(){const N=u.$async?(0,tt._)`(${E}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,tt._)`${g}(${n})`,M=(0,tt._)`(typeof ${g} == "function" ? ${N} : ${g}.test(${n}))`;return(0,tt._)`${g} && ${g} !== true && ${v} === ${t} && !${M}`}}function m(){const y=f.formats[s];if(!y){p();return}if(y===!0)return;const[E,v,g]=S(y);E===t&&e.pass(N());function p(){if(l.strictSchema===!1){f.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function S(M){const O=M instanceof RegExp?(0,tt.regexpCode)(M):l.code.formats?(0,tt._)`${l.code.formats}${(0,tt.getProperty)(s)}`:void 0,b=r.scopeValue("formats",{key:s,ref:M,code:O});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,tt._)`${b}.validate`]:["string",M,b]}function N(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!u.$async)throw new Error("async format in sync schema");return(0,tt._)`await ${g}(${n})`}return typeof v=="function"?(0,tt._)`${g}(${n})`:(0,tt._)`${g}.test(${n})`}}}};of.default=ES;Object.defineProperty(sf,"__esModule",{value:!0});const wS=of,SS=[wS.default];sf.default=SS;var zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.contentVocabulary=zi.metadataVocabulary=void 0;zi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];zi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Nu,"__esModule",{value:!0});const bS=Ru,PS=Du,TS=Hu,OS=sf,Jd=zi,AS=[bS.default,PS.default,(0,TS.default)(),OS.default,Jd.metadataVocabulary,Jd.contentVocabulary];Nu.default=AS;var af={},kg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(kg);Object.defineProperty(af,"__esModule",{value:!0});const Ai=ve,Mc=kg,Xd=Yt,CS=Pe,NS={message:({params:{discrError:e,tagName:t}})=>e===Mc.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ai._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},RS={keyword:"discriminator",type:"object",schemaType:"object",error:NS,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),c=t.const("tag",(0,Ai._)`${r}${(0,Ai.getProperty)(a)}`);t.if((0,Ai._)`typeof ${c} == "string"`,()=>u(),()=>e.error(!1,{discrError:Mc.DiscrError.Tag,tag:c,tagName:a})),e.ok(l);function u(){const m=h();t.if(!1);for(const y in m)t.elseIf((0,Ai._)`${c} === ${y}`),t.assign(l,f(m[y]));t.else(),e.error(!1,{discrError:Mc.DiscrError.Mapping,tag:c,tagName:a}),t.endIf()}function f(m){const y=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:m},y);return e.mergeEvaluated(E,Ai.Name),y}function h(){var m;const y={},E=g(i);let v=!0;for(let N=0;N<o.length;N++){let M=o[N];M!=null&&M.$ref&&!(0,CS.schemaHasRulesButRef)(M,s.self.RULES)&&(M=Xd.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,M==null?void 0:M.$ref),M instanceof Xd.SchemaEnv&&(M=M.schema));const O=(m=M==null?void 0:M.properties)===null||m===void 0?void 0:m[a];if(typeof O!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(E||g(M)),p(O,N)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return y;function g({required:N}){return Array.isArray(N)&&N.includes(a)}function p(N,M){if(N.const)S(N.const,M);else if(N.enum)for(const O of N.enum)S(O,M);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(N,M){if(typeof N!="string"||N in y)throw new Error(`discriminator: "${a}" values must be unique strings`);y[N]=M}}}};af.default=RS;const IS="http://json-schema.org/draft-07/schema#",DS="http://json-schema.org/draft-07/schema#",FS="Core schema meta-schema",kS={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},LS=["object","boolean"],jS={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},MS={$schema:IS,$id:DS,title:FS,definitions:kS,type:LS,properties:jS,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=tg,n=Nu,i=af,s=MS,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(y,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=br;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=ve;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=yo;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=vo;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Ic,Ic.exports);var US=Ic.exports,Uc={exports:{}},Lg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(T,V){return{validate:T,compare:V}}e.fullFormats={date:t(s,o),time:t(l,c),"date-time":t(f,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:E,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:D,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:N},int64:{type:"number",validate:M},float:{type:"number",validate:O},double:{type:"number",validate:O},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(T){return T%4===0&&(T%100!==0||T%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(T){const V=n.exec(T);if(!V)return!1;const Y=+V[1],H=+V[2],W=+V[3];return H>=1&&H<=12&&W>=1&&W<=(H===2&&r(Y)?29:i[H])}function o(T,V){if(T&&V)return T>V?1:T<V?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(T,V){const Y=a.exec(T);if(!Y)return!1;const H=+Y[1],W=+Y[2],G=+Y[3],Q=Y[5];return(H<=23&&W<=59&&G<=59||H===23&&W===59&&G===60)&&(!V||Q!=="")}function c(T,V){if(!(T&&V))return;const Y=a.exec(T),H=a.exec(V);if(Y&&H)return T=Y[1]+Y[2]+Y[3]+(Y[4]||""),V=H[1]+H[2]+H[3]+(H[4]||""),T>V?1:T<V?-1:0}const u=/t|\s/i;function f(T){const V=T.split(u);return V.length===2&&s(V[0])&&l(V[1],!0)}function h(T,V){if(!(T&&V))return;const[Y,H]=T.split(u),[W,G]=V.split(u),Q=o(Y,W);if(Q!==void 0)return Q||c(H,G)}const m=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function E(T){return m.test(T)&&y.test(T)}const v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(T){return v.lastIndex=0,v.test(T)}const p=-(2**31),S=2**31-1;function N(T){return Number.isInteger(T)&&T<=S&&T>=p}function M(T){return Number.isInteger(T)}function O(){return!0}const b=/[^\\]\\Z/;function D(T){if(b.test(T))return!1;try{return new RegExp(T),!0}catch{return!1}}})(Lg);var jg={},xc={exports:{}},Mg={},Pr={},Hi={},$o={},pe={},ro={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,N)=>`${S}${N}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,N)=>(N instanceof r&&(S[N.str]=(S[N.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(g,...p){const S=[g[0]];let N=0;for(;N<p.length;)a(S,p[N]),S.push(g[++N]);return new n(S)}e._=i;const s=new n("+");function o(g,...p){const S=[m(g[0])];let N=0;for(;N<p.length;)S.push(s),a(S,p[N]),S.push(s,m(g[++N]));return l(S),new n(S)}e.str=o;function a(g,p){p instanceof n?g.push(...p._items):p instanceof r?g.push(p):g.push(f(p))}e.addCodeArg=a;function l(g){let p=1;for(;p<g.length-1;){if(g[p]===s){const S=c(g[p-1],g[p+1]);if(S!==void 0){g.splice(p-1,3,S);continue}g[p++]="+"}p++}}function c(g,p){if(p==='""')return g;if(g==='""')return p;if(typeof g=="string")return p instanceof r||g[g.length-1]!=='"'?void 0:typeof p!="string"?`${g.slice(0,-1)}${p}"`:p[0]==='"'?g.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(g instanceof r))return`"${g}${p.slice(1)}`}function u(g,p){return p.emptyStr()?g:g.emptyStr()?p:o`${g}${p}`}e.strConcat=u;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:m(Array.isArray(g)?g.join(","):g)}function h(g){return new n(m(g))}e.stringify=h;function m(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function y(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new n(`.${g}`):i`[${g}]`}e.getProperty=y;function E(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=E;function v(g){return new n(g.toString())}e.regexpCode=v})(ro);var qc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ro;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=i;class s extends t.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:f}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(c),{prefix:m}=h,y=(f=u.key)!==null&&f!==void 0?f:u.ref;let E=this._values[m];if(E){const p=E.get(y);if(p)return p}else E=this._values[m]=new Map;E.set(y,h);const v=this._scope[m]||(this._scope[m]=[]),g=v.length;return v[g]=u.ref,h.setValue(u,{property:m,itemIndex:g}),h}getValue(c,u){const f=this._values[c];if(f)return f.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${c}${f.scopePath}`})}scopeCode(c=this._values,u,f){return this._reduceValues(c,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,f)}_reduceValues(c,u,f={},h){let m=t.nil;for(const y in c){const E=c[y];if(!E)continue;const v=f[y]=f[y]||new Map;E.forEach(g=>{if(v.has(g))return;v.set(g,n.Started);let p=u(g);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${S} ${g} = ${p};${this.opts._n}`}else if(p=h==null?void 0:h(g))m=(0,t._)`${m}${p}${this.opts._n}`;else throw new r(g);v.set(g,n.Completed)})}return m}}e.ValueScope=a})(qc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ro,r=qc;var n=ro;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=qc;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(d,$){return this}}class o extends s{constructor(d,$,L){super(),this.varKind=d,this.name=$,this.rhs=L}render({es5:d,_n:$}){const L=d?r.varKinds.var:this.varKind,P=this.rhs===void 0?"":` = ${this.rhs}`;return`${L} ${this.name}${P};`+$}optimizeNames(d,$){if(d[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,d,$)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(d,$,L){super(),this.lhs=d,this.rhs=$,this.sideEffects=L}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,$){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=G(this.rhs,d,$),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(d,this.rhs)}}class l extends a{constructor(d,$,L,P){super(d,L,P),this.op=$}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class c extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class u extends s{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class f extends s{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends s{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,$){return this.code=G(this.code,d,$),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce(($,L)=>$+L.render(d),"")}optimizeNodes(){const{nodes:d}=this;let $=d.length;for(;$--;){const L=d[$].optimizeNodes();Array.isArray(L)?d.splice($,1,...L):L?d[$]=L:d.splice($,1)}return d.length>0?this:void 0}optimizeNames(d,$){const{nodes:L}=this;let P=L.length;for(;P--;){const _=L[P];_.optimizeNames(d,$)||(Q(d,_.names),L.splice(P,1))}return L.length>0?this:void 0}get names(){return this.nodes.reduce((d,$)=>H(d,$.names),{})}}class y extends m{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class E extends m{}class v extends y{}v.kind="else";class g extends y{constructor(d,$){super($),this.condition=d}render(d){let $=`if(${this.condition})`+super.render(d);return this.else&&($+="else "+this.else.render(d)),$}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let $=this.else;if($){const L=$.optimizeNodes();$=this.else=Array.isArray(L)?new v(L):L}if($)return d===!1?$ instanceof g?$:$.nodes:this.nodes.length?this:new g(Z(d),$ instanceof g?[$]:$.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,$){var L;if(this.else=(L=this.else)===null||L===void 0?void 0:L.optimizeNames(d,$),!!(super.optimizeNames(d,$)||this.else))return this.condition=G(this.condition,d,$),this}get names(){const d=super.names;return W(d,this.condition),this.else&&H(d,this.else.names),d}}g.kind="if";class p extends y{}p.kind="for";class S extends p{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iteration=G(this.iteration,d,$),this}get names(){return H(super.names,this.iteration.names)}}class N extends p{constructor(d,$,L,P){super(),this.varKind=d,this.name=$,this.from=L,this.to=P}render(d){const $=d.es5?r.varKinds.var:this.varKind,{name:L,from:P,to:_}=this;return`for(${$} ${L}=${P}; ${L}<${_}; ${L}++)`+super.render(d)}get names(){const d=W(super.names,this.from);return W(d,this.to)}}class M extends p{constructor(d,$,L,P){super(),this.loop=d,this.varKind=$,this.name=L,this.iterable=P}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iterable=G(this.iterable,d,$),this}get names(){return H(super.names,this.iterable.names)}}class O extends y{constructor(d,$,L){super(),this.name=d,this.args=$,this.async=L}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}O.kind="func";class b extends m{render(d){return"return "+super.render(d)}}b.kind="return";class D extends y{render(d){let $="try"+super.render(d);return this.catch&&($+=this.catch.render(d)),this.finally&&($+=this.finally.render(d)),$}optimizeNodes(){var d,$;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(d,$){var L,P;return super.optimizeNames(d,$),(L=this.catch)===null||L===void 0||L.optimizeNames(d,$),(P=this.finally)===null||P===void 0||P.optimizeNames(d,$),this}get names(){const d=super.names;return this.catch&&H(d,this.catch.names),this.finally&&H(d,this.finally.names),d}}class T extends y{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}T.kind="catch";class V extends y{render(d){return"finally"+super.render(d)}}V.kind="finally";class Y{constructor(d,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,$){const L=this._extScope.value(d,$);return(this._values[L.prefix]||(this._values[L.prefix]=new Set)).add(L),L}getScopeValue(d,$){return this._extScope.getValue(d,$)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,$,L,P){const _=this._scope.toName($);return L!==void 0&&P&&(this._constants[_.str]=L),this._leafNode(new o(d,_,L)),_}const(d,$,L){return this._def(r.varKinds.const,d,$,L)}let(d,$,L){return this._def(r.varKinds.let,d,$,L)}var(d,$,L){return this._def(r.varKinds.var,d,$,L)}assign(d,$,L){return this._leafNode(new a(d,$,L))}add(d,$){return this._leafNode(new l(d,e.operators.ADD,$))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const $=["{"];for(const[L,P]of d)$.length>1&&$.push(","),$.push(L),(L!==P||this.opts.es5)&&($.push(":"),(0,t.addCodeArg)($,P));return $.push("}"),new t._Code($)}if(d,$,L){if(this._blockNode(new g(d)),$&&L)this.code($).else().code(L).endIf();else if($)this.code($).endIf();else if(L)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new g(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(d,$){return this._blockNode(d),$&&this.code($).endFor(),this}for(d,$){return this._for(new S(d),$)}forRange(d,$,L,P,_=this.opts.es5?r.varKinds.var:r.varKinds.let){const z=this._scope.toName(d);return this._for(new N(_,z,$,L),()=>P(z))}forOf(d,$,L,P=r.varKinds.const){const _=this._scope.toName(d);if(this.opts.es5){const z=$ instanceof t.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,t._)`${z}.length`,U=>{this.var(_,(0,t._)`${z}[${U}]`),L(_)})}return this._for(new M("of",P,_,$),()=>L(_))}forIn(d,$,L,P=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${$})`,L);const _=this._scope.toName(d);return this._for(new M("in",P,_,$),()=>L(_))}endFor(){return this._endBlockNode(p)}label(d){return this._leafNode(new c(d))}break(d){return this._leafNode(new u(d))}return(d){const $=new b;if(this._blockNode($),this.code(d),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(d,$,L){if(!$&&!L)throw new Error('CodeGen: "try" without "catch" and "finally"');const P=new D;if(this._blockNode(P),this.code(d),$){const _=this.name("e");this._currNode=P.catch=new T(_),$(_)}return L&&(this._currNode=P.finally=new V,this.code(L)),this._endBlockNode(T,V)}throw(d){return this._leafNode(new f(d))}block(d,$){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock($),this}endBlock(d){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const L=this._nodes.length-$;if(L<0||d!==void 0&&L!==d)throw new Error(`CodeGen: wrong number of nodes: ${L} vs ${d} expected`);return this._nodes.length=$,this}func(d,$=t.nil,L,P){return this._blockNode(new O(d,$,L)),P&&this.code(P).endFunc(),this}endFunc(){return this._endBlockNode(O)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,$){const L=this._currNode;if(L instanceof d||$&&L instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${d.kind}/${$.kind}`:d.kind}"`)}_elseNode(d){const $=this._currNode;if(!($ instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const $=this._nodes;$[$.length-1]=d}}e.CodeGen=Y;function H(C,d){for(const $ in d)C[$]=(C[$]||0)+(d[$]||0);return C}function W(C,d){return d instanceof t._CodeOrName?H(C,d.names):C}function G(C,d,$){if(C instanceof t.Name)return L(C);if(!P(C))return C;return new t._Code(C._items.reduce((_,z)=>(z instanceof t.Name&&(z=L(z)),z instanceof t._Code?_.push(...z._items):_.push(z),_),[]));function L(_){const z=$[_.str];return z===void 0||d[_.str]!==1?_:(delete d[_.str],z)}function P(_){return _ instanceof t._Code&&_._items.some(z=>z instanceof t.Name&&d[z.str]===1&&$[z.str]!==void 0)}}function Q(C,d){for(const $ in d)C[$]=(C[$]||0)-(d[$]||0)}function Z(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${R(C)}`}e.not=Z;const K=w(e.operators.AND);function I(...C){return C.reduce(K)}e.and=I;const j=w(e.operators.OR);function A(...C){return C.reduce(j)}e.or=A;function w(C){return(d,$)=>d===t.nil?$:$===t.nil?d:(0,t._)`${R(d)} ${C} ${R($)}`}function R(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(pe);var Te={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=pe,r=ro;function n(O){const b={};for(const D of O)b[D]=!0;return b}e.toHash=n;function i(O,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(O,b),!o(b,O.self.RULES.all))}e.alwaysValidSchema=i;function s(O,b=O.schema){const{opts:D,self:T}=O;if(!D.strictSchema||typeof b=="boolean")return;const V=T.RULES.keywords;for(const Y in b)V[Y]||M(O,`unknown keyword: "${Y}"`)}e.checkUnknownRules=s;function o(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(b[D])return!0;return!1}e.schemaHasRules=o;function a(O,b){if(typeof O=="boolean")return!O;for(const D in O)if(D!=="$ref"&&b.all[D])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:O,schemaPath:b},D,T,V){if(!V){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${O}${b}${(0,t.getProperty)(T)}`}e.schemaRefOrVal=l;function c(O){return h(decodeURIComponent(O))}e.unescapeFragment=c;function u(O){return encodeURIComponent(f(O))}e.escapeFragment=u;function f(O){return typeof O=="number"?`${O}`:O.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function h(O){return O.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(O,b){if(Array.isArray(O))for(const D of O)b(D);else b(O)}e.eachItem=m;function y({mergeNames:O,mergeToName:b,mergeValues:D,resultToName:T}){return(V,Y,H,W)=>{const G=H===void 0?Y:H instanceof t.Name?(Y instanceof t.Name?O(V,Y,H):b(V,Y,H),H):Y instanceof t.Name?(b(V,H,Y),Y):D(Y,H);return W===t.Name&&!(G instanceof t.Name)?T(V,G):G}}e.mergeEvaluated={props:y({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>{O.if((0,t._)`${b} === true`,()=>O.assign(D,!0),()=>O.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${b})`))}),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>{b===!0?O.assign(D,!0):(O.assign(D,(0,t._)`${D} || {}`),v(O,D,b))}),mergeValues:(O,b)=>O===!0?!0:{...O,...b},resultToName:E}),items:y({mergeNames:(O,b,D)=>O.if((0,t._)`${D} !== true && ${b} !== undefined`,()=>O.assign(D,(0,t._)`${b} === true ? true : ${D} > ${b} ? ${D} : ${b}`)),mergeToName:(O,b,D)=>O.if((0,t._)`${D} !== true`,()=>O.assign(D,b===!0?!0:(0,t._)`${D} > ${b} ? ${D} : ${b}`)),mergeValues:(O,b)=>O===!0?!0:Math.max(O,b),resultToName:(O,b)=>O.var("items",b)})};function E(O,b){if(b===!0)return O.var("props",!0);const D=O.var("props",(0,t._)`{}`);return b!==void 0&&v(O,D,b),D}e.evaluatedPropsToName=E;function v(O,b,D){Object.keys(D).forEach(T=>O.assign((0,t._)`${b}${(0,t.getProperty)(T)}`,!0))}e.setEvaluated=v;const g={};function p(O,b){return O.scopeValue("func",{ref:b,code:g[b.code]||(g[b.code]=new r._Code(b.code))})}e.useFunc=p;var S;(function(O){O[O.Num=0]="Num",O[O.Str=1]="Str"})(S=e.Type||(e.Type={}));function N(O,b,D){if(O instanceof t.Name){const T=b===S.Num;return D?T?(0,t._)`"[" + ${O} + "]"`:(0,t._)`"['" + ${O} + "']"`:T?(0,t._)`"/" + ${O}`:(0,t._)`"/" + ${O}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(O).toString():"/"+f(O)}e.getErrorPath=N;function M(O,b,D=O.opts.strictSchema){if(D){if(b=`strict mode: ${b}`,D===!0)throw new Error(b);O.self.logger.warn(b)}}e.checkStrictMode=M})(Te);var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});const Tt=pe,xS={data:new Tt.Name("data"),valCxt:new Tt.Name("valCxt"),instancePath:new Tt.Name("instancePath"),parentData:new Tt.Name("parentData"),parentDataProperty:new Tt.Name("parentDataProperty"),rootData:new Tt.Name("rootData"),dynamicAnchors:new Tt.Name("dynamicAnchors"),vErrors:new Tt.Name("vErrors"),errors:new Tt.Name("errors"),this:new Tt.Name("this"),self:new Tt.Name("self"),scope:new Tt.Name("scope"),json:new Tt.Name("json"),jsonPos:new Tt.Name("jsonPos"),jsonLen:new Tt.Name("jsonLen"),jsonPart:new Tt.Name("jsonPart")};Ur.default=xS;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=pe,r=Te,n=Ur;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:g})=>g?(0,t.str)`"${v}" keyword must be ${g} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,g=e.keywordError,p,S){const{it:N}=v,{gen:M,compositeRule:O,allErrors:b}=N,D=f(v,g,p);S??(O||b)?l(M,D):c(N,(0,t._)`[${D}]`)}e.reportError=i;function s(v,g=e.keywordError,p){const{it:S}=v,{gen:N,compositeRule:M,allErrors:O}=S,b=f(v,g,p);l(N,b),M||O||c(S,n.default.vErrors)}e.reportExtraError=s;function o(v,g){v.assign(n.default.errors,g),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(g,()=>v.assign((0,t._)`${n.default.vErrors}.length`,g),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:g,schemaValue:p,data:S,errsCount:N,it:M}){if(N===void 0)throw new Error("ajv implementation error");const O=v.name("err");v.forRange("i",N,n.default.errors,b=>{v.const(O,(0,t._)`${n.default.vErrors}[${b}]`),v.if((0,t._)`${O}.instancePath === undefined`,()=>v.assign((0,t._)`${O}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,t._)`${O}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${g}`),M.opts.verbose&&(v.assign((0,t._)`${O}.schema`,p),v.assign((0,t._)`${O}.data`,S))})}e.extendErrors=a;function l(v,g){const p=v.const("err",g);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${p}]`),(0,t._)`${n.default.vErrors}.push(${p})`),v.code((0,t._)`${n.default.errors}++`)}function c(v,g){const{gen:p,validateName:S,schemaEnv:N}=v;N.$async?p.throw((0,t._)`new ${v.ValidationError}(${g})`):(p.assign((0,t._)`${S}.errors`,g),p.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(v,g,p){const{createErrors:S}=v.it;return S===!1?(0,t._)`{}`:h(v,g,p)}function h(v,g,p={}){const{gen:S,it:N}=v,M=[m(N,p),y(v,p)];return E(v,g,M),S.object(...M)}function m({errorPath:v},{instancePath:g}){const p=g?(0,t.str)`${v}${(0,r.getErrorPath)(g,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,p)]}function y({keyword:v,it:{errSchemaPath:g}},{schemaPath:p,parentSchema:S}){let N=S?g:(0,t.str)`${g}/${v}`;return p&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(p,r.Type.Str)}`),[u.schemaPath,N]}function E(v,{params:g,message:p},S){const{keyword:N,data:M,schemaValue:O,it:b}=v,{opts:D,propertyName:T,topSchemaRef:V,schemaPath:Y}=b;S.push([u.keyword,N],[u.params,typeof g=="function"?g(v):g||(0,t._)`{}`]),D.messages&&S.push([u.message,typeof p=="function"?p(v):p]),D.verbose&&S.push([u.schema,O],[u.parentSchema,(0,t._)`${V}${Y}`],[n.default.data,M]),T&&S.push([u.propertyName,T])}})($o);Object.defineProperty(Hi,"__esModule",{value:!0});Hi.boolOrEmptySchema=Hi.topBoolOrEmptySchema=void 0;const qS=$o,VS=pe,BS=Ur,zS={message:"boolean schema is false"};function HS(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Ug(e,!1):typeof r=="object"&&r.$async===!0?t.return(BS.default.data):(t.assign((0,VS._)`${n}.errors`,null),t.return(!0))}Hi.topBoolOrEmptySchema=HS;function GS(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Ug(e)):r.var(t,!0)}Hi.boolOrEmptySchema=GS;function Ug(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,qS.reportError)(i,zS,void 0,t)}var Eo={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.getRules=si.isJSONType=void 0;const WS=["string","number","integer","boolean","null","object","array"],KS=new Set(WS);function YS(e){return typeof e=="string"&&KS.has(e)}si.isJSONType=YS;function JS(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}si.getRules=JS;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.shouldUseRule=Qr.shouldUseGroup=Qr.schemaHasRulesForType=void 0;function XS({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&xg(e,n)}Qr.schemaHasRulesForType=XS;function xg(e,t){return t.rules.some(r=>qg(e,r))}Qr.shouldUseGroup=xg;function qg(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Qr.shouldUseRule=qg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=si,r=Qr,n=$o,i=pe,s=Te;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const N=l(S.type);if(N.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!N.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&N.push("null")}return N}e.getSchemaTypes=a;function l(S){const N=Array.isArray(S)?S:S?[S]:[];if(N.every(t.isJSONType))return N;throw new Error("type must be JSONType or JSONType[]: "+N.join(","))}e.getJSONTypes=l;function c(S,N){const{gen:M,data:O,opts:b}=S,D=f(N,b.coerceTypes),T=N.length>0&&!(D.length===0&&N.length===1&&(0,r.schemaHasRulesForType)(S,N[0]));if(T){const V=E(N,O,b.strictNumbers,o.Wrong);M.if(V,()=>{D.length?h(S,N,D):g(S)})}return T}e.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function f(S,N){return N?S.filter(M=>u.has(M)||N==="array"&&M==="array"):[]}function h(S,N,M){const{gen:O,data:b,opts:D}=S,T=O.let("dataType",(0,i._)`typeof ${b}`),V=O.let("coerced",(0,i._)`undefined`);D.coerceTypes==="array"&&O.if((0,i._)`${T} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>O.assign(b,(0,i._)`${b}[0]`).assign(T,(0,i._)`typeof ${b}`).if(E(N,b,D.strictNumbers),()=>O.assign(V,b))),O.if((0,i._)`${V} !== undefined`);for(const H of M)(u.has(H)||H==="array"&&D.coerceTypes==="array")&&Y(H);O.else(),g(S),O.endIf(),O.if((0,i._)`${V} !== undefined`,()=>{O.assign(b,V),m(S,V)});function Y(H){switch(H){case"string":O.elseIf((0,i._)`${T} == "number" || ${T} == "boolean"`).assign(V,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(V,(0,i._)`""`);return;case"number":O.elseIf((0,i._)`${T} == "boolean" || ${b} === null
              || (${T} == "string" && ${b} && ${b} == +${b})`).assign(V,(0,i._)`+${b}`);return;case"integer":O.elseIf((0,i._)`${T} === "boolean" || ${b} === null
              || (${T} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(V,(0,i._)`+${b}`);return;case"boolean":O.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(V,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(V,!0);return;case"null":O.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),O.assign(V,null);return;case"array":O.elseIf((0,i._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${b} === null`).assign(V,(0,i._)`[${b}]`)}}}function m({gen:S,parentData:N,parentDataProperty:M},O){S.if((0,i._)`${N} !== undefined`,()=>S.assign((0,i._)`${N}[${M}]`,O))}function y(S,N,M,O=o.Correct){const b=O===o.Correct?i.operators.EQ:i.operators.NEQ;let D;switch(S){case"null":return(0,i._)`${N} ${b} null`;case"array":D=(0,i._)`Array.isArray(${N})`;break;case"object":D=(0,i._)`${N} && typeof ${N} == "object" && !Array.isArray(${N})`;break;case"integer":D=T((0,i._)`!(${N} % 1) && !isNaN(${N})`);break;case"number":D=T();break;default:return(0,i._)`typeof ${N} ${b} ${S}`}return O===o.Correct?D:(0,i.not)(D);function T(V=i.nil){return(0,i.and)((0,i._)`typeof ${N} == "number"`,V,M?(0,i._)`isFinite(${N})`:i.nil)}}e.checkDataType=y;function E(S,N,M,O){if(S.length===1)return y(S[0],N,M,O);let b;const D=(0,s.toHash)(S);if(D.array&&D.object){const T=(0,i._)`typeof ${N} != "object"`;b=D.null?T:(0,i._)`!${N} || ${T}`,delete D.null,delete D.array,delete D.object}else b=i.nil;D.number&&delete D.integer;for(const T in D)b=(0,i.and)(b,y(T,N,M,O));return b}e.checkDataTypes=E;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:N})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${N}}`};function g(S){const N=p(S);(0,n.reportError)(N,v)}e.reportTypeError=g;function p(S){const{gen:N,data:M,schema:O}=S,b=(0,s.schemaRefOrVal)(S,O,"type");return{gen:N,keyword:"type",data:M,schema:O.type,schemaCode:b,schemaValue:b,parentSchema:O,params:{},it:S}}})(Eo);var nl={};Object.defineProperty(nl,"__esModule",{value:!0});nl.assignDefaults=void 0;const _i=pe,QS=Te;function ZS(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Qd(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Qd(e,s,i.default))}nl.assignDefaults=ZS;function Qd(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const a=(0,_i._)`${s}${(0,_i.getProperty)(t)}`;if(i){(0,QS.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,_i._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,_i._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,_i._)`${a} = ${(0,_i.stringify)(r)}`)}var Lr={},ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.validateUnion=ye.validateArray=ye.usePattern=ye.callValidateCode=ye.schemaProperties=ye.allSchemaProperties=ye.noPropertyInData=ye.propertyInData=ye.isOwnProperty=ye.hasPropFunc=ye.reportMissingProp=ye.checkMissingProp=ye.checkReportMissingProp=void 0;const qe=pe,lf=Te,cn=Ur,eb=Te;function tb(e,t){const{gen:r,data:n,it:i}=e;r.if(uf(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,qe._)`${t}`},!0),e.error()})}ye.checkReportMissingProp=tb;function rb({gen:e,data:t,it:{opts:r}},n,i){return(0,qe.or)(...n.map(s=>(0,qe.and)(uf(e,t,s,r.ownProperties),(0,qe._)`${i} = ${s}`)))}ye.checkMissingProp=rb;function nb(e,t){e.setParams({missingProperty:t},!0),e.error()}ye.reportMissingProp=nb;function Vg(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,qe._)`Object.prototype.hasOwnProperty`})}ye.hasPropFunc=Vg;function cf(e,t,r){return(0,qe._)`${Vg(e)}.call(${t}, ${r})`}ye.isOwnProperty=cf;function ib(e,t,r,n){const i=(0,qe._)`${t}${(0,qe.getProperty)(r)} !== undefined`;return n?(0,qe._)`${i} && ${cf(e,t,r)}`:i}ye.propertyInData=ib;function uf(e,t,r,n){const i=(0,qe._)`${t}${(0,qe.getProperty)(r)} === undefined`;return n?(0,qe.or)(i,(0,qe.not)(cf(e,t,r))):i}ye.noPropertyInData=uf;function Bg(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ye.allSchemaProperties=Bg;function sb(e,t){return Bg(t).filter(r=>!(0,lf.alwaysValidSchema)(e,t[r]))}ye.schemaProperties=sb;function ob({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,l,c){const u=c?(0,qe._)`${e}, ${t}, ${n}${i}`:t,f=[[cn.default.instancePath,(0,qe.strConcat)(cn.default.instancePath,s)],[cn.default.parentData,o.parentData],[cn.default.parentDataProperty,o.parentDataProperty],[cn.default.rootData,cn.default.rootData]];o.opts.dynamicRef&&f.push([cn.default.dynamicAnchors,cn.default.dynamicAnchors]);const h=(0,qe._)`${u}, ${r.object(...f)}`;return l!==qe.nil?(0,qe._)`${a}.call(${l}, ${h})`:(0,qe._)`${a}(${h})`}ye.callValidateCode=ob;const ab=(0,qe._)`new RegExp`;function lb({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,qe._)`${i.code==="new RegExp"?ab:(0,eb.useFunc)(e,i)}(${r}, ${n})`})}ye.usePattern=lb;function cb(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const l=t.const("len",(0,qe._)`${r}.length`);t.forRange("i",0,l,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:lf.Type.Num},s),t.if((0,qe.not)(s),a)})}}ye.validateArray=cb;function ub(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,lf.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,c)=>{const u=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},a);t.assign(o,(0,qe._)`${o} || ${a}`),e.mergeValidEvaluated(u,a)||t.if((0,qe.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ye.validateUnion=ub;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.validateKeywordUsage=Lr.validSchemaType=Lr.funcKeywordCode=Lr.macroKeywordCode=void 0;const jt=pe,Gn=Ur,fb=ye,db=$o;function hb(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),l=zg(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const c=r.name("valid");e.subschema({schema:a,schemaPath:jt.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}Lr.macroKeywordCode=hb;function pb(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:l}=e;gb(l,t);const c=!a&&t.compile?t.compile.call(l.self,s,o,l):t.validate,u=zg(n,i,c),f=n.let("valid");e.block$data(f,h),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function h(){if(t.errors===!1)E(),t.modifying&&Zd(e),v(()=>e.error());else{const g=t.async?m():y();t.modifying&&Zd(e),v(()=>mb(e,g))}}function m(){const g=n.let("ruleErrs",null);return n.try(()=>E((0,jt._)`await `),p=>n.assign(f,!1).if((0,jt._)`${p} instanceof ${l.ValidationError}`,()=>n.assign(g,(0,jt._)`${p}.errors`),()=>n.throw(p))),g}function y(){const g=(0,jt._)`${u}.errors`;return n.assign(g,null),E(jt.nil),g}function E(g=t.async?(0,jt._)`await `:jt.nil){const p=l.opts.passContext?Gn.default.this:Gn.default.self,S=!("compile"in t&&!a||t.schema===!1);n.assign(f,(0,jt._)`${g}${(0,fb.callValidateCode)(e,u,p,S)}`,t.modifying)}function v(g){var p;n.if((0,jt.not)((p=t.valid)!==null&&p!==void 0?p:f),g)}}Lr.funcKeywordCode=pb;function Zd(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,jt._)`${n.parentData}[${n.parentDataProperty}]`))}function mb(e,t){const{gen:r}=e;r.if((0,jt._)`Array.isArray(${t})`,()=>{r.assign(Gn.default.vErrors,(0,jt._)`${Gn.default.vErrors} === null ? ${t} : ${Gn.default.vErrors}.concat(${t})`).assign(Gn.default.errors,(0,jt._)`${Gn.default.vErrors}.length`),(0,db.extendErrors)(e)},()=>e.error())}function gb({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function zg(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,jt.stringify)(r)})}function yb(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Lr.validSchemaType=yb;function vb({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const l=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Lr.validateKeywordUsage=vb;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.extendSubschemaMode=Sn.extendSubschemaData=Sn.getSubschema=void 0;const Ir=pe,Hg=Te;function _b(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Ir._)`${e.schemaPath}${(0,Ir.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Ir._)`${e.schemaPath}${(0,Ir.getProperty)(t)}${(0,Ir.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Hg.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Sn.getSubschema=_b;function $b(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:c,dataPathArr:u,opts:f}=t,h=a.let("data",(0,Ir._)`${t.data}${(0,Ir.getProperty)(r)}`,!0);l(h),e.errorPath=(0,Ir.str)`${c}${(0,Hg.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ir._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(i!==void 0){const c=i instanceof Ir.Name?i:a.let("data",i,!0);l(c),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function l(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}Sn.extendSubschemaData=$b;function Eb(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Sn.extendSubschemaMode=Eb;var Et={},Gg={exports:{}},vn=Gg.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};_a(t,n,i,e,"",e)};vn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};vn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};vn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};vn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _a(e,t,r,n,i,s,o,a,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,l,c);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in vn.arrayKeywords)for(var h=0;h<f.length;h++)_a(e,t,r,f[h],i+"/"+u+"/"+h,s,i,u,n,h)}else if(u in vn.propsKeywords){if(f&&typeof f=="object")for(var m in f)_a(e,t,r,f[m],i+"/"+u+"/"+wb(m),s,i,u,n,m)}else(u in vn.keywords||e.allKeys&&!(u in vn.skipKeywords))&&_a(e,t,r,f,i+"/"+u,s,i,u,n)}r(n,i,s,o,a,l,c)}}function wb(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Sb=Gg.exports;Object.defineProperty(Et,"__esModule",{value:!0});Et.getSchemaRefs=Et.resolveUrl=Et.normalizeId=Et._getFullPath=Et.getFullPath=Et.inlineRef=void 0;const bb=Te,Pb=Za,Tb=Sb,Ob=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ab(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Vc(e):t?Wg(e)<=t:!1}Et.inlineRef=Ab;const Cb=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Vc(e){for(const t in e){if(Cb.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Vc)||typeof r=="object"&&Vc(r))return!0}return!1}function Wg(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Ob.has(r)&&(typeof e[r]=="object"&&(0,bb.eachItem)(e[r],n=>t+=Wg(n)),t===1/0))return 1/0}return t}function Kg(e,t="",r){r!==!1&&(t=Mi(t));const n=e.parse(t);return Yg(e,n)}Et.getFullPath=Kg;function Yg(e,t){return e.serialize(t).split("#")[0]+"#"}Et._getFullPath=Yg;const Nb=/#\/?$/;function Mi(e){return e?e.replace(Nb,""):""}Et.normalizeId=Mi;function Rb(e,t,r){return r=Mi(r),e.resolve(t,r)}Et.resolveUrl=Rb;const Ib=/^[a-z_][-a-z0-9._]*$/i;function Db(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=Mi(e[r]||t),s={"":i},o=Kg(n,i,!1),a={},l=new Set;return Tb(e,{allKeys:!0},(f,h,m,y)=>{if(y===void 0)return;const E=o+h;let v=s[y];typeof f[r]=="string"&&(v=g.call(this,f[r])),p.call(this,f.$anchor),p.call(this,f.$dynamicAnchor),s[h]=v;function g(S){const N=this.opts.uriResolver.resolve;if(S=Mi(v?N(v,S):S),l.has(S))throw u(S);l.add(S);let M=this.refs[S];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?c(f,M.schema,S):S!==Mi(E)&&(S[0]==="#"?(c(f,a[S],S),a[S]=f):this.refs[S]=E),S}function p(S){if(typeof S=="string"){if(!Ib.test(S))throw new Error(`invalid anchor "${S}"`);g.call(this,`#${S}`)}}}),a;function c(f,h,m){if(h!==void 0&&!Pb(f,h))throw u(m)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Et.getSchemaRefs=Db;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.getData=Pr.KeywordCxt=Pr.validateFunctionCode=void 0;const Jg=Hi,eh=Eo,ff=Qr,Da=Eo,Fb=nl,Hs=Lr,zl=Sn,oe=pe,fe=Ur,kb=Et,Zr=Te,ws=$o;function Lb(e){if(Zg(e)&&(ey(e),Qg(e))){Ub(e);return}Xg(e,()=>(0,Jg.topBoolOrEmptySchema)(e))}Pr.validateFunctionCode=Lb;function Xg({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,oe._)`${fe.default.data}, ${fe.default.valCxt}`,n.$async,()=>{e.code((0,oe._)`"use strict"; ${th(r,i)}`),Mb(e,i),e.code(s)}):e.func(t,(0,oe._)`${fe.default.data}, ${jb(i)}`,n.$async,()=>e.code(th(r,i)).code(s))}function jb(e){return(0,oe._)`{${fe.default.instancePath}="", ${fe.default.parentData}, ${fe.default.parentDataProperty}, ${fe.default.rootData}=${fe.default.data}${e.dynamicRef?(0,oe._)`, ${fe.default.dynamicAnchors}={}`:oe.nil}}={}`}function Mb(e,t){e.if(fe.default.valCxt,()=>{e.var(fe.default.instancePath,(0,oe._)`${fe.default.valCxt}.${fe.default.instancePath}`),e.var(fe.default.parentData,(0,oe._)`${fe.default.valCxt}.${fe.default.parentData}`),e.var(fe.default.parentDataProperty,(0,oe._)`${fe.default.valCxt}.${fe.default.parentDataProperty}`),e.var(fe.default.rootData,(0,oe._)`${fe.default.valCxt}.${fe.default.rootData}`),t.dynamicRef&&e.var(fe.default.dynamicAnchors,(0,oe._)`${fe.default.valCxt}.${fe.default.dynamicAnchors}`)},()=>{e.var(fe.default.instancePath,(0,oe._)`""`),e.var(fe.default.parentData,(0,oe._)`undefined`),e.var(fe.default.parentDataProperty,(0,oe._)`undefined`),e.var(fe.default.rootData,fe.default.data),t.dynamicRef&&e.var(fe.default.dynamicAnchors,(0,oe._)`{}`)})}function Ub(e){const{schema:t,opts:r,gen:n}=e;Xg(e,()=>{r.$comment&&t.$comment&&ry(e),zb(e),n.let(fe.default.vErrors,null),n.let(fe.default.errors,0),r.unevaluated&&xb(e),ty(e),Wb(e)})}function xb(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,oe._)`${r}.evaluated`),t.if((0,oe._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,oe._)`${e.evaluated}.props`,(0,oe._)`undefined`)),t.if((0,oe._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,oe._)`${e.evaluated}.items`,(0,oe._)`undefined`))}function th(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,oe._)`/*# sourceURL=${r} */`:oe.nil}function qb(e,t){if(Zg(e)&&(ey(e),Qg(e))){Vb(e,t);return}(0,Jg.boolOrEmptySchema)(e,t)}function Qg({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Zg(e){return typeof e.schema!="boolean"}function Vb(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&ry(e),Hb(e),Gb(e);const s=n.const("_errs",fe.default.errors);ty(e,s),n.var(t,(0,oe._)`${s} === ${fe.default.errors}`)}function ey(e){(0,Zr.checkUnknownRules)(e),Bb(e)}function ty(e,t){if(e.opts.jtd)return rh(e,[],!1,t);const r=(0,eh.getSchemaTypes)(e.schema),n=(0,eh.coerceAndCheckDataType)(e,r);rh(e,r,!n,t)}function Bb(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Zr.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function zb(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Zr.checkStrictMode)(e,"default is ignored in the schema root")}function Hb(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,kb.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Gb(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ry({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,oe._)`${fe.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,oe.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,oe._)`${fe.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function Wb(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,oe._)`${fe.default.errors} === 0`,()=>t.return(fe.default.data),()=>t.throw((0,oe._)`new ${i}(${fe.default.vErrors})`)):(t.assign((0,oe._)`${n}.errors`,fe.default.vErrors),s.unevaluated&&Kb(e),t.return((0,oe._)`${fe.default.errors} === 0`))}function Kb({gen:e,evaluated:t,props:r,items:n}){r instanceof oe.Name&&e.assign((0,oe._)`${t}.props`,r),n instanceof oe.Name&&e.assign((0,oe._)`${t}.items`,n)}function rh(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:a,opts:l,self:c}=e,{RULES:u}=c;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Zr.schemaHasRulesButRef)(s,u))){i.block(()=>sy(e,"$ref",u.all.$ref.definition));return}l.jtd||Yb(e,t),i.block(()=>{for(const h of u.rules)f(h);f(u.post)});function f(h){(0,ff.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Da.checkDataType)(h.type,o,l.strictNumbers)),nh(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Da.reportTypeError)(e)),i.endIf()):nh(e,h),a||i.if((0,oe._)`${fe.default.errors} === ${n||0}`))}}function nh(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,Fb.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,ff.shouldUseRule)(n,s)&&sy(e,s.keyword,s.definition,t.type)})}function Yb(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Jb(e,t),e.opts.allowUnionTypes||Xb(e,t),Qb(e,e.dataTypes))}function Jb(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{ny(e.dataTypes,r)||df(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),e1(e,t)}}function Xb(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&df(e,"use allowUnionTypes to allow union type keyword")}function Qb(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,ff.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>Zb(t,o))&&df(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function Zb(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function ny(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function e1(e,t){const r=[];for(const n of e.dataTypes)ny(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function df(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Zr.checkStrictMode)(e,t,e.opts.strictTypes)}class iy{constructor(t,r,n){if((0,Hs.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Zr.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",oy(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Hs.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",fe.default.errors))}result(t,r,n){this.failResult((0,oe.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,oe.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,oe._)`${r} !== undefined && (${(0,oe.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?ws.reportExtraError:ws.reportError)(this,this.def.error,r)}$dataError(){(0,ws.reportError)(this,this.def.$dataError||ws.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ws.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=oe.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=oe.nil,r=oe.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,oe.or)((0,oe._)`${i} === undefined`,r)),t!==oe.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==oe.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,oe.or)(o(),a());function o(){if(n.length){if(!(r instanceof oe.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,oe._)`${(0,Da.checkDataTypes)(l,r,s.opts.strictNumbers,Da.DataType.Wrong)}`}return oe.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,oe._)`!${l}(${r})`}return oe.nil}}subschema(t,r){const n=(0,zl.getSubschema)(this.it,t);(0,zl.extendSubschemaData)(n,this.it,t),(0,zl.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return qb(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Zr.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Zr.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,oe.Name)),!0}}Pr.KeywordCxt=iy;function sy(e,t,r,n){const i=new iy(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Hs.funcKeywordCode)(i,r):"macro"in r?(0,Hs.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Hs.funcKeywordCode)(i,r)}const t1=/^\/(?:[^~]|~0|~1)*$/,r1=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function oy(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return fe.default.rootData;if(e[0]==="/"){if(!t1.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=fe.default.rootData}else{const c=r1.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+c[1];if(i=c[2],i==="#"){if(u>=t)throw new Error(l("property/index",u));return n[t-u]}if(u>t)throw new Error(l("data",u));if(s=r[t-u],!i)return s}let o=s;const a=i.split("/");for(const c of a)c&&(s=(0,oe._)`${s}${(0,oe.getProperty)((0,Zr.unescapeJsonPointer)(c))}`,o=(0,oe._)`${o} && ${s}`);return o;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${t}`}}Pr.getData=oy;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});class n1 extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}wo.default=n1;var So={};Object.defineProperty(So,"__esModule",{value:!0});const Hl=Et;class i1 extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Hl.resolveUrl)(t,r,n),this.missingSchema=(0,Hl.normalizeId)((0,Hl.getFullPath)(t,this.missingRef))}}So.default=i1;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.resolveSchema=Jt.getCompilingSchema=Jt.resolveRef=Jt.compileSchema=Jt.SchemaEnv=void 0;const yr=pe,s1=wo,Ln=Ur,Sr=Et,ih=Te,o1=Pr;class il{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Sr.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Jt.SchemaEnv=il;function hf(e){const t=ay.call(this,e);if(t)return t;const r=(0,Sr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new yr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:s1.default,code:(0,yr._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const c={gen:o,allErrors:this.opts.allErrors,data:Ln.default.data,parentData:Ln.default.parentData,parentDataProperty:Ln.default.parentDataProperty,dataNames:[Ln.default.data],dataPathArr:[yr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,yr.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:yr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,yr._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,o1.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);const f=o.toString();u=`${o.scopeRefs(Ln.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const m=new Function(`${Ln.default.self}`,`${Ln.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:E}=c;m.evaluated={props:y instanceof yr.Name?void 0:y,items:E instanceof yr.Name?void 0:E,dynamicProps:y instanceof yr.Name,dynamicItems:E instanceof yr.Name},m.source&&(m.source.evaluated=(0,yr.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}Jt.compileSchema=hf;function a1(e,t,r){var n;r=(0,Sr.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=u1.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new il({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=l1.call(this,s)}Jt.resolveRef=a1;function l1(e){return(0,Sr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:hf.call(this,e)}function ay(e){for(const t of this._compilations)if(c1(t,e))return t}Jt.getCompilingSchema=ay;function c1(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function u1(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||sl.call(this,e,t)}function sl(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Sr._getFullPath)(this.opts.uriResolver,r);let i=(0,Sr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Gl.call(this,r,e);const s=(0,Sr.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=sl.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:Gl.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||hf.call(this,o),s===(0,Sr.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,c=a[l];return c&&(i=(0,Sr.resolveUrl)(this.opts.uriResolver,i,c)),new il({schema:a,schemaId:l,root:e,baseId:i})}return Gl.call(this,r,o)}}Jt.resolveSchema=sl;const f1=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Gl(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,ih.unescapeFragment)(a)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!f1.has(a)&&c&&(t=(0,Sr.resolveUrl)(this.opts.uriResolver,t,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,ih.schemaHasRulesButRef)(r,this.RULES)){const a=(0,Sr.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=sl.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new il({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const d1="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",h1="Meta-schema for $data reference (JSON AnySchema extension proposal)",p1="object",m1=["$data"],g1={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},y1=!1,v1={$id:d1,description:h1,type:p1,required:m1,properties:g1,additionalProperties:y1};var pf={};Object.defineProperty(pf,"__esModule",{value:!0});const ly=Pg;ly.code='require("ajv/dist/runtime/uri").default';pf.default=ly;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Pr;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=pe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=wo,i=So,s=si,o=Jt,a=pe,l=Et,c=Eo,u=Te,f=v1,h=pf,m=(A,w)=>new RegExp(A,w);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function S(A){var w,R,C,d,$,L,P,_,z,U,te,de,be,Fe,Ve,Le,Re,Xe,Bt,Rt,It,lt,nt,nr,fr;const Dt=A.strict,zt=(w=A.code)===null||w===void 0?void 0:w.optimize,dr=zt===!0||zt===void 0?1:zt||0,ft=(C=(R=A.code)===null||R===void 0?void 0:R.regExp)!==null&&C!==void 0?C:m,it=(d=A.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(L=($=A.strictSchema)!==null&&$!==void 0?$:Dt)!==null&&L!==void 0?L:!0,strictNumbers:(_=(P=A.strictNumbers)!==null&&P!==void 0?P:Dt)!==null&&_!==void 0?_:!0,strictTypes:(U=(z=A.strictTypes)!==null&&z!==void 0?z:Dt)!==null&&U!==void 0?U:"log",strictTuples:(de=(te=A.strictTuples)!==null&&te!==void 0?te:Dt)!==null&&de!==void 0?de:"log",strictRequired:(Fe=(be=A.strictRequired)!==null&&be!==void 0?be:Dt)!==null&&Fe!==void 0?Fe:!1,code:A.code?{...A.code,optimize:dr,regExp:ft}:{optimize:dr,regExp:ft},loopRequired:(Ve=A.loopRequired)!==null&&Ve!==void 0?Ve:p,loopEnum:(Le=A.loopEnum)!==null&&Le!==void 0?Le:p,meta:(Re=A.meta)!==null&&Re!==void 0?Re:!0,messages:(Xe=A.messages)!==null&&Xe!==void 0?Xe:!0,inlineRefs:(Bt=A.inlineRefs)!==null&&Bt!==void 0?Bt:!0,schemaId:(Rt=A.schemaId)!==null&&Rt!==void 0?Rt:"$id",addUsedSchema:(It=A.addUsedSchema)!==null&&It!==void 0?It:!0,validateSchema:(lt=A.validateSchema)!==null&&lt!==void 0?lt:!0,validateFormats:(nt=A.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(nr=A.unicodeRegExp)!==null&&nr!==void 0?nr:!0,int32range:(fr=A.int32range)!==null&&fr!==void 0?fr:!0,uriResolver:it}}class N{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...S(w)};const{es5:R,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:R,lines:C}),this.logger=H(w.logger);const d=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,w,"NOT SUPPORTED"),M.call(this,g,w,"DEPRECATED","warn"),this._metaOpts=V.call(this),w.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&T.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),b.call(this),w.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:R,schemaId:C}=this.opts;let d=f;C==="id"&&(d={...f},d.id=d.$id,delete d.$id),R&&w&&this.addMetaSchema(d,d[C],!1)}defaultMeta(){const{meta:w,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[R]||w:void 0}validate(w,R){let C;if(typeof w=="string"){if(C=this.getSchema(w),!C)throw new Error(`no schema with key or ref "${w}"`)}else C=this.compile(w);const d=C(R);return"$async"in C||(this.errors=C.errors),d}compile(w,R){const C=this._addSchema(w,R);return C.validate||this._compileSchemaEnv(C)}compileAsync(w,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return d.call(this,w,R);async function d(U,te){await $.call(this,U.$schema);const de=this._addSchema(U,te);return de.validate||L.call(this,de)}async function $(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function L(U){try{return this._compileSchemaEnv(U)}catch(te){if(!(te instanceof i.default))throw te;return P.call(this,te),await _.call(this,te.missingSchema),L.call(this,U)}}function P({missingSchema:U,missingRef:te}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${te} cannot be resolved`)}async function _(U){const te=await z.call(this,U);this.refs[U]||await $.call(this,te.$schema),this.refs[U]||this.addSchema(te,U,R)}async function z(U){const te=this._loading[U];if(te)return te;try{return await(this._loading[U]=C(U))}finally{delete this._loading[U]}}}addSchema(w,R,C,d=this.opts.validateSchema){if(Array.isArray(w)){for(const L of w)this.addSchema(L,void 0,C,d);return this}let $;if(typeof w=="object"){const{schemaId:L}=this.opts;if($=w[L],$!==void 0&&typeof $!="string")throw new Error(`schema ${L} must be string`)}return R=(0,l.normalizeId)(R||$),this._checkUnique(R),this.schemas[R]=this._addSchema(w,C,R,d,!0),this}addMetaSchema(w,R,C=this.opts.validateSchema){return this.addSchema(w,R,!0,C),this}validateSchema(w,R){if(typeof w=="boolean")return!0;let C;if(C=w.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(C,w);if(!d&&R){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return d}getSchema(w){let R;for(;typeof(R=O.call(this,w))=="string";)w=R;if(R===void 0){const{schemaId:C}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:C});if(R=o.resolveSchema.call(this,d,w),!R)return;this.refs[w]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=O.call(this,w);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const R=w;this._cache.delete(R);let C=w[this.opts.schemaId];return C&&(C=(0,l.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const R of w)this.addKeyword(R);return this}addKeyword(w,R){let C;if(typeof w=="string")C=w,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=C);else if(typeof w=="object"&&R===void 0){if(R=w,C=R.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,C,R),!R)return(0,u.eachItem)(C,$=>Q.call(this,$)),this;K.call(this,R);const d={...R,type:(0,c.getJSONTypes)(R.type),schemaType:(0,c.getJSONTypes)(R.schemaType)};return(0,u.eachItem)(C,d.type.length===0?$=>Q.call(this,$,d):$=>d.type.forEach(L=>Q.call(this,$,d,L))),this}getKeyword(w){const R=this.RULES.all[w];return typeof R=="object"?R.definition:!!R}removeKeyword(w){const{RULES:R}=this;delete R.keywords[w],delete R.all[w];for(const C of R.rules){const d=C.rules.findIndex($=>$.keyword===w);d>=0&&C.rules.splice(d,1)}return this}addFormat(w,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[w]=R,this}errorsText(w=this.errors,{separator:R=", ",dataVar:C="data"}={}){return!w||w.length===0?"No errors":w.map(d=>`${C}${d.instancePath} ${d.message}`).reduce((d,$)=>d+R+$)}$dataMetaSchema(w,R){const C=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const d of R){const $=d.split("/").slice(1);let L=w;for(const P of $)L=L[P];for(const P in C){const _=C[P];if(typeof _!="object")continue;const{$data:z}=_.definition,U=L[P];z&&U&&(L[P]=j(U))}}return w}_removeAllSchemas(w,R){for(const C in w){const d=w[C];(!R||R.test(C))&&(typeof d=="string"?delete w[C]:d&&!d.meta&&(this._cache.delete(d.schema),delete w[C]))}}_addSchema(w,R,C,d=this.opts.validateSchema,$=this.opts.addUsedSchema){let L;const{schemaId:P}=this.opts;if(typeof w=="object")L=w[P];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let _=this._cache.get(w);if(_!==void 0)return _;C=(0,l.normalizeId)(L||C);const z=l.getSchemaRefs.call(this,w,C);return _=new o.SchemaEnv({schema:w,schemaId:P,meta:R,baseId:C,localRefs:z}),this._cache.set(_.schema,_),$&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=_),d&&this.validateSchema(w,!0),_}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=R}}}e.default=N,N.ValidationError=n.default,N.MissingRefError=i.default;function M(A,w,R,C="error"){for(const d in A){const $=d;$ in w&&this.logger[C](`${R}: option ${d}. ${A[$]}`)}}function O(A){return A=(0,l.normalizeId)(A),this.schemas[A]||this.refs[A]}function b(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const w in A)this.addSchema(A[w],w)}function D(){for(const A in this.opts.formats){const w=this.opts.formats[A];w&&this.addFormat(A,w)}}function T(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in A){const R=A[w];R.keyword||(R.keyword=w),this.addKeyword(R)}}function V(){const A={...this.opts};for(const w of y)delete A[w];return A}const Y={log(){},warn(){},error(){}};function H(A){if(A===!1)return Y;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function G(A,w){const{RULES:R}=this;if((0,u.eachItem)(A,C=>{if(R.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!W.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function Q(A,w,R){var C;const d=w==null?void 0:w.post;if(R&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let L=d?$.post:$.rules.find(({type:_})=>_===R);if(L||(L={type:R,rules:[]},$.rules.push(L)),$.keywords[A]=!0,!w)return;const P={keyword:A,definition:{...w,type:(0,c.getJSONTypes)(w.type),schemaType:(0,c.getJSONTypes)(w.schemaType)}};w.before?Z.call(this,L,P,w.before):L.rules.push(P),$.all[A]=P,(C=w.implements)===null||C===void 0||C.forEach(_=>this.addKeyword(_))}function Z(A,w,R){const C=A.rules.findIndex(d=>d.keyword===R);C>=0?A.rules.splice(C,0,w):(A.rules.push(w),this.logger.warn(`rule ${R} is not defined`))}function K(A){let{metaSchema:w}=A;w!==void 0&&(A.$data&&this.opts.$data&&(w=j(w)),A.validateSchema=this.compile(w,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(A){return{anyOf:[A,I]}}})(Mg);var mf={},gf={},yf={};Object.defineProperty(yf,"__esModule",{value:!0});const _1={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};yf.default=_1;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.callRef=oi.getValidate=void 0;const $1=So,sh=ye,Kt=pe,$i=Ur,oh=Jt,Qo=Te,E1={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:l}=n,{root:c}=s;if((r==="#"||r==="#/")&&i===c.baseId)return f();const u=oh.resolveRef.call(l,c,i,r);if(u===void 0)throw new $1.default(n.opts.uriResolver,i,r);if(u instanceof oh.SchemaEnv)return h(u);return m(u);function f(){if(s===c)return $a(e,o,s,s.$async);const y=t.scopeValue("root",{ref:c});return $a(e,(0,Kt._)`${y}.validate`,c,c.$async)}function h(y){const E=cy(e,y);$a(e,E,y,y.$async)}function m(y){const E=t.scopeValue("schema",a.code.source===!0?{ref:y,code:(0,Kt.stringify)(y)}:{ref:y}),v=t.name("valid"),g=e.subschema({schema:y,dataTypes:[],schemaPath:Kt.nil,topSchemaRef:E,errSchemaPath:r},v);e.mergeEvaluated(g),e.ok(v)}}};function cy(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Kt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}oi.getValidate=cy;function $a(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,c=l.passContext?$i.default.this:Kt.nil;n?u():f();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");const y=i.let("valid");i.try(()=>{i.code((0,Kt._)`await ${(0,sh.callValidateCode)(e,t,c)}`),m(t),o||i.assign(y,!0)},E=>{i.if((0,Kt._)`!(${E} instanceof ${s.ValidationError})`,()=>i.throw(E)),h(E),o||i.assign(y,!1)}),e.ok(y)}function f(){e.result((0,sh.callValidateCode)(e,t,c),()=>m(t),()=>h(t))}function h(y){const E=(0,Kt._)`${y}.errors`;i.assign($i.default.vErrors,(0,Kt._)`${$i.default.vErrors} === null ? ${E} : ${$i.default.vErrors}.concat(${E})`),i.assign($i.default.errors,(0,Kt._)`${$i.default.vErrors}.length`)}function m(y){var E;if(!s.opts.unevaluated)return;const v=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Qo.mergeEvaluated.props(i,v.props,s.props));else{const g=i.var("props",(0,Kt._)`${y}.evaluated.props`);s.props=Qo.mergeEvaluated.props(i,g,s.props,Kt.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Qo.mergeEvaluated.items(i,v.items,s.items));else{const g=i.var("items",(0,Kt._)`${y}.evaluated.items`);s.items=Qo.mergeEvaluated.items(i,g,s.items,Kt.Name)}}}oi.callRef=$a;oi.default=E1;Object.defineProperty(gf,"__esModule",{value:!0});const w1=yf,S1=oi,b1=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",w1.default,S1.default];gf.default=b1;var vf={},_f={};Object.defineProperty(_f,"__esModule",{value:!0});const Fa=pe,un=Fa.operators,ka={maximum:{okStr:"<=",ok:un.LTE,fail:un.GT},minimum:{okStr:">=",ok:un.GTE,fail:un.LT},exclusiveMaximum:{okStr:"<",ok:un.LT,fail:un.GTE},exclusiveMinimum:{okStr:">",ok:un.GT,fail:un.LTE}},P1={message:({keyword:e,schemaCode:t})=>(0,Fa.str)`must be ${ka[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Fa._)`{comparison: ${ka[e].okStr}, limit: ${t}}`},T1={keyword:Object.keys(ka),type:"number",schemaType:"number",$data:!0,error:P1,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Fa._)`${r} ${ka[t].fail} ${n} || isNaN(${r})`)}};_f.default=T1;var $f={};Object.defineProperty($f,"__esModule",{value:!0});const Gs=pe,O1={message:({schemaCode:e})=>(0,Gs.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Gs._)`{multipleOf: ${e}}`},A1={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:O1,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Gs._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Gs._)`${o} !== parseInt(${o})`;e.fail$data((0,Gs._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};$f.default=A1;var Ef={},wf={};Object.defineProperty(wf,"__esModule",{value:!0});function uy(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}wf.default=uy;uy.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Ef,"__esModule",{value:!0});const Wn=pe,C1=Te,N1=wf,R1={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Wn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Wn._)`{limit: ${e}}`},I1={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:R1,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?Wn.operators.GT:Wn.operators.LT,o=i.opts.unicode===!1?(0,Wn._)`${r}.length`:(0,Wn._)`${(0,C1.useFunc)(e.gen,N1.default)}(${r})`;e.fail$data((0,Wn._)`${o} ${s} ${n}`)}};Ef.default=I1;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});const D1=ye,La=pe,F1={message:({schemaCode:e})=>(0,La.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,La._)`{pattern: ${e}}`},k1={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:F1,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,La._)`(new RegExp(${i}, ${o}))`:(0,D1.usePattern)(e,n);e.fail$data((0,La._)`!${a}.test(${t})`)}};Sf.default=k1;var bf={};Object.defineProperty(bf,"__esModule",{value:!0});const Ws=pe,L1={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Ws.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ws._)`{limit: ${e}}`},j1={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:L1,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Ws.operators.GT:Ws.operators.LT;e.fail$data((0,Ws._)`Object.keys(${r}).length ${i} ${n}`)}};bf.default=j1;var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});const Ss=ye,Ks=pe,M1=Te,U1={message:({params:{missingProperty:e}})=>(0,Ks.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ks._)`{missingProperty: ${e}}`},x1={keyword:"required",type:"object",schemaType:"array",$data:!0,error:U1,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const l=r.length>=a.loopRequired;if(o.allErrors?c():u(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:y}=e.it;for(const E of r)if((m==null?void 0:m[E])===void 0&&!y.has(E)){const v=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${E}" is not defined at "${v}" (strictRequired)`;(0,M1.checkStrictMode)(o,g,o.opts.strictRequired)}}function c(){if(l||s)e.block$data(Ks.nil,f);else for(const m of r)(0,Ss.checkReportMissingProp)(e,m)}function u(){const m=t.let("missing");if(l||s){const y=t.let("valid",!0);e.block$data(y,()=>h(m,y)),e.ok(y)}else t.if((0,Ss.checkMissingProp)(e,r,m)),(0,Ss.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Ss.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function h(m,y){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(y,(0,Ss.propertyInData)(t,i,m,a.ownProperties)),t.if((0,Ks.not)(y),()=>{e.error(),t.break()})},Ks.nil)}}};Pf.default=x1;var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});const Ys=pe,q1={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Ys.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Ys._)`{limit: ${e}}`},V1={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:q1,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Ys.operators.GT:Ys.operators.LT;e.fail$data((0,Ys._)`${r}.length ${i} ${n}`)}};Tf.default=V1;var Of={},bo={};Object.defineProperty(bo,"__esModule",{value:!0});const fy=Za;fy.code='require("ajv/dist/runtime/equal").default';bo.default=fy;Object.defineProperty(Of,"__esModule",{value:!0});const Wl=Eo,vt=pe,B1=Te,z1=bo,H1={message:({params:{i:e,j:t}})=>(0,vt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,vt._)`{i: ${e}, j: ${t}}`},G1={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:H1,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;const l=t.let("valid"),c=s.items?(0,Wl.getSchemaTypes)(s.items):[];e.block$data(l,u,(0,vt._)`${o} === false`),e.ok(l);function u(){const y=t.let("i",(0,vt._)`${r}.length`),E=t.let("j");e.setParams({i:y,j:E}),t.assign(l,!0),t.if((0,vt._)`${y} > 1`,()=>(f()?h:m)(y,E))}function f(){return c.length>0&&!c.some(y=>y==="object"||y==="array")}function h(y,E){const v=t.name("item"),g=(0,Wl.checkDataTypes)(c,v,a.opts.strictNumbers,Wl.DataType.Wrong),p=t.const("indices",(0,vt._)`{}`);t.for((0,vt._)`;${y}--;`,()=>{t.let(v,(0,vt._)`${r}[${y}]`),t.if(g,(0,vt._)`continue`),c.length>1&&t.if((0,vt._)`typeof ${v} == "string"`,(0,vt._)`${v} += "_"`),t.if((0,vt._)`typeof ${p}[${v}] == "number"`,()=>{t.assign(E,(0,vt._)`${p}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,vt._)`${p}[${v}] = ${y}`)})}function m(y,E){const v=(0,B1.useFunc)(t,z1.default),g=t.name("outer");t.label(g).for((0,vt._)`;${y}--;`,()=>t.for((0,vt._)`${E} = ${y}; ${E}--;`,()=>t.if((0,vt._)`${v}(${r}[${y}], ${r}[${E}])`,()=>{e.error(),t.assign(l,!1).break(g)})))}}};Of.default=G1;var Af={};Object.defineProperty(Af,"__esModule",{value:!0});const Bc=pe,W1=Te,K1=bo,Y1={message:"must be equal to constant",params:({schemaCode:e})=>(0,Bc._)`{allowedValue: ${e}}`},J1={keyword:"const",$data:!0,error:Y1,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Bc._)`!${(0,W1.useFunc)(t,K1.default)}(${r}, ${i})`):e.fail((0,Bc._)`${s} !== ${r}`)}};Af.default=J1;var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});const Ls=pe,X1=Te,Q1=bo,Z1={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Ls._)`{allowedValues: ${e}}`},eP={keyword:"enum",schemaType:"array",$data:!0,error:Z1,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let l;const c=()=>l??(l=(0,X1.useFunc)(t,Q1.default));let u;if(a||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);u=(0,Ls.or)(...i.map((y,E)=>h(m,E)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",s,m=>t.if((0,Ls._)`${c()}(${r}, ${m})`,()=>t.assign(u,!0).break()))}function h(m,y){const E=i[y];return typeof E=="object"&&E!==null?(0,Ls._)`${c()}(${r}, ${m}[${y}])`:(0,Ls._)`${r} === ${E}`}}};Cf.default=eP;Object.defineProperty(vf,"__esModule",{value:!0});const tP=_f,rP=$f,nP=Ef,iP=Sf,sP=bf,oP=Pf,aP=Tf,lP=Of,cP=Af,uP=Cf,fP=[tP.default,rP.default,nP.default,iP.default,sP.default,oP.default,aP.default,lP.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},cP.default,uP.default];vf.default=fP;var Nf={},os={};Object.defineProperty(os,"__esModule",{value:!0});os.validateAdditionalItems=void 0;const Kn=pe,zc=Te,dP={message:({params:{len:e}})=>(0,Kn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Kn._)`{limit: ${e}}`},hP={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:dP,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,zc.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}dy(e,n)}};function dy(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,Kn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Kn._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,zc.alwaysValidSchema)(o,n)){const c=r.var("valid",(0,Kn._)`${a} <= ${t.length}`);r.if((0,Kn.not)(c),()=>l(c)),e.ok(c)}function l(c){r.forRange("i",t.length,a,u=>{e.subschema({keyword:s,dataProp:u,dataPropType:zc.Type.Num},c),o.allErrors||r.if((0,Kn.not)(c),()=>r.break())})}}os.validateAdditionalItems=dy;os.default=hP;var Rf={},as={};Object.defineProperty(as,"__esModule",{value:!0});as.validateTuple=void 0;const ah=pe,Ea=Te,pP=ye,mP={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return hy(e,"additionalItems",t);r.items=!0,!(0,Ea.alwaysValidSchema)(r,t)&&e.ok((0,pP.validateArray)(e))}};function hy(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;u(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Ea.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),c=n.const("len",(0,ah._)`${s}.length`);r.forEach((f,h)=>{(0,Ea.alwaysValidSchema)(a,f)||(n.if((0,ah._)`${c} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function u(f){const{opts:h,errSchemaPath:m}=a,y=r.length,E=y===f.minItems&&(y===f.maxItems||f[t]===!1);if(h.strictTuples&&!E){const v=`"${o}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Ea.checkStrictMode)(a,v,h.strictTuples)}}}as.validateTuple=hy;as.default=mP;Object.defineProperty(Rf,"__esModule",{value:!0});const gP=as,yP={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,gP.validateTuple)(e,"items")};Rf.default=yP;var If={};Object.defineProperty(If,"__esModule",{value:!0});const lh=pe,vP=Te,_P=ye,$P=os,EP={message:({params:{len:e}})=>(0,lh.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,lh._)`{limit: ${e}}`},wP={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:EP,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,vP.alwaysValidSchema)(n,t)&&(i?(0,$P.validateAdditionalItems)(e,i):e.ok((0,_P.validateArray)(e)))}};If.default=wP;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});const ur=pe,Zo=Te,SP={message:({params:{min:e,max:t}})=>t===void 0?(0,ur.str)`must contain at least ${e} valid item(s)`:(0,ur.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ur._)`{minContains: ${e}}`:(0,ur._)`{minContains: ${e}, maxContains: ${t}}`},bP={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:SP,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,a;const{minContains:l,maxContains:c}=n;s.opts.next?(o=l===void 0?1:l,a=c):o=1;const u=t.const("len",(0,ur._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Zo.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Zo.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Zo.alwaysValidSchema)(s,r)){let E=(0,ur._)`${u} >= ${o}`;a!==void 0&&(E=(0,ur._)`${E} && ${u} <= ${a}`),e.pass(E);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?m(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,ur._)`${i}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){const E=t.name("_valid"),v=t.let("count",0);m(E,()=>t.if(E,()=>y(v)))}function m(E,v){t.forRange("i",0,u,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:Zo.Type.Num,compositeRule:!0},E),v()})}function y(E){t.code((0,ur._)`${E}++`),a===void 0?t.if((0,ur._)`${E} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,ur._)`${E} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,ur._)`${E} >= ${o}`,()=>t.assign(f,!0)))}}};Df.default=bP;var py={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=pe,r=Te,n=ye;e.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const f=c===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:f}})=>(0,t._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${u}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,u]=s(l);o(l,c),a(l,u)}};function s({schema:l}){const c={},u={};for(const f in l){if(f==="__proto__")continue;const h=Array.isArray(l[f])?c:u;h[f]=l[f]}return[c,u]}function o(l,c=l.schema){const{gen:u,data:f,it:h}=l;if(Object.keys(c).length===0)return;const m=u.let("missing");for(const y in c){const E=c[y];if(E.length===0)continue;const v=(0,n.propertyInData)(u,f,y,h.opts.ownProperties);l.setParams({property:y,depsCount:E.length,deps:E.join(", ")}),h.allErrors?u.if(v,()=>{for(const g of E)(0,n.checkReportMissingProp)(l,g)}):(u.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,E,m)})`),(0,n.reportMissingProp)(l,m),u.else())}}e.validatePropertyDeps=o;function a(l,c=l.schema){const{gen:u,data:f,keyword:h,it:m}=l,y=u.name("valid");for(const E in c)(0,r.alwaysValidSchema)(m,c[E])||(u.if((0,n.propertyInData)(u,f,E,m.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:E},y);l.mergeValidEvaluated(v,y)},()=>u.var(y,!0)),l.ok(y))}e.validateSchemaDeps=a,e.default=i})(py);var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});const my=pe,PP=Te,TP={message:"property name must be valid",params:({params:e})=>(0,my._)`{propertyName: ${e.propertyName}}`},OP={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:TP,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,PP.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,my.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Ff.default=OP;var ol={};Object.defineProperty(ol,"__esModule",{value:!0});const ea=ye,_r=pe,AP=Ur,ta=Te,CP={message:"must NOT have additional properties",params:({params:e})=>(0,_r._)`{additionalProperty: ${e.additionalProperty}}`},NP={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:CP,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,ta.alwaysValidSchema)(o,r))return;const c=(0,ea.allSchemaProperties)(n.properties),u=(0,ea.allSchemaProperties)(n.patternProperties);f(),e.ok((0,_r._)`${s} === ${AP.default.errors}`);function f(){t.forIn("key",i,v=>{!c.length&&!u.length?y(v):t.if(h(v),()=>y(v))})}function h(v){let g;if(c.length>8){const p=(0,ta.schemaRefOrVal)(o,n.properties,"properties");g=(0,ea.isOwnProperty)(t,p,v)}else c.length?g=(0,_r.or)(...c.map(p=>(0,_r._)`${v} === ${p}`)):g=_r.nil;return u.length&&(g=(0,_r.or)(g,...u.map(p=>(0,_r._)`${(0,ea.usePattern)(e,p)}.test(${v})`))),(0,_r.not)(g)}function m(v){t.code((0,_r._)`delete ${i}[${v}]`)}function y(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,ta.alwaysValidSchema)(o,r)){const g=t.name("valid");l.removeAdditional==="failing"?(E(v,g,!1),t.if((0,_r.not)(g),()=>{e.reset(),m(v)})):(E(v,g),a||t.if((0,_r.not)(g),()=>t.break()))}}function E(v,g,p){const S={keyword:"additionalProperties",dataProp:v,dataPropType:ta.Type.Str};p===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,g)}}};ol.default=NP;var kf={};Object.defineProperty(kf,"__esModule",{value:!0});const RP=Pr,ch=ye,Kl=Te,uh=ol,IP={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&uh.default.code(new RP.KeywordCxt(s,uh.default,"additionalProperties"));const o=(0,ch.allSchemaProperties)(r);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Kl.mergeEvaluated.props(t,(0,Kl.toHash)(o),s.props));const a=o.filter(f=>!(0,Kl.alwaysValidSchema)(s,r[f]));if(a.length===0)return;const l=t.name("valid");for(const f of a)c(f)?u(f):(t.if((0,ch.propertyInData)(t,i,f,s.opts.ownProperties)),u(f),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(l);function c(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};kf.default=IP;var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});const fh=ye,ra=pe,dh=Te,hh=Te,DP={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,fh.allSchemaProperties)(r),l=a.filter(E=>(0,dh.alwaysValidSchema)(s,r[E]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const c=o.strictSchema&&!o.allowMatchingProperties&&i.properties,u=t.name("valid");s.props!==!0&&!(s.props instanceof ra.Name)&&(s.props=(0,hh.evaluatedPropsToName)(t,s.props));const{props:f}=s;h();function h(){for(const E of a)c&&m(E),s.allErrors?y(E):(t.var(u,!0),y(E),t.if(u))}function m(E){for(const v in c)new RegExp(E).test(v)&&(0,dh.checkStrictMode)(s,`property ${v} matches pattern ${E} (use allowMatchingProperties)`)}function y(E){t.forIn("key",n,v=>{t.if((0,ra._)`${(0,fh.usePattern)(e,E)}.test(${v})`,()=>{const g=l.includes(E);g||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:v,dataPropType:hh.Type.Str},u),s.opts.unevaluated&&f!==!0?t.assign((0,ra._)`${f}[${v}]`,!0):!g&&!s.allErrors&&t.if((0,ra.not)(u),()=>t.break())})})}}};Lf.default=DP;var jf={};Object.defineProperty(jf,"__esModule",{value:!0});const FP=Te,kP={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,FP.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};jf.default=kP;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});const LP=ye,jP={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:LP.validateUnion,error:{message:"must match a schema in anyOf"}};Mf.default=jP;var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});const wa=pe,MP=Te,UP={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,wa._)`{passingSchemas: ${e.passing}}`},xP={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:UP,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(c),e.result(o,()=>e.reset(),()=>e.error(!0));function c(){s.forEach((u,f)=>{let h;(0,MP.alwaysValidSchema)(i,u)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&t.if((0,wa._)`${l} && ${o}`).assign(o,!1).assign(a,(0,wa._)`[${a}, ${f}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,f),h&&e.mergeEvaluated(h,wa.Name)})})}}};Uf.default=xP;var xf={};Object.defineProperty(xf,"__esModule",{value:!0});const qP=Te,VP={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,qP.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};xf.default=VP;var qf={};Object.defineProperty(qf,"__esModule",{value:!0});const ja=pe,gy=Te,BP={message:({params:e})=>(0,ja.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ja._)`{failingKeyword: ${e.ifClause}}`},zP={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:BP,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,gy.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=ph(n,"then"),s=ph(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&s){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(a,c("then",u),c("else",u))}else i?t.if(a,c("then")):t.if((0,ja.not)(a),c("else"));e.pass(o,()=>e.error(!0));function l(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(u)}function c(u,f){return()=>{const h=e.subschema({keyword:u},a);t.assign(o,a),e.mergeValidEvaluated(h,o),f?t.assign(f,(0,ja._)`${u}`):e.setParams({ifClause:u})}}}};function ph(e,t){const r=e.schema[t];return r!==void 0&&!(0,gy.alwaysValidSchema)(e,r)}qf.default=zP;var Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});const HP=Te,GP={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,HP.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Vf.default=GP;Object.defineProperty(Nf,"__esModule",{value:!0});const WP=os,KP=Rf,YP=as,JP=If,XP=Df,QP=py,ZP=Ff,eT=ol,tT=kf,rT=Lf,nT=jf,iT=Mf,sT=Uf,oT=xf,aT=qf,lT=Vf;function cT(e=!1){const t=[nT.default,iT.default,sT.default,oT.default,aT.default,lT.default,ZP.default,eT.default,QP.default,tT.default,rT.default];return e?t.push(KP.default,JP.default):t.push(WP.default,YP.default),t.push(XP.default),t}Nf.default=cT;var Bf={},zf={};Object.defineProperty(zf,"__esModule",{value:!0});const rt=pe,uT={message:({schemaCode:e})=>(0,rt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,rt._)`{format: ${e}}`},fT={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:uT,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:c,schemaEnv:u,self:f}=a;if(!l.validateFormats)return;i?h():m();function h(){const y=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),E=r.const("fDef",(0,rt._)`${y}[${o}]`),v=r.let("fType"),g=r.let("format");r.if((0,rt._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(v,(0,rt._)`${E}.type || "string"`).assign(g,(0,rt._)`${E}.validate`),()=>r.assign(v,(0,rt._)`"string"`).assign(g,E)),e.fail$data((0,rt.or)(p(),S()));function p(){return l.strictSchema===!1?rt.nil:(0,rt._)`${o} && !${g}`}function S(){const N=u.$async?(0,rt._)`(${E}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,rt._)`${g}(${n})`,M=(0,rt._)`(typeof ${g} == "function" ? ${N} : ${g}.test(${n}))`;return(0,rt._)`${g} && ${g} !== true && ${v} === ${t} && !${M}`}}function m(){const y=f.formats[s];if(!y){p();return}if(y===!0)return;const[E,v,g]=S(y);E===t&&e.pass(N());function p(){if(l.strictSchema===!1){f.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function S(M){const O=M instanceof RegExp?(0,rt.regexpCode)(M):l.code.formats?(0,rt._)`${l.code.formats}${(0,rt.getProperty)(s)}`:void 0,b=r.scopeValue("formats",{key:s,ref:M,code:O});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,rt._)`${b}.validate`]:["string",M,b]}function N(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!u.$async)throw new Error("async format in sync schema");return(0,rt._)`await ${g}(${n})`}return typeof v=="function"?(0,rt._)`${g}(${n})`:(0,rt._)`${g}.test(${n})`}}}};zf.default=fT;Object.defineProperty(Bf,"__esModule",{value:!0});const dT=zf,hT=[dT.default];Bf.default=hT;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.contentVocabulary=Gi.metadataVocabulary=void 0;Gi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Gi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(mf,"__esModule",{value:!0});const pT=gf,mT=vf,gT=Nf,yT=Bf,mh=Gi,vT=[pT.default,mT.default,(0,gT.default)(),yT.default,mh.metadataVocabulary,mh.contentVocabulary];mf.default=vT;var Hf={},yy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(yy);Object.defineProperty(Hf,"__esModule",{value:!0});const Ci=pe,Hc=yy,gh=Jt,_T=Te,$T={message:({params:{discrError:e,tagName:t}})=>e===Hc.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ci._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},ET={keyword:"discriminator",type:"object",schemaType:"object",error:$T,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),c=t.const("tag",(0,Ci._)`${r}${(0,Ci.getProperty)(a)}`);t.if((0,Ci._)`typeof ${c} == "string"`,()=>u(),()=>e.error(!1,{discrError:Hc.DiscrError.Tag,tag:c,tagName:a})),e.ok(l);function u(){const m=h();t.if(!1);for(const y in m)t.elseIf((0,Ci._)`${c} === ${y}`),t.assign(l,f(m[y]));t.else(),e.error(!1,{discrError:Hc.DiscrError.Mapping,tag:c,tagName:a}),t.endIf()}function f(m){const y=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:m},y);return e.mergeEvaluated(E,Ci.Name),y}function h(){var m;const y={},E=g(i);let v=!0;for(let N=0;N<o.length;N++){let M=o[N];M!=null&&M.$ref&&!(0,_T.schemaHasRulesButRef)(M,s.self.RULES)&&(M=gh.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,M==null?void 0:M.$ref),M instanceof gh.SchemaEnv&&(M=M.schema));const O=(m=M==null?void 0:M.properties)===null||m===void 0?void 0:m[a];if(typeof O!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(E||g(M)),p(O,N)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return y;function g({required:N}){return Array.isArray(N)&&N.includes(a)}function p(N,M){if(N.const)S(N.const,M);else if(N.enum)for(const O of N.enum)S(O,M);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(N,M){if(typeof N!="string"||N in y)throw new Error(`discriminator: "${a}" values must be unique strings`);y[N]=M}}}};Hf.default=ET;const wT="http://json-schema.org/draft-07/schema#",ST="http://json-schema.org/draft-07/schema#",bT="Core schema meta-schema",PT={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},TT=["object","boolean"],OT={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},AT={$schema:wT,$id:ST,title:bT,definitions:PT,type:TT,properties:OT,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Mg,n=mf,i=Hf,s=AT,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(y,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=Pr;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=pe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=wo;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=So;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(xc,xc.exports);var CT=xc.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=CT,r=pe,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:a,schemaCode:l})=>r.str`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>r._`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(a){const{gen:l,data:c,schemaCode:u,keyword:f,it:h}=a,{opts:m,self:y}=h;if(!m.validateFormats)return;const E=new t.KeywordCxt(h,y.RULES.all.format.definition,"format");E.$data?v():g();function v(){const S=l.scopeValue("formats",{ref:y.formats,code:m.code.formats}),N=l.const("fmt",r._`${S}[${E.schemaCode}]`);a.fail$data(r.or(r._`typeof ${N} != "object"`,r._`${N} instanceof RegExp`,r._`typeof ${N}.compare != "function"`,p(N)))}function g(){const S=E.schema,N=y.formats[S];if(!N||N===!0)return;if(typeof N!="object"||N instanceof RegExp||typeof N.compare!="function")throw new Error(`"${f}": format "${S}" does not define "compare" function`);const M=l.scopeValue("formats",{key:S,ref:N,code:m.code.formats?r._`${m.code.formats}${r.getProperty(S)}`:void 0});a.fail$data(p(M))}function p(S){return r._`${S}.compare(${c}, ${u}) ${i[f].fail} 0`}},dependencies:["format"]};const o=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=o})(jg);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Lg,n=jg,i=pe,s=new i.Name("fullFormats"),o=new i.Name("fastFormats"),a=(c,u={keywords:!0})=>{if(Array.isArray(u))return l(c,u,r.fullFormats,s),c;const[f,h]=u.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],m=u.formats||r.formatNames;return l(c,m,f,h),u.keywords&&n.default(c),c};a.get=(c,u="full")=>{const h=(u==="fast"?r.fastFormats:r.fullFormats)[c];if(!h)throw new Error(`Unknown format "${c}"`);return h};function l(c,u,f,h){var m,y;(m=(y=c.opts.code).formats)!==null&&m!==void 0||(y.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const E of u)c.addFormat(E,f[E])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(Uc,Uc.exports);var NT=Uc.exports;const RT=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!IT(i,s)&&n||Object.defineProperty(e,r,s)},IT=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},DT=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},FT=(e,t)=>`/* Wrapped ${e}*/
${t}`,kT=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),LT=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),jT=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=FT.bind(null,n,t.toString());Object.defineProperty(i,"name",LT),Object.defineProperty(e,"toString",{...kT,value:i})},MT=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const i of Reflect.ownKeys(t))RT(e,t,i,r);return DT(e,t),jT(e,t,n),e};var UT=MT;const xT=UT;var qT=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:i=!0}=t;if(!n&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,o;const a=function(...l){const c=this,u=()=>{s=void 0,i&&(o=e.apply(c,l))},f=n&&!s;return clearTimeout(s),s=setTimeout(u,r),f&&(o=e.apply(c,l)),o};return xT(a,e),a.cancel=()=>{s&&(clearTimeout(s),s=void 0)},a},Gc={exports:{}};const VT="2.0.0",vy=256,BT=Number.MAX_SAFE_INTEGER||9007199254740991,zT=16,HT=vy-6,GT=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var al={MAX_LENGTH:vy,MAX_SAFE_COMPONENT_LENGTH:zT,MAX_SAFE_BUILD_LENGTH:HT,MAX_SAFE_INTEGER:BT,RELEASE_TYPES:GT,SEMVER_SPEC_VERSION:VT,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const WT=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ll=WT;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=al,s=ll;t=e.exports={};const o=t.re=[],a=t.safeRe=[],l=t.src=[],c=t.t={};let u=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,n]],m=E=>{for(const[v,g]of h)E=E.split(`${v}*`).join(`${v}{0,${g}}`).split(`${v}+`).join(`${v}{1,${g}}`);return E},y=(E,v,g)=>{const p=m(v),S=u++;s(E,S,v),c[E]=S,l[S]=v,o[S]=new RegExp(v,g?"g":void 0),a[S]=new RegExp(p,g?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),y("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),y("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${f}+`),y("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),y("FULL",`^${l[c.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),y("LOOSE",`^${l[c.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),y("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),y("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",l[c.COERCE],!0),y("COERCERTLFULL",l[c.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Gc,Gc.exports);var Po=Gc.exports;const KT=Object.freeze({loose:!0}),YT=Object.freeze({}),JT=e=>e?typeof e!="object"?KT:e:YT;var Gf=JT;const yh=/^[0-9]+$/,_y=(e,t)=>{const r=yh.test(e),n=yh.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},XT=(e,t)=>_y(t,e);var $y={compareIdentifiers:_y,rcompareIdentifiers:XT};const na=ll,{MAX_LENGTH:vh,MAX_SAFE_INTEGER:ia}=al,{safeRe:_h,t:$h}=Po,QT=Gf,{compareIdentifiers:Ei}=$y;let ZT=class Nr{constructor(t,r){if(r=QT(r),t instanceof Nr){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>vh)throw new TypeError(`version is longer than ${vh} characters`);na("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?_h[$h.LOOSE]:_h[$h.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ia||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ia||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ia||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<ia)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(na("SemVer.compare",this.version,this.options,t),!(t instanceof Nr)){if(typeof t=="string"&&t===this.version)return 0;t=new Nr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Nr||(t=new Nr(t,this.options)),Ei(this.major,t.major)||Ei(this.minor,t.minor)||Ei(this.patch,t.patch)}comparePre(t){if(t instanceof Nr||(t=new Nr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(na("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Ei(n,i)}while(++r)}compareBuild(t){t instanceof Nr||(t=new Nr(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(na("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Ei(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Ei(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ut=ZT;const Eh=Ut,eO=(e,t,r=!1)=>{if(e instanceof Eh)return e;try{return new Eh(e,t)}catch(n){if(!r)return null;throw n}};var ls=eO;const tO=ls,rO=(e,t)=>{const r=tO(e,t);return r?r.version:null};var nO=rO;const iO=ls,sO=(e,t)=>{const r=iO(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var oO=sO;const wh=Ut,aO=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new wh(e instanceof wh?e.version:e,r).inc(t,n,i).version}catch{return null}};var lO=aO;const Sh=ls,cO=(e,t)=>{const r=Sh(e,null,!0),n=Sh(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const u=l?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var uO=cO;const fO=Ut,dO=(e,t)=>new fO(e,t).major;var hO=dO;const pO=Ut,mO=(e,t)=>new pO(e,t).minor;var gO=mO;const yO=Ut,vO=(e,t)=>new yO(e,t).patch;var _O=vO;const $O=ls,EO=(e,t)=>{const r=$O(e,t);return r&&r.prerelease.length?r.prerelease:null};var wO=EO;const bh=Ut,SO=(e,t,r)=>new bh(e,r).compare(new bh(t,r));var Tr=SO;const bO=Tr,PO=(e,t,r)=>bO(t,e,r);var TO=PO;const OO=Tr,AO=(e,t)=>OO(e,t,!0);var CO=AO;const Ph=Ut,NO=(e,t,r)=>{const n=new Ph(e,r),i=new Ph(t,r);return n.compare(i)||n.compareBuild(i)};var Wf=NO;const RO=Wf,IO=(e,t)=>e.sort((r,n)=>RO(r,n,t));var DO=IO;const FO=Wf,kO=(e,t)=>e.sort((r,n)=>FO(n,r,t));var LO=kO;const jO=Tr,MO=(e,t,r)=>jO(e,t,r)>0;var cl=MO;const UO=Tr,xO=(e,t,r)=>UO(e,t,r)<0;var Kf=xO;const qO=Tr,VO=(e,t,r)=>qO(e,t,r)===0;var Ey=VO;const BO=Tr,zO=(e,t,r)=>BO(e,t,r)!==0;var wy=zO;const HO=Tr,GO=(e,t,r)=>HO(e,t,r)>=0;var Yf=GO;const WO=Tr,KO=(e,t,r)=>WO(e,t,r)<=0;var Jf=KO;const YO=Ey,JO=wy,XO=cl,QO=Yf,ZO=Kf,eA=Jf,tA=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return YO(e,r,n);case"!=":return JO(e,r,n);case">":return XO(e,r,n);case">=":return QO(e,r,n);case"<":return ZO(e,r,n);case"<=":return eA(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Sy=tA;const rA=Ut,nA=ls,{safeRe:sa,t:oa}=Po,iA=(e,t)=>{if(e instanceof rA)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?sa[oa.COERCEFULL]:sa[oa.COERCE]);else{const l=t.includePrerelease?sa[oa.COERCERTLFULL]:sa[oa.COERCERTL];let c;for(;(c=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return nA(`${n}.${i}.${s}${o}${a}`,t)};var sA=iA,Yl,Th;function oA(){return Th||(Th=1,Yl=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Yl}var aA=Ae;Ae.Node=ai;Ae.create=Ae;function Ae(e){var t=this;if(t instanceof Ae||(t=new Ae),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Ae.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Ae.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Ae.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Ae.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)cA(this,arguments[e]);return this.length};Ae.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)uA(this,arguments[e]);return this.length};Ae.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Ae.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Ae.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Ae.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Ae.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Ae.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Ae.prototype.map=function(e,t){t=t||this;for(var r=new Ae,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Ae.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Ae,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Ae.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Ae.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Ae.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Ae.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Ae.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ae;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Ae.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ae;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Ae.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=lA(this,i,r[n]);return s};Ae.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function lA(e,t,r){var n=t===e.head?new ai(r,null,t,e):new ai(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function cA(e,t){e.tail=new ai(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function uA(e,t){e.head=new ai(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ai(e,t,r,n){if(!(this instanceof ai))return new ai(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{oA()(Ae)}catch{}const fA=aA,Yn=Symbol("max"),Yr=Symbol("length"),wi=Symbol("lengthCalculator"),Js=Symbol("allowStale"),Xn=Symbol("maxAge"),Wr=Symbol("dispose"),Oh=Symbol("noDisposeOnSet"),pt=Symbol("lruList"),$r=Symbol("cache"),by=Symbol("updateAgeOnGet"),Jl=()=>1;class dA{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Yn]=t.max||1/0;const r=t.length||Jl;if(this[wi]=typeof r!="function"?Jl:r,this[Js]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Xn]=t.maxAge||0,this[Wr]=t.dispose,this[Oh]=t.noDisposeOnSet||!1,this[by]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Yn]=t||1/0,bs(this)}get max(){return this[Yn]}set allowStale(t){this[Js]=!!t}get allowStale(){return this[Js]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Xn]=t,bs(this)}get maxAge(){return this[Xn]}set lengthCalculator(t){typeof t!="function"&&(t=Jl),t!==this[wi]&&(this[wi]=t,this[Yr]=0,this[pt].forEach(r=>{r.length=this[wi](r.value,r.key),this[Yr]+=r.length})),bs(this)}get lengthCalculator(){return this[wi]}get length(){return this[Yr]}get itemCount(){return this[pt].length}rforEach(t,r){r=r||this;for(let n=this[pt].tail;n!==null;){const i=n.prev;Ah(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[pt].head;n!==null;){const i=n.next;Ah(this,t,n,r),n=i}}keys(){return this[pt].toArray().map(t=>t.key)}values(){return this[pt].toArray().map(t=>t.value)}reset(){this[Wr]&&this[pt]&&this[pt].length&&this[pt].forEach(t=>this[Wr](t.key,t.value)),this[$r]=new Map,this[pt]=new fA,this[Yr]=0}dump(){return this[pt].map(t=>Ma(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[pt]}set(t,r,n){if(n=n||this[Xn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[wi](r,t);if(this[$r].has(t)){if(s>this[Yn])return Ui(this,this[$r].get(t)),!1;const l=this[$r].get(t).value;return this[Wr]&&(this[Oh]||this[Wr](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Yr]+=s-l.length,l.length=s,this.get(t),bs(this),!0}const o=new hA(t,r,s,i,n);return o.length>this[Yn]?(this[Wr]&&this[Wr](t,r),!1):(this[Yr]+=o.length,this[pt].unshift(o),this[$r].set(t,this[pt].head),bs(this),!0)}has(t){if(!this[$r].has(t))return!1;const r=this[$r].get(t).value;return!Ma(this,r)}get(t){return Xl(this,t,!0)}peek(t){return Xl(this,t,!1)}pop(){const t=this[pt].tail;return t?(Ui(this,t),t.value):null}del(t){Ui(this,this[$r].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[$r].forEach((t,r)=>Xl(this,r,!1))}}const Xl=(e,t,r)=>{const n=e[$r].get(t);if(n){const i=n.value;if(Ma(e,i)){if(Ui(e,n),!e[Js])return}else r&&(e[by]&&(n.value.now=Date.now()),e[pt].unshiftNode(n));return i.value}},Ma=(e,t)=>{if(!t||!t.maxAge&&!e[Xn])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Xn]&&r>e[Xn]},bs=e=>{if(e[Yr]>e[Yn])for(let t=e[pt].tail;e[Yr]>e[Yn]&&t!==null;){const r=t.prev;Ui(e,t),t=r}},Ui=(e,t)=>{if(t){const r=t.value;e[Wr]&&e[Wr](r.key,r.value),e[Yr]-=r.length,e[$r].delete(r.key),e[pt].removeNode(t)}};class hA{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Ah=(e,t,r,n)=>{let i=r.value;Ma(e,i)&&(Ui(e,r),e[Js]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var pA=dA,Ql,Ch;function Or(){if(Ch)return Ql;Ch=1;class e{constructor(G,Q){if(Q=n(Q),G instanceof e)return G.loose===!!Q.loose&&G.includePrerelease===!!Q.includePrerelease?G:new e(G.raw,Q);if(G instanceof i)return this.raw=G.value,this.set=[[G]],this.format(),this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=G.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(Z=>this.parseRange(Z.trim())).filter(Z=>Z.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Z=this.set[0];if(this.set=this.set.filter(K=>!y(K[0])),this.set.length===0)this.set=[Z];else if(this.set.length>1){for(const K of this.set)if(K.length===1&&E(K[0])){this.set=[K];break}}}this.format()}format(){return this.range=this.set.map(G=>G.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(G){const Z=((this.options.includePrerelease&&h)|(this.options.loose&&m))+":"+G,K=r.get(Z);if(K)return K;const I=this.options.loose,j=I?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];G=G.replace(j,Y(this.options.includePrerelease)),s("hyphen replace",G),G=G.replace(a[l.COMPARATORTRIM],c),s("comparator trim",G),G=G.replace(a[l.TILDETRIM],u),s("tilde trim",G),G=G.replace(a[l.CARETTRIM],f),s("caret trim",G);let A=G.split(" ").map(d=>g(d,this.options)).join(" ").split(/\s+/).map(d=>V(d,this.options));I&&(A=A.filter(d=>(s("loose invalid filter",d,this.options),!!d.match(a[l.COMPARATORLOOSE])))),s("range list",A);const w=new Map,R=A.map(d=>new i(d,this.options));for(const d of R){if(y(d))return[d];w.set(d.value,d)}w.size>1&&w.has("")&&w.delete("");const C=[...w.values()];return r.set(Z,C),C}intersects(G,Q){if(!(G instanceof e))throw new TypeError("a Range is required");return this.set.some(Z=>v(Z,Q)&&G.set.some(K=>v(K,Q)&&Z.every(I=>K.every(j=>I.intersects(j,Q)))))}test(G){if(!G)return!1;if(typeof G=="string")try{G=new o(G,this.options)}catch{return!1}for(let Q=0;Q<this.set.length;Q++)if(H(this.set[Q],G,this.options))return!0;return!1}}Ql=e;const t=pA,r=new t({max:1e3}),n=Gf,i=ul(),s=ll,o=Ut,{safeRe:a,t:l,comparatorTrimReplace:c,tildeTrimReplace:u,caretTrimReplace:f}=Po,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:m}=al,y=W=>W.value==="<0.0.0-0",E=W=>W.value==="",v=(W,G)=>{let Q=!0;const Z=W.slice();let K=Z.pop();for(;Q&&Z.length;)Q=Z.every(I=>K.intersects(I,G)),K=Z.pop();return Q},g=(W,G)=>(s("comp",W,G),W=M(W,G),s("caret",W),W=S(W,G),s("tildes",W),W=b(W,G),s("xrange",W),W=T(W,G),s("stars",W),W),p=W=>!W||W.toLowerCase()==="x"||W==="*",S=(W,G)=>W.trim().split(/\s+/).map(Q=>N(Q,G)).join(" "),N=(W,G)=>{const Q=G.loose?a[l.TILDELOOSE]:a[l.TILDE];return W.replace(Q,(Z,K,I,j,A)=>{s("tilde",W,Z,K,I,j,A);let w;return p(K)?w="":p(I)?w=`>=${K}.0.0 <${+K+1}.0.0-0`:p(j)?w=`>=${K}.${I}.0 <${K}.${+I+1}.0-0`:A?(s("replaceTilde pr",A),w=`>=${K}.${I}.${j}-${A} <${K}.${+I+1}.0-0`):w=`>=${K}.${I}.${j} <${K}.${+I+1}.0-0`,s("tilde return",w),w})},M=(W,G)=>W.trim().split(/\s+/).map(Q=>O(Q,G)).join(" "),O=(W,G)=>{s("caret",W,G);const Q=G.loose?a[l.CARETLOOSE]:a[l.CARET],Z=G.includePrerelease?"-0":"";return W.replace(Q,(K,I,j,A,w)=>{s("caret",W,K,I,j,A,w);let R;return p(I)?R="":p(j)?R=`>=${I}.0.0${Z} <${+I+1}.0.0-0`:p(A)?I==="0"?R=`>=${I}.${j}.0${Z} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.0${Z} <${+I+1}.0.0-0`:w?(s("replaceCaret pr",w),I==="0"?j==="0"?R=`>=${I}.${j}.${A}-${w} <${I}.${j}.${+A+1}-0`:R=`>=${I}.${j}.${A}-${w} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.${A}-${w} <${+I+1}.0.0-0`):(s("no pr"),I==="0"?j==="0"?R=`>=${I}.${j}.${A}${Z} <${I}.${j}.${+A+1}-0`:R=`>=${I}.${j}.${A}${Z} <${I}.${+j+1}.0-0`:R=`>=${I}.${j}.${A} <${+I+1}.0.0-0`),s("caret return",R),R})},b=(W,G)=>(s("replaceXRanges",W,G),W.split(/\s+/).map(Q=>D(Q,G)).join(" ")),D=(W,G)=>{W=W.trim();const Q=G.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return W.replace(Q,(Z,K,I,j,A,w)=>{s("xRange",W,Z,K,I,j,A,w);const R=p(I),C=R||p(j),d=C||p(A),$=d;return K==="="&&$&&(K=""),w=G.includePrerelease?"-0":"",R?K===">"||K==="<"?Z="<0.0.0-0":Z="*":K&&$?(C&&(j=0),A=0,K===">"?(K=">=",C?(I=+I+1,j=0,A=0):(j=+j+1,A=0)):K==="<="&&(K="<",C?I=+I+1:j=+j+1),K==="<"&&(w="-0"),Z=`${K+I}.${j}.${A}${w}`):C?Z=`>=${I}.0.0${w} <${+I+1}.0.0-0`:d&&(Z=`>=${I}.${j}.0${w} <${I}.${+j+1}.0-0`),s("xRange return",Z),Z})},T=(W,G)=>(s("replaceStars",W,G),W.trim().replace(a[l.STAR],"")),V=(W,G)=>(s("replaceGTE0",W,G),W.trim().replace(a[G.includePrerelease?l.GTE0PRE:l.GTE0],"")),Y=W=>(G,Q,Z,K,I,j,A,w,R,C,d,$,L)=>(p(Z)?Q="":p(K)?Q=`>=${Z}.0.0${W?"-0":""}`:p(I)?Q=`>=${Z}.${K}.0${W?"-0":""}`:j?Q=`>=${Q}`:Q=`>=${Q}${W?"-0":""}`,p(R)?w="":p(C)?w=`<${+R+1}.0.0-0`:p(d)?w=`<${R}.${+C+1}.0-0`:$?w=`<=${R}.${C}.${d}-${$}`:W?w=`<${R}.${C}.${+d+1}-0`:w=`<=${w}`,`${Q} ${w}`.trim()),H=(W,G,Q)=>{for(let Z=0;Z<W.length;Z++)if(!W[Z].test(G))return!1;if(G.prerelease.length&&!Q.includePrerelease){for(let Z=0;Z<W.length;Z++)if(s(W[Z].semver),W[Z].semver!==i.ANY&&W[Z].semver.prerelease.length>0){const K=W[Z].semver;if(K.major===G.major&&K.minor===G.minor&&K.patch===G.patch)return!0}return!1}return!0};return Ql}var Zl,Nh;function ul(){if(Nh)return Zl;Nh=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=r(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=u.match(f);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return s(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||s(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||s(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Zl=t;const r=Gf,{safeRe:n,t:i}=Po,s=Sy,o=ll,a=Ut,l=Or();return Zl}const mA=Or(),gA=(e,t,r)=>{try{t=new mA(t,r)}catch{return!1}return t.test(e)};var fl=gA;const yA=Or(),vA=(e,t)=>new yA(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var _A=vA;const $A=Ut,EA=Or(),wA=(e,t,r)=>{let n=null,i=null,s=null;try{s=new EA(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new $A(n,r))}),n};var SA=wA;const bA=Ut,PA=Or(),TA=(e,t,r)=>{let n=null,i=null,s=null;try{s=new PA(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new bA(n,r))}),n};var OA=TA;const ec=Ut,AA=Or(),Rh=cl,CA=(e,t)=>{e=new AA(e,t);let r=new ec("0.0.0");if(e.test(r)||(r=new ec("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const a=new ec(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Rh(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Rh(r,s))&&(r=s)}return r&&e.test(r)?r:null};var NA=CA;const RA=Or(),IA=(e,t)=>{try{return new RA(e,t).range||"*"}catch{return null}};var DA=IA;const FA=Ut,Py=ul(),{ANY:kA}=Py,LA=Or(),jA=fl,Ih=cl,Dh=Kf,MA=Jf,UA=Yf,xA=(e,t,r,n)=>{e=new FA(e,n),t=new LA(t,n);let i,s,o,a,l;switch(r){case">":i=Ih,s=MA,o=Dh,a=">",l=">=";break;case"<":i=Dh,s=UA,o=Ih,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jA(e,t,n))return!1;for(let c=0;c<t.set.length;++c){const u=t.set[c];let f=null,h=null;if(u.forEach(m=>{m.semver===kA&&(m=new Py(">=0.0.0")),f=f||m,h=h||m,i(m.semver,f.semver,n)?f=m:o(m.semver,h.semver,n)&&(h=m)}),f.operator===a||f.operator===l||(!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};var Xf=xA;const qA=Xf,VA=(e,t,r)=>qA(e,t,">",r);var BA=VA;const zA=Xf,HA=(e,t,r)=>zA(e,t,"<",r);var GA=HA;const Fh=Or(),WA=(e,t,r)=>(e=new Fh(e,r),t=new Fh(t,r),e.intersects(t,r));var KA=WA;const YA=fl,JA=Tr;var XA=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((u,f)=>JA(u,f,r));for(const u of o)YA(u,t,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[u,f]of n)u===f?a.push(u):!f&&u===o[0]?a.push("*"):f?u===o[0]?a.push(`<=${f}`):a.push(`${u} - ${f}`):a.push(`>=${u}`);const l=a.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t};const kh=Or(),Qf=ul(),{ANY:tc}=Qf,Ps=fl,Zf=Tr,QA=(e,t,r={})=>{if(e===t)return!0;e=new kh(e,r),t=new kh(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=eC(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},ZA=[new Qf(">=0.0.0-0")],Lh=[new Qf(">=0.0.0")],eC=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===tc){if(t.length===1&&t[0].semver===tc)return!0;r.includePrerelease?e=ZA:e=Lh}if(t.length===1&&t[0].semver===tc){if(r.includePrerelease)return!0;t=Lh}const n=new Set;let i,s;for(const m of e)m.operator===">"||m.operator===">="?i=jh(i,m,r):m.operator==="<"||m.operator==="<="?s=Mh(s,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Zf(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const m of n){if(i&&!Ps(m,String(i),r)||s&&!Ps(m,String(s),r))return null;for(const y of t)if(!Ps(m,String(y),r))return!1;return!0}let a,l,c,u,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const m of t){if(u=u||m.operator===">"||m.operator===">=",c=c||m.operator==="<"||m.operator==="<=",i){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(a=jh(i,m,r),a===m&&a!==i)return!1}else if(i.operator===">="&&!Ps(i.semver,String(m),r))return!1}if(s){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(l=Mh(s,m,r),l===m&&l!==s)return!1}else if(s.operator==="<="&&!Ps(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&u&&!i&&o!==0||h||f)},jh=(e,t,r)=>{if(!e)return t;const n=Zf(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Mh=(e,t,r)=>{if(!e)return t;const n=Zf(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var tC=QA;const rc=Po,Uh=al,rC=Ut,xh=$y,nC=ls,iC=nO,sC=oO,oC=lO,aC=uO,lC=hO,cC=gO,uC=_O,fC=wO,dC=Tr,hC=TO,pC=CO,mC=Wf,gC=DO,yC=LO,vC=cl,_C=Kf,$C=Ey,EC=wy,wC=Yf,SC=Jf,bC=Sy,PC=sA,TC=ul(),OC=Or(),AC=fl,CC=_A,NC=SA,RC=OA,IC=NA,DC=DA,FC=Xf,kC=BA,LC=GA,jC=KA,MC=XA,UC=tC;var ed={parse:nC,valid:iC,clean:sC,inc:oC,diff:aC,major:lC,minor:cC,patch:uC,prerelease:fC,compare:dC,rcompare:hC,compareLoose:pC,compareBuild:mC,sort:gC,rsort:yC,gt:vC,lt:_C,eq:$C,neq:EC,gte:wC,lte:SC,cmp:bC,coerce:PC,Comparator:TC,Range:OC,satisfies:AC,toComparators:CC,maxSatisfying:NC,minSatisfying:RC,minVersion:IC,validRange:DC,outside:FC,gtr:kC,ltr:LC,intersects:jC,simplifyRange:MC,subset:UC,SemVer:rC,re:rc.re,src:rc.src,tokens:rc.t,SEMVER_SPEC_VERSION:Uh.SEMVER_SPEC_VERSION,RELEASE_TYPES:Uh.RELEASE_TYPES,compareIdentifiers:xh.compareIdentifiers,rcompareIdentifiers:xh.rcompareIdentifiers},dl={exports:{}},td={exports:{}};const Ty=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};td.exports=Ty;td.exports.default=Ty;var xC=td.exports;const qC=xC,Ua=new WeakMap,Oy=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",s=function(...o){if(Ua.set(s,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return qC(s,e),Ua.set(s,n),s};dl.exports=Oy;dl.exports.default=Oy;dl.exports.callCount=e=>{if(!Ua.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Ua.get(e)};var VC=dl.exports;(function(e,t){var r=ot&&ot.__classPrivateFieldSet||function(K,I,j,A,w){if(A==="m")throw new TypeError("Private method is not writable");if(A==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof I=="function"?K!==I||!w:!I.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return A==="a"?w.call(K,j):w?w.value=j:I.set(K,j),j},n=ot&&ot.__classPrivateFieldGet||function(K,I,j,A){if(j==="a"&&!A)throw new TypeError("Private accessor was defined without a getter");if(typeof I=="function"?K!==I||!A:!I.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?A:j==="a"?A.call(K):A?A.value:I.get(K)},i,s,o,a,l,c;Object.defineProperty(t,"__esModule",{value:!0});const u=ts,f=Je,h=Se,m=rs,y=au,E=es,v=f_,g=w_,p=T_,S=Fr,N=US,M=NT,O=qT,b=ed,D=VC,T="aes-256-cbc",V=()=>Object.create(null),Y=K=>K!=null;let H="";try{delete require.cache[__filename],H=h.dirname((s=(i=e.parent)===null||i===void 0?void 0:i.filename)!==null&&s!==void 0?s:".")}catch{}const W=(K,I)=>{const j=new Set(["undefined","symbol","function"]),A=typeof I;if(j.has(A))throw new TypeError(`Setting a value of type \`${A}\` for key \`${K}\` is not allowed as it's not supported by JSON`)},G="__internal__",Q=`${G}.migrations.version`;class Z{constructor(I={}){var j;o.set(this,void 0),a.set(this,void 0),l.set(this,void 0),c.set(this,{}),this._deserialize=$=>JSON.parse($),this._serialize=$=>JSON.stringify($,void 0,"	");const A={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...I},w=D(()=>{const $=g.sync({cwd:H}),L=$&&JSON.parse(f.readFileSync($,"utf8"));return L??{}});if(!A.cwd){if(A.projectName||(A.projectName=w().name),!A.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");A.cwd=p(A.projectName,{suffix:A.projectSuffix}).config}if(r(this,l,A,"f"),A.schema){if(typeof A.schema!="object")throw new TypeError("The `schema` option must be an object.");const $=new N.default({allErrors:!0,useDefaults:!0});(0,M.default)($);const L={type:"object",properties:A.schema};r(this,o,$.compile(L),"f");for(const[P,_]of Object.entries(A.schema))_!=null&&_.default&&(n(this,c,"f")[P]=_.default)}A.defaults&&r(this,c,{...n(this,c,"f"),...A.defaults},"f"),A.serialize&&(this._serialize=A.serialize),A.deserialize&&(this._deserialize=A.deserialize),this.events=new E.EventEmitter,r(this,a,A.encryptionKey,"f");const R=A.fileExtension?`.${A.fileExtension}`:"";this.path=h.resolve(A.cwd,`${(j=A.configName)!==null&&j!==void 0?j:"config"}${R}`);const C=this.store,d=Object.assign(V(),A.defaults,C);this._validate(d);try{y.deepEqual(C,d)}catch{this.store=d}if(A.watch&&this._watch(),A.migrations){if(A.projectVersion||(A.projectVersion=w().version),!A.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(A.migrations,A.projectVersion,A.beforeEachMigration)}}get(I,j){if(n(this,l,"f").accessPropertiesByDotNotation)return this._get(I,j);const{store:A}=this;return I in A?A[I]:j}set(I,j){if(typeof I!="string"&&typeof I!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof I}`);if(typeof I!="object"&&j===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(I))throw new TypeError(`Please don't use the ${G} key, as it's used to manage this module internal operations.`);const{store:A}=this,w=(R,C)=>{W(R,C),n(this,l,"f").accessPropertiesByDotNotation?v.set(A,R,C):A[R]=C};if(typeof I=="object"){const R=I;for(const[C,d]of Object.entries(R))w(C,d)}else w(I,j);this.store=A}has(I){return n(this,l,"f").accessPropertiesByDotNotation?v.has(this.store,I):I in this.store}reset(...I){for(const j of I)Y(n(this,c,"f")[j])&&this.set(j,n(this,c,"f")[j])}delete(I){const{store:j}=this;n(this,l,"f").accessPropertiesByDotNotation?v.delete(j,I):delete j[I],this.store=j}clear(){this.store=V();for(const I of Object.keys(n(this,c,"f")))this.reset(I)}onDidChange(I,j){if(typeof I!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof I}`);if(typeof j!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof j}`);return this._handleChange(()=>this.get(I),j)}onDidAnyChange(I){if(typeof I!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof I}`);return this._handleChange(()=>this.store,I)}get size(){return Object.keys(this.store).length}get store(){try{const I=f.readFileSync(this.path,n(this,a,"f")?null:"utf8"),j=this._encryptData(I),A=this._deserialize(j);return this._validate(A),Object.assign(V(),A)}catch(I){if((I==null?void 0:I.code)==="ENOENT")return this._ensureDirectory(),V();if(n(this,l,"f").clearInvalidConfig&&I.name==="SyntaxError")return V();throw I}}set store(I){this._ensureDirectory(),this._validate(I),this._write(I),this.events.emit("change")}*[(o=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,Symbol.iterator)](){for(const[I,j]of Object.entries(this.store))yield[I,j]}_encryptData(I){if(!n(this,a,"f"))return I.toString();try{if(n(this,a,"f"))try{if(I.slice(16,17).toString()===":"){const j=I.slice(0,16),A=m.pbkdf2Sync(n(this,a,"f"),j.toString(),1e4,32,"sha512"),w=m.createDecipheriv(T,A,j);I=Buffer.concat([w.update(Buffer.from(I.slice(17))),w.final()]).toString("utf8")}else{const j=m.createDecipher(T,n(this,a,"f"));I=Buffer.concat([j.update(Buffer.from(I)),j.final()]).toString("utf8")}}catch{}}catch{}return I.toString()}_handleChange(I,j){let A=I();const w=()=>{const R=A,C=I();(0,u.isDeepStrictEqual)(C,R)||(A=C,j.call(this,C,R))};return this.events.on("change",w),()=>this.events.removeListener("change",w)}_validate(I){if(!n(this,o,"f")||n(this,o,"f").call(this,I)||!n(this,o,"f").errors)return;const A=n(this,o,"f").errors.map(({instancePath:w,message:R=""})=>`\`${w.slice(1)}\` ${R}`);throw new Error("Config schema violation: "+A.join("; "))}_ensureDirectory(){f.mkdirSync(h.dirname(this.path),{recursive:!0})}_write(I){let j=this._serialize(I);if(n(this,a,"f")){const A=m.randomBytes(16),w=m.pbkdf2Sync(n(this,a,"f"),A.toString(),1e4,32,"sha512"),R=m.createCipheriv(T,w,A);j=Buffer.concat([A,Buffer.from(":"),R.update(Buffer.from(j)),R.final()])}if(process.env.SNAP)f.writeFileSync(this.path,j,{mode:n(this,l,"f").configFileMode});else try{S.writeFileSync(this.path,j,{mode:n(this,l,"f").configFileMode})}catch(A){if((A==null?void 0:A.code)==="EXDEV"){f.writeFileSync(this.path,j,{mode:n(this,l,"f").configFileMode});return}throw A}}_watch(){this._ensureDirectory(),f.existsSync(this.path)||this._write(V()),process.platform==="win32"?f.watch(this.path,{persistent:!1},O(()=>{this.events.emit("change")},{wait:100})):f.watchFile(this.path,{persistent:!1},O(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(I,j,A){let w=this._get(Q,"0.0.0");const R=Object.keys(I).filter(d=>this._shouldPerformMigration(d,w,j));let C={...this.store};for(const d of R)try{A&&A(this,{fromVersion:w,toVersion:d,finalVersion:j,versions:R});const $=I[d];$(this),this._set(Q,d),w=d,C={...this.store}}catch($){throw this.store=C,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${$}`)}(this._isVersionInRangeFormat(w)||!b.eq(w,j))&&this._set(Q,j)}_containsReservedKey(I){return typeof I=="object"&&Object.keys(I)[0]===G?!0:typeof I!="string"?!1:n(this,l,"f").accessPropertiesByDotNotation?!!I.startsWith(`${G}.`):!1}_isVersionInRangeFormat(I){return b.clean(I)===null}_shouldPerformMigration(I,j,A){return this._isVersionInRangeFormat(I)?j!=="0.0.0"&&b.satisfies(j,I)?!1:b.satisfies(A,I):!(b.lte(I,j)||b.gt(I,A))}_get(I,j){return v.get(this.store,I,j)}_set(I,j){const{store:A}=this;v.set(A,I,j),this.store=A}}t.default=Z,e.exports=Z,e.exports.default=Z})(Nc,Nc.exports);var BC=Nc.exports;const qh=Se,{app:Sa,ipcMain:Wc,ipcRenderer:Vh,shell:zC}=re,HC=BC;let Bh=!1;const zh=()=>{if(!Wc||!Sa)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Sa.getPath("userData"),appVersion:Sa.getVersion()};return Bh||(Wc.on("electron-store-get-data",t=>{t.returnValue=e}),Bh=!0),e};class GC extends HC{constructor(t){let r,n;if(Vh){const i=Vh.sendSync("electron-store-get-data");if(!i)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=i)}else Wc&&Sa&&({defaultCwd:r,appVersion:n}=zh());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=qh.isAbsolute(t.cwd)?t.cwd:qh.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){zh()}openInEditor(){zC.openPath(this.path)}}var WC=GC;const KC=Dm(WC),Ay=Je,js=Se;var YC={findAndReadPackageJson:JC,tryReadJsonAt:Ni};function JC(){return Ni(ZC())||Ni(QC())||Ni(process.resourcesPath,"app.asar")||Ni(process.resourcesPath,"app")||Ni(process.cwd())||{name:void 0,version:void 0}}function Ni(...e){if(e[0])try{const t=js.join(...e),r=XC("package.json",t);if(!r)return;const n=JSON.parse(Ay.readFileSync(r,"utf8")),i=(n==null?void 0:n.productName)||(n==null?void 0:n.name);return!i||i.toLowerCase()==="electron"?void 0:i?{name:i,version:n==null?void 0:n.version}:void 0}catch{return}}function XC(e,t){let r=t;for(;;){const n=js.parse(r),i=n.root,s=n.dir;if(Ay.existsSync(js.join(r,e)))return js.resolve(js.join(r,e));if(r===i)return null;r=s}}function QC(){const e=process.argv.filter(r=>r.indexOf("--user-data-dir=")===0);return e.length===0||typeof e[0]!="string"?null:e[0].replace("--user-data-dir=","")}function ZC(){var e;try{return(e=require.main)==null?void 0:e.filename}catch{return}}const eN=ho,jn=An,Si=Se,tN=YC;let rN=class{constructor(){_e(this,"appName");_e(this,"appPackageJson");_e(this,"platform",process.platform)}getAppLogPath(t=this.getAppName()){return this.platform==="darwin"?Si.join(this.getSystemPathHome(),"Library/Logs",t):Si.join(this.getAppUserDataPath(t),"logs")}getAppName(){var t;return this.appName||((t=this.getAppPackageJson())==null?void 0:t.name)}getAppPackageJson(){return typeof this.appPackageJson!="object"&&(this.appPackageJson=tN.findAndReadPackageJson()),this.appPackageJson}getAppUserDataPath(t=this.getAppName()){return t?Si.join(this.getSystemPathAppData(),t):void 0}getAppVersion(){var t;return(t=this.getAppPackageJson())==null?void 0:t.version}getElectronLogPath(){return this.getAppLogPath()}getMacOsVersion(){const t=Number(jn.release().split(".")[0]);return t<=19?`10.${t-4}`:t-9}getOsVersion(){let t=jn.type().replace("_"," "),r=jn.release();return t==="Darwin"&&(t="macOS",r=this.getMacOsVersion()),`${t} ${r}`}getPathVariables(){const t=this.getAppName(),r=this.getAppVersion(),n=this;return{appData:this.getSystemPathAppData(),appName:t,appVersion:r,get electronDefaultDir(){return n.getElectronLogPath()},home:this.getSystemPathHome(),libraryDefaultDir:this.getAppLogPath(t),libraryTemplate:this.getAppLogPath("{appName}"),temp:this.getSystemPathTemp(),userData:this.getAppUserDataPath(t)}}getSystemPathAppData(){const t=this.getSystemPathHome();switch(this.platform){case"darwin":return Si.join(t,"Library/Application Support");case"win32":return process.env.APPDATA||Si.join(t,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||Si.join(t,".config")}}getSystemPathHome(){var t;return((t=jn.homedir)==null?void 0:t.call(jn))||process.env.HOME}getSystemPathTemp(){return jn.tmpdir()}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:void 0,os:this.getOsVersion()}}isDev(){return process.env.NODE_ENV==="development"||process.env.ELECTRON_IS_DEV==="1"}isElectron(){return!!process.versions.electron}onAppEvent(t,r){}onAppReady(t){t()}onEveryWebContentsEvent(t,r){}onIpc(t,r){}onIpcInvoke(t,r){}openUrl(t,r=console.error){const i={darwin:"open",win32:"start",linux:"xdg-open"}[process.platform]||"xdg-open";eN.exec(`${i} ${t}`,{},s=>{s&&r(s)})}setPlatform(t){this.platform=t}setPreloadFileForSessions({filePath:t,includeFutureSession:r=!0,getSessions:n=()=>[]}){}sendIpc(t,r){}showErrorBox(t,r){}};var nN=rN;const iN=Se,sN=nN;let oN=class extends sN{constructor({electron:r}={}){super();_e(this,"electron");this.electron=r}getAppName(){var n,i;let r;try{r=((n=this.electron.app)==null?void 0:n.name)||((i=this.electron.app)==null?void 0:i.getName())}catch{}return r||super.getAppName()}getAppUserDataPath(r){return this.getPath("userData")||super.getAppUserDataPath(r)}getAppVersion(){var n;let r;try{r=(n=this.electron.app)==null?void 0:n.getVersion()}catch{}return r||super.getAppVersion()}getElectronLogPath(){return this.getPath("logs")||super.getElectronLogPath()}getPath(r){var n;try{return(n=this.electron.app)==null?void 0:n.getPath(r)}catch{return}}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:`Electron ${process.versions.electron}`,os:this.getOsVersion()}}getSystemPathAppData(){return this.getPath("appData")||super.getSystemPathAppData()}isDev(){var r;return((r=this.electron.app)==null?void 0:r.isPackaged)!==void 0?!this.electron.app.isPackaged:typeof process.execPath=="string"?iN.basename(process.execPath).toLowerCase().startsWith("electron"):super.isDev()}onAppEvent(r,n){var i;return(i=this.electron.app)==null||i.on(r,n),()=>{var s;(s=this.electron.app)==null||s.off(r,n)}}onAppReady(r){var n,i,s;(n=this.electron.app)!=null&&n.isReady()?r():(i=this.electron.app)!=null&&i.once?(s=this.electron.app)==null||s.once("ready",r):r()}onEveryWebContentsEvent(r,n){var s,o,a;return(o=(s=this.electron.webContents)==null?void 0:s.getAllWebContents())==null||o.forEach(l=>{l.on(r,n)}),(a=this.electron.app)==null||a.on("web-contents-created",i),()=>{var l,c;(l=this.electron.webContents)==null||l.getAllWebContents().forEach(u=>{u.off(r,n)}),(c=this.electron.app)==null||c.off("web-contents-created",i)};function i(l,c){c.on(r,n)}}onIpc(r,n){var i;(i=this.electron.ipcMain)==null||i.on(r,n)}onIpcInvoke(r,n){var i,s;(s=(i=this.electron.ipcMain)==null?void 0:i.handle)==null||s.call(i,r,n)}openUrl(r,n=console.error){var i;(i=this.electron.shell)==null||i.openExternal(r).catch(n)}setPreloadFileForSessions({filePath:r,includeFutureSession:n=!0,getSessions:i=()=>{var s;return[(s=this.electron.session)==null?void 0:s.defaultSession]}}){for(const o of i().filter(Boolean))s(o);n&&this.onAppEvent("session-created",o=>{s(o)});function s(o){o.setPreloads([...o.getPreloads(),r])}}sendIpc(r,n){var i,s;(s=(i=this.electron.BrowserWindow)==null?void 0:i.getAllWindows())==null||s.forEach(o=>{var a;((a=o.webContents)==null?void 0:a.isDestroyed())===!1&&o.webContents.send(r,n)})}showErrorBox(r,n){var i;(i=this.electron.dialog)==null||i.showErrorBox(r,n)}};var aN=oN,Cy={exports:{}};(function(e){let t={};try{t=require("electron")}catch{}t.ipcRenderer&&r(t),e.exports=r;function r({contextBridge:n,ipcRenderer:i}){if(!i)return;i.on("__ELECTRON_LOG_IPC__",(o,a)=>{window.postMessage({cmd:"message",...a})}),i.invoke("__ELECTRON_LOG__",{cmd:"getOptions"}).catch(o=>console.error(new Error(`electron-log isn't initialized in the main process. Please call log.initialize() before. ${o.message}`)));const s={sendToMain(o){try{i.send("__ELECTRON_LOG__",o)}catch(a){console.error("electronLog.sendToMain ",a,"data:",o),i.send("__ELECTRON_LOG__",{cmd:"errorHandler",error:{message:a==null?void 0:a.message,stack:a==null?void 0:a.stack},errorName:"sendToMain"})}},log(...o){s.sendToMain({data:o,level:"info"})}};for(const o of["error","warn","info","verbose","debug","silly"])s[o]=(...a)=>s.sendToMain({data:a,level:o});if(n&&process.contextIsolated)try{n.exposeInMainWorld("__electronLog",s)}catch{}typeof window=="object"?window.__electronLog=s:__electronLog=s}})(Cy);var lN=Cy.exports;const Hh=Je,cN=An,Gh=Se,uN=lN;var fN={initialize({externalApi:e,getSessions:t,includeFutureSession:r,logger:n,preload:i=!0,spyRendererConsole:s=!1}){e.onAppReady(()=>{try{i&&dN({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:i}),s&&hN({externalApi:e,logger:n})}catch(o){n.warn(o)}})}};function dN({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:n}){let i=typeof n=="string"?n:void 0;try{i=Gh.resolve(__dirname,"../renderer/electron-log-preload.js")}catch{}if(!i||!Hh.existsSync(i)){i=Gh.join(e.getAppUserDataPath()||cN.tmpdir(),"electron-log-preload.js");const s=`
      try {
        (${uN.toString()})(require('electron'));
      } catch(e) {
        console.error(e);
      }
    `;Hh.writeFileSync(i,s,"utf8")}e.setPreloadFileForSessions({filePath:i,includeFutureSession:r,getSessions:t})}function hN({externalApi:e,logger:t}){const r=["verbose","info","warning","error"];e.onEveryWebContentsEvent("console-message",(n,i,s)=>{t.processMessage({data:[s],level:r[i],variables:{processType:"renderer"}})})}var pN=mN;function mN(e){return Object.defineProperties(t,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof t.labelPadding){case"boolean":return t.labelPadding?t.maxLabelLength:0;case"number":return t.labelPadding;default:return 0}}}});function t(r){t.maxLabelLength=Math.max(t.maxLabelLength,r.length);const n={};for(const i of[...e.levels,"log"])n[i]=(...s)=>e.logData(s,{level:i,scope:r});return n}}const gN=pN;var ri;let yN=(ri=class{constructor({allowUnknownLevel:t=!1,dependencies:r={},errorHandler:n,eventLogger:i,initializeFn:s,isDev:o=!1,levels:a=["error","warn","info","verbose","debug","silly"],logId:l,transportFactories:c={},variables:u}={}){_e(this,"dependencies",{});_e(this,"errorHandler",null);_e(this,"eventLogger",null);_e(this,"functions",{});_e(this,"hooks",[]);_e(this,"isDev",!1);_e(this,"levels",null);_e(this,"logId",null);_e(this,"scope",null);_e(this,"transports",{});_e(this,"variables",{});this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=t,this.dependencies=r,this.initializeFn=s,this.isDev=o,this.levels=a,this.logId=l,this.transportFactories=c,this.variables=u||{},this.scope=gN(this),this.addLevel("log",!1);for(const f of this.levels)this.addLevel(f,!1);this.errorHandler=n,n==null||n.setOptions({...r,logFn:this.error}),this.eventLogger=i,i==null||i.setOptions({...r,logger:this});for(const[f,h]of Object.entries(c))this.transports[f]=h(this,r);ri.instances[l]=this}static getInstance({logId:t}){return this.instances[t]||this.instances.default}addLevel(t,r=this.levels.length){r!==!1&&this.levels.splice(r,0,t),this[t]=(...n)=>this.logData(n,{level:t}),this.functions[t]=this[t]}catchErrors(t){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(t)}create(t){return typeof t=="string"&&(t={logId:t}),new ri({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...t})}compareLevels(t,r,n=this.levels){const i=n.indexOf(t),s=n.indexOf(r);return s===-1||i===-1?!0:s<=i}initialize(t={}){this.initializeFn({logger:this,...this.dependencies,...t})}logData(t,r={}){this.processMessage({data:t,...r})}processMessage(t,{transports:r=this.transports}={}){if(t.cmd==="errorHandler"){this.errorHandler.handle(t.error,{errorName:t.errorName,processType:"renderer",showDialog:!!t.showDialog});return}let n=t.level;this.allowUnknownLevel||(n=this.levels.includes(t.level)?t.level:"info");const i={date:new Date,...t,level:n,variables:{...this.variables,...t.variables}};for(const[s,o]of this.transportEntries(r))if(!(typeof o!="function"||o.level===!1)&&this.compareLevels(o.level,t.level))try{const a=this.hooks.reduce((l,c)=>l&&c(l,o,s),i);a&&o({...a,data:[...a.data]})}catch(a){this.processInternalErrorFn(a)}}processInternalErrorFn(t){}transportEntries(t=this.transports){return(Array.isArray(t)?t:Object.entries(t)).map(n=>{switch(typeof n){case"string":return this.transports[n]?[n,this.transports[n]]:null;case"function":return[n.name,n];default:return Array.isArray(n)?n:null}}).filter(Boolean)}},_e(ri,"instances",{}),ri);var vN=yN;let _N=class{constructor({externalApi:t,logFn:r=void 0,onError:n=void 0,showDialog:i=void 0}={}){_e(this,"externalApi");_e(this,"isActive",!1);_e(this,"logFn");_e(this,"onError");_e(this,"showDialog",!0);this.createIssue=this.createIssue.bind(this),this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.setOptions({externalApi:t,logFn:r,onError:n,showDialog:i}),this.startCatching=this.startCatching.bind(this),this.stopCatching=this.stopCatching.bind(this)}handle(t,{logFn:r=this.logFn,onError:n=this.onError,processType:i="browser",showDialog:s=this.showDialog,errorName:o=""}={}){var a;t=$N(t);try{if(typeof n=="function"){const l=((a=this.externalApi)==null?void 0:a.getVersions())||{},c=this.createIssue;if(n({createIssue:c,error:t,errorName:o,processType:i,versions:l})===!1)return}o?r(o,t):r(t),s&&!o.includes("rejection")&&this.externalApi&&this.externalApi.showErrorBox(`A JavaScript error occurred in the ${i} process`,t.stack)}catch{console.error(t)}}setOptions({externalApi:t,logFn:r,onError:n,showDialog:i}){typeof t=="object"&&(this.externalApi=t),typeof r=="function"&&(this.logFn=r),typeof n=="function"&&(this.onError=n),typeof i=="boolean"&&(this.showDialog=i)}startCatching({onError:t,showDialog:r}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:t,showDialog:r}),process.on("uncaughtException",this.handleError),process.on("unhandledRejection",this.handleRejection))}stopCatching(){this.isActive=!1,process.removeListener("uncaughtException",this.handleError),process.removeListener("unhandledRejection",this.handleRejection)}createIssue(t,r){var n;(n=this.externalApi)==null||n.openUrl(`${t}?${new URLSearchParams(r).toString()}`)}handleError(t){this.handle(t,{errorName:"Unhandled"})}handleRejection(t){const r=t instanceof Error?t:new Error(JSON.stringify(t));this.handle(r,{errorName:"Unhandled rejection"})}};function $N(e){if(e instanceof Error)return e;if(e&&typeof e=="object"){if(e.message)return Object.assign(new Error(e.message),e);try{return new Error(JSON.stringify(e))}catch(t){return new Error(`Couldn't normalize error ${String(e)}: ${t}`)}}return new Error(`Can't normalize error ${String(e)}`)}var EN=_N;let wN=class{constructor(t={}){_e(this,"disposers",[]);_e(this,"format","{eventSource}#{eventName}:");_e(this,"formatters",{app:{"certificate-error":({args:t})=>this.arrayToObject(t.slice(1,4),["url","error","certificate"]),"child-process-gone":({args:t})=>t.length===1?t[0]:t,"render-process-gone":({args:[t,r]})=>r&&typeof r=="object"?{...r,...this.getWebContentsDetails(t)}:[]},webContents:{"console-message":({args:[t,r,n,i]})=>{if(!(t<3))return{message:r,source:`${i}:${n}`}},"did-fail-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"did-fail-provisional-load":({args:t})=>this.arrayToObject(t,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"plugin-crashed":({args:t})=>this.arrayToObject(t,["name","version"]),"preload-error":({args:t})=>this.arrayToObject(t,["preloadPath","error"])}});_e(this,"events",{app:{"certificate-error":!0,"child-process-gone":!0,"render-process-gone":!0},webContents:{"did-fail-load":!0,"did-fail-provisional-load":!0,"plugin-crashed":!0,"preload-error":!0,unresponsive:!0}});_e(this,"externalApi");_e(this,"level","error");_e(this,"scope","");this.setOptions(t)}setOptions({events:t,externalApi:r,level:n,logger:i,format:s,formatters:o,scope:a}){typeof t=="object"&&(this.events=t),typeof r=="object"&&(this.externalApi=r),typeof n=="string"&&(this.level=n),typeof i=="object"&&(this.logger=i),(typeof s=="string"||typeof s=="function")&&(this.format=s),typeof o=="object"&&(this.formatters=o),typeof a=="string"&&(this.scope=a)}startLogging(t={}){this.setOptions(t),this.disposeListeners();for(const r of this.getEventNames(this.events.app))this.disposers.push(this.externalApi.onAppEvent(r,(...n)=>{this.handleEvent({eventSource:"app",eventName:r,handlerArgs:n})}));for(const r of this.getEventNames(this.events.webContents))this.disposers.push(this.externalApi.onEveryWebContentsEvent(r,(...n)=>{this.handleEvent({eventSource:"webContents",eventName:r,handlerArgs:n})}))}stopLogging(){this.disposeListeners()}arrayToObject(t,r){const n={};return r.forEach((i,s)=>{n[i]=t[s]}),t.length>r.length&&(n.unknownArgs=t.slice(r.length)),n}disposeListeners(){this.disposers.forEach(t=>t()),this.disposers=[]}formatEventLog({eventName:t,eventSource:r,handlerArgs:n}){var u;const[i,...s]=n;if(typeof this.format=="function")return this.format({args:s,event:i,eventName:t,eventSource:r});const o=(u=this.formatters[r])==null?void 0:u[t];let a=s;if(typeof o=="function"&&(a=o({args:s,event:i,eventName:t,eventSource:r})),!a)return;const l={};return Array.isArray(a)?l.args=a:typeof a=="object"&&Object.assign(l,a),r==="webContents"&&Object.assign(l,this.getWebContentsDetails(i==null?void 0:i.sender)),[this.format.replace("{eventSource}",r==="app"?"App":"WebContents").replace("{eventName}",t),l]}getEventNames(t){return!t||typeof t!="object"?[]:Object.entries(t).filter(([r,n])=>n).map(([r])=>r)}getWebContentsDetails(t){if(!(t!=null&&t.loadURL))return{};try{return{webContents:{id:t.id,url:t.getURL()}}}catch{return{}}}handleEvent({eventName:t,eventSource:r,handlerArgs:n}){var s;const i=this.formatEventLog({eventName:t,eventSource:r,handlerArgs:n});if(i){const o=this.scope?this.logger.scope(this.scope):this.logger;(s=o==null?void 0:o[this.level])==null||s.call(o,...i)}}};var SN=wN,To={transform:bN};function bN({logger:e,message:t,transport:r,initialData:n=(t==null?void 0:t.data)||[],transforms:i=r==null?void 0:r.transforms}){return i.reduce((s,o)=>typeof o=="function"?o({data:s,logger:e,message:t,transport:r}):s,n)}const{transform:PN}=To;var Ny={concatFirstStringElements:TN,formatScope:Wh,formatText:Yh,formatVariables:Kh,timeZoneFromOffset:Ry,format({message:e,logger:t,transport:r,data:n=e==null?void 0:e.data}){switch(typeof r.format){case"string":return PN({message:e,logger:t,transforms:[Kh,Wh,Yh],transport:r,initialData:[r.format,...n]});case"function":return r.format({data:n,level:(e==null?void 0:e.level)||"info",logger:t,message:e,transport:r});default:return n}}};function TN({data:e}){return typeof e[0]!="string"||typeof e[1]!="string"||e[0].match(/%[1cdfiOos]/)?e:[`${e[0]} ${e[1]}`,...e.slice(2)]}function Ry(e){const t=Math.abs(e),r=e>=0?"-":"+",n=Math.floor(t/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return`${r}${n}:${i}`}function Wh({data:e,logger:t,message:r}){const{defaultLabel:n,labelLength:i}=(t==null?void 0:t.scope)||{},s=e[0];let o=r.scope;o||(o=n);let a;return o===""?a=i>0?"".padEnd(i+3):"":typeof o=="string"?a=` (${o})`.padEnd(i+3):a="",e[0]=s.replace("{scope}",a),e}function Kh({data:e,message:t}){let r=e[0];if(typeof r!="string")return e;r=r.replace("{level}]",`${t.level}]`.padEnd(6," "));const n=t.date||new Date;return e[0]=r.replace(/\{(\w+)}/g,(i,s)=>{var o;switch(s){case"level":return t.level||"info";case"logId":return t.logId;case"y":return n.getFullYear().toString(10);case"m":return(n.getMonth()+1).toString(10).padStart(2,"0");case"d":return n.getDate().toString(10).padStart(2,"0");case"h":return n.getHours().toString(10).padStart(2,"0");case"i":return n.getMinutes().toString(10).padStart(2,"0");case"s":return n.getSeconds().toString(10).padStart(2,"0");case"ms":return n.getMilliseconds().toString(10).padStart(3,"0");case"z":return Ry(n.getTimezoneOffset());case"iso":return n.toISOString();default:return((o=t.variables)==null?void 0:o[s])||i}}).trim(),e}function Yh({data:e}){const t=e[0];if(typeof t!="string")return e;if(t.lastIndexOf("{text}")===t.length-6)return e[0]=t.replace(/\s?{text}/,""),e[0]===""&&e.shift(),e;const n=t.split("{text}");let i=[];return n[0]!==""&&i.push(n[0]),i=i.concat(e.slice(1)),n[1]!==""&&i.push(n[1]),i}var Iy={exports:{}};(function(e){const t=ts;e.exports={serialize:n,maxDepth({data:i,transport:s,depth:o=(s==null?void 0:s.depth)??6}){if(!i)return i;if(o<1)return Array.isArray(i)?"[array]":typeof i=="object"&&i?"[object]":i;if(Array.isArray(i))return i.map(l=>e.exports.maxDepth({data:l,depth:o-1}));if(typeof i!="object"||i&&typeof i.toISOString=="function")return i;if(i===null)return null;if(i instanceof Error)return i;const a={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(a[l]=e.exports.maxDepth({data:i[l],depth:o-1}));return a},toJSON({data:i}){return JSON.parse(JSON.stringify(i,r()))},toString({data:i,transport:s}){const o=(s==null?void 0:s.inspectOptions)||{},a=i.map(l=>{if(l!==void 0)try{const c=JSON.stringify(l,r(),"  ");return c===void 0?void 0:JSON.parse(c)}catch{return l}});return t.formatWithOptions(o,...a)}};function r(i={}){const s=new WeakSet;return function(o,a){if(typeof a=="object"&&a!==null){if(s.has(a))return;s.add(a)}return n(o,a,i)}}function n(i,s,o={}){const a=(o==null?void 0:o.serializeMapAndSet)!==!1;return s instanceof Error?s.stack:s&&(typeof s=="function"?`[function] ${s.toString()}`:s instanceof Date?s.toISOString():a&&s instanceof Map&&Object.fromEntries?Object.fromEntries(s):a&&s instanceof Set&&Array.from?Array.from(s):s)}})(Iy);var hl=Iy.exports,rd={transformStyles:nc,applyAnsiStyles({data:e}){return nc(e,ON,AN)},removeStyles({data:e}){return nc(e,()=>"")}};const Dy={unset:"\x1B[0m",black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"};function ON(e){const t=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return Dy[t]||""}function AN(e){return e+Dy.unset}function nc(e,t,r){const n={};return e.reduce((i,s,o,a)=>{if(n[o])return i;if(typeof s=="string"){let l=o,c=!1;s=s.replace(/%[1cdfiOos]/g,u=>{if(l+=1,u!=="%c")return u;const f=a[l];return typeof f=="string"?(n[l]=!0,c=!0,t(f,s)):u}),c&&r&&(s=r(s))}return i.push(s),i},[])}const{concatFirstStringElements:CN,format:NN}=Ny,{maxDepth:RN,toJSON:IN}=hl,{applyAnsiStyles:DN,removeStyles:FN}=rd,{transform:kN}=To,Jh={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};var LN=Fy;const jN=process.platform==="win32"?">":"›",nd=`%c{h}:{i}:{s}.{ms}{scope}%c ${jN} {text}`;Object.assign(Fy,{DEFAULT_FORMAT:nd});function Fy(e){return Object.assign(t,{format:nd,level:"silly",transforms:[MN,NN,xN,CN,RN,IN],useStyles:process.env.FORCE_STYLES,writeFn({message:r}){(Jh[r.level]||Jh.info)(...r.data)}});function t(r){const n=kN({logger:e,message:r,transport:t});t.writeFn({message:{...r,data:n}})}}function MN({data:e,message:t,transport:r}){return r.format!==nd?e:[`color:${qN(t.level)}`,"color:unset",...e]}function UN(e,t){if(typeof e=="boolean")return e;const n=t==="error"||t==="warn"?process.stderr:process.stdout;return n&&n.isTTY}function xN(e){const{message:t,transport:r}=e;return(UN(r.useStyles,t.level)?DN:FN)(e)}function qN(e){const t={error:"red",warn:"yellow",info:"cyan",default:"unset"};return t[e]||t.default}const VN=es,_n=Je,Xh=An;let BN=class extends VN{constructor({path:r,writeOptions:n={encoding:"utf8",flag:"a",mode:438},writeAsync:i=!1}){super();_e(this,"asyncWriteQueue",[]);_e(this,"bytesWritten",0);_e(this,"hasActiveAsyncWriting",!1);_e(this,"path",null);_e(this,"initialSize");_e(this,"writeOptions",null);_e(this,"writeAsync",!1);this.path=r,this.writeOptions=n,this.writeAsync=i}get size(){return this.getSize()}clear(){try{return _n.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(r){return r.code==="ENOENT"?!0:(this.emit("error",r,this),!1)}}crop(r){try{const n=zN(this.path,r||4096);this.clear(),this.writeLine(`[log cropped]${Xh.EOL}${n}`)}catch(n){this.emit("error",new Error(`Couldn't crop file ${this.path}. ${n.message}`),this)}}getSize(){if(this.initialSize===void 0)try{const r=_n.statSync(this.path);this.initialSize=r.size}catch{this.initialSize=0}return this.initialSize+this.bytesWritten}increaseBytesWrittenCounter(r){this.bytesWritten+=Buffer.byteLength(r,this.writeOptions.encoding)}isNull(){return!1}nextAsyncWrite(){const r=this;if(this.hasActiveAsyncWriting||this.asyncWriteQueue.length===0)return;const n=this.asyncWriteQueue.join("");this.asyncWriteQueue=[],this.hasActiveAsyncWriting=!0,_n.writeFile(this.path,n,this.writeOptions,i=>{r.hasActiveAsyncWriting=!1,i?r.emit("error",new Error(`Couldn't write to ${r.path}. ${i.message}`),this):r.increaseBytesWrittenCounter(n),r.nextAsyncWrite()})}reset(){this.initialSize=void 0,this.bytesWritten=0}toString(){return this.path}writeLine(r){if(r+=Xh.EOL,this.writeAsync){this.asyncWriteQueue.push(r),this.nextAsyncWrite();return}try{_n.writeFileSync(this.path,r,this.writeOptions),this.increaseBytesWrittenCounter(r)}catch(n){this.emit("error",new Error(`Couldn't write to ${this.path}. ${n.message}`),this)}}};var ky=BN;function zN(e,t){const r=Buffer.alloc(t),n=_n.statSync(e),i=Math.min(n.size,t),s=Math.max(0,n.size-t),o=_n.openSync(e,"r"),a=_n.readSync(o,r,0,i,s);return _n.closeSync(o),r.toString("utf8",0,a)}const HN=ky;let GN=class extends HN{clear(){}crop(){}getSize(){return 0}isNull(){return!0}writeLine(){}};var WN=GN;const KN=es,Qh=Je,Zh=Se,YN=ky,JN=WN;let XN=class extends KN{constructor(){super();_e(this,"store",{});this.emitError=this.emitError.bind(this)}provide({filePath:r,writeOptions:n,writeAsync:i=!1}){let s;try{if(r=Zh.resolve(r),this.store[r])return this.store[r];s=this.createFile({filePath:r,writeOptions:n,writeAsync:i})}catch(o){s=new JN({path:r}),this.emitError(o,s)}return s.on("error",this.emitError),this.store[r]=s,s}createFile({filePath:r,writeOptions:n,writeAsync:i}){return this.testFileWriting(r),new YN({path:r,writeOptions:n,writeAsync:i})}emitError(r,n){this.emit("error",r,n)}testFileWriting(r){Qh.mkdirSync(Zh.dirname(r),{recursive:!0}),Qh.writeFileSync(r,"",{flag:"a"})}};var QN=XN;const ic=Je,ZN=An,Ts=Se,eR=QN,{transform:tR}=To,{removeStyles:rR}=rd,{format:nR}=Ny,{toString:iR}=hl;var sR=aR;const oR=new eR;function aR(e,{registry:t=oR,externalApi:r}={}){let n;return t.listenerCount("error")<1&&t.on("error",(c,u)=>{o(`Can't write to ${u}`,c)}),Object.assign(i,{fileName:lR(e.variables.processType),format:"[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",getFile:a,inspectOptions:{depth:5},level:"silly",maxSize:1024**2,readAllLogs:l,sync:!0,transforms:[rR,nR,iR],writeOptions:{flag:"a",mode:438,encoding:"utf8"},archiveLogFn(c){const u=c.toString(),f=Ts.parse(u);try{ic.renameSync(u,Ts.join(f.dir,`${f.name}.old${f.ext}`))}catch(h){o("Could not rotate log",h);const m=Math.round(i.maxSize/4);c.crop(Math.min(m,256*1024))}},resolvePathFn(c){return Ts.join(c.libraryDefaultDir,c.fileName)}});function i(c){const u=a(c);i.maxSize>0&&u.size>i.maxSize&&(i.archiveLogFn(u),u.reset());const h=tR({logger:e,message:c,transport:i});u.writeLine(h)}function s(){n||(n=Object.create(Object.prototype,{...Object.getOwnPropertyDescriptors(r.getPathVariables()),fileName:{get(){return i.fileName},enumerable:!0}}),typeof i.archiveLog=="function"&&(i.archiveLogFn=i.archiveLog,o("archiveLog is deprecated. Use archiveLogFn instead")),typeof i.resolvePath=="function"&&(i.resolvePathFn=i.resolvePath,o("resolvePath is deprecated. Use resolvePathFn instead")))}function o(c,u=null,f="error"){const h=[`electron-log.transports.file: ${c}`];u&&h.push(u),e.transports.console({data:h,date:new Date,level:f})}function a(c){s();const u=i.resolvePathFn(n,c);return t.provide({filePath:u,writeAsync:!i.sync,writeOptions:i.writeOptions})}function l({fileFilter:c=u=>u.endsWith(".log")}={}){const u=Ts.dirname(i.resolvePathFn(n));return ic.readdirSync(u).map(f=>Ts.join(u,f)).filter(c).map(f=>{try{return{path:f,lines:ic.readFileSync(f,"utf8").split(ZN.EOL)}}catch{return null}}).filter(Boolean)}}function lR(e=process.type){switch(e){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}const{maxDepth:cR,toJSON:uR}=hl,{transform:fR}=To;var dR=hR;function hR(e,{externalApi:t}){return Object.assign(r,{depth:3,eventId:"__ELECTRON_LOG_IPC__",level:e.isDev?"silly":!1,transforms:[uR,cR]}),t!=null&&t.isElectron()?r:void 0;function r(n){t==null||t.sendIpc(r.eventId,{...n,data:fR({logger:e,message:n,transport:r})})}}const pR=Rm,mR=Jv,{transform:gR}=To,{removeStyles:yR}=rd,{toJSON:vR,maxDepth:_R}=hl;var $R=ER;function ER(e){return Object.assign(t,{client:{name:"electron-application"},depth:6,level:!1,requestOptions:{},transforms:[yR,vR,_R],makeBodyFn({message:r}){return JSON.stringify({client:t.client,data:r.data,date:r.date.getTime(),level:r.level,scope:r.scope,variables:r.variables})},processErrorFn({error:r}){e.processMessage({data:[`electron-log: can't POST ${t.url}`,r],level:"warn"},{transports:["console","file"]})},sendRequestFn({serverUrl:r,requestOptions:n,body:i}){const o=(r.startsWith("https:")?mR:pR).request(r,{method:"POST",...n,headers:{"Content-Type":"application/json","Content-Length":i.length,...n.headers}});return o.write(i),o.end(),o}});function t(r){if(!t.url)return;const n=t.makeBodyFn({logger:e,message:{...r,data:gR({logger:e,message:r,transport:t})},transport:t}),i=t.sendRequestFn({serverUrl:t.url,requestOptions:t.requestOptions,body:Buffer.from(n,"utf8")});i.on("error",s=>t.processErrorFn({error:s,logger:e,message:r,request:i,transport:t}))}}const ep=vN,wR=EN,SR=SN,bR=LN,PR=sR,TR=dR,OR=$R;var AR=CR;function CR({dependencies:e,initializeFn:t}){var n;const r=new ep({dependencies:e,errorHandler:new wR,eventLogger:new SR,initializeFn:t,isDev:(n=e.externalApi)==null?void 0:n.isDev(),logId:"default",transportFactories:{console:bR,file:PR,ipc:TR,remote:OR},variables:{processType:"main"}});return r.default=r,r.Logger=ep,r.processInternalErrorFn=i=>{r.transports.console.writeFn({message:{data:["Unhandled electron-log error",i],level:"error"}})},r}const NR=re,RR=aN,{initialize:IR}=fN,DR=AR,id=new RR({electron:NR}),pl=DR({dependencies:{externalApi:id},initializeFn:IR});var FR=pl;id.onIpc("__ELECTRON_LOG__",(e,t)=>{t.scope&&pl.Logger.getInstance(t).scope(t.scope);const r=new Date(t.date);Ly({...t,date:r.getTime()?r:new Date})});id.onIpcInvoke("__ELECTRON_LOG__",(e,{cmd:t="",logId:r})=>{switch(t){case"getOptions":return{levels:pl.Logger.getInstance({logId:r}).levels,logId:r};default:return Ly({data:[`Unknown cmd '${t}'`],level:"error"}),{}}});function Ly(e){var t;(t=pl.Logger.getInstance(e))==null||t.processMessage(e)}const kR=FR;var LR=kR;const Mn=Dm(LR);var sc={},oc={},li={};Object.defineProperty(li,"__esModule",{value:!0});li.CancellationError=li.CancellationToken=void 0;const jR=es;class MR extends jR.EventEmitter{get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new Kc);const r=()=>{if(n!=null)try{this.removeListener("cancel",n),n=null}catch{}};let n=null;return new Promise((i,s)=>{let o=null;if(n=()=>{try{o!=null&&(o(),o=null)}finally{s(new Kc)}},this.cancelled){n();return}this.onCancel(n),t(i,s,a=>{o=a})}).then(i=>(r(),i)).catch(i=>{throw r(),i})}removeParentCancelHandler(){const t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}li.CancellationToken=MR;class Kc extends Error{constructor(){super("cancelled")}}li.CancellationError=Kc;var Ge={},Yc={exports:{}},aa={exports:{}},ac,tp;function UR(){if(tp)return ac;tp=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;ac=function(u,f){f=f||{};var h=typeof u;if(h==="string"&&u.length>0)return o(u);if(h==="number"&&isFinite(u))return f.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var h=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(u){var f=Math.abs(u);return f>=n?Math.round(u/n)+"d":f>=r?Math.round(u/r)+"h":f>=t?Math.round(u/t)+"m":f>=e?Math.round(u/e)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=n?c(u,f,n,"day"):f>=r?c(u,f,r,"hour"):f>=t?c(u,f,t,"minute"):f>=e?c(u,f,e,"second"):u+" ms"}function c(u,f,h,m){var y=f>=h*1.5;return Math.round(u/h)+" "+m+(y?"s":"")}return ac}var lc,rp;function jy(){if(rp)return lc;rp=1;function e(t){n.debug=n,n.default=n,n.coerce=c,n.disable=o,n.enable=s,n.enabled=a,n.humanize=UR(),n.destroy=u,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let h=0;for(let m=0;m<f.length;m++)h=(h<<5)-h+f.charCodeAt(m),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=r;function n(f){let h,m=null,y,E;function v(...g){if(!v.enabled)return;const p=v,S=Number(new Date),N=S-(h||S);p.diff=N,p.prev=h,p.curr=S,h=S,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let M=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(b,D)=>{if(b==="%%")return"%";M++;const T=n.formatters[D];if(typeof T=="function"){const V=g[M];b=T.call(p,V),g.splice(M,1),M--}return b}),n.formatArgs.call(p,g),(p.log||n.log).apply(p,g)}return v.namespace=f,v.useColors=n.useColors(),v.color=n.selectColor(f),v.extend=i,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(y!==n.namespaces&&(y=n.namespaces,E=n.enabled(f)),E),set:g=>{m=g}}),typeof n.init=="function"&&n.init(v),v}function i(f,h){const m=n(this.namespace+(typeof h>"u"?":":h)+f);return m.log=this.log,m}function s(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let h;const m=(typeof f=="string"?f:"").split(/[\s,]+/),y=m.length;for(h=0;h<y;h++)m[h]&&(f=m[h].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.slice(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function o(){const f=[...n.names.map(l),...n.skips.map(l).map(h=>"-"+h)].join(",");return n.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let h,m;for(h=0,m=n.skips.length;h<m;h++)if(n.skips[h].test(f))return!1;for(h=0,m=n.names.length;h<m;h++)if(n.names[h].test(f))return!0;return!1}function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return lc=e,lc}var np;function xR(){return np||(np=1,function(e,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,f=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(f=u))}),l.splice(f,0,c)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=jy()(t);const{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}(aa,aa.exports)),aa.exports}var la={exports:{}},cc,ip;function qR(){return ip||(ip=1,cc=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}),cc}var uc,sp;function VR(){if(sp)return uc;sp=1;const e=An,t=qR(),r=process.env;let n;t("no-color")||t("no-colors")||t("color=false")?n=!1:(t("color")||t("colors")||t("color=true")||t("color=always"))&&(n=!0),"FORCE_COLOR"in r&&(n=r.FORCE_COLOR.length===0||parseInt(r.FORCE_COLOR,10)!==0);function i(a){return a===0?!1:{level:a,hasBasic:!0,has256:a>=2,has16m:a>=3}}function s(a){if(n===!1)return 0;if(t("color=16m")||t("color=full")||t("color=truecolor"))return 3;if(t("color=256"))return 2;if(a&&!a.isTTY&&n!==!0)return 0;const l=n?1:0;if(process.platform==="win32"){const c=e.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(c[0])>=10&&Number(c[2])>=10586?Number(c[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(c=>c in r)||r.CI_NAME==="codeship"?1:l;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if(r.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in r){const c=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return c>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:(r.TERM==="dumb",l)}function o(a){const l=s(a);return i(l)}return uc={supportsColor:o,stdout:o(process.stdout),stderr:o(process.stderr)},uc}var op;function BR(){return op||(op=1,function(e,t){const r=Xv,n=ts;t.init=u,t.log=a,t.formatArgs=s,t.save=l,t.load=c,t.useColors=i,t.destroy=n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const h=VR();h&&(h.stderr||h).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(process.env).filter(h=>/^debug_/i.test(h)).reduce((h,m)=>{const y=m.substring(6).toLowerCase().replace(/_([a-z])/g,(v,g)=>g.toUpperCase());let E=process.env[m];return/^(yes|on|true|enabled)$/i.test(E)?E=!0:/^(no|off|false|disabled)$/i.test(E)?E=!1:E==="null"?E=null:E=Number(E),h[y]=E,h},{});function i(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:r.isatty(process.stderr.fd)}function s(h){const{namespace:m,useColors:y}=this;if(y){const E=this.color,v="\x1B[3"+(E<8?E:"8;5;"+E),g=`  ${v};1m${m} \x1B[0m`;h[0]=g+h[0].split(`
`).join(`
`+g),h.push(v+"m+"+e.exports.humanize(this.diff)+"\x1B[0m")}else h[0]=o()+m+" "+h[0]}function o(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function a(...h){return process.stderr.write(n.format(...h)+`
`)}function l(h){h?process.env.DEBUG=h:delete process.env.DEBUG}function c(){return process.env.DEBUG}function u(h){h.inspectOpts={};const m=Object.keys(t.inspectOpts);for(let y=0;y<m.length;y++)h.inspectOpts[m[y]]=t.inspectOpts[m[y]]}e.exports=jy()(t);const{formatters:f}=e.exports;f.o=function(h){return this.inspectOpts.colors=this.useColors,n.inspect(h,this.inspectOpts).split(`
`).map(m=>m.trim()).join(" ")},f.O=function(h){return this.inspectOpts.colors=this.useColors,n.inspect(h,this.inspectOpts)}}(la,la.exports)),la.exports}typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Yc.exports=xR():Yc.exports=BR();var zR=Yc.exports,Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.ProgressCallbackTransform=void 0;const HR=po;class GR extends HR.Transform{constructor(t,r,n){super(),this.total=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}}Oo.ProgressCallbackTransform=GR;var ap;function WR(){if(ap)return Ge;ap=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.safeStringifyJson=Ge.configureRequestOptions=Ge.safeGetHeader=Ge.DigestTransform=Ge.configureRequestUrl=Ge.configureRequestOptionsFromUrl=Ge.HttpExecutor=Ge.parseJson=Ge.HttpError=Ge.createHttpError=void 0;const e=rs,t=zR,r=Je,n=po,i=ns,s=li,o=at(),a=Oo,l=(0,t.default)("electron-builder");function c(O,b=null){return new f(O.statusCode||-1,`${O.statusCode} ${O.statusMessage}`+(b==null?"":`
`+JSON.stringify(b,null,"  "))+`
Headers: `+M(O.headers),b)}Ge.createHttpError=c;const u=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class f extends Error{constructor(b,D=`HTTP error: ${u.get(b)||b}`,T=null){super(D),this.statusCode=b,this.description=T,this.name="HttpError",this.code=`HTTP_ERROR_${b}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}Ge.HttpError=f;function h(O){return O.then(b=>b==null||b.length===0?null:JSON.parse(b))}Ge.parseJson=h;class m{constructor(){this.maxRedirects=10}request(b,D=new s.CancellationToken,T){N(b);const V=T==null?void 0:JSON.stringify(T),Y=V?Buffer.from(V):void 0;if(Y!=null){l(V);const{headers:H,...W}=b;b={method:"post",headers:{"Content-Type":"application/json","Content-Length":Y.length,...H},...W}}return this.doApiRequest(b,D,H=>H.end(Y))}doApiRequest(b,D,T,V=0){return l.enabled&&l(`Request: ${M(b)}`),D.createPromise((Y,H,W)=>{const G=this.createRequest(b,Q=>{try{this.handleResponse(Q,b,D,Y,H,V,T)}catch(Z){H(Z)}});this.addErrorAndTimeoutHandlers(G,H,b.timeout),this.addRedirectHandlers(G,b,H,V,Q=>{this.doApiRequest(Q,D,T,V).then(Y).catch(H)}),T(G,H),W(()=>G.abort())})}addRedirectHandlers(b,D,T,V,Y){}addErrorAndTimeoutHandlers(b,D,T=60*1e3){this.addTimeOutHandler(b,D,T),b.on("error",D),b.on("aborted",()=>{D(new Error("Request has been aborted by the server"))})}handleResponse(b,D,T,V,Y,H,W){var G;if(l.enabled&&l(`Response: ${b.statusCode} ${b.statusMessage}, request options: ${M(D)}`),b.statusCode===404){Y(c(b,`method: ${D.method||"GET"} url: ${D.protocol||"https:"}//${D.hostname}${D.port?`:${D.port}`:""}${D.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(b.statusCode===204){V();return}const Q=(G=b.statusCode)!==null&&G!==void 0?G:0,Z=Q>=300&&Q<400,K=p(b,"location");if(Z&&K!=null){if(H>this.maxRedirects){Y(this.createMaxRedirectError());return}this.doApiRequest(m.prepareRedirectUrlOptions(K,D),T,W,H).then(V).catch(Y);return}b.setEncoding("utf8");let I="";b.on("error",Y),b.on("data",j=>I+=j),b.on("end",()=>{try{if(b.statusCode!=null&&b.statusCode>=400){const j=p(b,"content-type"),A=j!=null&&(Array.isArray(j)?j.find(w=>w.includes("json"))!=null:j.includes("json"));Y(c(b,`method: ${D.method||"GET"} url: ${D.protocol||"https:"}//${D.hostname}${D.port?`:${D.port}`:""}${D.path}

          Data:
          ${A?JSON.stringify(JSON.parse(I)):I}
          `))}else V(I.length===0?null:I)}catch(j){Y(j)}})}async downloadToBuffer(b,D){return await D.cancellationToken.createPromise((T,V,Y)=>{const H=[],W={headers:D.headers||void 0,redirect:"manual"};E(b,W),N(W),this.doDownload(W,{destination:null,options:D,onCancel:Y,callback:G=>{G==null?T(Buffer.concat(H)):V(G)},responseHandler:(G,Q)=>{let Z=0;G.on("data",K=>{if(Z+=K.length,Z>524288e3){Q(new Error("Maximum allowed size is 500 MB"));return}H.push(K)}),G.on("end",()=>{Q(null)})}},0)})}doDownload(b,D,T){const V=this.createRequest(b,Y=>{if(Y.statusCode>=400){D.callback(new Error(`Cannot download "${b.protocol||"https:"}//${b.hostname}${b.path}", status ${Y.statusCode}: ${Y.statusMessage}`));return}Y.on("error",D.callback);const H=p(Y,"location");if(H!=null){T<this.maxRedirects?this.doDownload(m.prepareRedirectUrlOptions(H,b),D,T++):D.callback(this.createMaxRedirectError());return}D.responseHandler==null?S(D,Y):D.responseHandler(Y,D.callback)});this.addErrorAndTimeoutHandlers(V,D.callback,b.timeout),this.addRedirectHandlers(V,b,D.callback,T,Y=>{this.doDownload(Y,D,T++)}),V.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(b,D,T){b.on("socket",V=>{V.setTimeout(T,()=>{b.abort(),D(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(b,D){const T=y(b,{...D}),V=T.headers;if(V!=null&&V.authorization){const Y=new i.URL(b);(Y.hostname.endsWith(".amazonaws.com")||Y.searchParams.has("X-Amz-Credential"))&&delete V.authorization}return T}static retryOnServerError(b,D=3){for(let T=0;;T++)try{return b()}catch(V){if(T<D&&(V instanceof f&&V.isServerError()||V.code==="EPIPE"))continue;throw V}}}Ge.HttpExecutor=m;function y(O,b){const D=N(b);return E(new i.URL(O),D),D}Ge.configureRequestOptionsFromUrl=y;function E(O,b){b.protocol=O.protocol,b.hostname=O.hostname,O.port?b.port=O.port:b.port&&delete b.port,b.path=O.pathname+O.search}Ge.configureRequestUrl=E;class v extends n.Transform{get actual(){return this._actual}constructor(b,D="sha512",T="base64"){super(),this.expected=b,this.algorithm=D,this.encoding=T,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,e.createHash)(D)}_transform(b,D,T){this.digester.update(b),T(null,b)}_flush(b){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(D){b(D);return}b(null)}validate(){if(this._actual==null)throw(0,o.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,o.newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}Ge.DigestTransform=v;function g(O,b,D){return O!=null&&b!=null&&O!==b?(D(new Error(`checksum mismatch: expected ${b} but got ${O} (X-Checksum-Sha2 header)`)),!1):!0}function p(O,b){const D=O.headers[b];return D==null?null:Array.isArray(D)?D.length===0?null:D[D.length-1]:D}Ge.safeGetHeader=p;function S(O,b){if(!g(p(b,"X-Checksum-Sha2"),O.options.sha2,O.callback))return;const D=[];if(O.options.onProgress!=null){const H=p(b,"content-length");H!=null&&D.push(new a.ProgressCallbackTransform(parseInt(H,10),O.options.cancellationToken,O.options.onProgress))}const T=O.options.sha512;T!=null?D.push(new v(T,"sha512",T.length===128&&!T.includes("+")&&!T.includes("Z")&&!T.includes("=")?"hex":"base64")):O.options.sha2!=null&&D.push(new v(O.options.sha2,"sha256","hex"));const V=(0,r.createWriteStream)(O.destination);D.push(V);let Y=b;for(const H of D)H.on("error",W=>{V.close(),O.options.cancellationToken.cancelled||O.callback(W)}),Y=Y.pipe(H);V.on("finish",()=>{V.close(O.callback)})}function N(O,b,D){D!=null&&(O.method=D),O.headers={...O.headers};const T=O.headers;return b!=null&&(T.authorization=b.startsWith("Basic")||b.startsWith("Bearer")?b:`token ${b}`),T["User-Agent"]==null&&(T["User-Agent"]="electron-builder"),(D==null||D==="GET"||T["Cache-Control"]==null)&&(T["Cache-Control"]="no-cache"),O.protocol==null&&process.versions.electron!=null&&(O.protocol="https:"),O}Ge.configureRequestOptions=N;function M(O,b){return JSON.stringify(O,(D,T)=>D.endsWith("Authorization")||D.endsWith("authorization")||D.endsWith("Password")||D.endsWith("PASSWORD")||D.endsWith("Token")||D.includes("password")||D.includes("token")||b!=null&&b.has(D)?"<stripped sensitive data>":T,2)}return Ge.safeStringifyJson=M,Ge}var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.getS3LikeProviderBaseUrl=Wi.githubUrl=void 0;function KR(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`}Wi.githubUrl=KR;function YR(e){const t=e.provider;if(t==="s3")return JR(e);if(t==="spaces")return XR(e);throw new Error(`Not supported provider: ${t}`)}Wi.getS3LikeProviderBaseUrl=YR;function JR(e){let t;if(e.accelerate==!0)t=`https://${e.bucket}.s3-accelerate.amazonaws.com`;else if(e.endpoint!=null)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(e.region==null)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);e.region==="us-east-1"?t=`https://s3.amazonaws.com/${e.bucket}`:t=`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else e.region==="cn-north-1"?t=`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:t=`https://${e.bucket}.s3.amazonaws.com`;return My(t,e.path)}function My(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function XR(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return My(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}var ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.parseDn=void 0;function QR(e){let t=!1,r=null,n="",i=0;e=e.trim();const s=new Map;for(let o=0;o<=e.length;o++){if(o===e.length){r!==null&&s.set(r,n);break}const a=e[o];if(t){if(a==='"'){t=!1;continue}}else{if(a==='"'){t=!0;continue}if(a==="\\"){o++;const l=parseInt(e.slice(o,o+2),16);Number.isNaN(l)?n+=e[o]:(o++,n+=String.fromCharCode(l));continue}if(r===null&&a==="="){r=n,n="";continue}if(a===","||a===";"||a==="+"){r!==null&&s.set(r,n),r=null,n="";continue}}if(a===" "&&!t){if(n.length===0)continue;if(o>i){let l=o;for(;e[l]===" ";)l++;i=l}if(i>=e.length||e[i]===","||e[i]===";"||r===null&&e[i]==="="||r!==null&&e[i]==="+"){o=i-1;continue}}n+=a}return s}ml.parseDn=QR;var Un={},lp;function ZR(){if(lp)return Un;lp=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.nil=Un.UUID=void 0;const e=rs,t=at(),r="options.name must be either a string or a Buffer",n=(0,e.randomBytes)(16);n[0]=n[0]|1;const i={},s=[];for(let f=0;f<256;f++){const h=(f+256).toString(16).substr(1);i[h]=f,s[f]=h}class o{constructor(h){this.ascii=null,this.binary=null;const m=o.check(h);if(!m)throw new Error("not a UUID");this.version=m.version,m.format==="ascii"?this.ascii=h:this.binary=h}static v5(h,m){return c(h,"sha1",80,m)}toString(){return this.ascii==null&&(this.ascii=u(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(h,m=0){if(typeof h=="string")return h=h.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(h)?h==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(i[h[14]+h[15]]&240)>>4,variant:a((i[h[19]+h[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(h)){if(h.length<m+16)return!1;let y=0;for(;y<16&&h[m+y]===0;y++);return y===16?{version:void 0,variant:"nil",format:"binary"}:{version:(h[m+6]&240)>>4,variant:a((h[m+8]&224)>>5),format:"binary"}}throw(0,t.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(h){const m=Buffer.allocUnsafe(16);let y=0;for(let E=0;E<16;E++)m[E]=i[h[y++]+h[y++]],(E===3||E===5||E===7||E===9)&&(y+=1);return m}}Un.UUID=o,o.OID=o.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function a(f){switch(f){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var l;(function(f){f[f.ASCII=0]="ASCII",f[f.BINARY=1]="BINARY",f[f.OBJECT=2]="OBJECT"})(l||(l={}));function c(f,h,m,y,E=l.ASCII){const v=(0,e.createHash)(h);if(typeof f!="string"&&!Buffer.isBuffer(f))throw(0,t.newError)(r,"ERR_INVALID_UUID_NAME");v.update(y),v.update(f);const p=v.digest();let S;switch(E){case l.BINARY:p[6]=p[6]&15|m,p[8]=p[8]&63|128,S=p;break;case l.OBJECT:p[6]=p[6]&15|m,p[8]=p[8]&63|128,S=new o(p);break;default:S=s[p[0]]+s[p[1]]+s[p[2]]+s[p[3]]+"-"+s[p[4]]+s[p[5]]+"-"+s[p[6]&15|m]+s[p[7]]+"-"+s[p[8]&63|128]+s[p[9]]+"-"+s[p[10]]+s[p[11]]+s[p[12]]+s[p[13]]+s[p[14]]+s[p[15]];break}return S}function u(f){return s[f[0]]+s[f[1]]+s[f[2]]+s[f[3]]+"-"+s[f[4]]+s[f[5]]+"-"+s[f[6]]+s[f[7]]+"-"+s[f[8]]+s[f[9]]+"-"+s[f[10]]+s[f[11]]+s[f[12]]+s[f[13]]+s[f[14]]+s[f[15]]}return Un.nil=new o("00000000-0000-0000-0000-000000000000"),Un}var xn={},Uy={};(function(e){(function(t){t.parser=function(P,_){return new n(P,_)},t.SAXParser=n,t.SAXStream=u,t.createStream=c,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(P,_){if(!(this instanceof n))return new n(P,_);var z=this;s(z),z.q=z.c="",z.bufferCheckPosition=t.MAX_BUFFER_LENGTH,z.opt=_||{},z.opt.lowercase=z.opt.lowercase||z.opt.lowercasetags,z.looseCase=z.opt.lowercase?"toLowerCase":"toUpperCase",z.tags=[],z.closed=z.closedRoot=z.sawRoot=!1,z.tag=z.error=null,z.strict=!!P,z.noscript=!!(P||z.opt.noscript),z.state=T.BEGIN,z.strictEntities=z.opt.strictEntities,z.ENTITIES=z.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),z.attribList=[],z.opt.xmlns&&(z.ns=Object.create(E)),z.trackPosition=z.opt.position!==!1,z.trackPosition&&(z.position=z.line=z.column=0),Y(z,"onready")}Object.create||(Object.create=function(P){function _(){}_.prototype=P;var z=new _;return z}),Object.keys||(Object.keys=function(P){var _=[];for(var z in P)P.hasOwnProperty(z)&&_.push(z);return _});function i(P){for(var _=Math.max(t.MAX_BUFFER_LENGTH,10),z=0,U=0,te=r.length;U<te;U++){var de=P[r[U]].length;if(de>_)switch(r[U]){case"textNode":W(P);break;case"cdata":H(P,"oncdata",P.cdata),P.cdata="";break;case"script":H(P,"onscript",P.script),P.script="";break;default:Q(P,"Max buffer length exceeded: "+r[U])}z=Math.max(z,de)}var be=t.MAX_BUFFER_LENGTH-z;P.bufferCheckPosition=be+P.position}function s(P){for(var _=0,z=r.length;_<z;_++)P[r[_]]=""}function o(P){W(P),P.cdata!==""&&(H(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(H(P,"onscript",P.script),P.script="")}n.prototype={end:function(){Z(this)},write:L,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=require("stream").Stream}catch{a=function(){}}a||(a=function(){});var l=t.EVENTS.filter(function(P){return P!=="error"&&P!=="end"});function c(P,_){return new u(P,_)}function u(P,_){if(!(this instanceof u))return new u(P,_);a.apply(this),this._parser=new n(P,_),this.writable=!0,this.readable=!0;var z=this;this._parser.onend=function(){z.emit("end")},this._parser.onerror=function(U){z.emit("error",U),z._parser.error=null},this._decoder=null,l.forEach(function(U){Object.defineProperty(z,"on"+U,{get:function(){return z._parser["on"+U]},set:function(te){if(!te)return z.removeAllListeners(U),z._parser["on"+U]=te,te;z.on(U,te)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(a.prototype,{constructor:{value:u}}),u.prototype.write=function(P){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(P)){if(!this._decoder){var _=Qv.StringDecoder;this._decoder=new _("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},u.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},u.prototype.on=function(P,_){var z=this;return!z._parser["on"+P]&&l.indexOf(P)!==-1&&(z._parser["on"+P]=function(){var U=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);U.splice(0,0,P),z.emit.apply(z,U)}),a.prototype.on.call(z,P,_)};var f="[CDATA[",h="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",E={xml:m,xmlns:y},v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(P){return P===" "||P===`
`||P==="\r"||P==="	"}function M(P){return P==='"'||P==="'"}function O(P){return P===">"||N(P)}function b(P,_){return P.test(_)}function D(P,_){return!b(P,_)}var T=0;t.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(P){var _=t.ENTITIES[P],z=typeof _=="number"?String.fromCharCode(_):_;t.ENTITIES[P]=z});for(var V in t.STATE)t.STATE[t.STATE[V]]=V;T=t.STATE;function Y(P,_,z){P[_]&&P[_](z)}function H(P,_,z){P.textNode&&W(P),Y(P,_,z)}function W(P){P.textNode=G(P.opt,P.textNode),P.textNode&&Y(P,"ontext",P.textNode),P.textNode=""}function G(P,_){return P.trim&&(_=_.trim()),P.normalize&&(_=_.replace(/\s+/g," ")),_}function Q(P,_){return W(P),P.trackPosition&&(_+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),_=new Error(_),P.error=_,Y(P,"onerror",_),P}function Z(P){return P.sawRoot&&!P.closedRoot&&K(P,"Unclosed root tag"),P.state!==T.BEGIN&&P.state!==T.BEGIN_WHITESPACE&&P.state!==T.TEXT&&Q(P,"Unexpected end"),W(P),P.c="",P.closed=!0,Y(P,"onend"),n.call(P,P.strict,P.opt),P}function K(P,_){if(typeof P!="object"||!(P instanceof n))throw new Error("bad call to strictFail");P.strict&&Q(P,_)}function I(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var _=P.tags[P.tags.length-1]||P,z=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(z.ns=_.ns),P.attribList.length=0,H(P,"onopentagstart",z)}function j(P,_){var z=P.indexOf(":"),U=z<0?["",P]:P.split(":"),te=U[0],de=U[1];return _&&P==="xmlns"&&(te="xmlns",de=""),{prefix:te,local:de}}function A(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName)){P.attribName=P.attribValue="";return}if(P.opt.xmlns){var _=j(P.attribName,!0),z=_.prefix,U=_.local;if(z==="xmlns")if(U==="xml"&&P.attribValue!==m)K(P,"xml: prefix must be bound to "+m+`
Actual: `+P.attribValue);else if(U==="xmlns"&&P.attribValue!==y)K(P,"xmlns: prefix must be bound to "+y+`
Actual: `+P.attribValue);else{var te=P.tag,de=P.tags[P.tags.length-1]||P;te.ns===de.ns&&(te.ns=Object.create(de.ns)),te.ns[U]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,H(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}function w(P,_){if(P.opt.xmlns){var z=P.tag,U=j(P.tagName);z.prefix=U.prefix,z.local=U.local,z.uri=z.ns[U.prefix]||"",z.prefix&&!z.uri&&(K(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),z.uri=U.prefix);var te=P.tags[P.tags.length-1]||P;z.ns&&te.ns!==z.ns&&Object.keys(z.ns).forEach(function(lt){H(P,"onopennamespace",{prefix:lt,uri:z.ns[lt]})});for(var de=0,be=P.attribList.length;de<be;de++){var Fe=P.attribList[de],Ve=Fe[0],Le=Fe[1],Re=j(Ve,!0),Xe=Re.prefix,Bt=Re.local,Rt=Xe===""?"":z.ns[Xe]||"",It={name:Ve,value:Le,prefix:Xe,local:Bt,uri:Rt};Xe&&Xe!=="xmlns"&&!Rt&&(K(P,"Unbound namespace prefix: "+JSON.stringify(Xe)),It.uri=Xe),P.tag.attributes[Ve]=It,H(P,"onattribute",It)}P.attribList.length=0}P.tag.isSelfClosing=!!_,P.sawRoot=!0,P.tags.push(P.tag),H(P,"onopentag",P.tag),_||(!P.noscript&&P.tagName.toLowerCase()==="script"?P.state=T.SCRIPT:P.state=T.TEXT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function R(P){if(!P.tagName){K(P,"Weird empty close tag."),P.textNode+="</>",P.state=T.TEXT;return}if(P.script){if(P.tagName!=="script"){P.script+="</"+P.tagName+">",P.tagName="",P.state=T.SCRIPT;return}H(P,"onscript",P.script),P.script=""}var _=P.tags.length,z=P.tagName;P.strict||(z=z[P.looseCase]());for(var U=z;_--;){var te=P.tags[_];if(te.name!==U)K(P,"Unexpected close tag");else break}if(_<0){K(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",P.state=T.TEXT;return}P.tagName=z;for(var de=P.tags.length;de-- >_;){var be=P.tag=P.tags.pop();P.tagName=P.tag.name,H(P,"onclosetag",P.tagName);var Fe={};for(var Ve in be.ns)Fe[Ve]=be.ns[Ve];var Le=P.tags[P.tags.length-1]||P;P.opt.xmlns&&be.ns!==Le.ns&&Object.keys(be.ns).forEach(function(Re){var Xe=be.ns[Re];H(P,"onclosenamespace",{prefix:Re,uri:Xe})})}_===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=T.TEXT}function C(P){var _=P.entity,z=_.toLowerCase(),U,te="";return P.ENTITIES[_]?P.ENTITIES[_]:P.ENTITIES[z]?P.ENTITIES[z]:(_=z,_.charAt(0)==="#"&&(_.charAt(1)==="x"?(_=_.slice(2),U=parseInt(_,16),te=U.toString(16)):(_=_.slice(1),U=parseInt(_,10),te=U.toString(10))),_=_.replace(/^0+/,""),isNaN(U)||te.toLowerCase()!==_?(K(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint(U))}function d(P,_){_==="<"?(P.state=T.OPEN_WAKA,P.startTagPosition=P.position):N(_)||(K(P,"Non-whitespace before first tag."),P.textNode=_,P.state=T.TEXT)}function $(P,_){var z="";return _<P.length&&(z=P.charAt(_)),z}function L(P){var _=this;if(this.error)throw this.error;if(_.closed)return Q(_,"Cannot write after close. Assign an onready handler.");if(P===null)return Z(_);typeof P=="object"&&(P=P.toString());for(var z=0,U="";U=$(P,z++),_.c=U,!!U;)switch(_.trackPosition&&(_.position++,U===`
`?(_.line++,_.column=0):_.column++),_.state){case T.BEGIN:if(_.state=T.BEGIN_WHITESPACE,U==="\uFEFF")continue;d(_,U);continue;case T.BEGIN_WHITESPACE:d(_,U);continue;case T.TEXT:if(_.sawRoot&&!_.closedRoot){for(var te=z-1;U&&U!=="<"&&U!=="&";)U=$(P,z++),U&&_.trackPosition&&(_.position++,U===`
`?(_.line++,_.column=0):_.column++);_.textNode+=P.substring(te,z-1)}U==="<"&&!(_.sawRoot&&_.closedRoot&&!_.strict)?(_.state=T.OPEN_WAKA,_.startTagPosition=_.position):(!N(U)&&(!_.sawRoot||_.closedRoot)&&K(_,"Text data outside of root node."),U==="&"?_.state=T.TEXT_ENTITY:_.textNode+=U);continue;case T.SCRIPT:U==="<"?_.state=T.SCRIPT_ENDING:_.script+=U;continue;case T.SCRIPT_ENDING:U==="/"?_.state=T.CLOSE_TAG:(_.script+="<"+U,_.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(U==="!")_.state=T.SGML_DECL,_.sgmlDecl="";else if(!N(U))if(b(v,U))_.state=T.OPEN_TAG,_.tagName=U;else if(U==="/")_.state=T.CLOSE_TAG,_.tagName="";else if(U==="?")_.state=T.PROC_INST,_.procInstName=_.procInstBody="";else{if(K(_,"Unencoded <"),_.startTagPosition+1<_.position){var de=_.position-_.startTagPosition;U=new Array(de).join(" ")+U}_.textNode+="<"+U,_.state=T.TEXT}continue;case T.SGML_DECL:(_.sgmlDecl+U).toUpperCase()===f?(H(_,"onopencdata"),_.state=T.CDATA,_.sgmlDecl="",_.cdata=""):_.sgmlDecl+U==="--"?(_.state=T.COMMENT,_.comment="",_.sgmlDecl=""):(_.sgmlDecl+U).toUpperCase()===h?(_.state=T.DOCTYPE,(_.doctype||_.sawRoot)&&K(_,"Inappropriately located doctype declaration"),_.doctype="",_.sgmlDecl=""):U===">"?(H(_,"onsgmldeclaration",_.sgmlDecl),_.sgmlDecl="",_.state=T.TEXT):(M(U)&&(_.state=T.SGML_DECL_QUOTED),_.sgmlDecl+=U);continue;case T.SGML_DECL_QUOTED:U===_.q&&(_.state=T.SGML_DECL,_.q=""),_.sgmlDecl+=U;continue;case T.DOCTYPE:U===">"?(_.state=T.TEXT,H(_,"ondoctype",_.doctype),_.doctype=!0):(_.doctype+=U,U==="["?_.state=T.DOCTYPE_DTD:M(U)&&(_.state=T.DOCTYPE_QUOTED,_.q=U));continue;case T.DOCTYPE_QUOTED:_.doctype+=U,U===_.q&&(_.q="",_.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:_.doctype+=U,U==="]"?_.state=T.DOCTYPE:M(U)&&(_.state=T.DOCTYPE_DTD_QUOTED,_.q=U);continue;case T.DOCTYPE_DTD_QUOTED:_.doctype+=U,U===_.q&&(_.state=T.DOCTYPE_DTD,_.q="");continue;case T.COMMENT:U==="-"?_.state=T.COMMENT_ENDING:_.comment+=U;continue;case T.COMMENT_ENDING:U==="-"?(_.state=T.COMMENT_ENDED,_.comment=G(_.opt,_.comment),_.comment&&H(_,"oncomment",_.comment),_.comment=""):(_.comment+="-"+U,_.state=T.COMMENT);continue;case T.COMMENT_ENDED:U!==">"?(K(_,"Malformed comment"),_.comment+="--"+U,_.state=T.COMMENT):_.state=T.TEXT;continue;case T.CDATA:U==="]"?_.state=T.CDATA_ENDING:_.cdata+=U;continue;case T.CDATA_ENDING:U==="]"?_.state=T.CDATA_ENDING_2:(_.cdata+="]"+U,_.state=T.CDATA);continue;case T.CDATA_ENDING_2:U===">"?(_.cdata&&H(_,"oncdata",_.cdata),H(_,"onclosecdata"),_.cdata="",_.state=T.TEXT):U==="]"?_.cdata+="]":(_.cdata+="]]"+U,_.state=T.CDATA);continue;case T.PROC_INST:U==="?"?_.state=T.PROC_INST_ENDING:N(U)?_.state=T.PROC_INST_BODY:_.procInstName+=U;continue;case T.PROC_INST_BODY:if(!_.procInstBody&&N(U))continue;U==="?"?_.state=T.PROC_INST_ENDING:_.procInstBody+=U;continue;case T.PROC_INST_ENDING:U===">"?(H(_,"onprocessinginstruction",{name:_.procInstName,body:_.procInstBody}),_.procInstName=_.procInstBody="",_.state=T.TEXT):(_.procInstBody+="?"+U,_.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:b(g,U)?_.tagName+=U:(I(_),U===">"?w(_):U==="/"?_.state=T.OPEN_TAG_SLASH:(N(U)||K(_,"Invalid character in tag name"),_.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:U===">"?(w(_,!0),R(_)):(K(_,"Forward-slash in opening tag not followed by >"),_.state=T.ATTRIB);continue;case T.ATTRIB:if(N(U))continue;U===">"?w(_):U==="/"?_.state=T.OPEN_TAG_SLASH:b(v,U)?(_.attribName=U,_.attribValue="",_.state=T.ATTRIB_NAME):K(_,"Invalid attribute name");continue;case T.ATTRIB_NAME:U==="="?_.state=T.ATTRIB_VALUE:U===">"?(K(_,"Attribute without value"),_.attribValue=_.attribName,A(_),w(_)):N(U)?_.state=T.ATTRIB_NAME_SAW_WHITE:b(g,U)?_.attribName+=U:K(_,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(U==="=")_.state=T.ATTRIB_VALUE;else{if(N(U))continue;K(_,"Attribute without value"),_.tag.attributes[_.attribName]="",_.attribValue="",H(_,"onattribute",{name:_.attribName,value:""}),_.attribName="",U===">"?w(_):b(v,U)?(_.attribName=U,_.state=T.ATTRIB_NAME):(K(_,"Invalid attribute name"),_.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(N(U))continue;M(U)?(_.q=U,_.state=T.ATTRIB_VALUE_QUOTED):(K(_,"Unquoted attribute value"),_.state=T.ATTRIB_VALUE_UNQUOTED,_.attribValue=U);continue;case T.ATTRIB_VALUE_QUOTED:if(U!==_.q){U==="&"?_.state=T.ATTRIB_VALUE_ENTITY_Q:_.attribValue+=U;continue}A(_),_.q="",_.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:N(U)?_.state=T.ATTRIB:U===">"?w(_):U==="/"?_.state=T.OPEN_TAG_SLASH:b(v,U)?(K(_,"No whitespace between attributes"),_.attribName=U,_.attribValue="",_.state=T.ATTRIB_NAME):K(_,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!O(U)){U==="&"?_.state=T.ATTRIB_VALUE_ENTITY_U:_.attribValue+=U;continue}A(_),U===">"?w(_):_.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(_.tagName)U===">"?R(_):b(g,U)?_.tagName+=U:_.script?(_.script+="</"+_.tagName,_.tagName="",_.state=T.SCRIPT):(N(U)||K(_,"Invalid tagname in closing tag"),_.state=T.CLOSE_TAG_SAW_WHITE);else{if(N(U))continue;D(v,U)?_.script?(_.script+="</"+U,_.state=T.SCRIPT):K(_,"Invalid tagname in closing tag."):_.tagName=U}continue;case T.CLOSE_TAG_SAW_WHITE:if(N(U))continue;U===">"?R(_):K(_,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var be,Fe;switch(_.state){case T.TEXT_ENTITY:be=T.TEXT,Fe="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:be=T.ATTRIB_VALUE_QUOTED,Fe="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:be=T.ATTRIB_VALUE_UNQUOTED,Fe="attribValue";break}if(U===";")if(_.opt.unparsedEntities){var Ve=C(_);_.entity="",_.state=be,_.write(Ve)}else _[Fe]+=C(_),_.entity="",_.state=be;else b(_.entity.length?S:p,U)?_.entity+=U:(K(_,"Invalid character in entity name"),_[Fe]+="&"+_.entity+U,_.entity="",_.state=be);continue;default:throw new Error(_,"Unknown state: "+_.state)}return _.position>=_.bufferCheckPosition&&i(_),_}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var P=String.fromCharCode,_=Math.floor,z=function(){var U=16384,te=[],de,be,Fe=-1,Ve=arguments.length;if(!Ve)return"";for(var Le="";++Fe<Ve;){var Re=Number(arguments[Fe]);if(!isFinite(Re)||Re<0||Re>1114111||_(Re)!==Re)throw RangeError("Invalid code point: "+Re);Re<=65535?te.push(Re):(Re-=65536,de=(Re>>10)+55296,be=Re%1024+56320,te.push(de,be)),(Fe+1===Ve||te.length>U)&&(Le+=P.apply(null,te),te.length=0)}return Le};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:z,configurable:!0,writable:!0}):String.fromCodePoint=z}()})(e)})(Uy);var cp;function eI(){if(cp)return xn;cp=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.parseXml=xn.XElement=void 0;const e=Uy,t=at();class r{constructor(l){if(this.name=l,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!l)throw(0,t.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!i(l))throw(0,t.newError)(`Invalid element name: ${l}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(l){const c=this.attributes===null?null:this.attributes[l];if(c==null)throw(0,t.newError)(`No attribute "${l}"`,"ERR_XML_MISSED_ATTRIBUTE");return c}removeAttribute(l){this.attributes!==null&&delete this.attributes[l]}element(l,c=!1,u=null){const f=this.elementOrNull(l,c);if(f===null)throw(0,t.newError)(u||`No element "${l}"`,"ERR_XML_MISSED_ELEMENT");return f}elementOrNull(l,c=!1){if(this.elements===null)return null;for(const u of this.elements)if(s(u,l,c))return u;return null}getElements(l,c=!1){return this.elements===null?[]:this.elements.filter(u=>s(u,l,c))}elementValueOrEmpty(l,c=!1){const u=this.elementOrNull(l,c);return u===null?"":u.value}}xn.XElement=r;const n=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function i(a){return n.test(a)}function s(a,l,c){const u=a.name;return u===l||c===!0&&u.length===l.length&&u.toLowerCase()===l.toLowerCase()}function o(a){let l=null;const c=e.parser(!0,{}),u=[];return c.onopentag=f=>{const h=new r(f.name);if(h.attributes=f.attributes,l===null)l=h;else{const m=u[u.length-1];m.elements==null&&(m.elements=[]),m.elements.push(h)}u.push(h)},c.onclosetag=()=>{u.pop()},c.ontext=f=>{u.length>0&&(u[u.length-1].value=f)},c.oncdata=f=>{const h=u[u.length-1];h.value=f,h.isCData=!0},c.onerror=f=>{throw f},c.write(a),l}return xn.parseXml=o,xn}var up;function at(){return up||(up=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.newError=e.asArray=e.CURRENT_APP_PACKAGE_FILE_NAME=e.CURRENT_APP_INSTALLER_FILE_NAME=e.XElement=e.parseXml=e.ProgressCallbackTransform=e.UUID=e.parseDn=e.githubUrl=e.getS3LikeProviderBaseUrl=e.configureRequestUrl=e.parseJson=e.safeStringifyJson=e.configureRequestOptionsFromUrl=e.configureRequestOptions=e.safeGetHeader=e.DigestTransform=e.HttpExecutor=e.createHttpError=e.HttpError=e.CancellationError=e.CancellationToken=void 0;var t=li;Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}}),Object.defineProperty(e,"CancellationError",{enumerable:!0,get:function(){return t.CancellationError}});var r=WR();Object.defineProperty(e,"HttpError",{enumerable:!0,get:function(){return r.HttpError}}),Object.defineProperty(e,"createHttpError",{enumerable:!0,get:function(){return r.createHttpError}}),Object.defineProperty(e,"HttpExecutor",{enumerable:!0,get:function(){return r.HttpExecutor}}),Object.defineProperty(e,"DigestTransform",{enumerable:!0,get:function(){return r.DigestTransform}}),Object.defineProperty(e,"safeGetHeader",{enumerable:!0,get:function(){return r.safeGetHeader}}),Object.defineProperty(e,"configureRequestOptions",{enumerable:!0,get:function(){return r.configureRequestOptions}}),Object.defineProperty(e,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return r.configureRequestOptionsFromUrl}}),Object.defineProperty(e,"safeStringifyJson",{enumerable:!0,get:function(){return r.safeStringifyJson}}),Object.defineProperty(e,"parseJson",{enumerable:!0,get:function(){return r.parseJson}}),Object.defineProperty(e,"configureRequestUrl",{enumerable:!0,get:function(){return r.configureRequestUrl}});var n=Wi;Object.defineProperty(e,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return n.getS3LikeProviderBaseUrl}}),Object.defineProperty(e,"githubUrl",{enumerable:!0,get:function(){return n.githubUrl}});var i=ml;Object.defineProperty(e,"parseDn",{enumerable:!0,get:function(){return i.parseDn}});var s=ZR();Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return s.UUID}});var o=Oo;Object.defineProperty(e,"ProgressCallbackTransform",{enumerable:!0,get:function(){return o.ProgressCallbackTransform}});var a=eI();Object.defineProperty(e,"parseXml",{enumerable:!0,get:function(){return a.parseXml}}),Object.defineProperty(e,"XElement",{enumerable:!0,get:function(){return a.XElement}}),e.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",e.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function l(u){return u==null?[]:Array.isArray(u)?u:[u]}e.asArray=l;function c(u,f){const h=new Error(u);return h.code=f,h}e.newError=c}(oc)),oc}var ui={},xt={};xt.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,s)=>i!=null?n(i):r(s)),e.apply(this,t)})},"name",{value:e.name})};xt.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var fn=Zv,tI=process.cwd,ba=null,rI=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return ba||(ba=tI.call(process)),ba};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var fp=process.chdir;process.chdir=function(e){ba=null,fp.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,fp)}var nI=iI;function iI(e){fn.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(u,f,h){h&&process.nextTick(h)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(u,f,h,m){m&&process.nextTick(m)},e.lchownSync=function(){}),rI==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(u){function f(h,m,y){var E=Date.now(),v=0;u(h,m,function g(p){if(p&&(p.code==="EACCES"||p.code==="EPERM"||p.code==="EBUSY")&&Date.now()-E<6e4){setTimeout(function(){e.stat(m,function(S,N){S&&S.code==="ENOENT"?u(h,m,g):y(p)})},v),v<100&&(v+=10);return}y&&y(p)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f}(e.rename)),e.read=typeof e.read!="function"?e.read:function(u){function f(h,m,y,E,v,g){var p;if(g&&typeof g=="function"){var S=0;p=function(N,M,O){if(N&&N.code==="EAGAIN"&&S<10)return S++,u.call(e,h,m,y,E,v,p);g.apply(this,arguments)}}return u.call(e,h,m,y,E,v,p)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(u){return function(f,h,m,y,E){for(var v=0;;)try{return u.call(e,f,h,m,y,E)}catch(g){if(g.code==="EAGAIN"&&v<10){v++;continue}throw g}}}(e.readSync);function t(u){u.lchmod=function(f,h,m){u.open(f,fn.O_WRONLY|fn.O_SYMLINK,h,function(y,E){if(y){m&&m(y);return}u.fchmod(E,h,function(v){u.close(E,function(g){m&&m(v||g)})})})},u.lchmodSync=function(f,h){var m=u.openSync(f,fn.O_WRONLY|fn.O_SYMLINK,h),y=!0,E;try{E=u.fchmodSync(m,h),y=!1}finally{if(y)try{u.closeSync(m)}catch{}else u.closeSync(m)}return E}}function r(u){fn.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(f,h,m,y){u.open(f,fn.O_SYMLINK,function(E,v){if(E){y&&y(E);return}u.futimes(v,h,m,function(g){u.close(v,function(p){y&&y(g||p)})})})},u.lutimesSync=function(f,h,m){var y=u.openSync(f,fn.O_SYMLINK),E,v=!0;try{E=u.futimesSync(y,h,m),v=!1}finally{if(v)try{u.closeSync(y)}catch{}else u.closeSync(y)}return E}):u.futimes&&(u.lutimes=function(f,h,m,y){y&&process.nextTick(y)},u.lutimesSync=function(){})}function n(u){return u&&function(f,h,m){return u.call(e,f,h,function(y){c(y)&&(y=null),m&&m.apply(this,arguments)})}}function i(u){return u&&function(f,h){try{return u.call(e,f,h)}catch(m){if(!c(m))throw m}}}function s(u){return u&&function(f,h,m,y){return u.call(e,f,h,m,function(E){c(E)&&(E=null),y&&y.apply(this,arguments)})}}function o(u){return u&&function(f,h,m){try{return u.call(e,f,h,m)}catch(y){if(!c(y))throw y}}}function a(u){return u&&function(f,h,m){typeof h=="function"&&(m=h,h=null);function y(E,v){v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),m&&m.apply(this,arguments)}return h?u.call(e,f,h,y):u.call(e,f,y)}}function l(u){return u&&function(f,h){var m=h?u.call(e,f,h):u.call(e,f);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function c(u){if(!u||u.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(u.code==="EINVAL"||u.code==="EPERM"))}}var dp=po.Stream,sI=oI;function oI(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);dp.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(u,f){if(u){s.emit("error",u),s.readable=!1;return}s.fd=f,s.emit("open",f),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);dp.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var aI=cI,lI=Object.getPrototypeOf||function(e){return e.__proto__};function cI(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:lI(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var Ye=Je,uI=nI,fI=sI,dI=aI,ca=ts,wt,xa;typeof Symbol=="function"&&typeof Symbol.for=="function"?(wt=Symbol.for("graceful-fs.queue"),xa=Symbol.for("graceful-fs.previous")):(wt="___graceful-fs.queue",xa="___graceful-fs.previous");function hI(){}function xy(e,t){Object.defineProperty(e,wt,{get:function(){return t}})}var ei=hI;ca.debuglog?ei=ca.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ei=function(){var e=ca.format.apply(ca,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!Ye[wt]){var pI=ot[wt]||[];xy(Ye,pI),Ye.close=function(e){function t(r,n){return e.call(Ye,r,function(i){i||hp(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,xa,{value:e}),t}(Ye.close),Ye.closeSync=function(e){function t(r){e.apply(Ye,arguments),hp()}return Object.defineProperty(t,xa,{value:e}),t}(Ye.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ei(Ye[wt]),au.equal(Ye[wt].length,0)})}ot[wt]||xy(ot,Ye[wt]);var qt=sd(dI(Ye));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Ye.__patched&&(qt=sd(Ye),Ye.__patched=!0);function sd(e){uI(e),e.gracefulify=sd,e.createReadStream=M,e.createWriteStream=O;var t=e.readFile;e.readFile=r;function r(T,V,Y){return typeof V=="function"&&(Y=V,V=null),H(T,V,Y);function H(W,G,Q,Z){return t(W,G,function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?bi([H,[W,G,Q],K,Z||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(T,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(T,V,Y,H);function W(G,Q,Z,K,I){return n(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?bi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(T,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(T,V,Y,H);function W(G,Q,Z,K,I){return s(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?bi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=l);function l(T,V,Y,H){return typeof Y=="function"&&(H=Y,Y=0),W(T,V,Y,H);function W(G,Q,Z,K,I){return a(G,Q,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?bi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var c=e.readdir;e.readdir=f;var u=/^v[0-5]\./;function f(T,V,Y){typeof V=="function"&&(Y=V,V=null);var H=u.test(process.version)?function(Q,Z,K,I){return c(Q,W(Q,Z,K,I))}:function(Q,Z,K,I){return c(Q,Z,W(Q,Z,K,I))};return H(T,V,Y);function W(G,Q,Z,K){return function(I,j){I&&(I.code==="EMFILE"||I.code==="ENFILE")?bi([H,[G,Q,Z],I,K||Date.now(),Date.now()]):(j&&j.sort&&j.sort(),typeof Z=="function"&&Z.call(this,I,j))}}}if(process.version.substr(0,4)==="v0.8"){var h=fI(e);g=h.ReadStream,S=h.WriteStream}var m=e.ReadStream;m&&(g.prototype=Object.create(m.prototype),g.prototype.open=p);var y=e.WriteStream;y&&(S.prototype=Object.create(y.prototype),S.prototype.open=N),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(T){g=T},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return S},set:function(T){S=T},enumerable:!0,configurable:!0});var E=g;Object.defineProperty(e,"FileReadStream",{get:function(){return E},set:function(T){E=T},enumerable:!0,configurable:!0});var v=S;Object.defineProperty(e,"FileWriteStream",{get:function(){return v},set:function(T){v=T},enumerable:!0,configurable:!0});function g(T,V){return this instanceof g?(m.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function p(){var T=this;D(T.path,T.flags,T.mode,function(V,Y){V?(T.autoClose&&T.destroy(),T.emit("error",V)):(T.fd=Y,T.emit("open",Y),T.read())})}function S(T,V){return this instanceof S?(y.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function N(){var T=this;D(T.path,T.flags,T.mode,function(V,Y){V?(T.destroy(),T.emit("error",V)):(T.fd=Y,T.emit("open",Y))})}function M(T,V){return new e.ReadStream(T,V)}function O(T,V){return new e.WriteStream(T,V)}var b=e.open;e.open=D;function D(T,V,Y,H){return typeof Y=="function"&&(H=Y,Y=null),W(T,V,Y,H);function W(G,Q,Z,K,I){return b(G,Q,Z,function(j,A){j&&(j.code==="EMFILE"||j.code==="ENFILE")?bi([W,[G,Q,Z,K],j,I||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}return e}function bi(e){ei("ENQUEUE",e[0].name,e[1]),Ye[wt].push(e),od()}var ua;function hp(){for(var e=Date.now(),t=0;t<Ye[wt].length;++t)Ye[wt][t].length>2&&(Ye[wt][t][3]=e,Ye[wt][t][4]=e);od()}function od(){if(clearTimeout(ua),ua=void 0,Ye[wt].length!==0){var e=Ye[wt].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)ei("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){ei("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(ei("RETRY",t.name,r),t.apply(null,r.concat([i]))):Ye[wt].push(e)}ua===void 0&&(ua=setTimeout(od,0))}}(function(e){const t=xt.fromCallback,r=qt,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,s){return typeof s=="function"?r.exists(i,s):new Promise(o=>r.exists(i,o))},e.read=function(i,s,o,a,l,c){return typeof c=="function"?r.read(i,s,o,a,l,c):new Promise((u,f)=>{r.read(i,s,o,a,l,(h,m,y)=>{if(h)return f(h);u({bytesRead:m,buffer:y})})})},e.write=function(i,s,...o){return typeof o[o.length-1]=="function"?r.write(i,s,...o):new Promise((a,l)=>{r.write(i,s,...o,(c,u,f)=>{if(c)return l(c);a({bytesWritten:u,buffer:f})})})},typeof r.writev=="function"&&(e.writev=function(i,s,...o){return typeof o[o.length-1]=="function"?r.writev(i,s,...o):new Promise((a,l)=>{r.writev(i,s,...o,(c,u,f)=>{if(c)return l(c);a({bytesWritten:u,buffers:f})})})}),typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(ui);var ad={},qy={};const mI=Se;qy.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(mI.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const Vy=ui,{checkPath:By}=qy,zy=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};ad.makeDir=async(e,t)=>(By(e),Vy.mkdir(e,{mode:zy(t),recursive:!0}));ad.makeDirSync=(e,t)=>(By(e),Vy.mkdirSync(e,{mode:zy(t),recursive:!0}));const gI=xt.fromPromise,{makeDir:yI,makeDirSync:fc}=ad,dc=gI(yI);var xr={mkdirs:dc,mkdirsSync:fc,mkdirp:dc,mkdirpSync:fc,ensureDir:dc,ensureDirSync:fc};const vI=xt.fromPromise,Hy=ui;function _I(e){return Hy.access(e).then(()=>!0).catch(()=>!1)}var fi={pathExists:vI(_I),pathExistsSync:Hy.existsSync};const xi=qt;function $I(e,t,r,n){xi.open(e,"r+",(i,s)=>{if(i)return n(i);xi.futimes(s,t,r,o=>{xi.close(s,a=>{n&&n(o||a)})})})}function EI(e,t,r){const n=xi.openSync(e,"r+");return xi.futimesSync(n,t,r),xi.closeSync(n)}var Gy={utimesMillis:$I,utimesMillisSync:EI};const Ki=ui,mt=Se,wI=ts;function SI(e,t,r){const n=r.dereference?i=>Ki.stat(i,{bigint:!0}):i=>Ki.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function bI(e,t,r){let n;const i=r.dereference?o=>Ki.statSync(o,{bigint:!0}):o=>Ki.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}function PI(e,t,r,n,i){wI.callbackify(SI)(e,t,n,(s,o)=>{if(s)return i(s);const{srcStat:a,destStat:l}=o;if(l){if(Ao(a,l)){const c=mt.basename(e),u=mt.basename(t);return r==="move"&&c!==u&&c.toLowerCase()===u.toLowerCase()?i(null,{srcStat:a,destStat:l,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!l.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!a.isDirectory()&&l.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return a.isDirectory()&&ld(e,t)?i(new Error(gl(e,t,r))):i(null,{srcStat:a,destStat:l})})}function TI(e,t,r,n){const{srcStat:i,destStat:s}=bI(e,t,n);if(s){if(Ao(i,s)){const o=mt.basename(e),a=mt.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&ld(e,t))throw new Error(gl(e,t,r));return{srcStat:i,destStat:s}}function Wy(e,t,r,n,i){const s=mt.resolve(mt.dirname(e)),o=mt.resolve(mt.dirname(r));if(o===s||o===mt.parse(o).root)return i();Ki.stat(o,{bigint:!0},(a,l)=>a?a.code==="ENOENT"?i():i(a):Ao(t,l)?i(new Error(gl(e,r,n))):Wy(e,t,o,n,i))}function Ky(e,t,r,n){const i=mt.resolve(mt.dirname(e)),s=mt.resolve(mt.dirname(r));if(s===i||s===mt.parse(s).root)return;let o;try{o=Ki.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(Ao(t,o))throw new Error(gl(e,r,n));return Ky(e,t,s,n)}function Ao(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function ld(e,t){const r=mt.resolve(e).split(mt.sep).filter(i=>i),n=mt.resolve(t).split(mt.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function gl(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var cs={checkPaths:PI,checkPathsSync:TI,checkParentPaths:Wy,checkParentPathsSync:Ky,isSrcSubdir:ld,areIdentical:Ao};const Xt=qt,no=Se,OI=xr.mkdirs,AI=fi.pathExists,CI=Gy.utimesMillis,io=cs;function NI(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),io.checkPaths(e,t,"copy",r,(i,s)=>{if(i)return n(i);const{srcStat:o,destStat:a}=s;io.checkParentPaths(e,o,t,"copy",l=>l?n(l):r.filter?Yy(pp,a,e,t,r,n):pp(a,e,t,r,n))})}function pp(e,t,r,n,i){const s=no.dirname(r);AI(s,(o,a)=>{if(o)return i(o);if(a)return qa(e,t,r,n,i);OI(s,l=>l?i(l):qa(e,t,r,n,i))})}function Yy(e,t,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?e(t,r,n,i,s):s(),o=>s(o))}function RI(e,t,r,n,i){return n.filter?Yy(qa,e,t,r,n,i):qa(e,t,r,n,i)}function qa(e,t,r,n,i){(n.dereference?Xt.stat:Xt.lstat)(t,(o,a)=>o?i(o):a.isDirectory()?MI(a,e,t,r,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?II(a,e,t,r,n,i):a.isSymbolicLink()?qI(e,t,r,n,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function II(e,t,r,n,i,s){return t?DI(e,r,n,i,s):Jy(e,r,n,i,s)}function DI(e,t,r,n,i){if(n.overwrite)Xt.unlink(r,s=>s?i(s):Jy(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function Jy(e,t,r,n,i){Xt.copyFile(t,r,s=>s?i(s):n.preserveTimestamps?FI(e.mode,t,r,i):yl(r,e.mode,i))}function FI(e,t,r,n){return kI(e)?LI(r,e,i=>i?n(i):mp(e,t,r,n)):mp(e,t,r,n)}function kI(e){return(e&128)===0}function LI(e,t,r){return yl(e,t|128,r)}function mp(e,t,r,n){jI(t,r,i=>i?n(i):yl(r,e,n))}function yl(e,t,r){return Xt.chmod(e,t,r)}function jI(e,t,r){Xt.stat(e,(n,i)=>n?r(n):CI(t,i.atime,i.mtime,r))}function MI(e,t,r,n,i,s){return t?Xy(r,n,i,s):UI(e.mode,r,n,i,s)}function UI(e,t,r,n,i){Xt.mkdir(r,s=>{if(s)return i(s);Xy(t,r,n,o=>o?i(o):yl(r,e,i))})}function Xy(e,t,r,n){Xt.readdir(e,(i,s)=>i?n(i):Qy(s,e,t,r,n))}function Qy(e,t,r,n,i){const s=e.pop();return s?xI(e,s,t,r,n,i):i()}function xI(e,t,r,n,i,s){const o=no.join(r,t),a=no.join(n,t);io.checkPaths(o,a,"copy",i,(l,c)=>{if(l)return s(l);const{destStat:u}=c;RI(u,o,a,i,f=>f?s(f):Qy(e,r,n,i,s))})}function qI(e,t,r,n,i){Xt.readlink(t,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=no.resolve(process.cwd(),o)),e)Xt.readlink(r,(a,l)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?Xt.symlink(o,r,i):i(a):(n.dereference&&(l=no.resolve(process.cwd(),l)),io.isSrcSubdir(o,l)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${l}'.`)):e.isDirectory()&&io.isSrcSubdir(l,o)?i(new Error(`Cannot overwrite '${l}' with '${o}'.`)):VI(o,r,i)));else return Xt.symlink(o,r,i)})}function VI(e,t,r){Xt.unlink(t,n=>n?r(n):Xt.symlink(e,t,r))}var BI=NI;const At=qt,so=Se,zI=xr.mkdirsSync,HI=Gy.utimesMillisSync,oo=cs;function GI(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:i}=oo.checkPathsSync(e,t,"copy",r);return oo.checkParentPathsSync(e,n,t,"copy"),WI(i,e,t,r)}function WI(e,t,r,n){if(n.filter&&!n.filter(t,r))return;const i=so.dirname(r);return At.existsSync(i)||zI(i),Zy(e,t,r,n)}function KI(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return Zy(e,t,r,n)}function Zy(e,t,r,n){const s=(n.dereference?At.statSync:At.lstatSync)(t);if(s.isDirectory())return tD(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return YI(s,e,t,r,n);if(s.isSymbolicLink())return iD(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function YI(e,t,r,n,i){return t?JI(e,r,n,i):e0(e,r,n,i)}function JI(e,t,r,n){if(n.overwrite)return At.unlinkSync(r),e0(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function e0(e,t,r,n){return At.copyFileSync(t,r),n.preserveTimestamps&&XI(e.mode,t,r),cd(r,e.mode)}function XI(e,t,r){return QI(e)&&ZI(r,e),eD(t,r)}function QI(e){return(e&128)===0}function ZI(e,t){return cd(e,t|128)}function cd(e,t){return At.chmodSync(e,t)}function eD(e,t){const r=At.statSync(e);return HI(t,r.atime,r.mtime)}function tD(e,t,r,n,i){return t?t0(r,n,i):rD(e.mode,r,n,i)}function rD(e,t,r,n){return At.mkdirSync(r),t0(t,r,n),cd(r,e)}function t0(e,t,r){At.readdirSync(e).forEach(n=>nD(n,e,t,r))}function nD(e,t,r,n){const i=so.join(t,e),s=so.join(r,e),{destStat:o}=oo.checkPathsSync(i,s,"copy",n);return KI(o,i,s,n)}function iD(e,t,r,n){let i=At.readlinkSync(t);if(n.dereference&&(i=so.resolve(process.cwd(),i)),e){let s;try{s=At.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return At.symlinkSync(i,r);throw o}if(n.dereference&&(s=so.resolve(process.cwd(),s)),oo.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(At.statSync(r).isDirectory()&&oo.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return sD(i,r)}else return At.symlinkSync(i,r)}function sD(e,t){return At.unlinkSync(t),At.symlinkSync(e,t)}var oD=GI;const aD=xt.fromCallback;var ud={copy:aD(BI),copySync:oD};const gp=qt,r0=Se,ke=au,ao=process.platform==="win32";function n0(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||gp[r],r=r+"Sync",e[r]=e[r]||gp[r]}),e.maxBusyTries=e.maxBusyTries||3}function fd(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),ke(e,"rimraf: missing path"),ke.strictEqual(typeof e,"string","rimraf: path should be a string"),ke.strictEqual(typeof r,"function","rimraf: callback function required"),ke(t,"rimraf: invalid options argument provided"),ke.strictEqual(typeof t,"object","rimraf: options should be object"),n0(t),yp(e,t,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<t.maxBusyTries){n++;const o=n*100;return setTimeout(()=>yp(e,t,i),o)}s.code==="ENOENT"&&(s=null)}r(s)})}function yp(e,t,r){ke(e),ke(t),ke(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&ao)return vp(e,t,n,r);if(i&&i.isDirectory())return Pa(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return ao?vp(e,t,s,r):Pa(e,t,s,r);if(s.code==="EISDIR")return Pa(e,t,s,r)}return r(s)})})}function vp(e,t,r,n){ke(e),ke(t),ke(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?Pa(e,t,r,n):t.unlink(e,n)})})}function _p(e,t,r){let n;ke(e),ke(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Ta(e,t,r):t.unlinkSync(e)}function Pa(e,t,r,n){ke(e),ke(t),ke(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?lD(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function lD(e,t,r){ke(e),ke(t),ke(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return t.rmdir(e,r);i.forEach(a=>{fd(r0.join(e,a),t,l=>{if(!o){if(l)return r(o=l);--s===0&&t.rmdir(e,r)}})})})}function i0(e,t){let r;t=t||{},n0(t),ke(e,"rimraf: missing path"),ke.strictEqual(typeof e,"string","rimraf: path should be a string"),ke(t,"rimraf: missing options"),ke.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&ao&&_p(e,t,n)}try{r&&r.isDirectory()?Ta(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return ao?_p(e,t,n):Ta(e,t,n);if(n.code!=="EISDIR")throw n;Ta(e,t,n)}}function Ta(e,t,r){ke(e),ke(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")cD(e,t);else if(n.code!=="ENOENT")throw n}}function cD(e,t){if(ke(e),ke(t),t.readdirSync(e).forEach(r=>i0(r0.join(e,r),t)),ao){const r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}var uD=fd;fd.sync=i0;const Va=qt,fD=xt.fromCallback,s0=uD;function dD(e,t){if(Va.rm)return Va.rm(e,{recursive:!0,force:!0},t);s0(e,t)}function hD(e){if(Va.rmSync)return Va.rmSync(e,{recursive:!0,force:!0});s0.sync(e)}var vl={remove:fD(dD),removeSync:hD};const pD=xt.fromPromise,o0=ui,a0=Se,l0=xr,c0=vl,$p=pD(async function(t){let r;try{r=await o0.readdir(t)}catch{return l0.mkdirs(t)}return Promise.all(r.map(n=>c0.remove(a0.join(t,n))))});function Ep(e){let t;try{t=o0.readdirSync(e)}catch{return l0.mkdirsSync(e)}t.forEach(r=>{r=a0.join(e,r),c0.removeSync(r)})}var mD={emptyDirSync:Ep,emptydirSync:Ep,emptyDir:$p,emptydir:$p};const gD=xt.fromCallback,u0=Se,$n=qt,f0=xr;function yD(e,t){function r(){$n.writeFile(e,"",n=>{if(n)return t(n);t()})}$n.stat(e,(n,i)=>{if(!n&&i.isFile())return t();const s=u0.dirname(e);$n.stat(s,(o,a)=>{if(o)return o.code==="ENOENT"?f0.mkdirs(s,l=>{if(l)return t(l);r()}):t(o);a.isDirectory()?r():$n.readdir(s,l=>{if(l)return t(l)})})})}function vD(e){let t;try{t=$n.statSync(e)}catch{}if(t&&t.isFile())return;const r=u0.dirname(e);try{$n.statSync(r).isDirectory()||$n.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")f0.mkdirsSync(r);else throw n}$n.writeFileSync(e,"")}var _D={createFile:gD(yD),createFileSync:vD};const $D=xt.fromCallback,d0=Se,pn=qt,h0=xr,ED=fi.pathExists,{areIdentical:p0}=cs;function wD(e,t,r){function n(i,s){pn.link(i,s,o=>{if(o)return r(o);r(null)})}pn.lstat(t,(i,s)=>{pn.lstat(e,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(s&&p0(a,s))return r(null);const l=d0.dirname(t);ED(l,(c,u)=>{if(c)return r(c);if(u)return n(e,t);h0.mkdirs(l,f=>{if(f)return r(f);n(e,t)})})})})}function SD(e,t){let r;try{r=pn.lstatSync(t)}catch{}try{const s=pn.lstatSync(e);if(r&&p0(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}const n=d0.dirname(t);return pn.existsSync(n)||h0.mkdirsSync(n),pn.linkSync(e,t)}var bD={createLink:$D(wD),createLinkSync:SD};const En=Se,Xs=qt,PD=fi.pathExists;function TD(e,t,r){if(En.isAbsolute(e))return Xs.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{const n=En.dirname(t),i=En.join(n,e);return PD(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:e}):Xs.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:e,toDst:En.relative(n,e)})))}}function OD(e,t){let r;if(En.isAbsolute(e)){if(r=Xs.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const n=En.dirname(t),i=En.join(n,e);if(r=Xs.existsSync(i),r)return{toCwd:i,toDst:e};if(r=Xs.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:En.relative(n,e)}}}var AD={symlinkPaths:TD,symlinkPathsSync:OD};const m0=qt;function CD(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);m0.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function ND(e,t){let r;if(t)return t;try{r=m0.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var RD={symlinkType:CD,symlinkTypeSync:ND};const ID=xt.fromCallback,g0=Se,Er=ui,y0=xr,DD=y0.mkdirs,FD=y0.mkdirsSync,v0=AD,kD=v0.symlinkPaths,LD=v0.symlinkPathsSync,_0=RD,jD=_0.symlinkType,MD=_0.symlinkTypeSync,UD=fi.pathExists,{areIdentical:$0}=cs;function xD(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,Er.lstat(t,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([Er.stat(e),Er.stat(t)]).then(([o,a])=>{if($0(o,a))return n(null);wp(e,t,r,n)}):wp(e,t,r,n)})}function wp(e,t,r,n){kD(e,t,(i,s)=>{if(i)return n(i);e=s.toDst,jD(s.toCwd,r,(o,a)=>{if(o)return n(o);const l=g0.dirname(t);UD(l,(c,u)=>{if(c)return n(c);if(u)return Er.symlink(e,t,a,n);DD(l,f=>{if(f)return n(f);Er.symlink(e,t,a,n)})})})})}function qD(e,t,r){let n;try{n=Er.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const a=Er.statSync(e),l=Er.statSync(t);if($0(a,l))return}const i=LD(e,t);e=i.toDst,r=MD(i.toCwd,r);const s=g0.dirname(t);return Er.existsSync(s)||FD(s),Er.symlinkSync(e,t,r)}var VD={createSymlink:ID(xD),createSymlinkSync:qD};const{createFile:Sp,createFileSync:bp}=_D,{createLink:Pp,createLinkSync:Tp}=bD,{createSymlink:Op,createSymlinkSync:Ap}=VD;var BD={createFile:Sp,createFileSync:bp,ensureFile:Sp,ensureFileSync:bp,createLink:Pp,createLinkSync:Tp,ensureLink:Pp,ensureLinkSync:Tp,createSymlink:Op,createSymlinkSync:Ap,ensureSymlink:Op,ensureSymlinkSync:Ap};function zD(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){const s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function HD(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var dd={stringify:zD,stripBom:HD};let Yi;try{Yi=qt}catch{Yi=Je}const _l=xt,{stringify:E0,stripBom:w0}=dd;async function GD(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Yi,n="throws"in t?t.throws:!0;let i=await _l.fromCallback(r.readFile)(e,t);i=w0(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return s}const WD=_l.fromPromise(GD);function KD(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Yi,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=w0(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function YD(e,t,r={}){const n=r.fs||Yi,i=E0(t,r);await _l.fromCallback(n.writeFile)(e,i,r)}const JD=_l.fromPromise(YD);function XD(e,t,r={}){const n=r.fs||Yi,i=E0(t,r);return n.writeFileSync(e,i,r)}const QD={readFile:WD,readFileSync:KD,writeFile:JD,writeFileSync:XD};var ZD=QD;const fa=ZD;var eF={readJson:fa.readFile,readJsonSync:fa.readFileSync,writeJson:fa.writeFile,writeJsonSync:fa.writeFileSync};const tF=xt.fromCallback,Qs=qt,S0=Se,b0=xr,rF=fi.pathExists;function nF(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");const i=S0.dirname(e);rF(i,(s,o)=>{if(s)return n(s);if(o)return Qs.writeFile(e,t,r,n);b0.mkdirs(i,a=>{if(a)return n(a);Qs.writeFile(e,t,r,n)})})}function iF(e,...t){const r=S0.dirname(e);if(Qs.existsSync(r))return Qs.writeFileSync(e,...t);b0.mkdirsSync(r),Qs.writeFileSync(e,...t)}var hd={outputFile:tF(nF),outputFileSync:iF};const{stringify:sF}=dd,{outputFile:oF}=hd;async function aF(e,t,r={}){const n=sF(t,r);await oF(e,n,r)}var lF=aF;const{stringify:cF}=dd,{outputFileSync:uF}=hd;function fF(e,t,r){const n=cF(t,r);uF(e,n,r)}var dF=fF;const hF=xt.fromPromise,Mt=eF;Mt.outputJson=hF(lF);Mt.outputJsonSync=dF;Mt.outputJSON=Mt.outputJson;Mt.outputJSONSync=Mt.outputJsonSync;Mt.writeJSON=Mt.writeJson;Mt.writeJSONSync=Mt.writeJsonSync;Mt.readJSON=Mt.readJson;Mt.readJSONSync=Mt.readJsonSync;var pF=Mt;const mF=qt,Jc=Se,gF=ud.copy,P0=vl.remove,yF=xr.mkdirp,vF=fi.pathExists,Cp=cs;function _F(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};const i=r.overwrite||r.clobber||!1;Cp.checkPaths(e,t,"move",r,(s,o)=>{if(s)return n(s);const{srcStat:a,isChangingCase:l=!1}=o;Cp.checkParentPaths(e,a,t,"move",c=>{if(c)return n(c);if($F(t))return Np(e,t,i,l,n);yF(Jc.dirname(t),u=>u?n(u):Np(e,t,i,l,n))})})}function $F(e){const t=Jc.dirname(e);return Jc.parse(t).root===t}function Np(e,t,r,n,i){if(n)return hc(e,t,r,i);if(r)return P0(t,s=>s?i(s):hc(e,t,r,i));vF(t,(s,o)=>s?i(s):o?i(new Error("dest already exists.")):hc(e,t,r,i))}function hc(e,t,r,n){mF.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):EF(e,t,r,n):n())}function EF(e,t,r,n){gF(e,t,{overwrite:r,errorOnExist:!0},s=>s?n(s):P0(e,n))}var wF=_F;const T0=qt,Xc=Se,SF=ud.copySync,O0=vl.removeSync,bF=xr.mkdirpSync,Rp=cs;function PF(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=Rp.checkPathsSync(e,t,"move",r);return Rp.checkParentPathsSync(e,i,t,"move"),TF(t)||bF(Xc.dirname(t)),OF(e,t,n,s)}function TF(e){const t=Xc.dirname(e);return Xc.parse(t).root===t}function OF(e,t,r,n){if(n)return pc(e,t,r);if(r)return O0(t),pc(e,t,r);if(T0.existsSync(t))throw new Error("dest already exists.");return pc(e,t,r)}function pc(e,t,r){try{T0.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return AF(e,t,r)}}function AF(e,t,r){return SF(e,t,{overwrite:r,errorOnExist:!0}),O0(e)}var CF=PF;const NF=xt.fromCallback;var RF={move:NF(wF),moveSync:CF},Cn={...ui,...ud,...mD,...BD,...pF,...xr,...RF,...hd,...fi,...vl},qn={},St={},pd={},Ar={};function A0(e){return typeof e>"u"||e===null}function IF(e){return typeof e=="object"&&e!==null}function DF(e){return Array.isArray(e)?e:A0(e)?[]:[e]}function FF(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function kF(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function LF(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Ar.isNothing=A0;Ar.isObject=IF;Ar.toArray=DF;Ar.repeat=kF;Ar.isNegativeZero=LF;Ar.extend=FF;function C0(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function lo(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=C0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}lo.prototype=Object.create(Error.prototype);lo.prototype.constructor=lo;lo.prototype.toString=function(t){return this.name+": "+C0(this,t)};var Co=lo,Ms=Ar;function mc(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"→")+o,pos:n-t+s.length}}function gc(e,t){return Ms.repeat(" ",t-e.length)+e}function jF(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,c,u=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+u+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=mc(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),f),a=Ms.repeat(" ",t.indent)+gc((e.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=mc(e.buffer,n[o],i[o],e.position,f),a+=Ms.repeat(" ",t.indent)+gc((e.line+1).toString(),u)+" | "+c.str+`
`,a+=Ms.repeat("-",t.indent+u+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)c=mc(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),f),a+=Ms.repeat(" ",t.indent)+gc((e.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var MF=jF,Ip=Co,UF=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],xF=["scalar","sequence","mapping"];function qF(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function VF(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(UF.indexOf(r)===-1)throw new Ip('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=qF(t.styleAliases||null),xF.indexOf(this.kind)===-1)throw new Ip('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Vt=VF,Os=Co,yc=Vt;function Dp(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function BF(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Qc(e){return this.extend(e)}Qc.prototype.extend=function(t){var r=[],n=[];if(t instanceof yc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Os("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof yc))throw new Os("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Os("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Os("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof yc))throw new Os("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Qc.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Dp(i,"implicit"),i.compiledExplicit=Dp(i,"explicit"),i.compiledTypeMap=BF(i.compiledImplicit,i.compiledExplicit),i};var N0=Qc,zF=Vt,R0=new zF("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),HF=Vt,I0=new HF("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),GF=Vt,D0=new GF("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),WF=N0,F0=new WF({explicit:[R0,I0,D0]}),KF=Vt;function YF(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function JF(){return null}function XF(e){return e===null}var k0=new KF("tag:yaml.org,2002:null",{kind:"scalar",resolve:YF,construct:JF,predicate:XF,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),QF=Vt;function ZF(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function ek(e){return e==="true"||e==="True"||e==="TRUE"}function tk(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var L0=new QF("tag:yaml.org,2002:bool",{kind:"scalar",resolve:ZF,construct:ek,predicate:tk,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),rk=Ar,nk=Vt;function ik(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function sk(e){return 48<=e&&e<=55}function ok(e){return 48<=e&&e<=57}function ak(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!ik(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!sk(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!ok(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function lk(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function ck(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!rk.isNegativeZero(e)}var j0=new nk("tag:yaml.org,2002:int",{kind:"scalar",resolve:ak,construct:lk,predicate:ck,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),M0=Ar,uk=Vt,fk=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function dk(e){return!(e===null||!fk.test(e)||e[e.length-1]==="_")}function hk(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var pk=/^[-+]?[0-9]+e/;function mk(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(M0.isNegativeZero(e))return"-0.0";return r=e.toString(10),pk.test(r)?r.replace("e",".e"):r}function gk(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||M0.isNegativeZero(e))}var U0=new uk("tag:yaml.org,2002:float",{kind:"scalar",resolve:dk,construct:hk,predicate:gk,represent:mk,defaultStyle:"lowercase"}),x0=F0.extend({implicit:[k0,L0,j0,U0]}),q0=x0,yk=Vt,V0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),B0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function vk(e){return e===null?!1:V0.exec(e)!==null||B0.exec(e)!==null}function _k(e){var t,r,n,i,s,o,a,l=0,c=null,u,f,h;if(t=V0.exec(e),t===null&&(t=B0.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=+t[10],f=+(t[11]||0),c=(u*60+f)*6e4,t[9]==="-"&&(c=-c)),h=new Date(Date.UTC(r,n,i,s,o,a,l)),c&&h.setTime(h.getTime()-c),h}function $k(e){return e.toISOString()}var z0=new yk("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:vk,construct:_k,instanceOf:Date,represent:$k}),Ek=Vt;function wk(e){return e==="<<"||e===null}var H0=new Ek("tag:yaml.org,2002:merge",{kind:"scalar",resolve:wk}),Sk=Vt,md=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function bk(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=md;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Pk(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=md,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function Tk(e){var t="",r=0,n,i,s=e.length,o=md;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function Ok(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var G0=new Sk("tag:yaml.org,2002:binary",{kind:"scalar",resolve:bk,construct:Pk,predicate:Ok,represent:Tk}),Ak=Vt,Ck=Object.prototype.hasOwnProperty,Nk=Object.prototype.toString;function Rk(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,Nk.call(i)!=="[object Object]")return!1;for(s in i)if(Ck.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function Ik(e){return e!==null?e:[]}var W0=new Ak("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Rk,construct:Ik}),Dk=Vt,Fk=Object.prototype.toString;function kk(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],Fk.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function Lk(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var K0=new Dk("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:kk,construct:Lk}),jk=Vt,Mk=Object.prototype.hasOwnProperty;function Uk(e){if(e===null)return!0;var t,r=e;for(t in r)if(Mk.call(r,t)&&r[t]!==null)return!1;return!0}function xk(e){return e!==null?e:{}}var Y0=new jk("tag:yaml.org,2002:set",{kind:"mapping",resolve:Uk,construct:xk}),gd=q0.extend({implicit:[z0,H0],explicit:[G0,W0,K0,Y0]}),Jn=Ar,J0=Co,qk=MF,Vk=gd,Pn=Object.prototype.hasOwnProperty,Ba=1,X0=2,Q0=3,za=4,vc=1,Bk=2,Fp=3,zk=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Hk=/[\x85\u2028\u2029]/,Gk=/[,\[\]\{\}]/,Z0=/^(?:!|!!|![a-z\-]+!)$/i,ev=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function kp(e){return Object.prototype.toString.call(e)}function jr(e){return e===10||e===13}function ti(e){return e===9||e===32}function Qt(e){return e===9||e===32||e===10||e===13}function Di(e){return e===44||e===91||e===93||e===123||e===125}function Wk(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Kk(e){return e===120?2:e===117?4:e===85?8:0}function Yk(e){return 48<=e&&e<=57?e-48:-1}function Lp(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function Jk(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var tv=new Array(256),rv=new Array(256);for(var Pi=0;Pi<256;Pi++)tv[Pi]=Lp(Pi)?1:0,rv[Pi]=Lp(Pi);function Xk(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Vk,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function nv(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=qk(r),new J0(t,r)}function le(e,t){throw nv(e,t)}function Ha(e,t){e.onWarning&&e.onWarning.call(null,nv(e,t))}var jp={YAML:function(t,r,n){var i,s,o;t.version!==null&&le(t,"duplication of %YAML directive"),n.length!==1&&le(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&le(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&le(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Ha(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&le(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],Z0.test(i)||le(t,"ill-formed tag handle (first argument) of the TAG directive"),Pn.call(t.tagMap,i)&&le(t,'there is a previously declared suffix for "'+i+'" tag handle'),ev.test(s)||le(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{le(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function bn(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||le(e,"expected valid JSON character");else zk.test(a)&&le(e,"the stream contains non-printable characters");e.result+=a}}function Mp(e,t,r,n){var i,s,o,a;for(Jn.isObject(r)||le(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],Pn.call(t,s)||(t[s]=r[s],n[s]=!0)}function Fi(e,t,r,n,i,s,o,a,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&le(e,"nested arrays are not supported inside keys"),typeof i=="object"&&kp(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&kp(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)Mp(e,t,s[c],r);else Mp(e,t,s,r);else!e.json&&!Pn.call(r,i)&&Pn.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,le(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function yd(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):le(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function st(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;ti(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(jr(i))for(yd(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Ha(e,"deficient indentation"),n}function $l(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Qt(r)))}function vd(e,t){t===1?e.result+=" ":t>1&&(e.result+=Jn.repeat(`
`,t-1))}function Qk(e,t,r){var n,i,s,o,a,l,c,u,f=e.kind,h=e.result,m;if(m=e.input.charCodeAt(e.position),Qt(m)||Di(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=e.input.charCodeAt(e.position+1),Qt(i)||r&&Di(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;m!==0;){if(m===58){if(i=e.input.charCodeAt(e.position+1),Qt(i)||r&&Di(i))break}else if(m===35){if(n=e.input.charCodeAt(e.position-1),Qt(n))break}else{if(e.position===e.lineStart&&$l(e)||r&&Di(m))break;if(jr(m))if(l=e.line,c=e.lineStart,u=e.lineIndent,st(e,!1,-1),e.lineIndent>=t){a=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=u;break}}a&&(bn(e,s,o,!1),vd(e,e.line-l),s=o=e.position,a=!1),ti(m)||(o=e.position+1),m=e.input.charCodeAt(++e.position)}return bn(e,s,o,!1),e.result?!0:(e.kind=f,e.result=h,!1)}function Zk(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(bn(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else jr(r)?(bn(e,n,i,!0),vd(e,st(e,!1,t)),n=i=e.position):e.position===e.lineStart&&$l(e)?le(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);le(e,"unexpected end of the stream within a single quoted scalar")}function eL(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return bn(e,r,e.position,!0),e.position++,!0;if(a===92){if(bn(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),jr(a))st(e,!1,t);else if(a<256&&tv[a])e.result+=rv[a],e.position++;else if((o=Kk(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=Wk(a))>=0?s=(s<<4)+o:le(e,"expected hexadecimal character");e.result+=Jk(s),e.position++}else le(e,"unknown escape sequence");r=n=e.position}else jr(a)?(bn(e,r,n,!0),vd(e,st(e,!1,t)),r=n=e.position):e.position===e.lineStart&&$l(e)?le(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}le(e,"unexpected end of the stream within a double quoted scalar")}function tL(e,t){var r=!0,n,i,s,o=e.tag,a,l=e.anchor,c,u,f,h,m,y=Object.create(null),E,v,g,p;if(p=e.input.charCodeAt(e.position),p===91)u=93,m=!1,a=[];else if(p===123)u=125,m=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),p=e.input.charCodeAt(++e.position);p!==0;){if(st(e,!0,t),p=e.input.charCodeAt(e.position),p===u)return e.position++,e.tag=o,e.anchor=l,e.kind=m?"mapping":"sequence",e.result=a,!0;r?p===44&&le(e,"expected the node content, but found ','"):le(e,"missed comma between flow collection entries"),v=E=g=null,f=h=!1,p===63&&(c=e.input.charCodeAt(e.position+1),Qt(c)&&(f=h=!0,e.position++,st(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Ji(e,t,Ba,!1,!0),v=e.tag,E=e.result,st(e,!0,t),p=e.input.charCodeAt(e.position),(h||e.line===n)&&p===58&&(f=!0,p=e.input.charCodeAt(++e.position),st(e,!0,t),Ji(e,t,Ba,!1,!0),g=e.result),m?Fi(e,a,y,v,E,g,n,i,s):f?a.push(Fi(e,null,y,v,E,g,n,i,s)):a.push(E),st(e,!0,t),p=e.input.charCodeAt(e.position),p===44?(r=!0,p=e.input.charCodeAt(++e.position)):r=!1}le(e,"unexpected end of the stream within a flow collection")}function rL(e,t){var r,n,i=vc,s=!1,o=!1,a=t,l=0,c=!1,u,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)vc===i?i=f===43?Fp:Bk:le(e,"repeat of a chomping mode identifier");else if((u=Yk(f))>=0)u===0?le(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?le(e,"repeat of an indentation width identifier"):(a=t+u-1,o=!0);else break;if(ti(f)){do f=e.input.charCodeAt(++e.position);while(ti(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!jr(f)&&f!==0)}for(;f!==0;){for(yd(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),jr(f)){l++;continue}if(e.lineIndent<a){i===Fp?e.result+=Jn.repeat(`
`,s?1+l:l):i===vc&&s&&(e.result+=`
`);break}for(n?ti(f)?(c=!0,e.result+=Jn.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=Jn.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=Jn.repeat(`
`,l):e.result+=Jn.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!jr(f)&&f!==0;)f=e.input.charCodeAt(++e.position);bn(e,r,e.position,!1)}return!0}function Up(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,le(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Qt(o))));){if(a=!0,e.position++,st(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Ji(e,t,Q0,!1,!0),s.push(e.result),st(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)le(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function nL(e,t,r){var n,i,s,o,a,l,c=e.tag,u=e.anchor,f={},h=Object.create(null),m=null,y=null,E=null,v=!1,g=!1,p;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),p=e.input.charCodeAt(e.position);p!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,le(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(p===63||p===58)&&Qt(n))p===63?(v&&(Fi(e,f,h,m,y,null,o,a,l),m=y=E=null),g=!0,v=!0,i=!0):v?(v=!1,i=!0):le(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=n;else{if(o=e.line,a=e.lineStart,l=e.position,!Ji(e,r,X0,!1,!0))break;if(e.line===s){for(p=e.input.charCodeAt(e.position);ti(p);)p=e.input.charCodeAt(++e.position);if(p===58)p=e.input.charCodeAt(++e.position),Qt(p)||le(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Fi(e,f,h,m,y,null,o,a,l),m=y=E=null),g=!0,v=!1,i=!1,m=e.tag,y=e.result;else if(g)le(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=u,!0}else if(g)le(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=u,!0}if((e.line===s||e.lineIndent>t)&&(v&&(o=e.line,a=e.lineStart,l=e.position),Ji(e,t,za,!0,i)&&(v?y=e.result:E=e.result),v||(Fi(e,f,h,m,y,E,o,a,l),m=y=E=null),st(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&p!==0)le(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&Fi(e,f,h,m,y,null,o,a,l),g&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=f),g}function iL(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&le(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):le(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Qt(o);)o===33&&(n?le(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Z0.test(i)||le(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),Gk.test(s)&&le(e,"tag suffix cannot contain flow indicator characters")}s&&!ev.test(s)&&le(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{le(e,"tag name is malformed: "+s)}return r?e.tag=s:Pn.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:le(e,'undeclared tag handle "'+i+'"'),!0}function sL(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&le(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Qt(r)&&!Di(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&le(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function oL(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Qt(n)&&!Di(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&le(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Pn.call(e.anchorMap,r)||le(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],st(e,!0,-1),!0}function Ji(e,t,r,n,i){var s,o,a,l=1,c=!1,u=!1,f,h,m,y,E,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=za===r||Q0===r,n&&st(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;iL(e)||sL(e);)st(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||za===r)&&(Ba===r||X0===r?E=t:E=t+1,v=e.position-e.lineStart,l===1?a&&(Up(e,v)||nL(e,v,E))||tL(e,E)?u=!0:(o&&rL(e,E)||Zk(e,E)||eL(e,E)?u=!0:oL(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&le(e,"alias node should not have any properties")):Qk(e,E,Ba===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(u=a&&Up(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&le(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,h=e.implicitTypes.length;f<h;f+=1)if(y=e.implicitTypes[f],y.resolve(e.result)){e.result=y.construct(e.result),e.tag=y.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Pn.call(e.typeMap[e.kind||"fallback"],e.tag))y=e.typeMap[e.kind||"fallback"][e.tag];else for(y=null,m=e.typeMap.multi[e.kind||"fallback"],f=0,h=m.length;f<h;f+=1)if(e.tag.slice(0,m[f].tag.length)===m[f].tag){y=m[f];break}y||le(e,"unknown tag !<"+e.tag+">"),e.result!==null&&y.kind!==e.kind&&le(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+y.kind+'", not "'+e.kind+'"'),y.resolve(e.result,e.tag)?(e.result=y.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):le(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function aL(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(st(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Qt(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&le(e,"directive name must not be less than one character in length");o!==0;){for(;ti(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!jr(o));break}if(jr(o))break;for(r=e.position;o!==0&&!Qt(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&yd(e),Pn.call(jp,n)?jp[n](e,n,i):Ha(e,'unknown document directive "'+n+'"')}if(st(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,st(e,!0,-1)):s&&le(e,"directives end mark is expected"),Ji(e,e.lineIndent-1,za,!1,!0),st(e,!0,-1),e.checkLineBreaks&&Hk.test(e.input.slice(t,e.position))&&Ha(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&$l(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,st(e,!0,-1));return}if(e.position<e.length-1)le(e,"end of the stream or a document separator is expected");else return}function iv(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Xk(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,le(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)aL(r);return r.documents}function lL(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=iv(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function cL(e,t){var r=iv(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new J0("expected a single document in the stream, but found more")}}pd.loadAll=lL;pd.load=cL;var sv={},El=Ar,No=Co,uL=gd,ov=Object.prototype.toString,av=Object.prototype.hasOwnProperty,_d=65279,fL=9,co=10,dL=13,hL=32,pL=33,mL=34,Zc=35,gL=37,yL=38,vL=39,_L=42,lv=44,$L=45,Ga=58,EL=61,wL=62,SL=63,bL=64,cv=91,uv=93,PL=96,fv=123,TL=124,dv=125,Nt={};Nt[0]="\\0";Nt[7]="\\a";Nt[8]="\\b";Nt[9]="\\t";Nt[10]="\\n";Nt[11]="\\v";Nt[12]="\\f";Nt[13]="\\r";Nt[27]="\\e";Nt[34]='\\"';Nt[92]="\\\\";Nt[133]="\\N";Nt[160]="\\_";Nt[8232]="\\L";Nt[8233]="\\P";var OL=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],AL=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function CL(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&av.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function NL(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new No("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+El.repeat("0",n-t.length)+t}var RL=1,uo=2;function IL(e){this.schema=e.schema||uL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=El.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=CL(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?uo:RL,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function xp(e,t){for(var r=El.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function eu(e,t){return`
`+El.repeat(" ",e.indent*t)}function DL(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Wa(e){return e===hL||e===fL}function fo(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==_d||65536<=e&&e<=1114111}function qp(e){return fo(e)&&e!==_d&&e!==dL&&e!==co}function Vp(e,t,r){var n=qp(e),i=n&&!Wa(e);return(r?n:n&&e!==lv&&e!==cv&&e!==uv&&e!==fv&&e!==dv)&&e!==Zc&&!(t===Ga&&!i)||qp(t)&&!Wa(t)&&e===Zc||t===Ga&&i}function FL(e){return fo(e)&&e!==_d&&!Wa(e)&&e!==$L&&e!==SL&&e!==Ga&&e!==lv&&e!==cv&&e!==uv&&e!==fv&&e!==dv&&e!==Zc&&e!==yL&&e!==_L&&e!==pL&&e!==TL&&e!==EL&&e!==wL&&e!==vL&&e!==mL&&e!==gL&&e!==bL&&e!==PL}function kL(e){return!Wa(e)&&e!==Ga}function Us(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function hv(e){var t=/^\n* /;return t.test(e)}var pv=1,tu=2,mv=3,gv=4,Ri=5;function LL(e,t,r,n,i,s,o,a){var l,c=0,u=null,f=!1,h=!1,m=n!==-1,y=-1,E=FL(Us(e,0))&&kL(Us(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Us(e,l),!fo(c))return Ri;E=E&&Vp(c,u,a),u=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Us(e,l),c===co)f=!0,m&&(h=h||l-y-1>n&&e[y+1]!==" ",y=l);else if(!fo(c))return Ri;E=E&&Vp(c,u,a),u=c}h=h||m&&l-y-1>n&&e[y+1]!==" "}return!f&&!h?E&&!o&&!i(e)?pv:s===uo?Ri:tu:r>9&&hv(e)?Ri:o?s===uo?Ri:tu:h?gv:mv}function jL(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===uo?'""':"''";if(!e.noCompatMode&&(OL.indexOf(t)!==-1||AL.test(t)))return e.quotingType===uo?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return DL(e,c)}switch(LL(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case pv:return t;case tu:return"'"+t.replace(/'/g,"''")+"'";case mv:return"|"+Bp(t,e.indent)+zp(xp(t,s));case gv:return">"+Bp(t,e.indent)+zp(xp(ML(t,o),s));case Ri:return'"'+UL(t)+'"';default:throw new No("impossible error: invalid scalar style")}}()}function Bp(e,t){var r=hv(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function zp(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function ML(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,Hp(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+Hp(l,t),i=s}return n}function Hp(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+=`
`+e.slice(i,s),i=s+1),o=a;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}function UL(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Us(e,i),n=Nt[r],!n&&fo(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||NL(r);return t}function xL(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(tn(e,t,a,!1,!1)||typeof a>"u"&&tn(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Gp(e,t,r,n){var i="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(tn(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&tn(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=eu(e,t)),e.dump&&co===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function qL(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),l=s[o],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),tn(e,t,l,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),tn(e,t,c,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}function VL(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,c,u,f,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new No("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)h="",(!n||i!=="")&&(h+=eu(e,t)),c=o[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),tn(e,t+1,c,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&co===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,f&&(h+=eu(e,t)),tn(e,t+1,u,!0,f)&&(e.dump&&co===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}function Wp(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,ov.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(av.call(a.represent,l))n=a.represent[l](t,l);else throw new No("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function tn(e,t,r,n,i,s,o){e.tag=null,e.dump=r,Wp(e,r,!1)||Wp(e,r,!0);var a=ov.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",f,h;if(u&&(f=e.duplicates.indexOf(r),h=f!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(u&&h&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(VL(e,t,e.dump,i),h&&(e.dump="&ref_"+f+e.dump)):(qL(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Gp(e,t-1,e.dump,i):Gp(e,t,e.dump,i),h&&(e.dump="&ref_"+f+e.dump)):(xL(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&jL(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new No("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function BL(e,t){var r=[],n=[],i,s;for(ru(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function ru(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)ru(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)ru(e[n[i]],t,r)}function zL(e,t){t=t||{};var r=new IL(t);r.noRefs||BL(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),tn(r,0,n,!0,!0)?r.dump+`
`:""}sv.dump=zL;var yv=pd,HL=sv;function $d(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}St.Type=Vt;St.Schema=N0;St.FAILSAFE_SCHEMA=F0;St.JSON_SCHEMA=x0;St.CORE_SCHEMA=q0;St.DEFAULT_SCHEMA=gd;St.load=yv.load;St.loadAll=yv.loadAll;St.dump=HL.dump;St.YAMLException=Co;St.types={binary:G0,float:U0,map:D0,null:k0,pairs:K0,set:Y0,timestamp:z0,bool:L0,int:j0,merge:H0,omap:W0,seq:I0,str:R0};St.safeLoad=$d("safeLoad","load");St.safeLoadAll=$d("safeLoadAll","loadAll");St.safeDump=$d("safeDump","dump");var wl={};Object.defineProperty(wl,"__esModule",{value:!0});wl.Lazy=void 0;class GL{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;const t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}}wl.Lazy=GL;var Xi={},Ka={exports:{}};Ka.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Function]",y="[object GeneratorFunction]",E="[object Map]",v="[object Number]",g="[object Null]",p="[object Object]",S="[object Promise]",N="[object Proxy]",M="[object RegExp]",O="[object Set]",b="[object String]",D="[object Symbol]",T="[object Undefined]",V="[object WeakMap]",Y="[object ArrayBuffer]",H="[object DataView]",W="[object Float32Array]",G="[object Float64Array]",Q="[object Int8Array]",Z="[object Int16Array]",K="[object Int32Array]",I="[object Uint8Array]",j="[object Uint8ClampedArray]",A="[object Uint16Array]",w="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,C=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,$={};$[W]=$[G]=$[Q]=$[Z]=$[K]=$[I]=$[j]=$[A]=$[w]=!0,$[a]=$[l]=$[Y]=$[u]=$[H]=$[f]=$[h]=$[m]=$[E]=$[v]=$[p]=$[M]=$[O]=$[b]=$[V]=!1;var L=typeof ot=="object"&&ot&&ot.Object===Object&&ot,P=typeof self=="object"&&self&&self.Object===Object&&self,_=L||P||Function("return this")(),z=t&&!t.nodeType&&t,U=z&&!0&&e&&!e.nodeType&&e,te=U&&U.exports===z,de=te&&L.process,be=function(){try{return de&&de.binding&&de.binding("util")}catch{}}(),Fe=be&&be.isTypedArray;function Ve(k,B){for(var ee=-1,ne=k==null?0:k.length,Ue=0,he=[];++ee<ne;){var Ze=k[ee];B(Ze,ee,k)&&(he[Ue++]=Ze)}return he}function Le(k,B){for(var ee=-1,ne=B.length,Ue=k.length;++ee<ne;)k[Ue+ee]=B[ee];return k}function Re(k,B){for(var ee=-1,ne=k==null?0:k.length;++ee<ne;)if(B(k[ee],ee,k))return!0;return!1}function Xe(k,B){for(var ee=-1,ne=Array(k);++ee<k;)ne[ee]=B(ee);return ne}function Bt(k){return function(B){return k(B)}}function Rt(k,B){return k.has(B)}function It(k,B){return k==null?void 0:k[B]}function lt(k){var B=-1,ee=Array(k.size);return k.forEach(function(ne,Ue){ee[++B]=[Ue,ne]}),ee}function nt(k,B){return function(ee){return k(B(ee))}}function nr(k){var B=-1,ee=Array(k.size);return k.forEach(function(ne){ee[++B]=ne}),ee}var fr=Array.prototype,Dt=Function.prototype,zt=Object.prototype,dr=_["__core-js_shared__"],ft=Dt.toString,it=zt.hasOwnProperty,fs=function(){var k=/[^.]+$/.exec(dr&&dr.keys&&dr.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),ds=zt.toString,Nn=RegExp("^"+ft.call(it).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hs=te?_.Buffer:void 0,di=_.Symbol,ps=_.Uint8Array,Zt=zt.propertyIsEnumerable,Il=fr.splice,qr=di?di.toStringTag:void 0,Fo=Object.getOwnPropertySymbols,Dl=hs?hs.isBuffer:void 0,Fl=nt(Object.keys,Object),ms=gi(_,"DataView"),ir=gi(_,"Map"),gs=gi(_,"Promise"),hi=gi(_,"Set"),ys=gi(_,"WeakMap"),Vr=gi(Object,"create"),ko=In(ms),kl=In(ir),Lo=In(gs),Ll=In(hi),jo=In(ys),x=di?di.prototype:void 0,F=x?x.valueOf:void 0;function q(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var ne=k[B];this.set(ne[0],ne[1])}}function X(){this.__data__=Vr?Vr(null):{},this.size=0}function J(k){var B=this.has(k)&&delete this.__data__[k];return this.size-=B?1:0,B}function ie(k){var B=this.__data__;if(Vr){var ee=B[k];return ee===n?void 0:ee}return it.call(B,k)?B[k]:void 0}function ae(k){var B=this.__data__;return Vr?B[k]!==void 0:it.call(B,k)}function $e(k,B){var ee=this.__data__;return this.size+=this.has(k)?0:1,ee[k]=Vr&&B===void 0?n:B,this}q.prototype.clear=X,q.prototype.delete=J,q.prototype.get=ie,q.prototype.has=ae,q.prototype.set=$e;function we(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var ne=k[B];this.set(ne[0],ne[1])}}function Be(){this.__data__=[],this.size=0}function me(k){var B=this.__data__,ee=Hr(B,k);if(ee<0)return!1;var ne=B.length-1;return ee==ne?B.pop():Il.call(B,ee,1),--this.size,!0}function De(k){var B=this.__data__,ee=Hr(B,k);return ee<0?void 0:B[ee][1]}function ze(k){return Hr(this.__data__,k)>-1}function ce(k,B){var ee=this.__data__,ne=Hr(ee,k);return ne<0?(++this.size,ee.push([k,B])):ee[ne][1]=B,this}we.prototype.clear=Be,we.prototype.delete=me,we.prototype.get=De,we.prototype.has=ze,we.prototype.set=ce;function Oe(k){var B=-1,ee=k==null?0:k.length;for(this.clear();++B<ee;){var ne=k[B];this.set(ne[0],ne[1])}}function Qe(){this.size=0,this.__data__={hash:new q,map:new(ir||we),string:new q}}function je(k){var B=xo(this,k).delete(k);return this.size-=B?1:0,B}function Cr(k){return xo(this,k).get(k)}function sr(k){return xo(this,k).has(k)}function or(k,B){var ee=xo(this,k),ne=ee.size;return ee.set(k,B),this.size+=ee.size==ne?0:1,this}Oe.prototype.clear=Qe,Oe.prototype.delete=je,Oe.prototype.get=Cr,Oe.prototype.has=sr,Oe.prototype.set=or;function hr(k){var B=-1,ee=k==null?0:k.length;for(this.__data__=new Oe;++B<ee;)this.add(k[B])}function Br(k){return this.__data__.set(k,n),this}function Ht(k){return this.__data__.has(k)}hr.prototype.add=hr.prototype.push=Br,hr.prototype.has=Ht;function ct(k){var B=this.__data__=new we(k);this.size=B.size}function zr(){this.__data__=new we,this.size=0}function pr(k){var B=this.__data__,ee=B.delete(k);return this.size=B.size,ee}function Rn(k){return this.__data__.get(k)}function Mo(k){return this.__data__.has(k)}function Uo(k,B){var ee=this.__data__;if(ee instanceof we){var ne=ee.__data__;if(!ir||ne.length<r-1)return ne.push([k,B]),this.size=++ee.size,this;ee=this.__data__=new Oe(ne)}return ee.set(k,B),this.size=ee.size,this}ct.prototype.clear=zr,ct.prototype.delete=pr,ct.prototype.get=Rn,ct.prototype.has=Mo,ct.prototype.set=Uo;function pi(k,B){var ee=qo(k),ne=!ee&&Vv(k),Ue=!ee&&!ne&&jl(k),he=!ee&&!ne&&!Ue&&Ad(k),Ze=ee||ne||Ue||he,dt=Ze?Xe(k.length,String):[],gt=dt.length;for(var He in k)(B||it.call(k,He))&&!(Ze&&(He=="length"||Ue&&(He=="offset"||He=="parent")||he&&(He=="buffer"||He=="byteLength"||He=="byteOffset")||jv(He,gt)))&&dt.push(He);return dt}function Hr(k,B){for(var ee=k.length;ee--;)if(bd(k[ee][0],B))return ee;return-1}function mi(k,B,ee){var ne=B(k);return qo(k)?ne:Le(ne,ee(k))}function rn(k){return k==null?k===void 0?T:g:qr&&qr in Object(k)?kv(k):qv(k)}function vs(k){return _s(k)&&rn(k)==a}function nn(k,B,ee,ne,Ue){return k===B?!0:k==null||B==null||!_s(k)&&!_s(B)?k!==k&&B!==B:Cv(k,B,ee,ne,nn,Ue)}function Cv(k,B,ee,ne,Ue,he){var Ze=qo(k),dt=qo(B),gt=Ze?l:sn(k),He=dt?l:sn(B);gt=gt==a?p:gt,He=He==a?p:He;var er=gt==p,mr=He==p,bt=gt==He;if(bt&&jl(k)){if(!jl(B))return!1;Ze=!0,er=!1}if(bt&&!er)return he||(he=new ct),Ze||Ad(k)?wd(k,B,ee,ne,Ue,he):Dv(k,B,gt,ee,ne,Ue,he);if(!(ee&i)){var ar=er&&it.call(k,"__wrapped__"),lr=mr&&it.call(B,"__wrapped__");if(ar||lr){var on=ar?k.value():k,Gr=lr?B.value():B;return he||(he=new ct),Ue(on,Gr,ee,ne,he)}}return bt?(he||(he=new ct),Fv(k,B,ee,ne,Ue,he)):!1}function Nv(k){if(!Od(k)||Uv(k))return!1;var B=Pd(k)?Nn:C;return B.test(In(k))}function Rv(k){return _s(k)&&Td(k.length)&&!!$[rn(k)]}function Iv(k){if(!xv(k))return Fl(k);var B=[];for(var ee in Object(k))it.call(k,ee)&&ee!="constructor"&&B.push(ee);return B}function wd(k,B,ee,ne,Ue,he){var Ze=ee&i,dt=k.length,gt=B.length;if(dt!=gt&&!(Ze&&gt>dt))return!1;var He=he.get(k);if(He&&he.get(B))return He==B;var er=-1,mr=!0,bt=ee&s?new hr:void 0;for(he.set(k,B),he.set(B,k);++er<dt;){var ar=k[er],lr=B[er];if(ne)var on=Ze?ne(lr,ar,er,B,k,he):ne(ar,lr,er,k,B,he);if(on!==void 0){if(on)continue;mr=!1;break}if(bt){if(!Re(B,function(Gr,Dn){if(!Rt(bt,Dn)&&(ar===Gr||Ue(ar,Gr,ee,ne,he)))return bt.push(Dn)})){mr=!1;break}}else if(!(ar===lr||Ue(ar,lr,ee,ne,he))){mr=!1;break}}return he.delete(k),he.delete(B),mr}function Dv(k,B,ee,ne,Ue,he,Ze){switch(ee){case H:if(k.byteLength!=B.byteLength||k.byteOffset!=B.byteOffset)return!1;k=k.buffer,B=B.buffer;case Y:return!(k.byteLength!=B.byteLength||!he(new ps(k),new ps(B)));case u:case f:case v:return bd(+k,+B);case h:return k.name==B.name&&k.message==B.message;case M:case b:return k==B+"";case E:var dt=lt;case O:var gt=ne&i;if(dt||(dt=nr),k.size!=B.size&&!gt)return!1;var He=Ze.get(k);if(He)return He==B;ne|=s,Ze.set(k,B);var er=wd(dt(k),dt(B),ne,Ue,he,Ze);return Ze.delete(k),er;case D:if(F)return F.call(k)==F.call(B)}return!1}function Fv(k,B,ee,ne,Ue,he){var Ze=ee&i,dt=Sd(k),gt=dt.length,He=Sd(B),er=He.length;if(gt!=er&&!Ze)return!1;for(var mr=gt;mr--;){var bt=dt[mr];if(!(Ze?bt in B:it.call(B,bt)))return!1}var ar=he.get(k);if(ar&&he.get(B))return ar==B;var lr=!0;he.set(k,B),he.set(B,k);for(var on=Ze;++mr<gt;){bt=dt[mr];var Gr=k[bt],Dn=B[bt];if(ne)var Cd=Ze?ne(Dn,Gr,bt,B,k,he):ne(Gr,Dn,bt,k,B,he);if(!(Cd===void 0?Gr===Dn||Ue(Gr,Dn,ee,ne,he):Cd)){lr=!1;break}on||(on=bt=="constructor")}if(lr&&!on){var Vo=k.constructor,Bo=B.constructor;Vo!=Bo&&"constructor"in k&&"constructor"in B&&!(typeof Vo=="function"&&Vo instanceof Vo&&typeof Bo=="function"&&Bo instanceof Bo)&&(lr=!1)}return he.delete(k),he.delete(B),lr}function Sd(k){return mi(k,Hv,Lv)}function xo(k,B){var ee=k.__data__;return Mv(B)?ee[typeof B=="string"?"string":"hash"]:ee.map}function gi(k,B){var ee=It(k,B);return Nv(ee)?ee:void 0}function kv(k){var B=it.call(k,qr),ee=k[qr];try{k[qr]=void 0;var ne=!0}catch{}var Ue=ds.call(k);return ne&&(B?k[qr]=ee:delete k[qr]),Ue}var Lv=Fo?function(k){return k==null?[]:(k=Object(k),Ve(Fo(k),function(B){return Zt.call(k,B)}))}:Gv,sn=rn;(ms&&sn(new ms(new ArrayBuffer(1)))!=H||ir&&sn(new ir)!=E||gs&&sn(gs.resolve())!=S||hi&&sn(new hi)!=O||ys&&sn(new ys)!=V)&&(sn=function(k){var B=rn(k),ee=B==p?k.constructor:void 0,ne=ee?In(ee):"";if(ne)switch(ne){case ko:return H;case kl:return E;case Lo:return S;case Ll:return O;case jo:return V}return B});function jv(k,B){return B=B??o,!!B&&(typeof k=="number"||d.test(k))&&k>-1&&k%1==0&&k<B}function Mv(k){var B=typeof k;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?k!=="__proto__":k===null}function Uv(k){return!!fs&&fs in k}function xv(k){var B=k&&k.constructor,ee=typeof B=="function"&&B.prototype||zt;return k===ee}function qv(k){return ds.call(k)}function In(k){if(k!=null){try{return ft.call(k)}catch{}try{return k+""}catch{}}return""}function bd(k,B){return k===B||k!==k&&B!==B}var Vv=vs(function(){return arguments}())?vs:function(k){return _s(k)&&it.call(k,"callee")&&!Zt.call(k,"callee")},qo=Array.isArray;function Bv(k){return k!=null&&Td(k.length)&&!Pd(k)}var jl=Dl||Wv;function zv(k,B){return nn(k,B)}function Pd(k){if(!Od(k))return!1;var B=rn(k);return B==m||B==y||B==c||B==N}function Td(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=o}function Od(k){var B=typeof k;return k!=null&&(B=="object"||B=="function")}function _s(k){return k!=null&&typeof k=="object"}var Ad=Fe?Bt(Fe):Rv;function Hv(k){return Bv(k)?pi(k):Iv(k)}function Gv(){return[]}function Wv(){return!1}e.exports=zv})(Ka,Ka.exports);var WL=Ka.exports;Object.defineProperty(Xi,"__esModule",{value:!0});Xi.createTempUpdateFile=Xi.DownloadedUpdateHelper=void 0;const KL=rs,YL=Je,Kp=WL,Vn=Cn,Zs=Se;class JL{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return Zs.join(this.cacheDir,"pending")}async validateDownloadedPath(t,r,n,i){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return Kp(this.versionInfo,r)&&Kp(this.fileInfo.info,n.info)&&await(0,Vn.pathExists)(t)?t:null;const s=await this.getValidCachedUpdateFile(n,i);return s===null?null:(i.info(`Update has already been downloaded to ${t}).`),this._file=s,s)}async setDownloadedFile(t,r,n,i,s,o){this._file=t,this._packageFile=r,this.versionInfo=n,this.fileInfo=i,this._downloadedFileInfo={fileName:s,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},o&&await(0,Vn.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,Vn.emptyDir)(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,r){var n;const i=this.getUpdateInfoFile();if(!await(0,Vn.pathExists)(i))return null;let o;try{o=await(0,Vn.readJson)(i)}catch(u){let f="No cached update info available";return u.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),f+=` (error on read: ${u.message})`),r.info(f),null}if(!((n=(o==null?void 0:o.fileName)!==null)!==null&&n!==void 0?n:!1))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==o.sha512)return r.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${o.sha512}, expected: ${t.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const l=Zs.join(this.cacheDirForPendingUpdate,o.fileName);if(!await(0,Vn.pathExists)(l))return r.info("Cached update file doesn't exist"),null;const c=await XL(l);return t.info.sha512!==c?(r.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${c}, expected: ${t.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=o,l)}getUpdateInfoFile(){return Zs.join(this.cacheDirForPendingUpdate,"update-info.json")}}Xi.DownloadedUpdateHelper=JL;function XL(e,t="sha512",r="base64",n){return new Promise((i,s)=>{const o=(0,KL.createHash)(t);o.on("error",s).setEncoding(r),(0,YL.createReadStream)(e,{...n,highWaterMark:1024*1024}).on("error",s).on("end",()=>{o.end(),i(o.read())}).pipe(o,{end:!1})})}async function QL(e,t,r){let n=0,i=Zs.join(t,e);for(let s=0;s<3;s++)try{return await(0,Vn.unlink)(i),i}catch(o){if(o.code==="ENOENT")return i;r.warn(`Error on remove temp update file: ${o}`),i=Zs.join(t,`${n++}-${e}`)}return i}Xi.createTempUpdateFile=QL;var Sl={},bl={};Object.defineProperty(bl,"__esModule",{value:!0});bl.getAppCacheDir=void 0;const _c=Se,ZL=An;function ej(){const e=(0,ZL.homedir)();let t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||_c.join(e,"AppData","Local"):process.platform==="darwin"?t=_c.join(e,"Library","Caches"):t=process.env.XDG_CACHE_HOME||_c.join(e,".cache"),t}bl.getAppCacheDir=ej;Object.defineProperty(Sl,"__esModule",{value:!0});Sl.ElectronAppAdapter=void 0;const Yp=Se,tj=bl;class rj{constructor(t=re.app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?Yp.join(process.resourcesPath,"app-update.yml"):Yp.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,tj.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(t){this.app.once("quit",(r,n)=>t(n))}}Sl.ElectronAppAdapter=rj;var vv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronHttpExecutor=e.getNetSession=e.NET_SESSION_NAME=void 0;const t=at();e.NET_SESSION_NAME="electron-updater";function r(){return re.session.fromPartition(e.NET_SESSION_NAME,{cache:!1})}e.getNetSession=r;class n extends t.HttpExecutor{constructor(s){super(),this.proxyLoginCallback=s,this.cachedSession=null}async download(s,o,a){return await a.cancellationToken.createPromise((l,c,u)=>{const f={headers:a.headers||void 0,redirect:"manual"};(0,t.configureRequestUrl)(s,f),(0,t.configureRequestOptions)(f),this.doDownload(f,{destination:o,options:a,onCancel:u,callback:h=>{h==null?l(o):c(h)},responseHandler:null},0)})}createRequest(s,o){s.headers&&s.headers.Host&&(s.host=s.headers.Host,delete s.headers.Host),this.cachedSession==null&&(this.cachedSession=r());const a=re.net.request({...s,session:this.cachedSession});return a.on("response",o),this.proxyLoginCallback!=null&&a.on("login",this.proxyLoginCallback),a}addRedirectHandlers(s,o,a,l,c){s.on("redirect",(u,f,h)=>{s.abort(),l>this.maxRedirects?a(this.createMaxRedirectError()):c(t.HttpExecutor.prepareRedirectUrlOptions(h,o))})}}e.ElectronHttpExecutor=n})(vv);var Ro={},Ct={},nj=1/0,ij="[object Symbol]",_v=/[\\^$.*+?()[\]{}|]/g,sj=RegExp(_v.source),oj=typeof ot=="object"&&ot&&ot.Object===Object&&ot,aj=typeof self=="object"&&self&&self.Object===Object&&self,lj=oj||aj||Function("return this")(),cj=Object.prototype,uj=cj.toString,Jp=lj.Symbol,Xp=Jp?Jp.prototype:void 0,Qp=Xp?Xp.toString:void 0;function fj(e){if(typeof e=="string")return e;if(hj(e))return Qp?Qp.call(e):"";var t=e+"";return t=="0"&&1/e==-nj?"-0":t}function dj(e){return!!e&&typeof e=="object"}function hj(e){return typeof e=="symbol"||dj(e)&&uj.call(e)==ij}function pj(e){return e==null?"":fj(e)}function mj(e){return e=pj(e),e&&sj.test(e)?e.replace(_v,"\\$&"):e}var gj=mj;Object.defineProperty(Ct,"__esModule",{value:!0});Ct.blockmapFiles=Ct.getChannelFilename=Ct.newUrlFromBase=Ct.newBaseUrl=void 0;const $v=ns,yj=gj;function vj(e){const t=new $v.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}Ct.newBaseUrl=vj;function nu(e,t,r=!1){const n=new $v.URL(e,t),i=t.search;return i!=null&&i.length!==0?n.search=i:r&&(n.search=`noCache=${Date.now().toString(32)}`),n}Ct.newUrlFromBase=nu;function _j(e){return`${e}.yml`}Ct.getChannelFilename=_j;function $j(e,t,r){const n=nu(`${e.pathname}.blockmap`,e);return[nu(`${e.pathname.replace(new RegExp(yj(r),"g"),t)}.blockmap`,e),n]}Ct.blockmapFiles=$j;var et={};Object.defineProperty(et,"__esModule",{value:!0});et.resolveFiles=et.getFileList=et.parseUpdateInfo=et.findFile=et.Provider=void 0;const Tn=at(),Ej=St,Zp=Ct;class wj{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){const t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(t==="x64"?"":`-${t}`)}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return`${t}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,r,n){return this.executor.request(this.createRequestOptions(t,r),n)}createRequestOptions(t,r){const n={};return this.requestHeaders==null?r!=null&&(n.headers=r):n.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},(0,Tn.configureRequestUrl)(t,n),n}}et.Provider=wj;function Sj(e,t,r){if(e.length===0)throw(0,Tn.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const n=e.find(i=>i.url.pathname.toLowerCase().endsWith(`.${t}`));return n??(r==null?e[0]:e.find(i=>!r.some(s=>i.url.pathname.toLowerCase().endsWith(`.${s}`))))}et.findFile=Sj;function bj(e,t,r){if(e==null)throw(0,Tn.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let n;try{n=(0,Ej.load)(e)}catch(i){throw(0,Tn.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): ${i.stack||i.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return n}et.parseUpdateInfo=bj;function Ev(e){const t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw(0,Tn.newError)(`No files provided: ${(0,Tn.safeStringifyJson)(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}et.getFileList=Ev;function Pj(e,t,r=n=>n){const i=Ev(e).map(a=>{if(a.sha2==null&&a.sha512==null)throw(0,Tn.newError)(`Update info doesn't contain nor sha256 neither sha512 checksum: ${(0,Tn.safeStringifyJson)(a)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:(0,Zp.newUrlFromBase)(r(a.url),t),info:a}}),s=e.packages,o=s==null?null:s[process.arch]||s.ia32;return o!=null&&(i[0].packageInfo={...o,path:(0,Zp.newUrlFromBase)(r(o.path),t).href}),i}et.resolveFiles=Pj;Object.defineProperty(Ro,"__esModule",{value:!0});Ro.GenericProvider=void 0;const em=at(),$c=Ct,Ec=et;class Tj extends Ec.Provider{constructor(t,r,n){super(n),this.configuration=t,this.updater=r,this.baseUrl=(0,$c.newBaseUrl)(this.configuration.url)}get channel(){const t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){const t=(0,$c.getChannelFilename)(this.channel),r=(0,$c.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,Ec.parseUpdateInfo)(await this.httpRequest(r),t,r)}catch(i){if(i instanceof em.HttpError&&i.statusCode===404)throw(0,em.newError)(`Cannot find channel "${t}" update info: ${i.stack||i.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&n<3){await new Promise((s,o)=>{try{setTimeout(s,1e3*n)}catch(a){o(a)}});continue}throw i}}resolveFiles(t){return(0,Ec.resolveFiles)(t,this.baseUrl)}}Ro.GenericProvider=Tj;var Qi={},Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.BitbucketProvider=void 0;const tm=at(),wc=Ct,Sc=et;class Oj extends Sc.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r;const{owner:i,slug:s}=t;this.baseUrl=(0,wc.newBaseUrl)(`https://api.bitbucket.org/2.0/repositories/${i}/${s}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const t=new tm.CancellationToken,r=(0,wc.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,wc.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,void 0,t);return(0,Sc.parseUpdateInfo)(i,r,n)}catch(i){throw(0,tm.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,Sc.resolveFiles)(t,this.baseUrl)}toString(){const{owner:t,slug:r}=this.configuration;return`Bitbucket (owner: ${t}, slug: ${r}, channel: ${this.channel})`}}Pl.BitbucketProvider=Oj;var en={};Object.defineProperty(en,"__esModule",{value:!0});en.computeReleaseNotes=en.GitHubProvider=en.BaseGitHubProvider=void 0;const Kr=at(),eo=ed,Aj=ns,ki=Ct,iu=et,bc=/\/tag\/([^/]+)$/;class wv extends iu.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=(0,ki.newBaseUrl)((0,Kr.githubUrl)(t,r));const i=r==="github.com"?"api.github.com":r;this.baseApiUrl=(0,ki.newBaseUrl)((0,Kr.githubUrl)(t,i))}computeGithubBasePath(t){const r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?`/api/v3${t}`:t}}en.BaseGitHubProvider=wv;class Cj extends wv{constructor(t,r,n){super(t,"github.com",n),this.options=t,this.updater=r}async getLatestVersion(){var t,r,n,i;const s=new Kr.CancellationToken,o=await this.httpRequest((0,ki.newUrlFromBase)(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},s),a=(0,Kr.parseXml)(o);let l=a.element("entry",!1,"No published versions on GitHub"),c=null;try{if(this.updater.allowPrerelease){const E=((t=this.updater)===null||t===void 0?void 0:t.channel)||((r=eo.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if(E===null)c=bc.exec(l.element("link").attribute("href"))[1];else for(const v of a.getElements("entry")){const g=bc.exec(v.element("link").attribute("href"));if(g===null)continue;const p=g[1],S=((n=eo.prerelease(p))===null||n===void 0?void 0:n[0])||null,N=!E||["alpha","beta"].includes(E),M=S!==null&&!["alpha","beta"].includes(String(S));if(N&&!M&&!(E==="beta"&&S==="alpha")){c=p;break}if(S&&S===E){c=p;break}}}else{c=await this.getLatestTagName(s);for(const E of a.getElements("entry"))if(bc.exec(E.element("link").attribute("href"))[1]===c){l=E;break}}}catch(E){throw(0,Kr.newError)(`Cannot parse releases feed: ${E.stack||E.message},
XML:
${o}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(c==null)throw(0,Kr.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let u,f="",h="";const m=async E=>{f=(0,ki.getChannelFilename)(E),h=(0,ki.newUrlFromBase)(this.getBaseDownloadPath(String(c),f),this.baseUrl);const v=this.createRequestOptions(h);try{return await this.executor.request(v,s)}catch(g){throw g instanceof Kr.HttpError&&g.statusCode===404?(0,Kr.newError)(`Cannot find ${f} in the latest release artifacts (${h}): ${g.stack||g.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):g}};try{const E=this.updater.allowPrerelease?this.getCustomChannelName(String(((i=eo.prerelease(c))===null||i===void 0?void 0:i[0])||"latest")):this.getDefaultChannelName();u=await m(E)}catch(E){if(this.updater.allowPrerelease)u=await m(this.getDefaultChannelName());else throw E}const y=(0,iu.parseUpdateInfo)(u,f,h);return y.releaseName==null&&(y.releaseName=l.elementValueOrEmpty("title")),y.releaseNotes==null&&(y.releaseNotes=Sv(this.updater.currentVersion,this.updater.fullChangelog,a,l)),{tag:c,...y}}async getLatestTagName(t){const r=this.options,n=r.host==null||r.host==="github.com"?(0,ki.newUrlFromBase)(`${this.basePath}/latest`,this.baseUrl):new Aj.URL(`${this.computeGithubBasePath(`/repos/${r.owner}/${r.repo}/releases`)}/latest`,this.baseApiUrl);try{const i=await this.httpRequest(n,{Accept:"application/json"},t);return i==null?null:JSON.parse(i).tag_name}catch(i){throw(0,Kr.newError)(`Unable to find latest version on GitHub (${n}), please ensure a production release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(t){return(0,iu.resolveFiles)(t,this.baseUrl,r=>this.getBaseDownloadPath(t.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(t,r){return`${this.basePath}/download/${t}/${r}`}}en.GitHubProvider=Cj;function rm(e){const t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function Sv(e,t,r,n){if(!t)return rm(n);const i=[];for(const s of r.getElements("entry")){const o=/\/tag\/v?([^/]+)$/.exec(s.element("link").attribute("href"))[1];eo.lt(e,o)&&i.push({version:o,note:rm(s)})}return i.sort((s,o)=>eo.rcompare(s.version,o.version))}en.computeReleaseNotes=Sv;var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.KeygenProvider=void 0;const nm=at(),Pc=Ct,Tc=et;class Nj extends Tc.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r,this.baseUrl=(0,Pc.newBaseUrl)(`https://api.keygen.sh/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const t=new nm.CancellationToken,r=(0,Pc.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,Pc.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},t);return(0,Tc.parseUpdateInfo)(i,r,n)}catch(i){throw(0,nm.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,Tc.resolveFiles)(t,this.baseUrl)}toString(){const{account:t,product:r,platform:n}=this.configuration;return`Keygen (account: ${t}, product: ${r}, platform: ${n}, channel: ${this.channel})`}}Tl.KeygenProvider=Nj;var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.PrivateGitHubProvider=void 0;const Ti=at(),Rj=St,Ij=Se,im=ns,sm=Ct,Dj=en,Fj=et;class kj extends Dj.BaseGitHubProvider{constructor(t,r,n,i){super(t,"api.github.com",i),this.updater=r,this.token=n}createRequestOptions(t,r){const n=super.createRequestOptions(t,r);return n.redirect="manual",n}async getLatestVersion(){const t=new Ti.CancellationToken,r=(0,sm.getChannelFilename)(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(t),i=n.assets.find(a=>a.name===r);if(i==null)throw(0,Ti.newError)(`Cannot find ${r} in the release ${n.html_url||n.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const s=new im.URL(i.url);let o;try{o=(0,Rj.load)(await this.httpRequest(s,this.configureHeaders("application/octet-stream"),t))}catch(a){throw a instanceof Ti.HttpError&&a.statusCode===404?(0,Ti.newError)(`Cannot find ${r} in the latest release artifacts (${s}): ${a.stack||a.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):a}return o.assets=n.assets,o}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:`token ${this.token}`}}async getLatestVersionInfo(t){const r=this.updater.allowPrerelease;let n=this.basePath;r||(n=`${n}/latest`);const i=(0,sm.newUrlFromBase)(n,this.baseUrl);try{const s=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return r?s.find(o=>o.prerelease)||s[0]:s}catch(s){throw(0,Ti.newError)(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${s.stack||s.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(t){return(0,Fj.getFileList)(t).map(r=>{const n=Ij.posix.basename(r.url).replace(/ /g,"-"),i=t.assets.find(s=>s!=null&&s.name===n);if(i==null)throw(0,Ti.newError)(`Cannot find asset "${n}" in: ${JSON.stringify(t.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new im.URL(i.url),info:r}})}}Ol.PrivateGitHubProvider=kj;Object.defineProperty(Qi,"__esModule",{value:!0});Qi.createClient=Qi.isUrlProbablySupportMultiRangeRequests=void 0;const da=at(),Lj=Pl,om=Ro,jj=en,Mj=Tl,Uj=Ol;function bv(e){return!e.includes("s3.amazonaws.com")}Qi.isUrlProbablySupportMultiRangeRequests=bv;function xj(e,t,r){if(typeof e=="string")throw(0,da.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const n=e.provider;switch(n){case"github":{const i=e,s=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return s==null?new jj.GitHubProvider(i,t,r):new Uj.PrivateGitHubProvider(i,t,s,r)}case"bitbucket":return new Lj.BitbucketProvider(e,t,r);case"keygen":return new Mj.KeygenProvider(e,t,r);case"s3":case"spaces":return new om.GenericProvider({provider:"generic",url:(0,da.getS3LikeProviderBaseUrl)(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{const i=e;return new om.GenericProvider(i,t,{...r,isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&bv(i.url)})}case"custom":{const i=e,s=i.updateProvider;if(!s)throw(0,da.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new s(i,t,r)}default:throw(0,da.newError)(`Unsupported provider: ${n}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}Qi.createClient=xj;var am;function Ed(){if(am)return qn;am=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.NoOpLogger=qn.AppUpdater=void 0;const e=at(),t=rs,r=es,n=Cn,i=St,s=wl,o=Se,a=ed,l=Xi,c=Sl,u=vv,f=Ro,h=us(),m=Qi;let y=class Pv extends r.EventEmitter{get channel(){return this._channel}set channel(p){if(this._channel!=null){if(typeof p!="string")throw(0,e.newError)(`Channel must be a string, but got: ${p}`,"ERR_UPDATER_INVALID_CHANNEL");if(p.length===0)throw(0,e.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=p,this.allowDowngrade=!0}addAuthHeader(p){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:p})}get netSession(){return(0,u.getNetSession)()}get logger(){return this._logger}set logger(p){this._logger=p??new v}set updateConfigPath(p){this.clientPromise=null,this._appUpdateConfigPath=p,this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig())}constructor(p,S){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new h.UpdaterSignal(this),this._appUpdateConfigPath=null,this.clientPromise=null,this.stagingUserIdPromise=new s.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",O=>{this._logger.error(`Error: ${O.stack||O.message}`)}),S==null?(this.app=new c.ElectronAppAdapter,this.httpExecutor=new u.ElectronHttpExecutor((O,b)=>this.emit("login",O,b))):(this.app=S,this.httpExecutor=null);const N=this.app.version,M=(0,a.parse)(N);if(M==null)throw(0,e.newError)(`App version is not a valid semver version: "${N}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=M,this.allowPrerelease=E(M),p!=null&&(this.setFeedURL(p),typeof p!="string"&&p.requestHeaders&&(this.requestHeaders=p.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(p){const S=this.createProviderRuntimeOptions();let N;typeof p=="string"?N=new f.GenericProvider({provider:"generic",url:p},this,{...S,isUseMultipleRangeRequest:(0,m.isUrlProbablySupportMultiRangeRequests)(p)}):N=(0,m.createClient)(p,this,S),this.clientPromise=Promise.resolve(N)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let p=this.checkForUpdatesPromise;if(p!=null)return this._logger.info("Checking for update (already in progress)"),p;const S=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),p=this.doCheckForUpdates().then(N=>(S(),N)).catch(N=>{throw S(),this.emit("error",N,`Cannot check for updates: ${(N.stack||N).toString()}`),N}),this.checkForUpdatesPromise=p,p}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(p){return this.checkForUpdates().then(S=>S!=null&&S.downloadPromise?(S.downloadPromise.then(()=>{const N=Pv.formatDownloadNotification(S.updateInfo.version,this.app.name,p);new re.Notification(N).show()}),S):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),S))}static formatDownloadNotification(p,S,N){return N==null&&(N={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),N={title:N.title.replace("{appName}",S).replace("{version}",p),body:N.body.replace("{appName}",S).replace("{version}",p)},N}async isStagingMatch(p){const S=p.stagingPercentage;let N=S;if(N==null)return!0;if(N=parseInt(N,10),isNaN(N))return this._logger.warn(`Staging percentage is NaN: ${S}`),!0;N=N/100;const M=await this.stagingUserIdPromise.value,b=e.UUID.parse(M).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${N}, percentage: ${b}, user id: ${M}`),b<N}computeFinalHeaders(p){return this.requestHeaders!=null&&Object.assign(p,this.requestHeaders),p}async isUpdateAvailable(p){const S=(0,a.parse)(p.version);if(S==null)throw(0,e.newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${p.version}"`,"ERR_UPDATER_INVALID_VERSION");const N=this.currentVersion;if((0,a.eq)(S,N)||!await this.isStagingMatch(p))return!1;const O=(0,a.gt)(S,N),b=(0,a.lt)(S,N);return O?!0:this.allowDowngrade&&b}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(N=>(0,m.createClient)(N,this,this.createProviderRuntimeOptions())));const p=await this.clientPromise,S=await this.stagingUserIdPromise.value;return p.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":S})),{info:await p.getLatestVersion(),provider:p}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const p=await this.getUpdateInfoAndProvider(),S=p.info;if(!await this.isUpdateAvailable(S))return this._logger.info(`Update for version ${this.currentVersion} is not available (latest version: ${S.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",S),{versionInfo:S,updateInfo:S};this.updateInfoAndProvider=p,this.onUpdateAvailable(S);const N=new e.CancellationToken;return{versionInfo:S,updateInfo:S,cancellationToken:N,downloadPromise:this.autoDownload?this.downloadUpdate(N):null}}onUpdateAvailable(p){this._logger.info(`Found version ${p.version} (url: ${(0,e.asArray)(p.files).map(S=>S.url).join(", ")})`),this.emit("update-available",p)}downloadUpdate(p=new e.CancellationToken){const S=this.updateInfoAndProvider;if(S==null){const M=new Error("Please check update first");return this.dispatchError(M),Promise.reject(M)}this._logger.info(`Downloading update from ${(0,e.asArray)(S.info.files).map(M=>M.url).join(", ")}`);const N=M=>{if(!(M instanceof e.CancellationError))try{this.dispatchError(M)}catch(O){this._logger.warn(`Cannot dispatch error event: ${O.stack||O}`)}return M};try{return this.doDownloadUpdate({updateInfoAndProvider:S,requestHeaders:this.computeRequestHeaders(S.provider),cancellationToken:p,disableWebInstaller:this.disableWebInstaller}).catch(M=>{throw N(M)})}catch(M){return Promise.reject(N(M))}}dispatchError(p){this.emit("error",p,(p.stack||p).toString())}dispatchUpdateDownloaded(p){this.emit(h.UPDATE_DOWNLOADED,p)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,i.load)(await(0,n.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(p){const S=p.fileExtraDownloadHeaders;if(S!=null){const N=this.requestHeaders;return N==null?S:{...S,...N}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const p=o.join(this.app.userDataPath,".updaterId");try{const N=await(0,n.readFile)(p,"utf-8");if(e.UUID.check(N))return N;this._logger.warn(`Staging user id file exists, but content was invalid: ${N}`)}catch(N){N.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${N}`)}const S=e.UUID.v5((0,t.randomBytes)(4096),e.UUID.OID);this._logger.info(`Generated new staging user ID: ${S}`);try{await(0,n.outputFile)(p,S)}catch(N){this._logger.warn(`Couldn't write out staging user ID: ${N}`)}return S}get isAddNoCacheQuery(){const p=this.requestHeaders;if(p==null)return!0;for(const S of Object.keys(p)){const N=S.toLowerCase();if(N==="authorization"||N==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let p=this.downloadedUpdateHelper;if(p==null){const S=(await this.configOnDisk.value).updaterCacheDirName,N=this._logger;S==null&&N.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const M=o.join(this.app.baseCachePath,S||this.app.name);N.debug!=null&&N.debug(`updater cache dir: ${M}`),p=new l.DownloadedUpdateHelper(M),this.downloadedUpdateHelper=p}return p}async executeDownload(p){const S=p.fileInfo,N={headers:p.downloadUpdateOptions.requestHeaders,cancellationToken:p.downloadUpdateOptions.cancellationToken,sha2:S.info.sha2,sha512:S.info.sha512};this.listenerCount(h.DOWNLOAD_PROGRESS)>0&&(N.onProgress=j=>this.emit(h.DOWNLOAD_PROGRESS,j));const M=p.downloadUpdateOptions.updateInfoAndProvider.info,O=M.version,b=S.packageInfo;function D(){const j=decodeURIComponent(p.fileInfo.url.pathname);return j.endsWith(`.${p.fileExtension}`)?o.basename(j):p.fileInfo.info.url}const T=await this.getOrCreateDownloadHelper(),V=T.cacheDirForPendingUpdate;await(0,n.mkdir)(V,{recursive:!0});const Y=D();let H=o.join(V,Y);const W=b==null?null:o.join(V,`package-${O}${o.extname(b.path)||".7z"}`),G=async j=>(await T.setDownloadedFile(H,W,M,S,Y,j),await p.done({...M,downloadedFile:H}),W==null?[H]:[H,W]),Q=this._logger,Z=await T.validateDownloadedPath(H,M,S,Q);if(Z!=null)return H=Z,await G(!1);const K=async()=>(await T.clear().catch(()=>{}),await(0,n.unlink)(H).catch(()=>{})),I=await(0,l.createTempUpdateFile)(`temp-${Y}`,V,Q);try{await p.task(I,N,W,K),await(0,n.rename)(I,H)}catch(j){throw await K(),j instanceof e.CancellationError&&(Q.info("cancelled"),this.emit("update-cancelled",M)),j}return Q.info(`New version ${O} has been downloaded to ${H}`),await G(!0)}};qn.AppUpdater=y;function E(g){const p=(0,a.prerelease)(g);return p!=null&&p.length>0}class v{info(p){}warn(p){}error(p){}}return qn.NoOpLogger=v,qn}var As={},Cs={},lm;function Al(){if(lm)return Cs;lm=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.BaseUpdater=void 0;const e=ho,t=Ed();let r=class extends t.AppUpdater{constructor(i,s){super(i,s),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(i=!1,s=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(i,i?s:this.autoRunAppAfterInstall)?setImmediate(()=>{re.autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(i){return super.executeDownload({...i,done:s=>(this.dispatchUpdateDownloaded(s),this.addQuitHandler(),Promise.resolve())})}install(i=!1,s=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const o=this.downloadedUpdateHelper,a=o==null?null:o.file,l=o==null?null:o.downloadedFileInfo;if(a==null||l==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${i}, isForceRunAfter: ${s}`),this.doInstall({installerPath:a,isSilent:i,isForceRunAfter:s,isAdminRightsRequired:l.isAdminRightsRequired})}catch(c){return this.dispatchError(c),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(i=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(i!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${i}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}wrapSudo(){const{name:i}=this.app,s=`"${i} would like to update"`,o=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),a=[o];return/kdesudo/i.test(o)?(a.push("--comment",s),a.push("-c")):/gksudo/i.test(o)?a.push("--message",s):/pkexec/i.test(o)&&a.push("--disable-internal-agent"),a.join(" ")}spawnSyncLog(i,s=[],o={}){return this._logger.info(`Executing: ${i} with args: ${s}`),(0,e.spawnSync)(i,s,{env:{...process.env,...o},encoding:"utf-8",shell:!0}).stdout.trim()}async spawnLog(i,s=[],o=void 0,a="ignore"){return this._logger.info(`Executing: ${i} with args: ${s}`),new Promise((l,c)=>{try{const u={stdio:a,env:o,detached:!0},f=(0,e.spawn)(i,s,u);f.on("error",h=>{c(h)}),f.unref(),f.pid!==void 0&&l(!0)}catch(u){c(u)}})}};return Cs.BaseUpdater=r,Cs}var Io={},Do={},ci={},On={};Object.defineProperty(On,"__esModule",{value:!0});On.computeOperations=On.OperationKind=void 0;var Qn;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Qn||(On.OperationKind=Qn={}));function qj(e,t,r){const n=um(e.files),i=um(t.files);let s=null;const o=t.files[0],a=[],l=o.name,c=n.get(l);if(c==null)throw new Error(`no file ${l} in old blockmap`);const u=i.get(l);let f=0;const{checksumToOffset:h,checksumToOldSize:m}=Bj(n.get(l),c.offset,r);let y=o.offset;for(let E=0;E<u.checksums.length;y+=u.sizes[E],E++){const v=u.sizes[E],g=u.checksums[E];let p=h.get(g);p!=null&&m.get(g)!==v&&(r.warn(`Checksum ("${g}") matches, but size differs (old: ${m.get(g)}, new: ${v})`),p=void 0),p===void 0?(f++,s!=null&&s.kind===Qn.DOWNLOAD&&s.end===y?s.end+=v:(s={kind:Qn.DOWNLOAD,start:y,end:y+v},cm(s,a,g,E))):s!=null&&s.kind===Qn.COPY&&s.end===p?s.end+=v:(s={kind:Qn.COPY,start:p,end:p+v},cm(s,a,g,E))}return f>0&&r.info(`File${o.name==="file"?"":" "+o.name} has ${f} changed blocks`),a}On.computeOperations=qj;const Vj=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function cm(e,t,r,n){if(Vj&&t.length!==0){const i=t[t.length-1];if(i.kind===e.kind&&e.start<i.end&&e.start>i.start){const s=[i.start,i.end,e.start,e.end].reduce((o,a)=>o<a?o:a);throw new Error(`operation (block index: ${n}, checksum: ${r}, kind: ${Qn[e.kind]}) overlaps previous operation (checksum: ${r}):
abs: ${i.start} until ${i.end} and ${e.start} until ${e.end}
rel: ${i.start-s} until ${i.end-s} and ${e.start-s} until ${e.end-s}`)}}t.push(e)}function Bj(e,t,r){const n=new Map,i=new Map;let s=t;for(let o=0;o<e.checksums.length;o++){const a=e.checksums[o],l=e.sizes[o],c=i.get(a);if(c===void 0)n.set(a,s),i.set(a,l);else if(r.debug!=null){const u=c===l?"(same size)":`(size: ${c}, this size: ${l})`;r.debug(`${a} duplicated in blockmap ${u}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}s+=l}return{checksumToOffset:n,checksumToOldSize:i}}function um(e){const t=new Map;for(const r of e)t.set(r.name,r);return t}Object.defineProperty(ci,"__esModule",{value:!0});ci.DataSplitter=ci.copyData=void 0;const ha=at(),zj=Je,Hj=po,Gj=On,fm=Buffer.from(`\r
\r
`);var dn;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(dn||(dn={}));function Tv(e,t,r,n,i){const s=(0,zj.createReadStream)("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",n),s.once("end",i),s.pipe(t,{end:!1})}ci.copyData=Tv;class Wj extends Hj.Writable{constructor(t,r,n,i,s,o){super(),this.out=t,this.options=r,this.partIndexToTaskIndex=n,this.partIndexToLength=s,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=dn.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,r,n){if(this.isFinished){console.error(`Trailing ignored data: ${t.length} bytes`);return}this.handleData(t).then(n).catch(n)}async handleData(t){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw(0,ha.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const n=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=n,r=n}else if(this.remainingPartDataCount>0){const n=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=n,await this.processPartData(t,0,n),r=n}if(r!==t.length){if(this.readState===dn.HEADER){const n=this.searchHeaderListEnd(t,r);if(n===-1)return;r=n,this.readState=dn.BODY,this.headerListBuffer=null}for(;;){if(this.readState===dn.BODY)this.readState=dn.INIT;else{this.partIndex++;let o=this.partIndexToTaskIndex.get(this.partIndex);if(o==null)if(this.isFinished)o=this.options.end;else throw(0,ha.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");const a=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(a<o)await this.copyExistingData(a,o);else if(a>o)throw(0,ha.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(t,r),r===-1){this.readState=dn.HEADER;return}}const n=this.partIndexToLength[this.partIndex],i=r+n,s=Math.min(i,t.length);if(await this.processPartStarted(t,r,s),this.remainingPartDataCount=n-(s-r),this.remainingPartDataCount>0)return;if(r=i+this.boundaryLength,r>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-i);return}}}}copyExistingData(t,r){return new Promise((n,i)=>{const s=()=>{if(t===r){n();return}const o=this.options.tasks[t];if(o.kind!==Gj.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}Tv(o,this.out,this.options.oldFileFd,i,()=>{t++,s()})};s()})}searchHeaderListEnd(t,r){const n=t.indexOf(fm,r);if(n!==-1)return n+fm.length;const i=r===0?t:t.slice(r);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){const t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw(0,ha.newError)(`Expected length: ${t} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,r,n){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,r,n)}processPartData(t,r,n){this.actualPartLength+=n-r;const i=this.out;return i.write(r===0&&t.length===n?t:t.slice(r,n))?Promise.resolve():new Promise((s,o)=>{i.on("error",o),i.once("drain",()=>{i.removeListener("error",o),s()})})}}ci.DataSplitter=Wj;var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.checkIsRangesSupported=Zi.executeTasksUsingMultipleRangeRequests=void 0;const su=at(),dm=ci,hm=On;function Kj(e,t,r,n,i){const s=o=>{if(o>=t.length){e.fileMetadataBuffer!=null&&r.write(e.fileMetadataBuffer),r.end();return}const a=o+1e3;Yj(e,{tasks:t,start:o,end:Math.min(t.length,a),oldFileFd:n},r,()=>s(a),i)};return s}Zi.executeTasksUsingMultipleRangeRequests=Kj;function Yj(e,t,r,n,i){let s="bytes=",o=0;const a=new Map,l=[];for(let f=t.start;f<t.end;f++){const h=t.tasks[f];h.kind===hm.OperationKind.DOWNLOAD&&(s+=`${h.start}-${h.end-1}, `,a.set(o,f),o++,l.push(h.end-h.start))}if(o<=1){const f=h=>{if(h>=t.end){n();return}const m=t.tasks[h++];if(m.kind===hm.OperationKind.COPY)(0,dm.copyData)(m,r,t.oldFileFd,i,()=>f(h));else{const y=e.createRequestOptions();y.headers.Range=`bytes=${m.start}-${m.end-1}`;const E=e.httpExecutor.createRequest(y,v=>{ou(v,i)&&(v.pipe(r,{end:!1}),v.once("end",()=>f(h)))});e.httpExecutor.addErrorAndTimeoutHandlers(E,i),E.end()}};f(t.start);return}const c=e.createRequestOptions();c.headers.Range=s.substring(0,s.length-2);const u=e.httpExecutor.createRequest(c,f=>{if(!ou(f,i))return;const h=(0,su.safeGetHeader)(f,"content-type"),m=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(h);if(m==null){i(new Error(`Content-Type "multipart/byteranges" is expected, but got "${h}"`));return}const y=new dm.DataSplitter(r,t,a,m[1]||m[2],l,n);y.on("error",i),f.pipe(y),f.on("end",()=>{setTimeout(()=>{u.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(u,i),u.end()}function ou(e,t){if(e.statusCode>=400)return t((0,su.createHttpError)(e)),!1;if(e.statusCode!==206){const r=(0,su.safeGetHeader)(e,"accept-ranges");if(r==null||r==="none")return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}Zi.checkIsRangesSupported=ou;var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.ProgressDifferentialDownloadCallbackTransform=void 0;const Jj=po;var Li;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Li||(Li={}));class Xj extends Jj.Transform{constructor(t,r,n){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=Li.COPY,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}if(this.operationType==Li.COPY){n(null,t);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}beginFileCopy(){this.operationType=Li.COPY}beginRangeDownload(){this.operationType=Li.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}}Cl.ProgressDifferentialDownloadCallbackTransform=Xj;Object.defineProperty(Do,"__esModule",{value:!0});Do.DifferentialDownloader=void 0;const Ns=at(),Oc=Cn,Qj=Je,Zj=ci,eM=ns,pa=On,pm=Zi,tM=Cl;class rM{constructor(t,r,n){this.blockAwareFileInfo=t,this.httpExecutor=r,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){const t={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,Ns.configureRequestUrl)(this.options.newUrl,t),(0,Ns.configureRequestOptions)(t),t}doDownload(t,r){if(t.version!==r.version)throw new Error(`version is different (${t.version} - ${r.version}), full download is required`);const n=this.logger,i=(0,pa.computeOperations)(t,r,n);n.debug!=null&&n.debug(JSON.stringify(i,null,2));let s=0,o=0;for(const l of i){const c=l.end-l.start;l.kind===pa.OperationKind.DOWNLOAD?s+=c:o+=c}const a=this.blockAwareFileInfo.size;if(s+o+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==a)throw new Error(`Internal error, size mismatch: downloadSize: ${s}, copySize: ${o}, newSize: ${a}`);return n.info(`Full: ${mm(a)}, To download: ${mm(s)} (${Math.round(s/(a/100))}%)`),this.downloadFile(i)}downloadFile(t){const r=[],n=()=>Promise.all(r.map(i=>(0,Oc.close)(i.descriptor).catch(s=>{this.logger.error(`cannot close file "${i.path}": ${s}`)})));return this.doDownloadFile(t,r).then(n).catch(i=>n().catch(s=>{try{this.logger.error(`cannot close files: ${s}`)}catch(o){try{console.error(o)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(t,r){const n=await(0,Oc.open)(this.options.oldFile,"r");r.push({descriptor:n,path:this.options.oldFile});const i=await(0,Oc.open)(this.options.newFile,"w");r.push({descriptor:i,path:this.options.newFile});const s=(0,Qj.createWriteStream)(this.options.newFile,{fd:i});await new Promise((o,a)=>{const l=[];let c;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const g=[];let p=0;for(const N of t)N.kind===pa.OperationKind.DOWNLOAD&&(g.push(N.end-N.start),p+=N.end-N.start);const S={expectedByteCounts:g,grandTotal:p};c=new tM.ProgressDifferentialDownloadCallbackTransform(S,this.options.cancellationToken,this.options.onProgress),l.push(c)}const u=new Ns.DigestTransform(this.blockAwareFileInfo.sha512);u.isValidateOnEnd=!1,l.push(u),s.on("finish",()=>{s.close(()=>{r.splice(1,1);try{u.validate()}catch(g){a(g);return}o(void 0)})}),l.push(s);let f=null;for(const g of l)g.on("error",a),f==null?f=g:f=f.pipe(g);const h=l[0];let m;if(this.options.isUseMultipleRangeRequest){m=(0,pm.executeTasksUsingMultipleRangeRequests)(this,t,h,n,a),m(0);return}let y=0,E=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const v=this.createRequestOptions();v.redirect="manual",m=g=>{var p,S;if(g>=t.length){this.fileMetadataBuffer!=null&&h.write(this.fileMetadataBuffer),h.end();return}const N=t[g++];if(N.kind===pa.OperationKind.COPY){c&&c.beginFileCopy(),(0,Zj.copyData)(N,h,n,a,()=>m(g));return}const M=`bytes=${N.start}-${N.end-1}`;v.headers.range=M,(S=(p=this.logger)===null||p===void 0?void 0:p.debug)===null||S===void 0||S.call(p,`download range: ${M}`),c&&c.beginRangeDownload();const O=this.httpExecutor.createRequest(v,b=>{b.on("error",a),b.on("abort",()=>{a(new Error("response has been aborted by the server"))}),b.statusCode>=400&&a((0,Ns.createHttpError)(b)),b.pipe(h,{end:!1}),b.once("end",()=>{c&&c.endRangeDownload(),++y===100?(y=0,setTimeout(()=>m(g),1e3)):m(g)})});O.on("redirect",(b,D,T)=>{this.logger.info(`Redirect to ${nM(T)}`),E=T,(0,Ns.configureRequestUrl)(new eM.URL(E),v),O.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(O,a),O.end()},m(0)})}async readRemoteBytes(t,r){const n=Buffer.allocUnsafe(r+1-t),i=this.createRequestOptions();i.headers.range=`bytes=${t}-${r}`;let s=0;if(await this.request(i,o=>{o.copy(n,s),s+=o.length}),s!==n.length)throw new Error(`Received data length ${s} is not equal to expected ${n.length}`);return n}request(t,r){return new Promise((n,i)=>{const s=this.httpExecutor.createRequest(t,o=>{(0,pm.checkIsRangesSupported)(o,i)&&(o.on("data",r),o.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(s,i),s.end()})}}Do.DifferentialDownloader=rM;function mm(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function nM(e){const t=e.indexOf("?");return t<0?e:e.substring(0,t)}Object.defineProperty(Io,"__esModule",{value:!0});Io.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const Oi=Cn,iM=Do,sM=Im;class oM extends iM.DifferentialDownloader{async download(){const t=this.blockAwareFileInfo,r=t.size,n=r-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,r-1);const i=Ov(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await aM(this.options.oldFile),i)}}Io.FileWithEmbeddedBlockMapDifferentialDownloader=oM;function Ov(e){return JSON.parse((0,sM.inflateRawSync)(e).toString())}async function aM(e){const t=await(0,Oi.open)(e,"r");try{const r=(await(0,Oi.fstat)(t)).size,n=Buffer.allocUnsafe(4);await(0,Oi.read)(t,n,0,n.length,r-n.length);const i=Buffer.allocUnsafe(n.readUInt32BE(0));return await(0,Oi.read)(t,i,0,i.length,r-n.length-i.length),await(0,Oi.close)(t),Ov(i)}catch(r){throw await(0,Oi.close)(t),r}}var gm;function ym(){if(gm)return As;gm=1,Object.defineProperty(As,"__esModule",{value:!0}),As.AppImageUpdater=void 0;const e=at(),t=ho,r=Cn,n=Je,i=Se,s=Al(),o=Io,a=us(),l=et;let c=class extends s.BaseUpdater{constructor(f,h){super(f,h)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(f){const h=f.updateInfoAndProvider.provider,m=(0,l.findFile)(h.resolveFiles(f.updateInfoAndProvider.info),"AppImage",["rpm","deb"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:m,downloadUpdateOptions:f,task:async(y,E)=>{const v=process.env.APPIMAGE;if(v==null)throw(0,e.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let g=!1;try{const p={newUrl:m.url,oldFile:v,logger:this._logger,newFile:y,isUseMultipleRangeRequest:h.isUseMultipleRangeRequest,requestHeaders:f.requestHeaders,cancellationToken:f.cancellationToken};this.listenerCount(a.DOWNLOAD_PROGRESS)>0&&(p.onProgress=S=>this.emit(a.DOWNLOAD_PROGRESS,S)),await new o.FileWithEmbeddedBlockMapDifferentialDownloader(m.info,this.httpExecutor,p).download()}catch(p){this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),g=process.platform==="linux"}g&&await this.httpExecutor.download(m.url,y,E),await(0,r.chmod)(y,493)}})}doInstall(f){const h=process.env.APPIMAGE;if(h==null)throw(0,e.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(0,n.unlinkSync)(h);let m;const y=i.basename(h);i.basename(f.installerPath)===y||!/\d+\.\d+\.\d+/.test(y)?m=h:m=i.join(i.dirname(h),i.basename(f.installerPath)),(0,t.execFileSync)("mv",["-f",f.installerPath,m]),m!==h&&this.emit("appimage-filename-updated",m);const E={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return f.isForceRunAfter?this.spawnLog(m,[],E):(E.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,t.execFileSync)(m,[],{env:E})),!0}};return As.AppImageUpdater=c,As}var Rs={},vm;function _m(){if(vm)return Rs;vm=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.DebUpdater=void 0;const e=Al(),t=us(),r=et;let n=class extends e.BaseUpdater{constructor(s,o){super(s,o)}doDownloadUpdate(s){const o=s.updateInfoAndProvider.provider,a=(0,r.findFile)(o.resolveFiles(s.updateInfoAndProvider.info),"deb",["AppImage","rpm"]);return this.executeDownload({fileExtension:"deb",fileInfo:a,downloadUpdateOptions:s,task:async(l,c)=>{this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(c.onProgress=u=>this.emit(t.DOWNLOAD_PROGRESS,u)),await this.httpExecutor.download(a.url,l,c)}})}doInstall(s){const o=this.wrapSudo(),a=/pkexec/i.test(o)?"":'"',l=["dpkg","-i",s.installerPath,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(o,[`${a}/bin/bash`,"-c",`'${l.join(" ")}'${a}`]),s.isForceRunAfter&&this.app.relaunch(),!0}};return Rs.DebUpdater=n,Rs}var Is={},$m;function Em(){if($m)return Is;$m=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.RpmUpdater=void 0;const e=Al(),t=us(),r=et;let n=class extends e.BaseUpdater{constructor(s,o){super(s,o)}doDownloadUpdate(s){const o=s.updateInfoAndProvider.provider,a=(0,r.findFile)(o.resolveFiles(s.updateInfoAndProvider.info),"rpm",["AppImage","deb"]);return this.executeDownload({fileExtension:"rpm",fileInfo:a,downloadUpdateOptions:s,task:async(l,c)=>{this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(c.onProgress=u=>this.emit(t.DOWNLOAD_PROGRESS,u)),await this.httpExecutor.download(a.url,l,c)}})}doInstall(s){const o=s.installerPath,a=this.wrapSudo(),l=/pkexec/i.test(a)?"":'"',c=this.spawnSyncLog("which zypper");let u;if(c)u=[c,"remove","-y",`'${this.app.name}'`,";",c,"clean","--all",";",c,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",o];else{const f=this.spawnSyncLog("which dnf || which yum");u=[f,"-y","remove",`'${this.app.name}'`,";",f,"-y","install",o]}return this.spawnSyncLog(a,[`${l}/bin/bash`,"-c",`'${u.join(" ")}'${l}`]),s.isForceRunAfter&&this.app.relaunch(),!0}};return Is.RpmUpdater=n,Is}var Ds={},wm;function Sm(){if(wm)return Ds;wm=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.MacUpdater=void 0;const e=at(),t=Cn,r=Je,n=Rm,i=Ed(),s=et,o=ho,a=rs;let l=class extends i.AppUpdater{constructor(u,f){super(u,f),this.nativeUpdater=re.autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",h=>{this._logger.warn(h),this.emit("error",h)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0})}debug(u){this._logger.debug!=null&&this._logger.debug(u)}async doDownloadUpdate(u){let f=u.updateInfoAndProvider.provider.resolveFiles(u.updateInfoAndProvider.info);const h=this._logger,m="sysctl.proc_translated";let y=!1;try{this.debug("Checking for macOS Rosetta environment"),y=(0,o.execFileSync)("sysctl",[m],{encoding:"utf8"}).includes(`${m}: 1`),h.info(`Checked for macOS Rosetta environment (isRosetta=${y})`)}catch(p){h.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${p}`)}let E=!1;try{this.debug("Checking for arm64 in uname");const S=(0,o.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");h.info(`Checked 'uname -a': arm64=${S}`),E=E||S}catch(p){h.warn(`uname shell command to check for arm64 failed: ${p}`)}E=E||process.arch==="arm64"||y;const v=p=>{var S;return p.url.pathname.includes("arm64")||((S=p.info.url)===null||S===void 0?void 0:S.includes("arm64"))};E&&f.some(v)?f=f.filter(p=>E===v(p)):f=f.filter(p=>!v(p));const g=(0,s.findFile)(f,"zip",["pkg","dmg"]);if(g==null)throw(0,e.newError)(`ZIP file not provided: ${(0,e.safeStringifyJson)(f)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");return this.executeDownload({fileExtension:"zip",fileInfo:g,downloadUpdateOptions:u,task:(p,S)=>this.httpExecutor.download(g.url,p,S),done:p=>this.updateDownloaded(g,p)})}async updateDownloaded(u,f){var h,m;const y=f.downloadedFile,E=(h=u.info.size)!==null&&h!==void 0?h:(await(0,t.stat)(y)).size,v=this._logger,g=`fileToProxy=${u.url.href}`;this.debug(`Creating proxy server for native Squirrel.Mac (${g})`),(m=this.server)===null||m===void 0||m.close(),this.server=(0,n.createServer)(),this.debug(`Proxy server for native Squirrel.Mac is created (${g})`),this.server.on("close",()=>{v.info(`Proxy server for native Squirrel.Mac is closed (${g})`)});const p=S=>{const N=S.address();return typeof N=="string"?N:`http://127.0.0.1:${N==null?void 0:N.port}`};return await new Promise((S,N)=>{const M=(0,a.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),O=Buffer.from(`autoupdater:${M}`,"ascii"),b=`/${(0,a.randomBytes)(64).toString("hex")}.zip`;this.server.on("request",(D,T)=>{const V=D.url;if(v.info(`${V} requested`),V==="/"){if(!D.headers.authorization||D.headers.authorization.indexOf("Basic ")===-1){T.statusCode=401,T.statusMessage="Invalid Authentication Credentials",T.end(),v.warn("No authenthication info");return}const W=D.headers.authorization.split(" ")[1],G=Buffer.from(W,"base64").toString("ascii"),[Q,Z]=G.split(":");if(Q!=="autoupdater"||Z!==M){T.statusCode=401,T.statusMessage="Invalid Authentication Credentials",T.end(),v.warn("Invalid authenthication credentials");return}const K=Buffer.from(`{ "url": "${p(this.server)}${b}" }`);T.writeHead(200,{"Content-Type":"application/json","Content-Length":K.length}),T.end(K);return}if(!V.startsWith(b)){v.warn(`${V} requested, but not supported`),T.writeHead(404),T.end();return}v.info(`${b} requested by Squirrel.Mac, pipe ${y}`);let Y=!1;T.on("finish",()=>{Y||(this.nativeUpdater.removeListener("error",N),S([]))});const H=(0,r.createReadStream)(y);H.on("error",W=>{try{T.end()}catch(G){v.warn(`cannot end response: ${G}`)}Y=!0,this.nativeUpdater.removeListener("error",N),N(new Error(`Cannot pipe "${y}": ${W}`))}),T.writeHead(200,{"Content-Type":"application/zip","Content-Length":E}),H.pipe(T)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${g})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${p(this.server)}, ${g})`),this.nativeUpdater.setFeedURL({url:p(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${O.toString("base64")}`}}),this.dispatchUpdateDownloaded(f),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",N),this.nativeUpdater.checkForUpdates()):S([])})})}quitAndInstall(){var u;this.squirrelDownloadedUpdate?(this.nativeUpdater.quitAndInstall(),(u=this.server)===null||u===void 0||u.close()):(this.nativeUpdater.on("update-downloaded",()=>{var f;this.nativeUpdater.quitAndInstall(),(f=this.server)===null||f===void 0||f.close()}),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}};return Ds.MacUpdater=l,Ds}var Fs={},Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.GenericDifferentialDownloader=void 0;const lM=Do;class cM extends lM.DifferentialDownloader{download(t,r){return this.doDownload(t,r)}}Nl.GenericDifferentialDownloader=cM;var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.verifySignature=void 0;const bm=at(),Av=ho,uM=An;function fM(e,t,r){return new Promise((n,i)=>{const s=t.replace(/'/g,"''");(0,Av.execFile)("chcp 65001 >NUL & powershell.exe",["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`"Get-AuthenticodeSignature -LiteralPath '${s}' | ConvertTo-Json -Compress"`],{shell:!0,timeout:20*1e3},(o,a,l)=>{try{if(o!=null||l){Pm(r,o,l,i),n(null);return}const c=dM(a);if(c.Status===0){const f=(0,bm.parseDn)(c.SignerCertificate.Subject);let h=!1;for(const m of e){const y=(0,bm.parseDn)(m);if(y.size?h=Array.from(y.keys()).every(v=>y.get(v)===f.get(v)):m===f.get("CN")&&(r.warn(`Signature validated using only CN ${m}. Please add your full Distinguished Name (DN) to publisherNames configuration`),h=!0),h){n(null);return}}}const u=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(c,(f,h)=>f==="RawData"?void 0:h,2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${u}`),n(u)}catch(c){Pm(r,c,null,i),n(null);return}})})}Rl.verifySignature=fM;function dM(e){const t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;const r=t.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),delete t.Path,t}function Pm(e,t,r,n){if(hM()){e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{(0,Av.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(i){e.warn(`Cannot execute ConvertTo-Json: ${i.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}t!=null&&n(t),r&&n(new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`))}function hM(){const e=uM.release();return e.startsWith("6.")&&!e.startsWith("6.3")}var Tm;function Om(){if(Tm)return Fs;Tm=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.NsisUpdater=void 0;const e=at(),t=Se,r=Al(),n=Io,i=Nl,s=us(),o=Ct,a=et,l=Cn,c=Rl,u=ns,f=Im;let h=class extends r.BaseUpdater{constructor(y,E){super(y,E),this._verifyUpdateCodeSignature=(v,g)=>(0,c.verifySignature)(v,g,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(y){y&&(this._verifyUpdateCodeSignature=y)}doDownloadUpdate(y){const E=y.updateInfoAndProvider.provider,v=(0,a.findFile)(E.resolveFiles(y.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:y,fileInfo:v,task:async(g,p,S,N)=>{const M=v.packageInfo,O=M!=null&&S!=null;if(O&&y.disableWebInstaller)throw(0,e.newError)(`Unable to download new version ${y.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");!O&&!y.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(O||await this.differentialDownloadInstaller(v,y,g,E))&&await this.httpExecutor.download(v.url,g,p);const b=await this.verifySignature(g);if(b!=null)throw await N(),(0,e.newError)(`New version ${y.updateInfoAndProvider.info.version} is not signed by the application owner: ${b}`,"ERR_UPDATER_INVALID_SIGNATURE");if(O&&await this.differentialDownloadWebPackage(y,M,S,E))try{await this.httpExecutor.download(new u.URL(M.path),S,{headers:y.requestHeaders,cancellationToken:y.cancellationToken,sha512:M.sha512})}catch(D){try{await(0,l.unlink)(S)}catch{}throw D}}})}async verifySignature(y){let E;try{if(E=(await this.configOnDisk.value).publisherName,E==null)return null}catch(v){if(v.code==="ENOENT")return null;throw v}return await this._verifyUpdateCodeSignature(Array.isArray(E)?E:[E],y)}doInstall(y){const E=["--updated"];y.isSilent&&E.push("/S"),y.isForceRunAfter&&E.push("--force-run"),this.installDirectory&&E.push(`/D=${this.installDirectory}`);const v=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;v!=null&&E.push(`--package-file=${v}`);const g=()=>{this.spawnLog(t.join(process.resourcesPath,"elevate.exe"),[y.installerPath].concat(E)).catch(p=>this.dispatchError(p))};return y.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),g(),!0):(this.spawnLog(y.installerPath,E).catch(p=>{const S=p.code;this._logger.info(`Cannot run installer: error code: ${S}, error message: "${p.message}", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT`),S==="UNKNOWN"||S==="EACCES"?g():S==="ENOENT"?re.shell.openPath(y.installerPath).catch(N=>this.dispatchError(N)):this.dispatchError(p)}),!0)}async differentialDownloadInstaller(y,E,v,g){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const p=(0,o.blockmapFiles)(y.url,this.app.version,E.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${p[0]}", new: ${p[1]})`);const S=async O=>{const b=await this.httpExecutor.downloadToBuffer(O,{headers:E.requestHeaders,cancellationToken:E.cancellationToken});if(b==null||b.length===0)throw new Error(`Blockmap "${O.href}" is empty`);try{return JSON.parse((0,f.gunzipSync)(b).toString())}catch(D){throw new Error(`Cannot parse blockmap "${O.href}", error: ${D}`)}},N={newUrl:y.url,oldFile:t.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_INSTALLER_FILE_NAME),logger:this._logger,newFile:v,isUseMultipleRangeRequest:g.isUseMultipleRangeRequest,requestHeaders:E.requestHeaders,cancellationToken:E.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(N.onProgress=O=>this.emit(s.DOWNLOAD_PROGRESS,O));const M=await Promise.all(p.map(O=>S(O)));return await new i.GenericDifferentialDownloader(y.info,this.httpExecutor,N).download(M[0],M[1]),!1}catch(p){if(this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),this._testOnlyOptions!=null)throw p;return!0}}async differentialDownloadWebPackage(y,E,v,g){if(E.blockMapSize==null)return!0;try{const p={newUrl:new u.URL(E.path),oldFile:t.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:v,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:g.isUseMultipleRangeRequest,cancellationToken:y.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(p.onProgress=S=>this.emit(s.DOWNLOAD_PROGRESS,S)),await new n.FileWithEmbeddedBlockMapDifferentialDownloader(E,this.httpExecutor,p).download()}catch(p){return this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),process.platform==="win32"}return!1}};return Fs.NsisUpdater=h,Fs}var Am;function us(){return Am||(Am=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdaterSignal=e.UPDATE_DOWNLOADED=e.DOWNLOAD_PROGRESS=e.NsisUpdater=e.MacUpdater=e.RpmUpdater=e.DebUpdater=e.AppImageUpdater=e.Provider=e.CancellationToken=e.NoOpLogger=e.AppUpdater=void 0;const t=at();Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}});const r=Cn,n=Se;var i=Ed();Object.defineProperty(e,"AppUpdater",{enumerable:!0,get:function(){return i.AppUpdater}}),Object.defineProperty(e,"NoOpLogger",{enumerable:!0,get:function(){return i.NoOpLogger}});var s=et;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return s.Provider}});var o=ym();Object.defineProperty(e,"AppImageUpdater",{enumerable:!0,get:function(){return o.AppImageUpdater}});var a=_m();Object.defineProperty(e,"DebUpdater",{enumerable:!0,get:function(){return a.DebUpdater}});var l=Em();Object.defineProperty(e,"RpmUpdater",{enumerable:!0,get:function(){return l.RpmUpdater}});var c=Sm();Object.defineProperty(e,"MacUpdater",{enumerable:!0,get:function(){return c.MacUpdater}});var u=Om();Object.defineProperty(e,"NsisUpdater",{enumerable:!0,get:function(){return u.NsisUpdater}});let f;function h(){if(process.platform==="win32")f=new(Om()).NsisUpdater;else if(process.platform==="darwin")f=new(Sm()).MacUpdater;else{f=new(ym()).AppImageUpdater;try{const E=n.join(process.resourcesPath,"package-type");if(!(0,r.existsSync)(E))return f;console.info("Checking for beta autoupdate feature for deb/rpm distributions");const v=(0,r.readFileSync)(E).toString().trim();switch(console.info("Found package-type:",v),v){case"deb":f=new(_m()).DebUpdater;break;case"rpm":f=new(Em()).RpmUpdater;break;default:break}}catch(E){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",E.message)}}return f}Object.defineProperty(e,"autoUpdater",{enumerable:!0,get:()=>f||h()}),e.DOWNLOAD_PROGRESS="download-progress",e.UPDATE_DOWNLOADED="update-downloaded";class m{constructor(v){this.emitter=v}login(v){y(this.emitter,"login",v)}progress(v){y(this.emitter,e.DOWNLOAD_PROGRESS,v)}updateDownloaded(v){y(this.emitter,e.UPDATE_DOWNLOADED,v)}updateCancelled(v){y(this.emitter,"update-cancelled",v)}}e.UpdaterSignal=m;function y(E,v,g){E.on(v,g)}}(sc)),sc}var Ya=us();process.env.DIST=Ot.join(__dirname,"../dist");process.env.PUBLIC=re.app.isPackaged?process.env.DIST:Ot.join(process.env.DIST,"../public");let Ee,Zn,ut;console.log(re.app.getPath("userData"));const Cm=process.env.VITE_DEV_SERVER_URL,We=new KC,Nm=[{label:"File",submenu:[{role:"quit"}]},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"}]},{label:"View",submenu:[{role:"reload"},{role:"forceReload"},{role:"toggleDevTools"},{type:"separator"},{role:"resetZoom"},{role:"zoomIn"},{role:"zoomOut"},{type:"separator"},{role:"togglefullscreen"}]}];function pM(){Zn=new re.BrowserWindow({width:500,height:300,transparent:!0,frame:!1,alwaysOnTop:!0}),Zn.loadFile("splash.html"),Zn.on("closed",()=>{Zn=null})}function mM(){Ee=new re.BrowserWindow({width:1e3,height:900,show:!1,backgroundColor:"#000000",icon:Ot.join(process.env.PUBLIC,"electron-vite.svg"),webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:Ot.join(__dirname,"preload.js")}}),Lm.enable(Ee.webContents),Ee.webContents.on("did-finish-load",()=>{Ee==null||Ee.webContents.send("main-process-message",new Date().toLocaleString())}),Ee.on("resize",()=>{const[n,i]=(Ee==null?void 0:Ee.getSize())??[void 0,void 0];console.log(`resizing ${n} ${i}`);const s=We.get("setup",!0);console.log("Is Setup Screen:",s),s?(We.set("setupWindowSize",{width:n,height:i}),console.log("changed chat size")):We.set("chatWindowSize",{width:n,height:i})}),re.ipcMain.handle("setup",async()=>We.get("setup",!0)),re.ipcMain.handle("getSetupWindowSize",()=>We.get("setupWindowSize",{width:1e3,height:900})),re.ipcMain.handle("changeSetupWindowSize",()=>{const[n,i]=(Ee==null?void 0:Ee.getSize())??[void 0,void 0];console.log(`Setup Window size will be : ${n} ${i}`),We.set("setupWindowSize",{width:n,height:i})}),re.ipcMain.handle("getChatWindowSize",()=>We.get("chatWindowSize",{width:500,height:900})),re.ipcMain.handle("changeChatWindowSize",()=>{const[n,i]=(Ee==null?void 0:Ee.getSize())??[void 0,void 0];console.log(`Chat Window size will be : ${n} ${i}`),We.set("chatWindowSize",{width:n,height:i})}),re.ipcMain.handle("setSetup",async(n,i)=>{console.log(i),We.set("setup",i)}),re.ipcMain.handle("saveURLS",async(n,i)=>{console.log(i),We.set("urls",i)}),re.ipcMain.handle("saveFontSize",async(n,i)=>{console.log(i),We.set("fontSize",i)}),re.ipcMain.handle("getFontSize",async()=>(console.log(We.get("fontSize",14)),We.get("fontSize",14))),re.ipcMain.handle("getURLs",async()=>We.get("urls",[])),re.ipcMain.handle("setWindowSize",async(n,i,s)=>{Ee==null||Ee.setSize(i,s)}),re.ipcMain.handle("saveBadgesEnabled",async(n,i)=>{console.log(`isBadgesEnabled is ${i}`),We.set("isBadgesEnabled",i)}),re.ipcMain.handle("getBadgesEnabled",async()=>{const n=We.get("isBadgesEnabled",!1);return console.log(`isBadgesEnabled is ${n}`),n}),re.ipcMain.handle("savePlatformIconsEnabled",async(n,i)=>{console.log(`isPlatformIconsEnabled is ${i}`),We.set("isPlatformIconsEnabled",i)}),re.ipcMain.handle("getPlatformIconsEnabled",async()=>{const n=We.get("isPlatformIconsEnabled",!1);return console.log(`isPlatformIconsEnabled is ${n}`),n}),re.ipcMain.handle("saveToolbarEnabled",async(n,i)=>{if(console.log(`isToolbarEnabled is ${i}`),We.set("isToolbarEnabled",i),i){const s=re.Menu.buildFromTemplate(Nm);re.Menu.setApplicationMenu(s)}else re.Menu.setApplicationMenu(null)}),re.ipcMain.handle("getToolbarEnabled",async()=>{const n=We.get("isToolbarEnabled",!1);return console.log(`isToolbarEnabled is ${n}`),n}),re.ipcMain.handle("openTutorial",async()=>{console.log("Opening Tutorial..."),e()});function e(){const n=new re.BrowserWindow({width:850,height:650,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});return n.loadFile("tutorial.html"),n.setMenu(null),n}re.ipcMain.handle("isTwitchLoggedIn",async()=>{const n=Ot.join(re.app.getPath("userData"),"twitch-cookies.json");return Je.existsSync(n)}),re.ipcMain.handle("center",async()=>{Ee==null||Ee.center(),console.log("Window centered")}),re.ipcMain.handle("getEmotesFromURL",async(n,i)=>{var a,l;console.log(`server handling... from ${i}`);const s=re.app.getPath("userData"),o=re.app.isPackaged?Ot.join(process.resourcesPath,"emotes.js"):Ot.join("./emotes.js");if(re.app.isPackaged){const c=Ot.join(process.resourcesPath,"app.asar.unpacked","node_modules");ut=zo.spawn("node",[o,s,i],{stdio:"pipe",windowsHide:!1,env:{...process.env,NODE_PATH:c,ELECTRON_RUN_AS_NODE:"1"}})}else ut=zo.spawn("node",[o,s,i],{stdio:"pipe",windowsHide:!1});(a=ut.stdout)==null||a.on("data",c=>{console.log(`stdout: ${c}`),Mn.info(`Child stdout:
${c}`)}),(l=ut.stderr)==null||l.on("data",c=>{console.error(`Child stderr:
${c}`),Mn.info(`Child stderr:
${c}`)}),ut.on("exit",(c,u)=>{console.log(`Child exited with code ${c} and signal ${u}`),Mn.info(`Child exited with code ${c} and signal ${u}`)})}),re.ipcMain.handle("startServer",async()=>{var u,f;console.log("server handling...");const n=We.get("urls"),i=JSON.stringify(n),s=Ot.join(re.app.getPath("userData"),"twitch-cookies.json"),o=Ot.join(re.app.getPath("userData"),"youtube-cookies.json");let a="[]",l="[]";if(Je.existsSync(s)){const h=JSON.parse(Je.readFileSync(s,"utf-8"));a=JSON.stringify(h)}if(Je.existsSync(o)){const h=JSON.parse(Je.readFileSync(o,"utf-8"));l=JSON.stringify(h)}const c=re.app.isPackaged?Ot.join(process.resourcesPath,"worker.js"):Ot.join("./worker.js");if(console.log(c),re.app.isPackaged){const h=Ot.join(process.resourcesPath,"app.asar.unpacked","node_modules");ut=zo.spawn("node",[c,i,a,l],{stdio:"pipe",windowsHide:!1,env:{...process.env,NODE_PATH:h,ELECTRON_RUN_AS_NODE:"1"}})}else ut=zo.spawn("node",[c,i,a,l],{stdio:"pipe",windowsHide:!1});Mn.info("Server has been started"),(u=ut.stdout)==null||u.on("data",h=>{console.log(`stdout: ${h}`),Mn.info(`Child stdout:
${h}`)}),(f=ut.stderr)==null||f.on("data",h=>{console.error(`Child stderr:
${h}`),Mn.info(`Child stderr:
${h}`)}),ut.on("exit",(h,m)=>{console.log(`Child exited with code ${h} and signal ${m}`),Mn.info(`Child exited with code ${h} and signal ${m}`)})}),re.ipcMain.handle("open-settings-window",async()=>{console.log("setup updated"),We.set("setup",!0),Ee==null||Ee.webContents.send("setup-updated",!0)}),re.ipcMain.handle("closeServer",async()=>{var n;if(console.log("clossing server"),ut&&!ut.killed){const i=JSON.stringify({action:"shutdown"});(n=ut.stdin)==null||n.write(i+`
`),console.log("Shutdown command sent to child process."),await new Promise(s=>{ut==null||ut.on("exit",()=>{console.log("Child process exited gracefully."),s()})})}else console.log("No child process to terminate.")}),re.ipcMain.handle("loginWithTwitch",async()=>{console.log("Attempting to log in with Twitch"),t()}),re.ipcMain.handle("loginWithYouTube",async()=>{console.log("Attempting to log in with YouTube"),r()});function t(){const n=new re.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});return n.loadURL("https://www.twitch.tv/login"),n.webContents.on("did-navigate",async(i,s)=>{if(!s.includes("https://www.twitch.tv/login")){const o=await n.webContents.session.cookies.get({domain:".twitch.tv"});console.log("Twitch Login Cookies:",o);const a=Ot.join(re.app.getPath("userData"),"twitch-cookies.json");Je.writeFileSync(a,JSON.stringify(o,null,2)),n.close()}}),n}function r(){const n=new re.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0}}),i="https://www.youtube.com/live_chat?is_popout=1&v=HugDvUEbsKc";return n.loadURL(i),n.on("close",async s=>{s.preventDefault();const o=await n.webContents.session.cookies.get({});console.log("YouTube Login Cookies:",o);const a=Ot.join(re.app.getPath("userData"),"youtube-cookies.json");Je.writeFileSync(a,JSON.stringify(o,null,2)),n.removeAllListeners("close"),n.close()}),n}if(Cm?Ee.loadURL(Cm):Ee.loadFile(Ot.join(process.env.DIST,"index.html")),We.get("isToolbarEnabled",!1)){const n=re.Menu.buildFromTemplate(Nm);re.Menu.setApplicationMenu(n)}else re.Menu.setApplicationMenu(null);Ee.once("ready-to-show",()=>{Zn==null||Zn.close(),Ee==null||Ee.show()}),Ee==null||Ee.on("closed",()=>{Ee=null})}re.app.on("before-quit",()=>{ut==null||ut.kill()});re.app.on("window-all-closed",()=>{Ee=null,process.platform!=="darwin"&&re.app.quit()});re.app.on("ready",()=>{Ya.autoUpdater.checkForUpdatesAndNotify()});Ya.autoUpdater.on("update-available",()=>{re.dialog.showMessageBox({type:"info",title:"Update Available",message:"A new version of the application is available. It will be downloaded in the background.",buttons:["OK"]}).then(e=>{console.log("User response:",e.response)}).catch(e=>{console.error("Failed to show update dialog:",e)})});Ya.autoUpdater.on("update-downloaded",()=>{Ya.autoUpdater.quitAndInstall()});Lm.initialize();re.app.whenReady().then(pM).then(mM);
